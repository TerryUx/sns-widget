import{r as xe,C as Jk,R as Qk,a as tI,s as sr,b as yr,g as j7,i as K7,c as Re,d as Zt,e as Kl,f as Yv,j as St,u as eI,h as rI,k as nI,W as iI,S as oI,l as sI,P as Ne,m as $7,t as aI,n as uI,o as $l,p as Xv,T as gh,q as bb,v as Hl,w as Jv,x as fI,y as cI,z as o2,A as Vl,B as s2,D as H7,E as hI,N as wb,F as Zl,G as lI,H as sn,L as dI,I as pI}from"./index-f54a1fc2.js";import{r as V7,i as br,s as mI,a as vI,b as bf,c as gI}from"./punycode-06c60053.js";const yI=({children:r,endpoint:t,config:e={commitment:"confirmed"}})=>{const n=xe.useMemo(()=>new Jk(t,e),[t,e]);return Qk.createElement(tI.Provider,{value:{connection:n}},r)};function bI(r,t){var e=typeof Symbol=="function"&&r[Symbol.iterator];if(!e)return r;var n=e.call(r),s,i=[],c;try{for(;(t===void 0||t-- >0)&&!(s=n.next()).done;)i.push(s.value)}catch(l){c={error:l}}finally{try{s&&!s.done&&(e=n.return)&&e.call(n)}finally{if(c)throw c.error}}return i}var al=sr.Buffer,Z7=V7.Transform,wI=br;function xI(r,t){if(!al.isBuffer(r)&&typeof r!="string")throw new TypeError(t+" must be a string or a buffer")}function oa(r){Z7.call(this),this._block=al.allocUnsafe(r),this._blockSize=r,this._blockOffset=0,this._length=[0,0,0,0],this._finalized=!1}wI(oa,Z7);oa.prototype._transform=function(r,t,e){var n=null;try{this.update(r,t)}catch(s){n=s}e(n)};oa.prototype._flush=function(r){var t=null;try{this.push(this.digest())}catch(e){t=e}r(t)};oa.prototype.update=function(r,t){if(xI(r,"Data"),this._finalized)throw new Error("Digest already called");al.isBuffer(r)||(r=al.from(r,t));for(var e=this._block,n=0;this._blockOffset+r.length-n>=this._blockSize;){for(var s=this._blockOffset;s<this._blockSize;)e[s++]=r[n++];this._update(),this._blockOffset=0}for(;n<r.length;)e[this._blockOffset++]=r[n++];for(var i=0,c=r.length*8;c>0;++i)this._length[i]+=c,c=this._length[i]/4294967296|0,c>0&&(this._length[i]-=4294967296*c);return this};oa.prototype._update=function(){throw new Error("_update is not implemented")};oa.prototype.digest=function(r){if(this._finalized)throw new Error("Digest already called");this._finalized=!0;var t=this._digest();r!==void 0&&(t=t.toString(r)),this._block.fill(0),this._blockOffset=0;for(var e=0;e<4;++e)this._length[e]=0;return t};oa.prototype._digest=function(){throw new Error("_digest is not implemented")};var W7=oa,_I=br,G7=W7,MI=sr.Buffer,EI=new Array(16);function Wl(){G7.call(this,64),this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878}_I(Wl,G7);Wl.prototype._update=function(){for(var r=EI,t=0;t<16;++t)r[t]=this._block.readInt32LE(t*4);var e=this._a,n=this._b,s=this._c,i=this._d;e=zn(e,n,s,i,r[0],3614090360,7),i=zn(i,e,n,s,r[1],3905402710,12),s=zn(s,i,e,n,r[2],606105819,17),n=zn(n,s,i,e,r[3],3250441966,22),e=zn(e,n,s,i,r[4],4118548399,7),i=zn(i,e,n,s,r[5],1200080426,12),s=zn(s,i,e,n,r[6],2821735955,17),n=zn(n,s,i,e,r[7],4249261313,22),e=zn(e,n,s,i,r[8],1770035416,7),i=zn(i,e,n,s,r[9],2336552879,12),s=zn(s,i,e,n,r[10],4294925233,17),n=zn(n,s,i,e,r[11],2304563134,22),e=zn(e,n,s,i,r[12],1804603682,7),i=zn(i,e,n,s,r[13],4254626195,12),s=zn(s,i,e,n,r[14],2792965006,17),n=zn(n,s,i,e,r[15],1236535329,22),e=qn(e,n,s,i,r[1],4129170786,5),i=qn(i,e,n,s,r[6],3225465664,9),s=qn(s,i,e,n,r[11],643717713,14),n=qn(n,s,i,e,r[0],3921069994,20),e=qn(e,n,s,i,r[5],3593408605,5),i=qn(i,e,n,s,r[10],38016083,9),s=qn(s,i,e,n,r[15],3634488961,14),n=qn(n,s,i,e,r[4],3889429448,20),e=qn(e,n,s,i,r[9],568446438,5),i=qn(i,e,n,s,r[14],3275163606,9),s=qn(s,i,e,n,r[3],4107603335,14),n=qn(n,s,i,e,r[8],1163531501,20),e=qn(e,n,s,i,r[13],2850285829,5),i=qn(i,e,n,s,r[2],4243563512,9),s=qn(s,i,e,n,r[7],1735328473,14),n=qn(n,s,i,e,r[12],2368359562,20),e=Fn(e,n,s,i,r[5],4294588738,4),i=Fn(i,e,n,s,r[8],2272392833,11),s=Fn(s,i,e,n,r[11],1839030562,16),n=Fn(n,s,i,e,r[14],4259657740,23),e=Fn(e,n,s,i,r[1],2763975236,4),i=Fn(i,e,n,s,r[4],1272893353,11),s=Fn(s,i,e,n,r[7],4139469664,16),n=Fn(n,s,i,e,r[10],3200236656,23),e=Fn(e,n,s,i,r[13],681279174,4),i=Fn(i,e,n,s,r[0],3936430074,11),s=Fn(s,i,e,n,r[3],3572445317,16),n=Fn(n,s,i,e,r[6],76029189,23),e=Fn(e,n,s,i,r[9],3654602809,4),i=Fn(i,e,n,s,r[12],3873151461,11),s=Fn(s,i,e,n,r[15],530742520,16),n=Fn(n,s,i,e,r[2],3299628645,23),e=jn(e,n,s,i,r[0],4096336452,6),i=jn(i,e,n,s,r[7],1126891415,10),s=jn(s,i,e,n,r[14],2878612391,15),n=jn(n,s,i,e,r[5],4237533241,21),e=jn(e,n,s,i,r[12],1700485571,6),i=jn(i,e,n,s,r[3],2399980690,10),s=jn(s,i,e,n,r[10],4293915773,15),n=jn(n,s,i,e,r[1],2240044497,21),e=jn(e,n,s,i,r[8],1873313359,6),i=jn(i,e,n,s,r[15],4264355552,10),s=jn(s,i,e,n,r[6],2734768916,15),n=jn(n,s,i,e,r[13],1309151649,21),e=jn(e,n,s,i,r[4],4149444226,6),i=jn(i,e,n,s,r[11],3174756917,10),s=jn(s,i,e,n,r[2],718787259,15),n=jn(n,s,i,e,r[9],3951481745,21),this._a=this._a+e|0,this._b=this._b+n|0,this._c=this._c+s|0,this._d=this._d+i|0};Wl.prototype._digest=function(){this._block[this._blockOffset++]=128,this._blockOffset>56&&(this._block.fill(0,this._blockOffset,64),this._update(),this._blockOffset=0),this._block.fill(0,this._blockOffset,56),this._block.writeUInt32LE(this._length[0],56),this._block.writeUInt32LE(this._length[1],60),this._update();var r=MI.allocUnsafe(16);return r.writeInt32LE(this._a,0),r.writeInt32LE(this._b,4),r.writeInt32LE(this._c,8),r.writeInt32LE(this._d,12),r};function Gl(r,t){return r<<t|r>>>32-t}function zn(r,t,e,n,s,i,c){return Gl(r+(t&e|~t&n)+s+i|0,c)+t|0}function qn(r,t,e,n,s,i,c){return Gl(r+(t&n|e&~n)+s+i|0,c)+t|0}function Fn(r,t,e,n,s,i,c){return Gl(r+(t^e^n)+s+i|0,c)+t|0}function jn(r,t,e,n,s,i,c){return Gl(r+(e^(t|~n))+s+i|0,c)+t|0}var Qv=Wl,qd=yr.Buffer,AI=br,Y7=W7,SI=new Array(16),Df=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13],zf=[5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11],qf=[11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6],Ff=[8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11],jf=[0,1518500249,1859775393,2400959708,2840853838],Kf=[1352829926,1548603684,1836072691,2053994217,0];function Yl(){Y7.call(this,64),this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878,this._e=3285377520}AI(Yl,Y7);Yl.prototype._update=function(){for(var r=SI,t=0;t<16;++t)r[t]=this._block.readInt32LE(t*4);for(var e=this._a|0,n=this._b|0,s=this._c|0,i=this._d|0,c=this._e|0,l=this._a|0,p=this._b|0,m=this._c|0,v=this._d|0,_=this._e|0,E=0;E<80;E+=1){var w,x;E<16?(w=xb(e,n,s,i,c,r[Df[E]],jf[0],qf[E]),x=Ab(l,p,m,v,_,r[zf[E]],Kf[0],Ff[E])):E<32?(w=_b(e,n,s,i,c,r[Df[E]],jf[1],qf[E]),x=Eb(l,p,m,v,_,r[zf[E]],Kf[1],Ff[E])):E<48?(w=Mb(e,n,s,i,c,r[Df[E]],jf[2],qf[E]),x=Mb(l,p,m,v,_,r[zf[E]],Kf[2],Ff[E])):E<64?(w=Eb(e,n,s,i,c,r[Df[E]],jf[3],qf[E]),x=_b(l,p,m,v,_,r[zf[E]],Kf[3],Ff[E])):(w=Ab(e,n,s,i,c,r[Df[E]],jf[4],qf[E]),x=xb(l,p,m,v,_,r[zf[E]],Kf[4],Ff[E])),e=c,c=i,i=Za(s,10),s=n,n=w,l=_,_=v,v=Za(m,10),m=p,p=x}var A=this._b+s+v|0;this._b=this._c+i+_|0,this._c=this._d+c+l|0,this._d=this._e+e+p|0,this._e=this._a+n+m|0,this._a=A};Yl.prototype._digest=function(){this._block[this._blockOffset++]=128,this._blockOffset>56&&(this._block.fill(0,this._blockOffset,64),this._update(),this._blockOffset=0),this._block.fill(0,this._blockOffset,56),this._block.writeUInt32LE(this._length[0],56),this._block.writeUInt32LE(this._length[1],60),this._update();var r=qd.alloc?qd.alloc(20):new qd(20);return r.writeInt32LE(this._a,0),r.writeInt32LE(this._b,4),r.writeInt32LE(this._c,8),r.writeInt32LE(this._d,12),r.writeInt32LE(this._e,16),r};function Za(r,t){return r<<t|r>>>32-t}function xb(r,t,e,n,s,i,c,l){return Za(r+(t^e^n)+i+c|0,l)+s|0}function _b(r,t,e,n,s,i,c,l){return Za(r+(t&e|~t&n)+i+c|0,l)+s|0}function Mb(r,t,e,n,s,i,c,l){return Za(r+((t|~e)^n)+i+c|0,l)+s|0}function Eb(r,t,e,n,s,i,c,l){return Za(r+(t&n|e&~n)+i+c|0,l)+s|0}function Ab(r,t,e,n,s,i,c,l){return Za(r+(t^(e|~n))+i+c|0,l)+s|0}var tg=Yl,X7={exports:{}},J7=sr.Buffer;function Xl(r,t){this._block=J7.alloc(r),this._finalSize=t,this._blockSize=r,this._len=0}Xl.prototype.update=function(r,t){typeof r=="string"&&(t=t||"utf8",r=J7.from(r,t));for(var e=this._block,n=this._blockSize,s=r.length,i=this._len,c=0;c<s;){for(var l=i%n,p=Math.min(s-c,n-l),m=0;m<p;m++)e[l+m]=r[c+m];i+=p,c+=p,i%n===0&&this._update(e)}return this._len+=s,this};Xl.prototype.digest=function(r){var t=this._len%this._blockSize;this._block[t]=128,this._block.fill(0,t+1),t>=this._finalSize&&(this._update(this._block),this._block.fill(0));var e=this._len*8;if(e<=4294967295)this._block.writeUInt32BE(e,this._blockSize-4);else{var n=(e&4294967295)>>>0,s=(e-n)/4294967296;this._block.writeUInt32BE(s,this._blockSize-8),this._block.writeUInt32BE(n,this._blockSize-4)}this._update(this._block);var i=this._hash();return r?i.toString(r):i};Xl.prototype._update=function(){throw new Error("_update must be implemented by subclass")};var wf=Xl,kI=br,Q7=wf,II=sr.Buffer,BI=[1518500249,1859775393,-1894007588,-899497514],PI=new Array(80);function yh(){this.init(),this._w=PI,Q7.call(this,64,56)}kI(yh,Q7);yh.prototype.init=function(){return this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878,this._e=3285377520,this};function RI(r){return r<<5|r>>>27}function CI(r){return r<<30|r>>>2}function TI(r,t,e,n){return r===0?t&e|~t&n:r===2?t&e|t&n|e&n:t^e^n}yh.prototype._update=function(r){for(var t=this._w,e=this._a|0,n=this._b|0,s=this._c|0,i=this._d|0,c=this._e|0,l=0;l<16;++l)t[l]=r.readInt32BE(l*4);for(;l<80;++l)t[l]=t[l-3]^t[l-8]^t[l-14]^t[l-16];for(var p=0;p<80;++p){var m=~~(p/20),v=RI(e)+TI(m,n,s,i)+c+t[p]+BI[m]|0;c=i,i=s,s=CI(n),n=e,e=v}this._a=e+this._a|0,this._b=n+this._b|0,this._c=s+this._c|0,this._d=i+this._d|0,this._e=c+this._e|0};yh.prototype._hash=function(){var r=II.allocUnsafe(20);return r.writeInt32BE(this._a|0,0),r.writeInt32BE(this._b|0,4),r.writeInt32BE(this._c|0,8),r.writeInt32BE(this._d|0,12),r.writeInt32BE(this._e|0,16),r};var LI=yh,OI=br,t_=wf,UI=sr.Buffer,NI=[1518500249,1859775393,-1894007588,-899497514],DI=new Array(80);function bh(){this.init(),this._w=DI,t_.call(this,64,56)}OI(bh,t_);bh.prototype.init=function(){return this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878,this._e=3285377520,this};function zI(r){return r<<1|r>>>31}function qI(r){return r<<5|r>>>27}function FI(r){return r<<30|r>>>2}function jI(r,t,e,n){return r===0?t&e|~t&n:r===2?t&e|t&n|e&n:t^e^n}bh.prototype._update=function(r){for(var t=this._w,e=this._a|0,n=this._b|0,s=this._c|0,i=this._d|0,c=this._e|0,l=0;l<16;++l)t[l]=r.readInt32BE(l*4);for(;l<80;++l)t[l]=zI(t[l-3]^t[l-8]^t[l-14]^t[l-16]);for(var p=0;p<80;++p){var m=~~(p/20),v=qI(e)+jI(m,n,s,i)+c+t[p]+NI[m]|0;c=i,i=s,s=FI(n),n=e,e=v}this._a=e+this._a|0,this._b=n+this._b|0,this._c=s+this._c|0,this._d=i+this._d|0,this._e=c+this._e|0};bh.prototype._hash=function(){var r=UI.allocUnsafe(20);return r.writeInt32BE(this._a|0,0),r.writeInt32BE(this._b|0,4),r.writeInt32BE(this._c|0,8),r.writeInt32BE(this._d|0,12),r.writeInt32BE(this._e|0,16),r};var KI=bh,$I=br,e_=wf,HI=sr.Buffer,VI=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298],ZI=new Array(64);function wh(){this.init(),this._w=ZI,e_.call(this,64,56)}$I(wh,e_);wh.prototype.init=function(){return this._a=1779033703,this._b=3144134277,this._c=1013904242,this._d=2773480762,this._e=1359893119,this._f=2600822924,this._g=528734635,this._h=1541459225,this};function WI(r,t,e){return e^r&(t^e)}function GI(r,t,e){return r&t|e&(r|t)}function YI(r){return(r>>>2|r<<30)^(r>>>13|r<<19)^(r>>>22|r<<10)}function XI(r){return(r>>>6|r<<26)^(r>>>11|r<<21)^(r>>>25|r<<7)}function JI(r){return(r>>>7|r<<25)^(r>>>18|r<<14)^r>>>3}function QI(r){return(r>>>17|r<<15)^(r>>>19|r<<13)^r>>>10}wh.prototype._update=function(r){for(var t=this._w,e=this._a|0,n=this._b|0,s=this._c|0,i=this._d|0,c=this._e|0,l=this._f|0,p=this._g|0,m=this._h|0,v=0;v<16;++v)t[v]=r.readInt32BE(v*4);for(;v<64;++v)t[v]=QI(t[v-2])+t[v-7]+JI(t[v-15])+t[v-16]|0;for(var _=0;_<64;++_){var E=m+XI(c)+WI(c,l,p)+VI[_]+t[_]|0,w=YI(e)+GI(e,n,s)|0;m=p,p=l,l=c,c=i+E|0,i=s,s=n,n=e,e=E+w|0}this._a=e+this._a|0,this._b=n+this._b|0,this._c=s+this._c|0,this._d=i+this._d|0,this._e=c+this._e|0,this._f=l+this._f|0,this._g=p+this._g|0,this._h=m+this._h|0};wh.prototype._hash=function(){var r=HI.allocUnsafe(32);return r.writeInt32BE(this._a,0),r.writeInt32BE(this._b,4),r.writeInt32BE(this._c,8),r.writeInt32BE(this._d,12),r.writeInt32BE(this._e,16),r.writeInt32BE(this._f,20),r.writeInt32BE(this._g,24),r.writeInt32BE(this._h,28),r};var r_=wh,tB=br,eB=r_,rB=wf,nB=sr.Buffer,iB=new Array(64);function Jl(){this.init(),this._w=iB,rB.call(this,64,56)}tB(Jl,eB);Jl.prototype.init=function(){return this._a=3238371032,this._b=914150663,this._c=812702999,this._d=4144912697,this._e=4290775857,this._f=1750603025,this._g=1694076839,this._h=3204075428,this};Jl.prototype._hash=function(){var r=nB.allocUnsafe(28);return r.writeInt32BE(this._a,0),r.writeInt32BE(this._b,4),r.writeInt32BE(this._c,8),r.writeInt32BE(this._d,12),r.writeInt32BE(this._e,16),r.writeInt32BE(this._f,20),r.writeInt32BE(this._g,24),r};var oB=Jl,sB=br,n_=wf,aB=sr.Buffer,Sb=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591],uB=new Array(160);function xh(){this.init(),this._w=uB,n_.call(this,128,112)}sB(xh,n_);xh.prototype.init=function(){return this._ah=1779033703,this._bh=3144134277,this._ch=1013904242,this._dh=2773480762,this._eh=1359893119,this._fh=2600822924,this._gh=528734635,this._hh=1541459225,this._al=4089235720,this._bl=2227873595,this._cl=4271175723,this._dl=1595750129,this._el=2917565137,this._fl=725511199,this._gl=4215389547,this._hl=327033209,this};function kb(r,t,e){return e^r&(t^e)}function Ib(r,t,e){return r&t|e&(r|t)}function Bb(r,t){return(r>>>28|t<<4)^(t>>>2|r<<30)^(t>>>7|r<<25)}function Pb(r,t){return(r>>>14|t<<18)^(r>>>18|t<<14)^(t>>>9|r<<23)}function fB(r,t){return(r>>>1|t<<31)^(r>>>8|t<<24)^r>>>7}function cB(r,t){return(r>>>1|t<<31)^(r>>>8|t<<24)^(r>>>7|t<<25)}function hB(r,t){return(r>>>19|t<<13)^(t>>>29|r<<3)^r>>>6}function lB(r,t){return(r>>>19|t<<13)^(t>>>29|r<<3)^(r>>>6|t<<26)}function yn(r,t){return r>>>0<t>>>0?1:0}xh.prototype._update=function(r){for(var t=this._w,e=this._ah|0,n=this._bh|0,s=this._ch|0,i=this._dh|0,c=this._eh|0,l=this._fh|0,p=this._gh|0,m=this._hh|0,v=this._al|0,_=this._bl|0,E=this._cl|0,w=this._dl|0,x=this._el|0,A=this._fl|0,B=this._gl|0,P=this._hl|0,R=0;R<32;R+=2)t[R]=r.readInt32BE(R*4),t[R+1]=r.readInt32BE(R*4+4);for(;R<160;R+=2){var C=t[R-30],O=t[R-15*2+1],z=fB(C,O),H=cB(O,C);C=t[R-2*2],O=t[R-2*2+1];var tt=hB(C,O),nt=lB(O,C),G=t[R-7*2],M=t[R-7*2+1],d=t[R-16*2],o=t[R-16*2+1],a=H+M|0,f=z+G+yn(a,H)|0;a=a+nt|0,f=f+tt+yn(a,nt)|0,a=a+o|0,f=f+d+yn(a,o)|0,t[R]=f,t[R+1]=a}for(var h=0;h<160;h+=2){f=t[h],a=t[h+1];var g=Ib(e,n,s),S=Ib(v,_,E),I=Bb(e,v),y=Bb(v,e),u=Pb(c,x),b=Pb(x,c),D=Sb[h],Z=Sb[h+1],F=kb(c,l,p),q=kb(x,A,B),it=P+b|0,at=m+u+yn(it,P)|0;it=it+q|0,at=at+F+yn(it,q)|0,it=it+Z|0,at=at+D+yn(it,Z)|0,it=it+a|0,at=at+f+yn(it,a)|0;var Bt=y+S|0,yt=I+g+yn(Bt,y)|0;m=p,P=B,p=l,B=A,l=c,A=x,x=w+it|0,c=i+at+yn(x,w)|0,i=s,w=E,s=n,E=_,n=e,_=v,v=it+Bt|0,e=at+yt+yn(v,it)|0}this._al=this._al+v|0,this._bl=this._bl+_|0,this._cl=this._cl+E|0,this._dl=this._dl+w|0,this._el=this._el+x|0,this._fl=this._fl+A|0,this._gl=this._gl+B|0,this._hl=this._hl+P|0,this._ah=this._ah+e+yn(this._al,v)|0,this._bh=this._bh+n+yn(this._bl,_)|0,this._ch=this._ch+s+yn(this._cl,E)|0,this._dh=this._dh+i+yn(this._dl,w)|0,this._eh=this._eh+c+yn(this._el,x)|0,this._fh=this._fh+l+yn(this._fl,A)|0,this._gh=this._gh+p+yn(this._gl,B)|0,this._hh=this._hh+m+yn(this._hl,P)|0};xh.prototype._hash=function(){var r=aB.allocUnsafe(64);function t(e,n,s){r.writeInt32BE(e,s),r.writeInt32BE(n,s+4)}return t(this._ah,this._al,0),t(this._bh,this._bl,8),t(this._ch,this._cl,16),t(this._dh,this._dl,24),t(this._eh,this._el,32),t(this._fh,this._fl,40),t(this._gh,this._gl,48),t(this._hh,this._hl,56),r};var i_=xh,dB=br,pB=i_,mB=wf,vB=sr.Buffer,gB=new Array(160);function Ql(){this.init(),this._w=gB,mB.call(this,128,112)}dB(Ql,pB);Ql.prototype.init=function(){return this._ah=3418070365,this._bh=1654270250,this._ch=2438529370,this._dh=355462360,this._eh=1731405415,this._fh=2394180231,this._gh=3675008525,this._hh=1203062813,this._al=3238371032,this._bl=914150663,this._cl=812702999,this._dl=4144912697,this._el=4290775857,this._fl=1750603025,this._gl=1694076839,this._hl=3204075428,this};Ql.prototype._hash=function(){var r=vB.allocUnsafe(48);function t(e,n,s){r.writeInt32BE(e,s),r.writeInt32BE(n,s+4)}return t(this._ah,this._al,0),t(this._bh,this._bl,8),t(this._ch,this._cl,16),t(this._dh,this._dl,24),t(this._eh,this._el,32),t(this._fh,this._fl,40),r};var yB=Ql,ou=X7.exports=function(t){t=t.toLowerCase();var e=ou[t];if(!e)throw new Error(t+" is not supported (we accept pull requests)");return new e};ou.sha=LI;ou.sha1=KI;ou.sha224=oB;ou.sha256=r_;ou.sha384=yB;ou.sha512=i_;var eg=X7.exports,o_=sr.Buffer,s_=mI.Transform,bB=vI().StringDecoder,wB=br;function po(r){s_.call(this),this.hashMode=typeof r=="string",this.hashMode?this[r]=this._finalOrDigest:this.final=this._finalOrDigest,this._final&&(this.__final=this._final,this._final=null),this._decoder=null,this._encoding=null}wB(po,s_);po.prototype.update=function(r,t,e){typeof r=="string"&&(r=o_.from(r,t));var n=this._update(r);return this.hashMode?this:(e&&(n=this._toString(n,e)),n)};po.prototype.setAutoPadding=function(){};po.prototype.getAuthTag=function(){throw new Error("trying to get auth tag in unsupported state")};po.prototype.setAuthTag=function(){throw new Error("trying to set auth tag in unsupported state")};po.prototype.setAAD=function(){throw new Error("trying to set aad in unsupported state")};po.prototype._transform=function(r,t,e){var n;try{this.hashMode?this._update(r):this.push(this._update(r))}catch(s){n=s}finally{e(n)}};po.prototype._flush=function(r){var t;try{this.push(this.__final())}catch(e){t=e}r(t)};po.prototype._finalOrDigest=function(r){var t=this.__final()||o_.alloc(0);return r&&(t=this._toString(t,r,!0)),t};po.prototype._toString=function(r,t,e){if(this._decoder||(this._decoder=new bB(t),this._encoding=t),this._encoding!==t)throw new Error("can't switch encodings");var n=this._decoder.write(r);return e&&(n+=this._decoder.end()),n};var sa=po,xB=br,_B=Qv,MB=tg,EB=eg,a_=sa;function td(r){a_.call(this,"digest"),this._hash=r}xB(td,a_);td.prototype._update=function(r){this._hash.update(r)};td.prototype._final=function(){return this._hash.digest()};var _h=function(t){return t=t.toLowerCase(),t==="md5"?new _B:t==="rmd160"||t==="ripemd160"?new MB:new td(EB(t))};const rg=j7(K7);var Je={},Fd,Rb;function AB(){if(Rb)return Fd;Rb=1;var r=br,t=sr.Buffer,e=sa,n=t.alloc(128),s=64;function i(c,l){e.call(this,"digest"),typeof l=="string"&&(l=t.from(l)),this._alg=c,this._key=l,l.length>s?l=c(l):l.length<s&&(l=t.concat([l,n],s));for(var p=this._ipad=t.allocUnsafe(s),m=this._opad=t.allocUnsafe(s),v=0;v<s;v++)p[v]=l[v]^54,m[v]=l[v]^92;this._hash=[p]}return r(i,e),i.prototype._update=function(c){this._hash.push(c)},i.prototype._final=function(){var c=this._alg(t.concat(this._hash));return this._alg(t.concat([this._opad,c]))},Fd=i,Fd}var jd,Cb;function u_(){if(Cb)return jd;Cb=1;var r=Qv;return jd=function(t){return new r().update(t).digest()},jd}var Kd,Tb;function f_(){if(Tb)return Kd;Tb=1;var r=br,t=AB(),e=sa,n=sr.Buffer,s=u_(),i=tg,c=eg,l=n.alloc(128);function p(m,v){e.call(this,"digest"),typeof v=="string"&&(v=n.from(v));var _=m==="sha512"||m==="sha384"?128:64;if(this._alg=m,this._key=v,v.length>_){var E=m==="rmd160"?new i:c(m);v=E.update(v).digest()}else v.length<_&&(v=n.concat([v,l],_));for(var w=this._ipad=n.allocUnsafe(_),x=this._opad=n.allocUnsafe(_),A=0;A<_;A++)w[A]=v[A]^54,x[A]=v[A]^92;this._hash=m==="rmd160"?new i:c(m),this._hash.update(w)}return r(p,e),p.prototype._update=function(m){this._hash.update(m)},p.prototype._final=function(){var m=this._hash.digest(),v=this._alg==="rmd160"?new i:c(this._alg);return v.update(this._opad).update(m).digest()},Kd=function(v,_){return v=v.toLowerCase(),v==="rmd160"||v==="ripemd160"?new p("rmd160",_):v==="md5"?new t(s,_):new p(v,_)},Kd}const SB={sign:"rsa",hash:"sha224",id:"302d300d06096086480165030402040500041c"},kB={sign:"rsa",hash:"sha256",id:"3031300d060960864801650304020105000420"},IB={sign:"rsa",hash:"sha384",id:"3041300d060960864801650304020205000430"},BB={sign:"rsa",hash:"sha512",id:"3051300d060960864801650304020305000440"},PB={sign:"ecdsa",hash:"sha256",id:""},RB={sign:"ecdsa",hash:"sha224",id:""},CB={sign:"ecdsa",hash:"sha384",id:""},TB={sign:"ecdsa",hash:"sha512",id:""},LB={sign:"dsa",hash:"sha1",id:""},OB={sign:"rsa",hash:"rmd160",id:"3021300906052b2403020105000414"},UB={sign:"rsa",hash:"md5",id:"3020300c06082a864886f70d020505000410"},c_={sha224WithRSAEncryption:SB,"RSA-SHA224":{sign:"ecdsa/rsa",hash:"sha224",id:"302d300d06096086480165030402040500041c"},sha256WithRSAEncryption:kB,"RSA-SHA256":{sign:"ecdsa/rsa",hash:"sha256",id:"3031300d060960864801650304020105000420"},sha384WithRSAEncryption:IB,"RSA-SHA384":{sign:"ecdsa/rsa",hash:"sha384",id:"3041300d060960864801650304020205000430"},sha512WithRSAEncryption:BB,"RSA-SHA512":{sign:"ecdsa/rsa",hash:"sha512",id:"3051300d060960864801650304020305000440"},"RSA-SHA1":{sign:"rsa",hash:"sha1",id:"3021300906052b0e03021a05000414"},"ecdsa-with-SHA1":{sign:"ecdsa",hash:"sha1",id:""},sha256:PB,sha224:RB,sha384:CB,sha512:TB,"DSA-SHA":{sign:"dsa",hash:"sha1",id:""},"DSA-SHA1":{sign:"dsa",hash:"sha1",id:""},DSA:LB,"DSA-WITH-SHA224":{sign:"dsa",hash:"sha224",id:""},"DSA-SHA224":{sign:"dsa",hash:"sha224",id:""},"DSA-WITH-SHA256":{sign:"dsa",hash:"sha256",id:""},"DSA-SHA256":{sign:"dsa",hash:"sha256",id:""},"DSA-WITH-SHA384":{sign:"dsa",hash:"sha384",id:""},"DSA-SHA384":{sign:"dsa",hash:"sha384",id:""},"DSA-WITH-SHA512":{sign:"dsa",hash:"sha512",id:""},"DSA-SHA512":{sign:"dsa",hash:"sha512",id:""},"DSA-RIPEMD160":{sign:"dsa",hash:"rmd160",id:""},ripemd160WithRSA:OB,"RSA-RIPEMD160":{sign:"rsa",hash:"rmd160",id:"3021300906052b2403020105000414"},md5WithRSAEncryption:UB,"RSA-MD5":{sign:"rsa",hash:"md5",id:"3020300c06082a864886f70d020505000410"}};var $d,Lb;function NB(){return Lb||(Lb=1,$d=c_),$d}var Zh={},Hd,Ob;function h_(){if(Ob)return Hd;Ob=1;var r=Math.pow(2,30)-1;return Hd=function(t,e){if(typeof t!="number")throw new TypeError("Iterations not a number");if(t<0)throw new TypeError("Bad iterations");if(typeof e!="number")throw new TypeError("Key length not a number");if(e<0||e>r||e!==e)throw new TypeError("Bad key length")},Hd}var Vd,Ub;function l_(){if(Ub)return Vd;Ub=1;var r;if(Re.process&&Re.process.browser)r="utf-8";else if(Re.process&&Re.process.version){var t=parseInt(Zt.process.version.split(".")[0].slice(1),10);r=t>=6?"utf-8":"binary"}else r="utf-8";return Vd=r,Vd}var Zd,Nb;function d_(){if(Nb)return Zd;Nb=1;var r=sr.Buffer;return Zd=function(t,e,n){if(r.isBuffer(t))return t;if(typeof t=="string")return r.from(t,e);if(ArrayBuffer.isView(t))return r.from(t.buffer);throw new TypeError(n+" must be a string, a Buffer, a typed array or a DataView")},Zd}var Wd,Db;function p_(){if(Db)return Wd;Db=1;var r=u_(),t=tg,e=eg,n=sr.Buffer,s=h_(),i=l_(),c=d_(),l=n.alloc(128),p={md5:16,sha1:20,sha224:28,sha256:32,sha384:48,sha512:64,rmd160:20,ripemd160:20};function m(E,w,x){var A=v(E),B=E==="sha512"||E==="sha384"?128:64;w.length>B?w=A(w):w.length<B&&(w=n.concat([w,l],B));for(var P=n.allocUnsafe(B+p[E]),R=n.allocUnsafe(B+p[E]),C=0;C<B;C++)P[C]=w[C]^54,R[C]=w[C]^92;var O=n.allocUnsafe(B+x+4);P.copy(O,0,0,B),this.ipad1=O,this.ipad2=P,this.opad=R,this.alg=E,this.blocksize=B,this.hash=A,this.size=p[E]}m.prototype.run=function(E,w){E.copy(w,this.blocksize);var x=this.hash(w);return x.copy(this.opad,this.blocksize),this.hash(this.opad)};function v(E){function w(A){return e(E).update(A).digest()}function x(A){return new t().update(A).digest()}return E==="rmd160"||E==="ripemd160"?x:E==="md5"?r:w}function _(E,w,x,A,B){s(x,A),E=c(E,i,"Password"),w=c(w,i,"Salt"),B=B||"sha1";var P=new m(B,E,w.length),R=n.allocUnsafe(A),C=n.allocUnsafe(w.length+4);w.copy(C,0,0,w.length);for(var O=0,z=p[B],H=Math.ceil(A/z),tt=1;tt<=H;tt++){C.writeUInt32BE(tt,w.length);for(var nt=P.run(C,P.ipad1),G=nt,M=1;M<x;M++){G=P.run(G,P.ipad2);for(var d=0;d<z;d++)nt[d]^=G[d]}nt.copy(R,O),O+=z}return R}return Wd=_,Wd}var Gd,zb;function DB(){if(zb)return Gd;zb=1;var r=sr.Buffer,t=h_(),e=l_(),n=p_(),s=d_(),i,c=Re.crypto&&Re.crypto.subtle,l={sha:"SHA-1","sha-1":"SHA-1",sha1:"SHA-1",sha256:"SHA-256","sha-256":"SHA-256",sha384:"SHA-384","sha-384":"SHA-384","sha-512":"SHA-512",sha512:"SHA-512"},p=[];function m(x){if(Re.process&&!Re.process.browser||!c||!c.importKey||!c.deriveBits)return Promise.resolve(!1);if(p[x]!==void 0)return p[x];i=i||r.alloc(8);var A=E(i,i,10,128,x).then(function(){return!0}).catch(function(){return!1});return p[x]=A,A}var v;function _(){return v||(Re.process&&Re.process.nextTick?v=Re.process.nextTick:Re.queueMicrotask?v=Re.queueMicrotask:Re.setImmediate?v=Re.setImmediate:v=Re.setTimeout,v)}function E(x,A,B,P,R){return c.importKey("raw",x,{name:"PBKDF2"},!1,["deriveBits"]).then(function(C){return c.deriveBits({name:"PBKDF2",salt:A,iterations:B,hash:{name:R}},C,P<<3)}).then(function(C){return r.from(C)})}function w(x,A){x.then(function(B){_()(function(){A(null,B)})},function(B){_()(function(){A(B)})})}return Gd=function(x,A,B,P,R,C){typeof R=="function"&&(C=R,R=void 0),R=R||"sha1";var O=l[R.toLowerCase()];if(!O||typeof Re.Promise!="function"){_()(function(){var z;try{z=n(x,A,B,P,R)}catch(H){return C(H)}C(null,z)});return}if(t(B,P),x=s(x,e,"Password"),A=s(A,e,"Salt"),typeof C!="function")throw new Error("No callback provided to pbkdf2");w(m(O).then(function(z){return z?E(x,A,B,P,O):n(x,A,B,P,R)}),C)},Gd}var qb;function m_(){return qb||(qb=1,Zh.pbkdf2=DB(),Zh.pbkdf2Sync=p_()),Zh}var ki={},ha={},pi={},Fb;function v_(){if(Fb)return pi;Fb=1,pi.readUInt32BE=function(s,i){var c=s[0+i]<<24|s[1+i]<<16|s[2+i]<<8|s[3+i];return c>>>0},pi.writeUInt32BE=function(s,i,c){s[0+c]=i>>>24,s[1+c]=i>>>16&255,s[2+c]=i>>>8&255,s[3+c]=i&255},pi.ip=function(s,i,c,l){for(var p=0,m=0,v=6;v>=0;v-=2){for(var _=0;_<=24;_+=8)p<<=1,p|=i>>>_+v&1;for(var _=0;_<=24;_+=8)p<<=1,p|=s>>>_+v&1}for(var v=6;v>=0;v-=2){for(var _=1;_<=25;_+=8)m<<=1,m|=i>>>_+v&1;for(var _=1;_<=25;_+=8)m<<=1,m|=s>>>_+v&1}c[l+0]=p>>>0,c[l+1]=m>>>0},pi.rip=function(s,i,c,l){for(var p=0,m=0,v=0;v<4;v++)for(var _=24;_>=0;_-=8)p<<=1,p|=i>>>_+v&1,p<<=1,p|=s>>>_+v&1;for(var v=4;v<8;v++)for(var _=24;_>=0;_-=8)m<<=1,m|=i>>>_+v&1,m<<=1,m|=s>>>_+v&1;c[l+0]=p>>>0,c[l+1]=m>>>0},pi.pc1=function(s,i,c,l){for(var p=0,m=0,v=7;v>=5;v--){for(var _=0;_<=24;_+=8)p<<=1,p|=i>>_+v&1;for(var _=0;_<=24;_+=8)p<<=1,p|=s>>_+v&1}for(var _=0;_<=24;_+=8)p<<=1,p|=i>>_+v&1;for(var v=1;v<=3;v++){for(var _=0;_<=24;_+=8)m<<=1,m|=i>>_+v&1;for(var _=0;_<=24;_+=8)m<<=1,m|=s>>_+v&1}for(var _=0;_<=24;_+=8)m<<=1,m|=s>>_+v&1;c[l+0]=p>>>0,c[l+1]=m>>>0},pi.r28shl=function(s,i){return s<<i&268435455|s>>>28-i};var r=[14,11,17,4,27,23,25,0,13,22,7,18,5,9,16,24,2,20,12,21,1,8,15,26,15,4,25,19,9,1,26,16,5,11,23,8,12,7,17,0,22,3,10,14,6,20,27,24];pi.pc2=function(s,i,c,l){for(var p=0,m=0,v=r.length>>>1,_=0;_<v;_++)p<<=1,p|=s>>>r[_]&1;for(var _=v;_<r.length;_++)m<<=1,m|=i>>>r[_]&1;c[l+0]=p>>>0,c[l+1]=m>>>0},pi.expand=function(s,i,c){var l=0,p=0;l=(s&1)<<5|s>>>27;for(var m=23;m>=15;m-=4)l<<=6,l|=s>>>m&63;for(var m=11;m>=3;m-=4)p|=s>>>m&63,p<<=6;p|=(s&31)<<1|s>>>31,i[c+0]=l>>>0,i[c+1]=p>>>0};var t=[14,0,4,15,13,7,1,4,2,14,15,2,11,13,8,1,3,10,10,6,6,12,12,11,5,9,9,5,0,3,7,8,4,15,1,12,14,8,8,2,13,4,6,9,2,1,11,7,15,5,12,11,9,3,7,14,3,10,10,0,5,6,0,13,15,3,1,13,8,4,14,7,6,15,11,2,3,8,4,14,9,12,7,0,2,1,13,10,12,6,0,9,5,11,10,5,0,13,14,8,7,10,11,1,10,3,4,15,13,4,1,2,5,11,8,6,12,7,6,12,9,0,3,5,2,14,15,9,10,13,0,7,9,0,14,9,6,3,3,4,15,6,5,10,1,2,13,8,12,5,7,14,11,12,4,11,2,15,8,1,13,1,6,10,4,13,9,0,8,6,15,9,3,8,0,7,11,4,1,15,2,14,12,3,5,11,10,5,14,2,7,12,7,13,13,8,14,11,3,5,0,6,6,15,9,0,10,3,1,4,2,7,8,2,5,12,11,1,12,10,4,14,15,9,10,3,6,15,9,0,0,6,12,10,11,1,7,13,13,8,15,9,1,4,3,5,14,11,5,12,2,7,8,2,4,14,2,14,12,11,4,2,1,12,7,4,10,7,11,13,6,1,8,5,5,0,3,15,15,10,13,3,0,9,14,8,9,6,4,11,2,8,1,12,11,7,10,1,13,14,7,2,8,13,15,6,9,15,12,0,5,9,6,10,3,4,0,5,14,3,12,10,1,15,10,4,15,2,9,7,2,12,6,9,8,5,0,6,13,1,3,13,4,14,14,0,7,11,5,3,11,8,9,4,14,3,15,2,5,12,2,9,8,5,12,15,3,10,7,11,0,14,4,1,10,7,1,6,13,0,11,8,6,13,4,13,11,0,2,11,14,7,15,4,0,9,8,1,13,10,3,14,12,3,9,5,7,12,5,2,10,15,6,8,1,6,1,6,4,11,11,13,13,8,12,1,3,4,7,10,14,7,10,9,15,5,6,0,8,15,0,14,5,2,9,3,2,12,13,1,2,15,8,13,4,8,6,10,15,3,11,7,1,4,10,12,9,5,3,6,14,11,5,0,0,14,12,9,7,2,7,2,11,1,4,14,1,7,9,4,12,10,14,8,2,13,0,15,6,12,10,9,13,0,15,3,3,5,5,6,8,11];pi.substitute=function(s,i){for(var c=0,l=0;l<4;l++){var p=s>>>18-l*6&63,m=t[l*64+p];c<<=4,c|=m}for(var l=0;l<4;l++){var p=i>>>18-l*6&63,m=t[4*64+l*64+p];c<<=4,c|=m}return c>>>0};var e=[16,25,12,11,3,20,4,15,31,17,9,6,27,14,1,22,30,24,8,18,0,5,29,23,13,19,2,26,10,21,28,7];return pi.permute=function(s){for(var i=0,c=0;c<e.length;c++)i<<=1,i|=s>>>e[c]&1;return i>>>0},pi.padSplit=function(s,i,c){for(var l=s.toString(2);l.length<i;)l="0"+l;for(var p=[],m=0;m<i;m+=c)p.push(l.slice(m,m+c));return p.join(" ")},pi}var Zi=g_;function g_(r,t){if(!r)throw new Error(t||"Assertion failed")}g_.equal=function(t,e,n){if(t!=e)throw new Error(n||"Assertion failed: "+t+" != "+e)};var Yd,jb;function ng(){if(jb)return Yd;jb=1;var r=Zi;function t(e){this.options=e,this.type=this.options.type,this.blockSize=8,this._init(),this.buffer=new Array(this.blockSize),this.bufferOff=0,this.padding=e.padding!==!1}return Yd=t,t.prototype._init=function(){},t.prototype.update=function(n){return n.length===0?[]:this.type==="decrypt"?this._updateDecrypt(n):this._updateEncrypt(n)},t.prototype._buffer=function(n,s){for(var i=Math.min(this.buffer.length-this.bufferOff,n.length-s),c=0;c<i;c++)this.buffer[this.bufferOff+c]=n[s+c];return this.bufferOff+=i,i},t.prototype._flushBuffer=function(n,s){return this._update(this.buffer,0,n,s),this.bufferOff=0,this.blockSize},t.prototype._updateEncrypt=function(n){var s=0,i=0,c=(this.bufferOff+n.length)/this.blockSize|0,l=new Array(c*this.blockSize);this.bufferOff!==0&&(s+=this._buffer(n,s),this.bufferOff===this.buffer.length&&(i+=this._flushBuffer(l,i)));for(var p=n.length-(n.length-s)%this.blockSize;s<p;s+=this.blockSize)this._update(n,s,l,i),i+=this.blockSize;for(;s<n.length;s++,this.bufferOff++)this.buffer[this.bufferOff]=n[s];return l},t.prototype._updateDecrypt=function(n){for(var s=0,i=0,c=Math.ceil((this.bufferOff+n.length)/this.blockSize)-1,l=new Array(c*this.blockSize);c>0;c--)s+=this._buffer(n,s),i+=this._flushBuffer(l,i);return s+=this._buffer(n,s),l},t.prototype.final=function(n){var s;n&&(s=this.update(n));var i;return this.type==="encrypt"?i=this._finalEncrypt():i=this._finalDecrypt(),s?s.concat(i):i},t.prototype._pad=function(n,s){if(s===0)return!1;for(;s<n.length;)n[s++]=0;return!0},t.prototype._finalEncrypt=function(){if(!this._pad(this.buffer,this.bufferOff))return[];var n=new Array(this.blockSize);return this._update(this.buffer,0,n,0),n},t.prototype._unpad=function(n){return n},t.prototype._finalDecrypt=function(){r.equal(this.bufferOff,this.blockSize,"Not enough data to decrypt");var n=new Array(this.blockSize);return this._flushBuffer(n,0),this._unpad(n)},Yd}var Xd,Kb;function y_(){if(Kb)return Xd;Kb=1;var r=Zi,t=br,e=v_(),n=ng();function s(){this.tmp=new Array(2),this.keys=null}function i(l){n.call(this,l);var p=new s;this._desState=p,this.deriveKeys(p,l.key)}t(i,n),Xd=i,i.create=function(p){return new i(p)};var c=[1,1,2,2,2,2,2,2,1,2,2,2,2,2,2,1];return i.prototype.deriveKeys=function(p,m){p.keys=new Array(16*2),r.equal(m.length,this.blockSize,"Invalid key length");var v=e.readUInt32BE(m,0),_=e.readUInt32BE(m,4);e.pc1(v,_,p.tmp,0),v=p.tmp[0],_=p.tmp[1];for(var E=0;E<p.keys.length;E+=2){var w=c[E>>>1];v=e.r28shl(v,w),_=e.r28shl(_,w),e.pc2(v,_,p.keys,E)}},i.prototype._update=function(p,m,v,_){var E=this._desState,w=e.readUInt32BE(p,m),x=e.readUInt32BE(p,m+4);e.ip(w,x,E.tmp,0),w=E.tmp[0],x=E.tmp[1],this.type==="encrypt"?this._encrypt(E,w,x,E.tmp,0):this._decrypt(E,w,x,E.tmp,0),w=E.tmp[0],x=E.tmp[1],e.writeUInt32BE(v,w,_),e.writeUInt32BE(v,x,_+4)},i.prototype._pad=function(p,m){if(this.padding===!1)return!1;for(var v=p.length-m,_=m;_<p.length;_++)p[_]=v;return!0},i.prototype._unpad=function(p){if(this.padding===!1)return p;for(var m=p[p.length-1],v=p.length-m;v<p.length;v++)r.equal(p[v],m);return p.slice(0,p.length-m)},i.prototype._encrypt=function(p,m,v,_,E){for(var w=m,x=v,A=0;A<p.keys.length;A+=2){var B=p.keys[A],P=p.keys[A+1];e.expand(x,p.tmp,0),B^=p.tmp[0],P^=p.tmp[1];var R=e.substitute(B,P),C=e.permute(R),O=x;x=(w^C)>>>0,w=O}e.rip(x,w,_,E)},i.prototype._decrypt=function(p,m,v,_,E){for(var w=v,x=m,A=p.keys.length-2;A>=0;A-=2){var B=p.keys[A],P=p.keys[A+1];e.expand(w,p.tmp,0),B^=p.tmp[0],P^=p.tmp[1];var R=e.substitute(B,P),C=e.permute(R),O=w;w=(x^C)>>>0,x=O}e.rip(w,x,_,E)},Xd}var Jd={},$b;function zB(){if($b)return Jd;$b=1;var r=Zi,t=br,e={};function n(i){r.equal(i.length,8,"Invalid IV length"),this.iv=new Array(8);for(var c=0;c<this.iv.length;c++)this.iv[c]=i[c]}function s(i){function c(v){i.call(this,v),this._cbcInit()}t(c,i);for(var l=Object.keys(e),p=0;p<l.length;p++){var m=l[p];c.prototype[m]=e[m]}return c.create=function(_){return new c(_)},c}return Jd.instantiate=s,e._cbcInit=function(){var c=new n(this.options.iv);this._cbcState=c},e._update=function(c,l,p,m){var v=this._cbcState,_=this.constructor.super_.prototype,E=v.iv;if(this.type==="encrypt"){for(var w=0;w<this.blockSize;w++)E[w]^=c[l+w];_._update.call(this,E,0,p,m);for(var w=0;w<this.blockSize;w++)E[w]=p[m+w]}else{_._update.call(this,c,l,p,m);for(var w=0;w<this.blockSize;w++)p[m+w]^=E[w];for(var w=0;w<this.blockSize;w++)E[w]=c[l+w]}},Jd}var Qd,Hb;function qB(){if(Hb)return Qd;Hb=1;var r=Zi,t=br,e=ng(),n=y_();function s(c,l){r.equal(l.length,24,"Invalid key length");var p=l.slice(0,8),m=l.slice(8,16),v=l.slice(16,24);c==="encrypt"?this.ciphers=[n.create({type:"encrypt",key:p}),n.create({type:"decrypt",key:m}),n.create({type:"encrypt",key:v})]:this.ciphers=[n.create({type:"decrypt",key:v}),n.create({type:"encrypt",key:m}),n.create({type:"decrypt",key:p})]}function i(c){e.call(this,c);var l=new s(this.type,this.options.key);this._edeState=l}return t(i,e),Qd=i,i.create=function(l){return new i(l)},i.prototype._update=function(l,p,m,v){var _=this._edeState;_.ciphers[0]._update(l,p,m,v),_.ciphers[1]._update(m,v,m,v),_.ciphers[2]._update(m,v,m,v)},i.prototype._pad=n.prototype._pad,i.prototype._unpad=n.prototype._unpad,Qd}var Vb;function FB(){return Vb||(Vb=1,ha.utils=v_(),ha.Cipher=ng(),ha.DES=y_(),ha.CBC=zB(),ha.EDE=qB()),ha}var t1,Zb;function jB(){if(Zb)return t1;Zb=1;var r=sa,t=FB(),e=br,n=sr.Buffer,s={"des-ede3-cbc":t.CBC.instantiate(t.EDE),"des-ede3":t.EDE,"des-ede-cbc":t.CBC.instantiate(t.EDE),"des-ede":t.EDE,"des-cbc":t.CBC.instantiate(t.DES),"des-ecb":t.DES};s.des=s["des-cbc"],s.des3=s["des-ede3-cbc"],t1=i,e(i,r);function i(c){r.call(this);var l=c.mode.toLowerCase(),p=s[l],m;c.decrypt?m="decrypt":m="encrypt";var v=c.key;n.isBuffer(v)||(v=n.from(v)),(l==="des-ede"||l==="des-ede-cbc")&&(v=n.concat([v,v.slice(0,8)]));var _=c.iv;n.isBuffer(_)||(_=n.from(_)),this._des=p.create({key:v,iv:_,type:m})}return i.prototype._update=function(c){return n.from(this._des.update(c))},i.prototype._final=function(){return n.from(this._des.final())},t1}var Ii={},Wh={},Gh={},Wb;function KB(){return Wb||(Wb=1,Gh.encrypt=function(r,t){return r._cipher.encryptBlock(t)},Gh.decrypt=function(r,t){return r._cipher.decryptBlock(t)}),Gh}var Yh={},e1,Gb;function Mh(){return Gb||(Gb=1,e1=function(t,e){for(var n=Math.min(t.length,e.length),s=new Zt.Buffer(n),i=0;i<n;++i)s[i]=t[i]^e[i];return s}),e1}var Yb;function $B(){if(Yb)return Yh;Yb=1;var r=Mh();return Yh.encrypt=function(t,e){var n=r(e,t._prev);return t._prev=t._cipher.encryptBlock(n),t._prev},Yh.decrypt=function(t,e){var n=t._prev;t._prev=e;var s=t._cipher.decryptBlock(e);return r(s,n)},Yh}var r1={},Xb;function HB(){if(Xb)return r1;Xb=1;var r=sr.Buffer,t=Mh();function e(n,s,i){var c=s.length,l=t(s,n._cache);return n._cache=n._cache.slice(c),n._prev=r.concat([n._prev,i?s:l]),l}return r1.encrypt=function(n,s,i){for(var c=r.allocUnsafe(0),l;s.length;)if(n._cache.length===0&&(n._cache=n._cipher.encryptBlock(n._prev),n._prev=r.allocUnsafe(0)),n._cache.length<=s.length)l=n._cache.length,c=r.concat([c,e(n,s.slice(0,l),i)]),s=s.slice(l);else{c=r.concat([c,e(n,s,i)]);break}return c},r1}var n1={},Jb;function VB(){if(Jb)return n1;Jb=1;var r=sr.Buffer;function t(e,n,s){var i=e._cipher.encryptBlock(e._prev),c=i[0]^n;return e._prev=r.concat([e._prev.slice(1),r.from([s?n:c])]),c}return n1.encrypt=function(e,n,s){for(var i=n.length,c=r.allocUnsafe(i),l=-1;++l<i;)c[l]=t(e,n[l],s);return c},n1}var i1={},Qb;function ZB(){if(Qb)return i1;Qb=1;var r=sr.Buffer;function t(n,s,i){for(var c,l=-1,p=8,m=0,v,_;++l<p;)c=n._cipher.encryptBlock(n._prev),v=s&1<<7-l?128:0,_=c[0]^v,m+=(_&128)>>l%8,n._prev=e(n._prev,i?v:_);return m}function e(n,s){var i=n.length,c=-1,l=r.allocUnsafe(n.length);for(n=r.concat([n,r.from([s])]);++c<i;)l[c]=n[c]<<1|n[c+1]>>7;return l}return i1.encrypt=function(n,s,i){for(var c=s.length,l=r.allocUnsafe(c),p=-1;++p<c;)l[p]=t(n,s[p],i);return l},i1}var o1={},tw;function WB(){if(tw)return o1;tw=1;var r=Mh();function t(e){return e._prev=e._cipher.encryptBlock(e._prev),e._prev}return o1.encrypt=function(e,n){for(;e._cache.length<n.length;)e._cache=Zt.Buffer.concat([e._cache,t(e)]);var s=e._cache.slice(0,n.length);return e._cache=e._cache.slice(n.length),r(n,s)},o1}var s1={},a1,ew;function b_(){if(ew)return a1;ew=1;function r(t){for(var e=t.length,n;e--;)if(n=t.readUInt8(e),n===255)t.writeUInt8(0,e);else{n++,t.writeUInt8(n,e);break}}return a1=r,a1}var rw;function nw(){if(rw)return s1;rw=1;var r=Mh(),t=sr.Buffer,e=b_();function n(i){var c=i._cipher.encryptBlockRaw(i._prev);return e(i._prev),c}var s=16;return s1.encrypt=function(i,c){var l=Math.ceil(c.length/s),p=i._cache.length;i._cache=t.concat([i._cache,t.allocUnsafe(l*s)]);for(var m=0;m<l;m++){var v=n(i),_=p+m*s;i._cache.writeUInt32BE(v[0],_+0),i._cache.writeUInt32BE(v[1],_+4),i._cache.writeUInt32BE(v[2],_+8),i._cache.writeUInt32BE(v[3],_+12)}var E=i._cache.slice(0,c.length);return i._cache=i._cache.slice(c.length),r(c,E)},s1}const GB={cipher:"AES",key:128,iv:16,mode:"CBC",type:"block"},YB={cipher:"AES",key:192,iv:16,mode:"CBC",type:"block"},XB={cipher:"AES",key:256,iv:16,mode:"CBC",type:"block"},w_={"aes-128-ecb":{cipher:"AES",key:128,iv:0,mode:"ECB",type:"block"},"aes-192-ecb":{cipher:"AES",key:192,iv:0,mode:"ECB",type:"block"},"aes-256-ecb":{cipher:"AES",key:256,iv:0,mode:"ECB",type:"block"},"aes-128-cbc":{cipher:"AES",key:128,iv:16,mode:"CBC",type:"block"},"aes-192-cbc":{cipher:"AES",key:192,iv:16,mode:"CBC",type:"block"},"aes-256-cbc":{cipher:"AES",key:256,iv:16,mode:"CBC",type:"block"},aes128:GB,aes192:YB,aes256:XB,"aes-128-cfb":{cipher:"AES",key:128,iv:16,mode:"CFB",type:"stream"},"aes-192-cfb":{cipher:"AES",key:192,iv:16,mode:"CFB",type:"stream"},"aes-256-cfb":{cipher:"AES",key:256,iv:16,mode:"CFB",type:"stream"},"aes-128-cfb8":{cipher:"AES",key:128,iv:16,mode:"CFB8",type:"stream"},"aes-192-cfb8":{cipher:"AES",key:192,iv:16,mode:"CFB8",type:"stream"},"aes-256-cfb8":{cipher:"AES",key:256,iv:16,mode:"CFB8",type:"stream"},"aes-128-cfb1":{cipher:"AES",key:128,iv:16,mode:"CFB1",type:"stream"},"aes-192-cfb1":{cipher:"AES",key:192,iv:16,mode:"CFB1",type:"stream"},"aes-256-cfb1":{cipher:"AES",key:256,iv:16,mode:"CFB1",type:"stream"},"aes-128-ofb":{cipher:"AES",key:128,iv:16,mode:"OFB",type:"stream"},"aes-192-ofb":{cipher:"AES",key:192,iv:16,mode:"OFB",type:"stream"},"aes-256-ofb":{cipher:"AES",key:256,iv:16,mode:"OFB",type:"stream"},"aes-128-ctr":{cipher:"AES",key:128,iv:16,mode:"CTR",type:"stream"},"aes-192-ctr":{cipher:"AES",key:192,iv:16,mode:"CTR",type:"stream"},"aes-256-ctr":{cipher:"AES",key:256,iv:16,mode:"CTR",type:"stream"},"aes-128-gcm":{cipher:"AES",key:128,iv:12,mode:"GCM",type:"auth"},"aes-192-gcm":{cipher:"AES",key:192,iv:12,mode:"GCM",type:"auth"},"aes-256-gcm":{cipher:"AES",key:256,iv:12,mode:"GCM",type:"auth"}};var u1,iw;function ig(){if(iw)return u1;iw=1;var r={ECB:KB(),CBC:$B(),CFB:HB(),CFB8:VB(),CFB1:ZB(),OFB:WB(),CTR:nw(),GCM:nw()},t=w_;for(var e in t)t[e].module=r[t[e].mode];return u1=t,u1}var f1={},ow;function ed(){if(ow)return f1;ow=1;var r=sr.Buffer;function t(l){r.isBuffer(l)||(l=r.from(l));for(var p=l.length/4|0,m=new Array(p),v=0;v<p;v++)m[v]=l.readUInt32BE(v*4);return m}function e(l){for(var p=0;p<l.length;l++)l[p]=0}function n(l,p,m,v,_){for(var E=m[0],w=m[1],x=m[2],A=m[3],B=l[0]^p[0],P=l[1]^p[1],R=l[2]^p[2],C=l[3]^p[3],O,z,H,tt,nt=4,G=1;G<_;G++)O=E[B>>>24]^w[P>>>16&255]^x[R>>>8&255]^A[C&255]^p[nt++],z=E[P>>>24]^w[R>>>16&255]^x[C>>>8&255]^A[B&255]^p[nt++],H=E[R>>>24]^w[C>>>16&255]^x[B>>>8&255]^A[P&255]^p[nt++],tt=E[C>>>24]^w[B>>>16&255]^x[P>>>8&255]^A[R&255]^p[nt++],B=O,P=z,R=H,C=tt;return O=(v[B>>>24]<<24|v[P>>>16&255]<<16|v[R>>>8&255]<<8|v[C&255])^p[nt++],z=(v[P>>>24]<<24|v[R>>>16&255]<<16|v[C>>>8&255]<<8|v[B&255])^p[nt++],H=(v[R>>>24]<<24|v[C>>>16&255]<<16|v[B>>>8&255]<<8|v[P&255])^p[nt++],tt=(v[C>>>24]<<24|v[B>>>16&255]<<16|v[P>>>8&255]<<8|v[R&255])^p[nt++],O=O>>>0,z=z>>>0,H=H>>>0,tt=tt>>>0,[O,z,H,tt]}var s=[0,1,2,4,8,16,32,64,128,27,54],i=function(){for(var l=new Array(256),p=0;p<256;p++)p<128?l[p]=p<<1:l[p]=p<<1^283;for(var m=[],v=[],_=[[],[],[],[]],E=[[],[],[],[]],w=0,x=0,A=0;A<256;++A){var B=x^x<<1^x<<2^x<<3^x<<4;B=B>>>8^B&255^99,m[w]=B,v[B]=w;var P=l[w],R=l[P],C=l[R],O=l[B]*257^B*16843008;_[0][w]=O<<24|O>>>8,_[1][w]=O<<16|O>>>16,_[2][w]=O<<8|O>>>24,_[3][w]=O,O=C*16843009^R*65537^P*257^w*16843008,E[0][B]=O<<24|O>>>8,E[1][B]=O<<16|O>>>16,E[2][B]=O<<8|O>>>24,E[3][B]=O,w===0?w=x=1:(w=P^l[l[l[C^P]]],x^=l[l[x]])}return{SBOX:m,INV_SBOX:v,SUB_MIX:_,INV_SUB_MIX:E}}();function c(l){this._key=t(l),this._reset()}return c.blockSize=4*4,c.keySize=256/8,c.prototype.blockSize=c.blockSize,c.prototype.keySize=c.keySize,c.prototype._reset=function(){for(var l=this._key,p=l.length,m=p+6,v=(m+1)*4,_=[],E=0;E<p;E++)_[E]=l[E];for(E=p;E<v;E++){var w=_[E-1];E%p===0?(w=w<<8|w>>>24,w=i.SBOX[w>>>24]<<24|i.SBOX[w>>>16&255]<<16|i.SBOX[w>>>8&255]<<8|i.SBOX[w&255],w^=s[E/p|0]<<24):p>6&&E%p===4&&(w=i.SBOX[w>>>24]<<24|i.SBOX[w>>>16&255]<<16|i.SBOX[w>>>8&255]<<8|i.SBOX[w&255]),_[E]=_[E-p]^w}for(var x=[],A=0;A<v;A++){var B=v-A,P=_[B-(A%4?0:4)];A<4||B<=4?x[A]=P:x[A]=i.INV_SUB_MIX[0][i.SBOX[P>>>24]]^i.INV_SUB_MIX[1][i.SBOX[P>>>16&255]]^i.INV_SUB_MIX[2][i.SBOX[P>>>8&255]]^i.INV_SUB_MIX[3][i.SBOX[P&255]]}this._nRounds=m,this._keySchedule=_,this._invKeySchedule=x},c.prototype.encryptBlockRaw=function(l){return l=t(l),n(l,this._keySchedule,i.SUB_MIX,i.SBOX,this._nRounds)},c.prototype.encryptBlock=function(l){var p=this.encryptBlockRaw(l),m=r.allocUnsafe(16);return m.writeUInt32BE(p[0],0),m.writeUInt32BE(p[1],4),m.writeUInt32BE(p[2],8),m.writeUInt32BE(p[3],12),m},c.prototype.decryptBlock=function(l){l=t(l);var p=l[1];l[1]=l[3],l[3]=p;var m=n(l,this._invKeySchedule,i.INV_SUB_MIX,i.INV_SBOX,this._nRounds),v=r.allocUnsafe(16);return v.writeUInt32BE(m[0],0),v.writeUInt32BE(m[3],4),v.writeUInt32BE(m[2],8),v.writeUInt32BE(m[1],12),v},c.prototype.scrub=function(){e(this._keySchedule),e(this._invKeySchedule),e(this._key)},f1.AES=c,f1}var c1,sw;function JB(){if(sw)return c1;sw=1;var r=sr.Buffer,t=r.alloc(16,0);function e(i){return[i.readUInt32BE(0),i.readUInt32BE(4),i.readUInt32BE(8),i.readUInt32BE(12)]}function n(i){var c=r.allocUnsafe(16);return c.writeUInt32BE(i[0]>>>0,0),c.writeUInt32BE(i[1]>>>0,4),c.writeUInt32BE(i[2]>>>0,8),c.writeUInt32BE(i[3]>>>0,12),c}function s(i){this.h=i,this.state=r.alloc(16,0),this.cache=r.allocUnsafe(0)}return s.prototype.ghash=function(i){for(var c=-1;++c<i.length;)this.state[c]^=i[c];this._multiply()},s.prototype._multiply=function(){for(var i=e(this.h),c=[0,0,0,0],l,p,m,v=-1;++v<128;){for(p=(this.state[~~(v/8)]&1<<7-v%8)!==0,p&&(c[0]^=i[0],c[1]^=i[1],c[2]^=i[2],c[3]^=i[3]),m=(i[3]&1)!==0,l=3;l>0;l--)i[l]=i[l]>>>1|(i[l-1]&1)<<31;i[0]=i[0]>>>1,m&&(i[0]=i[0]^225<<24)}this.state=n(c)},s.prototype.update=function(i){this.cache=r.concat([this.cache,i]);for(var c;this.cache.length>=16;)c=this.cache.slice(0,16),this.cache=this.cache.slice(16),this.ghash(c)},s.prototype.final=function(i,c){return this.cache.length&&this.ghash(r.concat([this.cache,t],16)),this.ghash(n([0,i,0,c])),this.state},c1=s,c1}var h1,aw;function x_(){if(aw)return h1;aw=1;var r=ed(),t=sr.Buffer,e=sa,n=br,s=JB(),i=Mh(),c=b_();function l(v,_){var E=0;v.length!==_.length&&E++;for(var w=Math.min(v.length,_.length),x=0;x<w;++x)E+=v[x]^_[x];return E}function p(v,_,E){if(_.length===12)return v._finID=t.concat([_,t.from([0,0,0,1])]),t.concat([_,t.from([0,0,0,2])]);var w=new s(E),x=_.length,A=x%16;w.update(_),A&&(A=16-A,w.update(t.alloc(A,0))),w.update(t.alloc(8,0));var B=x*8,P=t.alloc(8);P.writeUIntBE(B,0,8),w.update(P),v._finID=w.state;var R=t.from(v._finID);return c(R),R}function m(v,_,E,w){e.call(this);var x=t.alloc(4,0);this._cipher=new r.AES(_);var A=this._cipher.encryptBlock(x);this._ghash=new s(A),E=p(this,E,A),this._prev=t.from(E),this._cache=t.allocUnsafe(0),this._secCache=t.allocUnsafe(0),this._decrypt=w,this._alen=0,this._len=0,this._mode=v,this._authTag=null,this._called=!1}return n(m,e),m.prototype._update=function(v){if(!this._called&&this._alen){var _=16-this._alen%16;_<16&&(_=t.alloc(_,0),this._ghash.update(_))}this._called=!0;var E=this._mode.encrypt(this,v);return this._decrypt?this._ghash.update(v):this._ghash.update(E),this._len+=v.length,E},m.prototype._final=function(){if(this._decrypt&&!this._authTag)throw new Error("Unsupported state or unable to authenticate data");var v=i(this._ghash.final(this._alen*8,this._len*8),this._cipher.encryptBlock(this._finID));if(this._decrypt&&l(v,this._authTag))throw new Error("Unsupported state or unable to authenticate data");this._authTag=v,this._cipher.scrub()},m.prototype.getAuthTag=function(){if(this._decrypt||!t.isBuffer(this._authTag))throw new Error("Attempting to get auth tag in unsupported state");return this._authTag},m.prototype.setAuthTag=function(_){if(!this._decrypt)throw new Error("Attempting to set auth tag in unsupported state");this._authTag=_},m.prototype.setAAD=function(_){if(this._called)throw new Error("Attempting to set AAD in unsupported state");this._ghash.update(_),this._alen+=_.length},h1=m,h1}var l1,uw;function __(){if(uw)return l1;uw=1;var r=ed(),t=sr.Buffer,e=sa,n=br;function s(i,c,l,p){e.call(this),this._cipher=new r.AES(c),this._prev=t.from(l),this._cache=t.allocUnsafe(0),this._secCache=t.allocUnsafe(0),this._decrypt=p,this._mode=i}return n(s,e),s.prototype._update=function(i){return this._mode.encrypt(this,i,this._decrypt)},s.prototype._final=function(){this._cipher.scrub()},l1=s,l1}var d1,fw;function rd(){if(fw)return d1;fw=1;var r=sr.Buffer,t=Qv;function e(n,s,i,c){if(r.isBuffer(n)||(n=r.from(n,"binary")),s&&(r.isBuffer(s)||(s=r.from(s,"binary")),s.length!==8))throw new RangeError("salt should be Buffer with 8 byte length");for(var l=i/8,p=r.alloc(l),m=r.alloc(c||0),v=r.alloc(0);l>0||c>0;){var _=new t;_.update(v),_.update(n),s&&_.update(s),v=_.digest();var E=0;if(l>0){var w=p.length-l;E=Math.min(l,v.length),v.copy(p,w,0,E),l-=E}if(E<v.length&&c>0){var x=m.length-c,A=Math.min(c,v.length-E);v.copy(m,x,E,E+A),c-=A}}return v.fill(0),{key:p,iv:m}}return d1=e,d1}var cw;function QB(){if(cw)return Wh;cw=1;var r=ig(),t=x_(),e=sr.Buffer,n=__(),s=sa,i=ed(),c=rd(),l=br;function p(w,x,A){s.call(this),this._cache=new v,this._cipher=new i.AES(x),this._prev=e.from(A),this._mode=w,this._autopadding=!0}l(p,s),p.prototype._update=function(w){this._cache.add(w);for(var x,A,B=[];x=this._cache.get();)A=this._mode.encrypt(this,x),B.push(A);return e.concat(B)};var m=e.alloc(16,16);p.prototype._final=function(){var w=this._cache.flush();if(this._autopadding)return w=this._mode.encrypt(this,w),this._cipher.scrub(),w;if(!w.equals(m))throw this._cipher.scrub(),new Error("data not multiple of block length")},p.prototype.setAutoPadding=function(w){return this._autopadding=!!w,this};function v(){this.cache=e.allocUnsafe(0)}v.prototype.add=function(w){this.cache=e.concat([this.cache,w])},v.prototype.get=function(){if(this.cache.length>15){var w=this.cache.slice(0,16);return this.cache=this.cache.slice(16),w}return null},v.prototype.flush=function(){for(var w=16-this.cache.length,x=e.allocUnsafe(w),A=-1;++A<w;)x.writeUInt8(w,A);return e.concat([this.cache,x])};function _(w,x,A){var B=r[w.toLowerCase()];if(!B)throw new TypeError("invalid suite type");if(typeof x=="string"&&(x=e.from(x)),x.length!==B.key/8)throw new TypeError("invalid key length "+x.length);if(typeof A=="string"&&(A=e.from(A)),B.mode!=="GCM"&&A.length!==B.iv)throw new TypeError("invalid iv length "+A.length);return B.type==="stream"?new n(B.module,x,A):B.type==="auth"?new t(B.module,x,A):new p(B.module,x,A)}function E(w,x){var A=r[w.toLowerCase()];if(!A)throw new TypeError("invalid suite type");var B=c(x,!1,A.key,A.iv);return _(w,B.key,B.iv)}return Wh.createCipheriv=_,Wh.createCipher=E,Wh}var Xh={},hw;function tP(){if(hw)return Xh;hw=1;var r=x_(),t=sr.Buffer,e=ig(),n=__(),s=sa,i=ed(),c=rd(),l=br;function p(w,x,A){s.call(this),this._cache=new m,this._last=void 0,this._cipher=new i.AES(x),this._prev=t.from(A),this._mode=w,this._autopadding=!0}l(p,s),p.prototype._update=function(w){this._cache.add(w);for(var x,A,B=[];x=this._cache.get(this._autopadding);)A=this._mode.decrypt(this,x),B.push(A);return t.concat(B)},p.prototype._final=function(){var w=this._cache.flush();if(this._autopadding)return v(this._mode.decrypt(this,w));if(w)throw new Error("data not multiple of block length")},p.prototype.setAutoPadding=function(w){return this._autopadding=!!w,this};function m(){this.cache=t.allocUnsafe(0)}m.prototype.add=function(w){this.cache=t.concat([this.cache,w])},m.prototype.get=function(w){var x;if(w){if(this.cache.length>16)return x=this.cache.slice(0,16),this.cache=this.cache.slice(16),x}else if(this.cache.length>=16)return x=this.cache.slice(0,16),this.cache=this.cache.slice(16),x;return null},m.prototype.flush=function(){if(this.cache.length)return this.cache};function v(w){var x=w[15];if(x<1||x>16)throw new Error("unable to decrypt data");for(var A=-1;++A<x;)if(w[A+(16-x)]!==x)throw new Error("unable to decrypt data");if(x!==16)return w.slice(0,16-x)}function _(w,x,A){var B=e[w.toLowerCase()];if(!B)throw new TypeError("invalid suite type");if(typeof A=="string"&&(A=t.from(A)),B.mode!=="GCM"&&A.length!==B.iv)throw new TypeError("invalid iv length "+A.length);if(typeof x=="string"&&(x=t.from(x)),x.length!==B.key/8)throw new TypeError("invalid key length "+x.length);return B.type==="stream"?new n(B.module,x,A,!0):B.type==="auth"?new r(B.module,x,A,!0):new p(B.module,x,A)}function E(w,x){var A=e[w.toLowerCase()];if(!A)throw new TypeError("invalid suite type");var B=c(x,!1,A.key,A.iv);return _(w,B.key,B.iv)}return Xh.createDecipher=E,Xh.createDecipheriv=_,Xh}var lw;function og(){if(lw)return Ii;lw=1;var r=QB(),t=tP(),e=w_;function n(){return Object.keys(e)}return Ii.createCipher=Ii.Cipher=r.createCipher,Ii.createCipheriv=Ii.Cipheriv=r.createCipheriv,Ii.createDecipher=Ii.Decipher=t.createDecipher,Ii.createDecipheriv=Ii.Decipheriv=t.createDecipheriv,Ii.listCiphers=Ii.getCiphers=n,Ii}var p1={},dw;function eP(){return dw||(dw=1,function(r){r["des-ecb"]={key:8,iv:0},r["des-cbc"]=r.des={key:8,iv:8},r["des-ede3-cbc"]=r.des3={key:24,iv:8},r["des-ede3"]={key:24,iv:0},r["des-ede-cbc"]={key:16,iv:8},r["des-ede"]={key:16,iv:0}}(p1)),p1}var pw;function rP(){if(pw)return ki;pw=1;var r=jB(),t=og(),e=ig(),n=eP(),s=rd();function i(v,_){v=v.toLowerCase();var E,w;if(e[v])E=e[v].key,w=e[v].iv;else if(n[v])E=n[v].key*8,w=n[v].iv;else throw new TypeError("invalid suite type");var x=s(_,!1,E,w);return l(v,x.key,x.iv)}function c(v,_){v=v.toLowerCase();var E,w;if(e[v])E=e[v].key,w=e[v].iv;else if(n[v])E=n[v].key*8,w=n[v].iv;else throw new TypeError("invalid suite type");var x=s(_,!1,E,w);return p(v,x.key,x.iv)}function l(v,_,E){if(v=v.toLowerCase(),e[v])return t.createCipheriv(v,_,E);if(n[v])return new r({key:_,iv:E,mode:v});throw new TypeError("invalid suite type")}function p(v,_,E){if(v=v.toLowerCase(),e[v])return t.createDecipheriv(v,_,E);if(n[v])return new r({key:_,iv:E,mode:v,decrypt:!0});throw new TypeError("invalid suite type")}function m(){return Object.keys(n).concat(t.getCiphers())}return ki.createCipher=ki.Cipher=i,ki.createCipheriv=ki.Cipheriv=l,ki.createDecipher=ki.Decipher=c,ki.createDecipheriv=ki.Decipheriv=p,ki.listCiphers=ki.getCiphers=m,ki}var la={},z0={exports:{}};z0.exports;var mw;function M_(){return mw||(mw=1,function(r){(function(t,e){function n(d,o){if(!d)throw new Error(o||"Assertion failed")}function s(d,o){d.super_=o;var a=function(){};a.prototype=o.prototype,d.prototype=new a,d.prototype.constructor=d}function i(d,o,a){if(i.isBN(d))return d;this.negative=0,this.words=null,this.length=0,this.red=null,d!==null&&((o==="le"||o==="be")&&(a=o,o=10),this._init(d||0,o||10,a||"be"))}typeof t=="object"?t.exports=i:e.BN=i,i.BN=i,i.wordSize=26;var c;try{typeof window<"u"&&typeof window.Buffer<"u"?c=window.Buffer:c=yr.Buffer}catch{}i.isBN=function(o){return o instanceof i?!0:o!==null&&typeof o=="object"&&o.constructor.wordSize===i.wordSize&&Array.isArray(o.words)},i.max=function(o,a){return o.cmp(a)>0?o:a},i.min=function(o,a){return o.cmp(a)<0?o:a},i.prototype._init=function(o,a,f){if(typeof o=="number")return this._initNumber(o,a,f);if(typeof o=="object")return this._initArray(o,a,f);a==="hex"&&(a=16),n(a===(a|0)&&a>=2&&a<=36),o=o.toString().replace(/\s+/g,"");var h=0;o[0]==="-"&&(h++,this.negative=1),h<o.length&&(a===16?this._parseHex(o,h,f):(this._parseBase(o,a,h),f==="le"&&this._initArray(this.toArray(),a,f)))},i.prototype._initNumber=function(o,a,f){o<0&&(this.negative=1,o=-o),o<67108864?(this.words=[o&67108863],this.length=1):o<4503599627370496?(this.words=[o&67108863,o/67108864&67108863],this.length=2):(n(o<9007199254740992),this.words=[o&67108863,o/67108864&67108863,1],this.length=3),f==="le"&&this._initArray(this.toArray(),a,f)},i.prototype._initArray=function(o,a,f){if(n(typeof o.length=="number"),o.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(o.length/3),this.words=new Array(this.length);for(var h=0;h<this.length;h++)this.words[h]=0;var g,S,I=0;if(f==="be")for(h=o.length-1,g=0;h>=0;h-=3)S=o[h]|o[h-1]<<8|o[h-2]<<16,this.words[g]|=S<<I&67108863,this.words[g+1]=S>>>26-I&67108863,I+=24,I>=26&&(I-=26,g++);else if(f==="le")for(h=0,g=0;h<o.length;h+=3)S=o[h]|o[h+1]<<8|o[h+2]<<16,this.words[g]|=S<<I&67108863,this.words[g+1]=S>>>26-I&67108863,I+=24,I>=26&&(I-=26,g++);return this.strip()};function l(d,o){var a=d.charCodeAt(o);return a>=65&&a<=70?a-55:a>=97&&a<=102?a-87:a-48&15}function p(d,o,a){var f=l(d,a);return a-1>=o&&(f|=l(d,a-1)<<4),f}i.prototype._parseHex=function(o,a,f){this.length=Math.ceil((o.length-a)/6),this.words=new Array(this.length);for(var h=0;h<this.length;h++)this.words[h]=0;var g=0,S=0,I;if(f==="be")for(h=o.length-1;h>=a;h-=2)I=p(o,a,h)<<g,this.words[S]|=I&67108863,g>=18?(g-=18,S+=1,this.words[S]|=I>>>26):g+=8;else{var y=o.length-a;for(h=y%2===0?a+1:a;h<o.length;h+=2)I=p(o,a,h)<<g,this.words[S]|=I&67108863,g>=18?(g-=18,S+=1,this.words[S]|=I>>>26):g+=8}this.strip()};function m(d,o,a,f){for(var h=0,g=Math.min(d.length,a),S=o;S<g;S++){var I=d.charCodeAt(S)-48;h*=f,I>=49?h+=I-49+10:I>=17?h+=I-17+10:h+=I}return h}i.prototype._parseBase=function(o,a,f){this.words=[0],this.length=1;for(var h=0,g=1;g<=67108863;g*=a)h++;h--,g=g/a|0;for(var S=o.length-f,I=S%h,y=Math.min(S,S-I)+f,u=0,b=f;b<y;b+=h)u=m(o,b,b+h,a),this.imuln(g),this.words[0]+u<67108864?this.words[0]+=u:this._iaddn(u);if(I!==0){var D=1;for(u=m(o,b,o.length,a),b=0;b<I;b++)D*=a;this.imuln(D),this.words[0]+u<67108864?this.words[0]+=u:this._iaddn(u)}this.strip()},i.prototype.copy=function(o){o.words=new Array(this.length);for(var a=0;a<this.length;a++)o.words[a]=this.words[a];o.length=this.length,o.negative=this.negative,o.red=this.red},i.prototype.clone=function(){var o=new i(null);return this.copy(o),o},i.prototype._expand=function(o){for(;this.length<o;)this.words[this.length++]=0;return this},i.prototype.strip=function(){for(;this.length>1&&this.words[this.length-1]===0;)this.length--;return this._normSign()},i.prototype._normSign=function(){return this.length===1&&this.words[0]===0&&(this.negative=0),this},i.prototype.inspect=function(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"};var v=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],_=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],E=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];i.prototype.toString=function(o,a){o=o||10,a=a|0||1;var f;if(o===16||o==="hex"){f="";for(var h=0,g=0,S=0;S<this.length;S++){var I=this.words[S],y=((I<<h|g)&16777215).toString(16);g=I>>>24-h&16777215,g!==0||S!==this.length-1?f=v[6-y.length]+y+f:f=y+f,h+=2,h>=26&&(h-=26,S--)}for(g!==0&&(f=g.toString(16)+f);f.length%a!==0;)f="0"+f;return this.negative!==0&&(f="-"+f),f}if(o===(o|0)&&o>=2&&o<=36){var u=_[o],b=E[o];f="";var D=this.clone();for(D.negative=0;!D.isZero();){var Z=D.modn(b).toString(o);D=D.idivn(b),D.isZero()?f=Z+f:f=v[u-Z.length]+Z+f}for(this.isZero()&&(f="0"+f);f.length%a!==0;)f="0"+f;return this.negative!==0&&(f="-"+f),f}n(!1,"Base should be between 2 and 36")},i.prototype.toNumber=function(){var o=this.words[0];return this.length===2?o+=this.words[1]*67108864:this.length===3&&this.words[2]===1?o+=4503599627370496+this.words[1]*67108864:this.length>2&&n(!1,"Number can only safely store up to 53 bits"),this.negative!==0?-o:o},i.prototype.toJSON=function(){return this.toString(16)},i.prototype.toBuffer=function(o,a){return n(typeof c<"u"),this.toArrayLike(c,o,a)},i.prototype.toArray=function(o,a){return this.toArrayLike(Array,o,a)},i.prototype.toArrayLike=function(o,a,f){var h=this.byteLength(),g=f||Math.max(1,h);n(h<=g,"byte array longer than desired length"),n(g>0,"Requested array length <= 0"),this.strip();var S=a==="le",I=new o(g),y,u,b=this.clone();if(S){for(u=0;!b.isZero();u++)y=b.andln(255),b.iushrn(8),I[u]=y;for(;u<g;u++)I[u]=0}else{for(u=0;u<g-h;u++)I[u]=0;for(u=0;!b.isZero();u++)y=b.andln(255),b.iushrn(8),I[g-u-1]=y}return I},Math.clz32?i.prototype._countBits=function(o){return 32-Math.clz32(o)}:i.prototype._countBits=function(o){var a=o,f=0;return a>=4096&&(f+=13,a>>>=13),a>=64&&(f+=7,a>>>=7),a>=8&&(f+=4,a>>>=4),a>=2&&(f+=2,a>>>=2),f+a},i.prototype._zeroBits=function(o){if(o===0)return 26;var a=o,f=0;return a&8191||(f+=13,a>>>=13),a&127||(f+=7,a>>>=7),a&15||(f+=4,a>>>=4),a&3||(f+=2,a>>>=2),a&1||f++,f},i.prototype.bitLength=function(){var o=this.words[this.length-1],a=this._countBits(o);return(this.length-1)*26+a};function w(d){for(var o=new Array(d.bitLength()),a=0;a<o.length;a++){var f=a/26|0,h=a%26;o[a]=(d.words[f]&1<<h)>>>h}return o}i.prototype.zeroBits=function(){if(this.isZero())return 0;for(var o=0,a=0;a<this.length;a++){var f=this._zeroBits(this.words[a]);if(o+=f,f!==26)break}return o},i.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},i.prototype.toTwos=function(o){return this.negative!==0?this.abs().inotn(o).iaddn(1):this.clone()},i.prototype.fromTwos=function(o){return this.testn(o-1)?this.notn(o).iaddn(1).ineg():this.clone()},i.prototype.isNeg=function(){return this.negative!==0},i.prototype.neg=function(){return this.clone().ineg()},i.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},i.prototype.iuor=function(o){for(;this.length<o.length;)this.words[this.length++]=0;for(var a=0;a<o.length;a++)this.words[a]=this.words[a]|o.words[a];return this.strip()},i.prototype.ior=function(o){return n((this.negative|o.negative)===0),this.iuor(o)},i.prototype.or=function(o){return this.length>o.length?this.clone().ior(o):o.clone().ior(this)},i.prototype.uor=function(o){return this.length>o.length?this.clone().iuor(o):o.clone().iuor(this)},i.prototype.iuand=function(o){var a;this.length>o.length?a=o:a=this;for(var f=0;f<a.length;f++)this.words[f]=this.words[f]&o.words[f];return this.length=a.length,this.strip()},i.prototype.iand=function(o){return n((this.negative|o.negative)===0),this.iuand(o)},i.prototype.and=function(o){return this.length>o.length?this.clone().iand(o):o.clone().iand(this)},i.prototype.uand=function(o){return this.length>o.length?this.clone().iuand(o):o.clone().iuand(this)},i.prototype.iuxor=function(o){var a,f;this.length>o.length?(a=this,f=o):(a=o,f=this);for(var h=0;h<f.length;h++)this.words[h]=a.words[h]^f.words[h];if(this!==a)for(;h<a.length;h++)this.words[h]=a.words[h];return this.length=a.length,this.strip()},i.prototype.ixor=function(o){return n((this.negative|o.negative)===0),this.iuxor(o)},i.prototype.xor=function(o){return this.length>o.length?this.clone().ixor(o):o.clone().ixor(this)},i.prototype.uxor=function(o){return this.length>o.length?this.clone().iuxor(o):o.clone().iuxor(this)},i.prototype.inotn=function(o){n(typeof o=="number"&&o>=0);var a=Math.ceil(o/26)|0,f=o%26;this._expand(a),f>0&&a--;for(var h=0;h<a;h++)this.words[h]=~this.words[h]&67108863;return f>0&&(this.words[h]=~this.words[h]&67108863>>26-f),this.strip()},i.prototype.notn=function(o){return this.clone().inotn(o)},i.prototype.setn=function(o,a){n(typeof o=="number"&&o>=0);var f=o/26|0,h=o%26;return this._expand(f+1),a?this.words[f]=this.words[f]|1<<h:this.words[f]=this.words[f]&~(1<<h),this.strip()},i.prototype.iadd=function(o){var a;if(this.negative!==0&&o.negative===0)return this.negative=0,a=this.isub(o),this.negative^=1,this._normSign();if(this.negative===0&&o.negative!==0)return o.negative=0,a=this.isub(o),o.negative=1,a._normSign();var f,h;this.length>o.length?(f=this,h=o):(f=o,h=this);for(var g=0,S=0;S<h.length;S++)a=(f.words[S]|0)+(h.words[S]|0)+g,this.words[S]=a&67108863,g=a>>>26;for(;g!==0&&S<f.length;S++)a=(f.words[S]|0)+g,this.words[S]=a&67108863,g=a>>>26;if(this.length=f.length,g!==0)this.words[this.length]=g,this.length++;else if(f!==this)for(;S<f.length;S++)this.words[S]=f.words[S];return this},i.prototype.add=function(o){var a;return o.negative!==0&&this.negative===0?(o.negative=0,a=this.sub(o),o.negative^=1,a):o.negative===0&&this.negative!==0?(this.negative=0,a=o.sub(this),this.negative=1,a):this.length>o.length?this.clone().iadd(o):o.clone().iadd(this)},i.prototype.isub=function(o){if(o.negative!==0){o.negative=0;var a=this.iadd(o);return o.negative=1,a._normSign()}else if(this.negative!==0)return this.negative=0,this.iadd(o),this.negative=1,this._normSign();var f=this.cmp(o);if(f===0)return this.negative=0,this.length=1,this.words[0]=0,this;var h,g;f>0?(h=this,g=o):(h=o,g=this);for(var S=0,I=0;I<g.length;I++)a=(h.words[I]|0)-(g.words[I]|0)+S,S=a>>26,this.words[I]=a&67108863;for(;S!==0&&I<h.length;I++)a=(h.words[I]|0)+S,S=a>>26,this.words[I]=a&67108863;if(S===0&&I<h.length&&h!==this)for(;I<h.length;I++)this.words[I]=h.words[I];return this.length=Math.max(this.length,I),h!==this&&(this.negative=1),this.strip()},i.prototype.sub=function(o){return this.clone().isub(o)};function x(d,o,a){a.negative=o.negative^d.negative;var f=d.length+o.length|0;a.length=f,f=f-1|0;var h=d.words[0]|0,g=o.words[0]|0,S=h*g,I=S&67108863,y=S/67108864|0;a.words[0]=I;for(var u=1;u<f;u++){for(var b=y>>>26,D=y&67108863,Z=Math.min(u,o.length-1),F=Math.max(0,u-d.length+1);F<=Z;F++){var q=u-F|0;h=d.words[q]|0,g=o.words[F]|0,S=h*g+D,b+=S/67108864|0,D=S&67108863}a.words[u]=D|0,y=b|0}return y!==0?a.words[u]=y|0:a.length--,a.strip()}var A=function(o,a,f){var h=o.words,g=a.words,S=f.words,I=0,y,u,b,D=h[0]|0,Z=D&8191,F=D>>>13,q=h[1]|0,it=q&8191,at=q>>>13,Bt=h[2]|0,yt=Bt&8191,pt=Bt>>>13,Ft=h[3]|0,lt=Ft&8191,ct=Ft>>>13,Tt=h[4]|0,kt=Tt&8191,k=Tt>>>13,T=h[5]|0,L=T&8191,j=T>>>13,rt=h[6]|0,Q=rt&8191,ot=rt>>>13,qt=h[7]|0,It=qt&8191,xt=qt>>>13,Qt=h[8]|0,Ct=Qt&8191,Dt=Qt>>>13,Se=h[9]|0,te=Se&8191,Ut=Se>>>13,Te=g[0]|0,J=Te&8191,X=Te>>>13,st=g[1]|0,N=st&8191,$=st>>>13,gt=g[2]|0,ft=gt&8191,mt=gt>>>13,vt=g[3]|0,At=vt&8191,_t=vt>>>13,Gt=g[4]|0,Rt=Gt&8191,wt=Gt>>>13,se=g[5]|0,Lt=se&8191,Et=se>>>13,de=g[6]|0,Pt=de&8191,Mt=de>>>13,K=g[7]|0,Y=K&8191,V=K>>>13,U=g[8]|0,W=U&8191,et=U>>>13,dt=g[9]|0,ut=dt&8191,ht=dt>>>13;f.negative=o.negative^a.negative,f.length=19,y=Math.imul(Z,J),u=Math.imul(Z,X),u=u+Math.imul(F,J)|0,b=Math.imul(F,X);var zt=(I+y|0)+((u&8191)<<13)|0;I=(b+(u>>>13)|0)+(zt>>>26)|0,zt&=67108863,y=Math.imul(it,J),u=Math.imul(it,X),u=u+Math.imul(at,J)|0,b=Math.imul(at,X),y=y+Math.imul(Z,N)|0,u=u+Math.imul(Z,$)|0,u=u+Math.imul(F,N)|0,b=b+Math.imul(F,$)|0;var Wt=(I+y|0)+((u&8191)<<13)|0;I=(b+(u>>>13)|0)+(Wt>>>26)|0,Wt&=67108863,y=Math.imul(yt,J),u=Math.imul(yt,X),u=u+Math.imul(pt,J)|0,b=Math.imul(pt,X),y=y+Math.imul(it,N)|0,u=u+Math.imul(it,$)|0,u=u+Math.imul(at,N)|0,b=b+Math.imul(at,$)|0,y=y+Math.imul(Z,ft)|0,u=u+Math.imul(Z,mt)|0,u=u+Math.imul(F,ft)|0,b=b+Math.imul(F,mt)|0;var ye=(I+y|0)+((u&8191)<<13)|0;I=(b+(u>>>13)|0)+(ye>>>26)|0,ye&=67108863,y=Math.imul(lt,J),u=Math.imul(lt,X),u=u+Math.imul(ct,J)|0,b=Math.imul(ct,X),y=y+Math.imul(yt,N)|0,u=u+Math.imul(yt,$)|0,u=u+Math.imul(pt,N)|0,b=b+Math.imul(pt,$)|0,y=y+Math.imul(it,ft)|0,u=u+Math.imul(it,mt)|0,u=u+Math.imul(at,ft)|0,b=b+Math.imul(at,mt)|0,y=y+Math.imul(Z,At)|0,u=u+Math.imul(Z,_t)|0,u=u+Math.imul(F,At)|0,b=b+Math.imul(F,_t)|0;var Yt=(I+y|0)+((u&8191)<<13)|0;I=(b+(u>>>13)|0)+(Yt>>>26)|0,Yt&=67108863,y=Math.imul(kt,J),u=Math.imul(kt,X),u=u+Math.imul(k,J)|0,b=Math.imul(k,X),y=y+Math.imul(lt,N)|0,u=u+Math.imul(lt,$)|0,u=u+Math.imul(ct,N)|0,b=b+Math.imul(ct,$)|0,y=y+Math.imul(yt,ft)|0,u=u+Math.imul(yt,mt)|0,u=u+Math.imul(pt,ft)|0,b=b+Math.imul(pt,mt)|0,y=y+Math.imul(it,At)|0,u=u+Math.imul(it,_t)|0,u=u+Math.imul(at,At)|0,b=b+Math.imul(at,_t)|0,y=y+Math.imul(Z,Rt)|0,u=u+Math.imul(Z,wt)|0,u=u+Math.imul(F,Rt)|0,b=b+Math.imul(F,wt)|0;var pe=(I+y|0)+((u&8191)<<13)|0;I=(b+(u>>>13)|0)+(pe>>>26)|0,pe&=67108863,y=Math.imul(L,J),u=Math.imul(L,X),u=u+Math.imul(j,J)|0,b=Math.imul(j,X),y=y+Math.imul(kt,N)|0,u=u+Math.imul(kt,$)|0,u=u+Math.imul(k,N)|0,b=b+Math.imul(k,$)|0,y=y+Math.imul(lt,ft)|0,u=u+Math.imul(lt,mt)|0,u=u+Math.imul(ct,ft)|0,b=b+Math.imul(ct,mt)|0,y=y+Math.imul(yt,At)|0,u=u+Math.imul(yt,_t)|0,u=u+Math.imul(pt,At)|0,b=b+Math.imul(pt,_t)|0,y=y+Math.imul(it,Rt)|0,u=u+Math.imul(it,wt)|0,u=u+Math.imul(at,Rt)|0,b=b+Math.imul(at,wt)|0,y=y+Math.imul(Z,Lt)|0,u=u+Math.imul(Z,Et)|0,u=u+Math.imul(F,Lt)|0,b=b+Math.imul(F,Et)|0;var ve=(I+y|0)+((u&8191)<<13)|0;I=(b+(u>>>13)|0)+(ve>>>26)|0,ve&=67108863,y=Math.imul(Q,J),u=Math.imul(Q,X),u=u+Math.imul(ot,J)|0,b=Math.imul(ot,X),y=y+Math.imul(L,N)|0,u=u+Math.imul(L,$)|0,u=u+Math.imul(j,N)|0,b=b+Math.imul(j,$)|0,y=y+Math.imul(kt,ft)|0,u=u+Math.imul(kt,mt)|0,u=u+Math.imul(k,ft)|0,b=b+Math.imul(k,mt)|0,y=y+Math.imul(lt,At)|0,u=u+Math.imul(lt,_t)|0,u=u+Math.imul(ct,At)|0,b=b+Math.imul(ct,_t)|0,y=y+Math.imul(yt,Rt)|0,u=u+Math.imul(yt,wt)|0,u=u+Math.imul(pt,Rt)|0,b=b+Math.imul(pt,wt)|0,y=y+Math.imul(it,Lt)|0,u=u+Math.imul(it,Et)|0,u=u+Math.imul(at,Lt)|0,b=b+Math.imul(at,Et)|0,y=y+Math.imul(Z,Pt)|0,u=u+Math.imul(Z,Mt)|0,u=u+Math.imul(F,Pt)|0,b=b+Math.imul(F,Mt)|0;var ge=(I+y|0)+((u&8191)<<13)|0;I=(b+(u>>>13)|0)+(ge>>>26)|0,ge&=67108863,y=Math.imul(It,J),u=Math.imul(It,X),u=u+Math.imul(xt,J)|0,b=Math.imul(xt,X),y=y+Math.imul(Q,N)|0,u=u+Math.imul(Q,$)|0,u=u+Math.imul(ot,N)|0,b=b+Math.imul(ot,$)|0,y=y+Math.imul(L,ft)|0,u=u+Math.imul(L,mt)|0,u=u+Math.imul(j,ft)|0,b=b+Math.imul(j,mt)|0,y=y+Math.imul(kt,At)|0,u=u+Math.imul(kt,_t)|0,u=u+Math.imul(k,At)|0,b=b+Math.imul(k,_t)|0,y=y+Math.imul(lt,Rt)|0,u=u+Math.imul(lt,wt)|0,u=u+Math.imul(ct,Rt)|0,b=b+Math.imul(ct,wt)|0,y=y+Math.imul(yt,Lt)|0,u=u+Math.imul(yt,Et)|0,u=u+Math.imul(pt,Lt)|0,b=b+Math.imul(pt,Et)|0,y=y+Math.imul(it,Pt)|0,u=u+Math.imul(it,Mt)|0,u=u+Math.imul(at,Pt)|0,b=b+Math.imul(at,Mt)|0,y=y+Math.imul(Z,Y)|0,u=u+Math.imul(Z,V)|0,u=u+Math.imul(F,Y)|0,b=b+Math.imul(F,V)|0;var ie=(I+y|0)+((u&8191)<<13)|0;I=(b+(u>>>13)|0)+(ie>>>26)|0,ie&=67108863,y=Math.imul(Ct,J),u=Math.imul(Ct,X),u=u+Math.imul(Dt,J)|0,b=Math.imul(Dt,X),y=y+Math.imul(It,N)|0,u=u+Math.imul(It,$)|0,u=u+Math.imul(xt,N)|0,b=b+Math.imul(xt,$)|0,y=y+Math.imul(Q,ft)|0,u=u+Math.imul(Q,mt)|0,u=u+Math.imul(ot,ft)|0,b=b+Math.imul(ot,mt)|0,y=y+Math.imul(L,At)|0,u=u+Math.imul(L,_t)|0,u=u+Math.imul(j,At)|0,b=b+Math.imul(j,_t)|0,y=y+Math.imul(kt,Rt)|0,u=u+Math.imul(kt,wt)|0,u=u+Math.imul(k,Rt)|0,b=b+Math.imul(k,wt)|0,y=y+Math.imul(lt,Lt)|0,u=u+Math.imul(lt,Et)|0,u=u+Math.imul(ct,Lt)|0,b=b+Math.imul(ct,Et)|0,y=y+Math.imul(yt,Pt)|0,u=u+Math.imul(yt,Mt)|0,u=u+Math.imul(pt,Pt)|0,b=b+Math.imul(pt,Mt)|0,y=y+Math.imul(it,Y)|0,u=u+Math.imul(it,V)|0,u=u+Math.imul(at,Y)|0,b=b+Math.imul(at,V)|0,y=y+Math.imul(Z,W)|0,u=u+Math.imul(Z,et)|0,u=u+Math.imul(F,W)|0,b=b+Math.imul(F,et)|0;var ue=(I+y|0)+((u&8191)<<13)|0;I=(b+(u>>>13)|0)+(ue>>>26)|0,ue&=67108863,y=Math.imul(te,J),u=Math.imul(te,X),u=u+Math.imul(Ut,J)|0,b=Math.imul(Ut,X),y=y+Math.imul(Ct,N)|0,u=u+Math.imul(Ct,$)|0,u=u+Math.imul(Dt,N)|0,b=b+Math.imul(Dt,$)|0,y=y+Math.imul(It,ft)|0,u=u+Math.imul(It,mt)|0,u=u+Math.imul(xt,ft)|0,b=b+Math.imul(xt,mt)|0,y=y+Math.imul(Q,At)|0,u=u+Math.imul(Q,_t)|0,u=u+Math.imul(ot,At)|0,b=b+Math.imul(ot,_t)|0,y=y+Math.imul(L,Rt)|0,u=u+Math.imul(L,wt)|0,u=u+Math.imul(j,Rt)|0,b=b+Math.imul(j,wt)|0,y=y+Math.imul(kt,Lt)|0,u=u+Math.imul(kt,Et)|0,u=u+Math.imul(k,Lt)|0,b=b+Math.imul(k,Et)|0,y=y+Math.imul(lt,Pt)|0,u=u+Math.imul(lt,Mt)|0,u=u+Math.imul(ct,Pt)|0,b=b+Math.imul(ct,Mt)|0,y=y+Math.imul(yt,Y)|0,u=u+Math.imul(yt,V)|0,u=u+Math.imul(pt,Y)|0,b=b+Math.imul(pt,V)|0,y=y+Math.imul(it,W)|0,u=u+Math.imul(it,et)|0,u=u+Math.imul(at,W)|0,b=b+Math.imul(at,et)|0,y=y+Math.imul(Z,ut)|0,u=u+Math.imul(Z,ht)|0,u=u+Math.imul(F,ut)|0,b=b+Math.imul(F,ht)|0;var fe=(I+y|0)+((u&8191)<<13)|0;I=(b+(u>>>13)|0)+(fe>>>26)|0,fe&=67108863,y=Math.imul(te,N),u=Math.imul(te,$),u=u+Math.imul(Ut,N)|0,b=Math.imul(Ut,$),y=y+Math.imul(Ct,ft)|0,u=u+Math.imul(Ct,mt)|0,u=u+Math.imul(Dt,ft)|0,b=b+Math.imul(Dt,mt)|0,y=y+Math.imul(It,At)|0,u=u+Math.imul(It,_t)|0,u=u+Math.imul(xt,At)|0,b=b+Math.imul(xt,_t)|0,y=y+Math.imul(Q,Rt)|0,u=u+Math.imul(Q,wt)|0,u=u+Math.imul(ot,Rt)|0,b=b+Math.imul(ot,wt)|0,y=y+Math.imul(L,Lt)|0,u=u+Math.imul(L,Et)|0,u=u+Math.imul(j,Lt)|0,b=b+Math.imul(j,Et)|0,y=y+Math.imul(kt,Pt)|0,u=u+Math.imul(kt,Mt)|0,u=u+Math.imul(k,Pt)|0,b=b+Math.imul(k,Mt)|0,y=y+Math.imul(lt,Y)|0,u=u+Math.imul(lt,V)|0,u=u+Math.imul(ct,Y)|0,b=b+Math.imul(ct,V)|0,y=y+Math.imul(yt,W)|0,u=u+Math.imul(yt,et)|0,u=u+Math.imul(pt,W)|0,b=b+Math.imul(pt,et)|0,y=y+Math.imul(it,ut)|0,u=u+Math.imul(it,ht)|0,u=u+Math.imul(at,ut)|0,b=b+Math.imul(at,ht)|0;var ce=(I+y|0)+((u&8191)<<13)|0;I=(b+(u>>>13)|0)+(ce>>>26)|0,ce&=67108863,y=Math.imul(te,ft),u=Math.imul(te,mt),u=u+Math.imul(Ut,ft)|0,b=Math.imul(Ut,mt),y=y+Math.imul(Ct,At)|0,u=u+Math.imul(Ct,_t)|0,u=u+Math.imul(Dt,At)|0,b=b+Math.imul(Dt,_t)|0,y=y+Math.imul(It,Rt)|0,u=u+Math.imul(It,wt)|0,u=u+Math.imul(xt,Rt)|0,b=b+Math.imul(xt,wt)|0,y=y+Math.imul(Q,Lt)|0,u=u+Math.imul(Q,Et)|0,u=u+Math.imul(ot,Lt)|0,b=b+Math.imul(ot,Et)|0,y=y+Math.imul(L,Pt)|0,u=u+Math.imul(L,Mt)|0,u=u+Math.imul(j,Pt)|0,b=b+Math.imul(j,Mt)|0,y=y+Math.imul(kt,Y)|0,u=u+Math.imul(kt,V)|0,u=u+Math.imul(k,Y)|0,b=b+Math.imul(k,V)|0,y=y+Math.imul(lt,W)|0,u=u+Math.imul(lt,et)|0,u=u+Math.imul(ct,W)|0,b=b+Math.imul(ct,et)|0,y=y+Math.imul(yt,ut)|0,u=u+Math.imul(yt,ht)|0,u=u+Math.imul(pt,ut)|0,b=b+Math.imul(pt,ht)|0;var Kt=(I+y|0)+((u&8191)<<13)|0;I=(b+(u>>>13)|0)+(Kt>>>26)|0,Kt&=67108863,y=Math.imul(te,At),u=Math.imul(te,_t),u=u+Math.imul(Ut,At)|0,b=Math.imul(Ut,_t),y=y+Math.imul(Ct,Rt)|0,u=u+Math.imul(Ct,wt)|0,u=u+Math.imul(Dt,Rt)|0,b=b+Math.imul(Dt,wt)|0,y=y+Math.imul(It,Lt)|0,u=u+Math.imul(It,Et)|0,u=u+Math.imul(xt,Lt)|0,b=b+Math.imul(xt,Et)|0,y=y+Math.imul(Q,Pt)|0,u=u+Math.imul(Q,Mt)|0,u=u+Math.imul(ot,Pt)|0,b=b+Math.imul(ot,Mt)|0,y=y+Math.imul(L,Y)|0,u=u+Math.imul(L,V)|0,u=u+Math.imul(j,Y)|0,b=b+Math.imul(j,V)|0,y=y+Math.imul(kt,W)|0,u=u+Math.imul(kt,et)|0,u=u+Math.imul(k,W)|0,b=b+Math.imul(k,et)|0,y=y+Math.imul(lt,ut)|0,u=u+Math.imul(lt,ht)|0,u=u+Math.imul(ct,ut)|0,b=b+Math.imul(ct,ht)|0;var oe=(I+y|0)+((u&8191)<<13)|0;I=(b+(u>>>13)|0)+(oe>>>26)|0,oe&=67108863,y=Math.imul(te,Rt),u=Math.imul(te,wt),u=u+Math.imul(Ut,Rt)|0,b=Math.imul(Ut,wt),y=y+Math.imul(Ct,Lt)|0,u=u+Math.imul(Ct,Et)|0,u=u+Math.imul(Dt,Lt)|0,b=b+Math.imul(Dt,Et)|0,y=y+Math.imul(It,Pt)|0,u=u+Math.imul(It,Mt)|0,u=u+Math.imul(xt,Pt)|0,b=b+Math.imul(xt,Mt)|0,y=y+Math.imul(Q,Y)|0,u=u+Math.imul(Q,V)|0,u=u+Math.imul(ot,Y)|0,b=b+Math.imul(ot,V)|0,y=y+Math.imul(L,W)|0,u=u+Math.imul(L,et)|0,u=u+Math.imul(j,W)|0,b=b+Math.imul(j,et)|0,y=y+Math.imul(kt,ut)|0,u=u+Math.imul(kt,ht)|0,u=u+Math.imul(k,ut)|0,b=b+Math.imul(k,ht)|0;var Jt=(I+y|0)+((u&8191)<<13)|0;I=(b+(u>>>13)|0)+(Jt>>>26)|0,Jt&=67108863,y=Math.imul(te,Lt),u=Math.imul(te,Et),u=u+Math.imul(Ut,Lt)|0,b=Math.imul(Ut,Et),y=y+Math.imul(Ct,Pt)|0,u=u+Math.imul(Ct,Mt)|0,u=u+Math.imul(Dt,Pt)|0,b=b+Math.imul(Dt,Mt)|0,y=y+Math.imul(It,Y)|0,u=u+Math.imul(It,V)|0,u=u+Math.imul(xt,Y)|0,b=b+Math.imul(xt,V)|0,y=y+Math.imul(Q,W)|0,u=u+Math.imul(Q,et)|0,u=u+Math.imul(ot,W)|0,b=b+Math.imul(ot,et)|0,y=y+Math.imul(L,ut)|0,u=u+Math.imul(L,ht)|0,u=u+Math.imul(j,ut)|0,b=b+Math.imul(j,ht)|0;var le=(I+y|0)+((u&8191)<<13)|0;I=(b+(u>>>13)|0)+(le>>>26)|0,le&=67108863,y=Math.imul(te,Pt),u=Math.imul(te,Mt),u=u+Math.imul(Ut,Pt)|0,b=Math.imul(Ut,Mt),y=y+Math.imul(Ct,Y)|0,u=u+Math.imul(Ct,V)|0,u=u+Math.imul(Dt,Y)|0,b=b+Math.imul(Dt,V)|0,y=y+Math.imul(It,W)|0,u=u+Math.imul(It,et)|0,u=u+Math.imul(xt,W)|0,b=b+Math.imul(xt,et)|0,y=y+Math.imul(Q,ut)|0,u=u+Math.imul(Q,ht)|0,u=u+Math.imul(ot,ut)|0,b=b+Math.imul(ot,ht)|0;var ae=(I+y|0)+((u&8191)<<13)|0;I=(b+(u>>>13)|0)+(ae>>>26)|0,ae&=67108863,y=Math.imul(te,Y),u=Math.imul(te,V),u=u+Math.imul(Ut,Y)|0,b=Math.imul(Ut,V),y=y+Math.imul(Ct,W)|0,u=u+Math.imul(Ct,et)|0,u=u+Math.imul(Dt,W)|0,b=b+Math.imul(Dt,et)|0,y=y+Math.imul(It,ut)|0,u=u+Math.imul(It,ht)|0,u=u+Math.imul(xt,ut)|0,b=b+Math.imul(xt,ht)|0;var ne=(I+y|0)+((u&8191)<<13)|0;I=(b+(u>>>13)|0)+(ne>>>26)|0,ne&=67108863,y=Math.imul(te,W),u=Math.imul(te,et),u=u+Math.imul(Ut,W)|0,b=Math.imul(Ut,et),y=y+Math.imul(Ct,ut)|0,u=u+Math.imul(Ct,ht)|0,u=u+Math.imul(Dt,ut)|0,b=b+Math.imul(Dt,ht)|0;var Ot=(I+y|0)+((u&8191)<<13)|0;I=(b+(u>>>13)|0)+(Ot>>>26)|0,Ot&=67108863,y=Math.imul(te,ut),u=Math.imul(te,ht),u=u+Math.imul(Ut,ut)|0,b=Math.imul(Ut,ht);var Nt=(I+y|0)+((u&8191)<<13)|0;return I=(b+(u>>>13)|0)+(Nt>>>26)|0,Nt&=67108863,S[0]=zt,S[1]=Wt,S[2]=ye,S[3]=Yt,S[4]=pe,S[5]=ve,S[6]=ge,S[7]=ie,S[8]=ue,S[9]=fe,S[10]=ce,S[11]=Kt,S[12]=oe,S[13]=Jt,S[14]=le,S[15]=ae,S[16]=ne,S[17]=Ot,S[18]=Nt,I!==0&&(S[19]=I,f.length++),f};Math.imul||(A=x);function B(d,o,a){a.negative=o.negative^d.negative,a.length=d.length+o.length;for(var f=0,h=0,g=0;g<a.length-1;g++){var S=h;h=0;for(var I=f&67108863,y=Math.min(g,o.length-1),u=Math.max(0,g-d.length+1);u<=y;u++){var b=g-u,D=d.words[b]|0,Z=o.words[u]|0,F=D*Z,q=F&67108863;S=S+(F/67108864|0)|0,q=q+I|0,I=q&67108863,S=S+(q>>>26)|0,h+=S>>>26,S&=67108863}a.words[g]=I,f=S,S=h}return f!==0?a.words[g]=f:a.length--,a.strip()}function P(d,o,a){var f=new R;return f.mulp(d,o,a)}i.prototype.mulTo=function(o,a){var f,h=this.length+o.length;return this.length===10&&o.length===10?f=A(this,o,a):h<63?f=x(this,o,a):h<1024?f=B(this,o,a):f=P(this,o,a),f};function R(d,o){this.x=d,this.y=o}R.prototype.makeRBT=function(o){for(var a=new Array(o),f=i.prototype._countBits(o)-1,h=0;h<o;h++)a[h]=this.revBin(h,f,o);return a},R.prototype.revBin=function(o,a,f){if(o===0||o===f-1)return o;for(var h=0,g=0;g<a;g++)h|=(o&1)<<a-g-1,o>>=1;return h},R.prototype.permute=function(o,a,f,h,g,S){for(var I=0;I<S;I++)h[I]=a[o[I]],g[I]=f[o[I]]},R.prototype.transform=function(o,a,f,h,g,S){this.permute(S,o,a,f,h,g);for(var I=1;I<g;I<<=1)for(var y=I<<1,u=Math.cos(2*Math.PI/y),b=Math.sin(2*Math.PI/y),D=0;D<g;D+=y)for(var Z=u,F=b,q=0;q<I;q++){var it=f[D+q],at=h[D+q],Bt=f[D+q+I],yt=h[D+q+I],pt=Z*Bt-F*yt;yt=Z*yt+F*Bt,Bt=pt,f[D+q]=it+Bt,h[D+q]=at+yt,f[D+q+I]=it-Bt,h[D+q+I]=at-yt,q!==y&&(pt=u*Z-b*F,F=u*F+b*Z,Z=pt)}},R.prototype.guessLen13b=function(o,a){var f=Math.max(a,o)|1,h=f&1,g=0;for(f=f/2|0;f;f=f>>>1)g++;return 1<<g+1+h},R.prototype.conjugate=function(o,a,f){if(!(f<=1))for(var h=0;h<f/2;h++){var g=o[h];o[h]=o[f-h-1],o[f-h-1]=g,g=a[h],a[h]=-a[f-h-1],a[f-h-1]=-g}},R.prototype.normalize13b=function(o,a){for(var f=0,h=0;h<a/2;h++){var g=Math.round(o[2*h+1]/a)*8192+Math.round(o[2*h]/a)+f;o[h]=g&67108863,g<67108864?f=0:f=g/67108864|0}return o},R.prototype.convert13b=function(o,a,f,h){for(var g=0,S=0;S<a;S++)g=g+(o[S]|0),f[2*S]=g&8191,g=g>>>13,f[2*S+1]=g&8191,g=g>>>13;for(S=2*a;S<h;++S)f[S]=0;n(g===0),n((g&-8192)===0)},R.prototype.stub=function(o){for(var a=new Array(o),f=0;f<o;f++)a[f]=0;return a},R.prototype.mulp=function(o,a,f){var h=2*this.guessLen13b(o.length,a.length),g=this.makeRBT(h),S=this.stub(h),I=new Array(h),y=new Array(h),u=new Array(h),b=new Array(h),D=new Array(h),Z=new Array(h),F=f.words;F.length=h,this.convert13b(o.words,o.length,I,h),this.convert13b(a.words,a.length,b,h),this.transform(I,S,y,u,h,g),this.transform(b,S,D,Z,h,g);for(var q=0;q<h;q++){var it=y[q]*D[q]-u[q]*Z[q];u[q]=y[q]*Z[q]+u[q]*D[q],y[q]=it}return this.conjugate(y,u,h),this.transform(y,u,F,S,h,g),this.conjugate(F,S,h),this.normalize13b(F,h),f.negative=o.negative^a.negative,f.length=o.length+a.length,f.strip()},i.prototype.mul=function(o){var a=new i(null);return a.words=new Array(this.length+o.length),this.mulTo(o,a)},i.prototype.mulf=function(o){var a=new i(null);return a.words=new Array(this.length+o.length),P(this,o,a)},i.prototype.imul=function(o){return this.clone().mulTo(o,this)},i.prototype.imuln=function(o){n(typeof o=="number"),n(o<67108864);for(var a=0,f=0;f<this.length;f++){var h=(this.words[f]|0)*o,g=(h&67108863)+(a&67108863);a>>=26,a+=h/67108864|0,a+=g>>>26,this.words[f]=g&67108863}return a!==0&&(this.words[f]=a,this.length++),this},i.prototype.muln=function(o){return this.clone().imuln(o)},i.prototype.sqr=function(){return this.mul(this)},i.prototype.isqr=function(){return this.imul(this.clone())},i.prototype.pow=function(o){var a=w(o);if(a.length===0)return new i(1);for(var f=this,h=0;h<a.length&&a[h]===0;h++,f=f.sqr());if(++h<a.length)for(var g=f.sqr();h<a.length;h++,g=g.sqr())a[h]!==0&&(f=f.mul(g));return f},i.prototype.iushln=function(o){n(typeof o=="number"&&o>=0);var a=o%26,f=(o-a)/26,h=67108863>>>26-a<<26-a,g;if(a!==0){var S=0;for(g=0;g<this.length;g++){var I=this.words[g]&h,y=(this.words[g]|0)-I<<a;this.words[g]=y|S,S=I>>>26-a}S&&(this.words[g]=S,this.length++)}if(f!==0){for(g=this.length-1;g>=0;g--)this.words[g+f]=this.words[g];for(g=0;g<f;g++)this.words[g]=0;this.length+=f}return this.strip()},i.prototype.ishln=function(o){return n(this.negative===0),this.iushln(o)},i.prototype.iushrn=function(o,a,f){n(typeof o=="number"&&o>=0);var h;a?h=(a-a%26)/26:h=0;var g=o%26,S=Math.min((o-g)/26,this.length),I=67108863^67108863>>>g<<g,y=f;if(h-=S,h=Math.max(0,h),y){for(var u=0;u<S;u++)y.words[u]=this.words[u];y.length=S}if(S!==0)if(this.length>S)for(this.length-=S,u=0;u<this.length;u++)this.words[u]=this.words[u+S];else this.words[0]=0,this.length=1;var b=0;for(u=this.length-1;u>=0&&(b!==0||u>=h);u--){var D=this.words[u]|0;this.words[u]=b<<26-g|D>>>g,b=D&I}return y&&b!==0&&(y.words[y.length++]=b),this.length===0&&(this.words[0]=0,this.length=1),this.strip()},i.prototype.ishrn=function(o,a,f){return n(this.negative===0),this.iushrn(o,a,f)},i.prototype.shln=function(o){return this.clone().ishln(o)},i.prototype.ushln=function(o){return this.clone().iushln(o)},i.prototype.shrn=function(o){return this.clone().ishrn(o)},i.prototype.ushrn=function(o){return this.clone().iushrn(o)},i.prototype.testn=function(o){n(typeof o=="number"&&o>=0);var a=o%26,f=(o-a)/26,h=1<<a;if(this.length<=f)return!1;var g=this.words[f];return!!(g&h)},i.prototype.imaskn=function(o){n(typeof o=="number"&&o>=0);var a=o%26,f=(o-a)/26;if(n(this.negative===0,"imaskn works only with positive numbers"),this.length<=f)return this;if(a!==0&&f++,this.length=Math.min(f,this.length),a!==0){var h=67108863^67108863>>>a<<a;this.words[this.length-1]&=h}return this.strip()},i.prototype.maskn=function(o){return this.clone().imaskn(o)},i.prototype.iaddn=function(o){return n(typeof o=="number"),n(o<67108864),o<0?this.isubn(-o):this.negative!==0?this.length===1&&(this.words[0]|0)<o?(this.words[0]=o-(this.words[0]|0),this.negative=0,this):(this.negative=0,this.isubn(o),this.negative=1,this):this._iaddn(o)},i.prototype._iaddn=function(o){this.words[0]+=o;for(var a=0;a<this.length&&this.words[a]>=67108864;a++)this.words[a]-=67108864,a===this.length-1?this.words[a+1]=1:this.words[a+1]++;return this.length=Math.max(this.length,a+1),this},i.prototype.isubn=function(o){if(n(typeof o=="number"),n(o<67108864),o<0)return this.iaddn(-o);if(this.negative!==0)return this.negative=0,this.iaddn(o),this.negative=1,this;if(this.words[0]-=o,this.length===1&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var a=0;a<this.length&&this.words[a]<0;a++)this.words[a]+=67108864,this.words[a+1]-=1;return this.strip()},i.prototype.addn=function(o){return this.clone().iaddn(o)},i.prototype.subn=function(o){return this.clone().isubn(o)},i.prototype.iabs=function(){return this.negative=0,this},i.prototype.abs=function(){return this.clone().iabs()},i.prototype._ishlnsubmul=function(o,a,f){var h=o.length+f,g;this._expand(h);var S,I=0;for(g=0;g<o.length;g++){S=(this.words[g+f]|0)+I;var y=(o.words[g]|0)*a;S-=y&67108863,I=(S>>26)-(y/67108864|0),this.words[g+f]=S&67108863}for(;g<this.length-f;g++)S=(this.words[g+f]|0)+I,I=S>>26,this.words[g+f]=S&67108863;if(I===0)return this.strip();for(n(I===-1),I=0,g=0;g<this.length;g++)S=-(this.words[g]|0)+I,I=S>>26,this.words[g]=S&67108863;return this.negative=1,this.strip()},i.prototype._wordDiv=function(o,a){var f=this.length-o.length,h=this.clone(),g=o,S=g.words[g.length-1]|0,I=this._countBits(S);f=26-I,f!==0&&(g=g.ushln(f),h.iushln(f),S=g.words[g.length-1]|0);var y=h.length-g.length,u;if(a!=="mod"){u=new i(null),u.length=y+1,u.words=new Array(u.length);for(var b=0;b<u.length;b++)u.words[b]=0}var D=h.clone()._ishlnsubmul(g,1,y);D.negative===0&&(h=D,u&&(u.words[y]=1));for(var Z=y-1;Z>=0;Z--){var F=(h.words[g.length+Z]|0)*67108864+(h.words[g.length+Z-1]|0);for(F=Math.min(F/S|0,67108863),h._ishlnsubmul(g,F,Z);h.negative!==0;)F--,h.negative=0,h._ishlnsubmul(g,1,Z),h.isZero()||(h.negative^=1);u&&(u.words[Z]=F)}return u&&u.strip(),h.strip(),a!=="div"&&f!==0&&h.iushrn(f),{div:u||null,mod:h}},i.prototype.divmod=function(o,a,f){if(n(!o.isZero()),this.isZero())return{div:new i(0),mod:new i(0)};var h,g,S;return this.negative!==0&&o.negative===0?(S=this.neg().divmod(o,a),a!=="mod"&&(h=S.div.neg()),a!=="div"&&(g=S.mod.neg(),f&&g.negative!==0&&g.iadd(o)),{div:h,mod:g}):this.negative===0&&o.negative!==0?(S=this.divmod(o.neg(),a),a!=="mod"&&(h=S.div.neg()),{div:h,mod:S.mod}):this.negative&o.negative?(S=this.neg().divmod(o.neg(),a),a!=="div"&&(g=S.mod.neg(),f&&g.negative!==0&&g.isub(o)),{div:S.div,mod:g}):o.length>this.length||this.cmp(o)<0?{div:new i(0),mod:this}:o.length===1?a==="div"?{div:this.divn(o.words[0]),mod:null}:a==="mod"?{div:null,mod:new i(this.modn(o.words[0]))}:{div:this.divn(o.words[0]),mod:new i(this.modn(o.words[0]))}:this._wordDiv(o,a)},i.prototype.div=function(o){return this.divmod(o,"div",!1).div},i.prototype.mod=function(o){return this.divmod(o,"mod",!1).mod},i.prototype.umod=function(o){return this.divmod(o,"mod",!0).mod},i.prototype.divRound=function(o){var a=this.divmod(o);if(a.mod.isZero())return a.div;var f=a.div.negative!==0?a.mod.isub(o):a.mod,h=o.ushrn(1),g=o.andln(1),S=f.cmp(h);return S<0||g===1&&S===0?a.div:a.div.negative!==0?a.div.isubn(1):a.div.iaddn(1)},i.prototype.modn=function(o){n(o<=67108863);for(var a=(1<<26)%o,f=0,h=this.length-1;h>=0;h--)f=(a*f+(this.words[h]|0))%o;return f},i.prototype.idivn=function(o){n(o<=67108863);for(var a=0,f=this.length-1;f>=0;f--){var h=(this.words[f]|0)+a*67108864;this.words[f]=h/o|0,a=h%o}return this.strip()},i.prototype.divn=function(o){return this.clone().idivn(o)},i.prototype.egcd=function(o){n(o.negative===0),n(!o.isZero());var a=this,f=o.clone();a.negative!==0?a=a.umod(o):a=a.clone();for(var h=new i(1),g=new i(0),S=new i(0),I=new i(1),y=0;a.isEven()&&f.isEven();)a.iushrn(1),f.iushrn(1),++y;for(var u=f.clone(),b=a.clone();!a.isZero();){for(var D=0,Z=1;!(a.words[0]&Z)&&D<26;++D,Z<<=1);if(D>0)for(a.iushrn(D);D-- >0;)(h.isOdd()||g.isOdd())&&(h.iadd(u),g.isub(b)),h.iushrn(1),g.iushrn(1);for(var F=0,q=1;!(f.words[0]&q)&&F<26;++F,q<<=1);if(F>0)for(f.iushrn(F);F-- >0;)(S.isOdd()||I.isOdd())&&(S.iadd(u),I.isub(b)),S.iushrn(1),I.iushrn(1);a.cmp(f)>=0?(a.isub(f),h.isub(S),g.isub(I)):(f.isub(a),S.isub(h),I.isub(g))}return{a:S,b:I,gcd:f.iushln(y)}},i.prototype._invmp=function(o){n(o.negative===0),n(!o.isZero());var a=this,f=o.clone();a.negative!==0?a=a.umod(o):a=a.clone();for(var h=new i(1),g=new i(0),S=f.clone();a.cmpn(1)>0&&f.cmpn(1)>0;){for(var I=0,y=1;!(a.words[0]&y)&&I<26;++I,y<<=1);if(I>0)for(a.iushrn(I);I-- >0;)h.isOdd()&&h.iadd(S),h.iushrn(1);for(var u=0,b=1;!(f.words[0]&b)&&u<26;++u,b<<=1);if(u>0)for(f.iushrn(u);u-- >0;)g.isOdd()&&g.iadd(S),g.iushrn(1);a.cmp(f)>=0?(a.isub(f),h.isub(g)):(f.isub(a),g.isub(h))}var D;return a.cmpn(1)===0?D=h:D=g,D.cmpn(0)<0&&D.iadd(o),D},i.prototype.gcd=function(o){if(this.isZero())return o.abs();if(o.isZero())return this.abs();var a=this.clone(),f=o.clone();a.negative=0,f.negative=0;for(var h=0;a.isEven()&&f.isEven();h++)a.iushrn(1),f.iushrn(1);do{for(;a.isEven();)a.iushrn(1);for(;f.isEven();)f.iushrn(1);var g=a.cmp(f);if(g<0){var S=a;a=f,f=S}else if(g===0||f.cmpn(1)===0)break;a.isub(f)}while(!0);return f.iushln(h)},i.prototype.invm=function(o){return this.egcd(o).a.umod(o)},i.prototype.isEven=function(){return(this.words[0]&1)===0},i.prototype.isOdd=function(){return(this.words[0]&1)===1},i.prototype.andln=function(o){return this.words[0]&o},i.prototype.bincn=function(o){n(typeof o=="number");var a=o%26,f=(o-a)/26,h=1<<a;if(this.length<=f)return this._expand(f+1),this.words[f]|=h,this;for(var g=h,S=f;g!==0&&S<this.length;S++){var I=this.words[S]|0;I+=g,g=I>>>26,I&=67108863,this.words[S]=I}return g!==0&&(this.words[S]=g,this.length++),this},i.prototype.isZero=function(){return this.length===1&&this.words[0]===0},i.prototype.cmpn=function(o){var a=o<0;if(this.negative!==0&&!a)return-1;if(this.negative===0&&a)return 1;this.strip();var f;if(this.length>1)f=1;else{a&&(o=-o),n(o<=67108863,"Number is too big");var h=this.words[0]|0;f=h===o?0:h<o?-1:1}return this.negative!==0?-f|0:f},i.prototype.cmp=function(o){if(this.negative!==0&&o.negative===0)return-1;if(this.negative===0&&o.negative!==0)return 1;var a=this.ucmp(o);return this.negative!==0?-a|0:a},i.prototype.ucmp=function(o){if(this.length>o.length)return 1;if(this.length<o.length)return-1;for(var a=0,f=this.length-1;f>=0;f--){var h=this.words[f]|0,g=o.words[f]|0;if(h!==g){h<g?a=-1:h>g&&(a=1);break}}return a},i.prototype.gtn=function(o){return this.cmpn(o)===1},i.prototype.gt=function(o){return this.cmp(o)===1},i.prototype.gten=function(o){return this.cmpn(o)>=0},i.prototype.gte=function(o){return this.cmp(o)>=0},i.prototype.ltn=function(o){return this.cmpn(o)===-1},i.prototype.lt=function(o){return this.cmp(o)===-1},i.prototype.lten=function(o){return this.cmpn(o)<=0},i.prototype.lte=function(o){return this.cmp(o)<=0},i.prototype.eqn=function(o){return this.cmpn(o)===0},i.prototype.eq=function(o){return this.cmp(o)===0},i.red=function(o){return new G(o)},i.prototype.toRed=function(o){return n(!this.red,"Already a number in reduction context"),n(this.negative===0,"red works only with positives"),o.convertTo(this)._forceRed(o)},i.prototype.fromRed=function(){return n(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},i.prototype._forceRed=function(o){return this.red=o,this},i.prototype.forceRed=function(o){return n(!this.red,"Already a number in reduction context"),this._forceRed(o)},i.prototype.redAdd=function(o){return n(this.red,"redAdd works only with red numbers"),this.red.add(this,o)},i.prototype.redIAdd=function(o){return n(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,o)},i.prototype.redSub=function(o){return n(this.red,"redSub works only with red numbers"),this.red.sub(this,o)},i.prototype.redISub=function(o){return n(this.red,"redISub works only with red numbers"),this.red.isub(this,o)},i.prototype.redShl=function(o){return n(this.red,"redShl works only with red numbers"),this.red.shl(this,o)},i.prototype.redMul=function(o){return n(this.red,"redMul works only with red numbers"),this.red._verify2(this,o),this.red.mul(this,o)},i.prototype.redIMul=function(o){return n(this.red,"redMul works only with red numbers"),this.red._verify2(this,o),this.red.imul(this,o)},i.prototype.redSqr=function(){return n(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},i.prototype.redISqr=function(){return n(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},i.prototype.redSqrt=function(){return n(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},i.prototype.redInvm=function(){return n(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},i.prototype.redNeg=function(){return n(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},i.prototype.redPow=function(o){return n(this.red&&!o.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,o)};var C={k256:null,p224:null,p192:null,p25519:null};function O(d,o){this.name=d,this.p=new i(o,16),this.n=this.p.bitLength(),this.k=new i(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}O.prototype._tmp=function(){var o=new i(null);return o.words=new Array(Math.ceil(this.n/13)),o},O.prototype.ireduce=function(o){var a=o,f;do this.split(a,this.tmp),a=this.imulK(a),a=a.iadd(this.tmp),f=a.bitLength();while(f>this.n);var h=f<this.n?-1:a.ucmp(this.p);return h===0?(a.words[0]=0,a.length=1):h>0?a.isub(this.p):a.strip!==void 0?a.strip():a._strip(),a},O.prototype.split=function(o,a){o.iushrn(this.n,0,a)},O.prototype.imulK=function(o){return o.imul(this.k)};function z(){O.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}s(z,O),z.prototype.split=function(o,a){for(var f=4194303,h=Math.min(o.length,9),g=0;g<h;g++)a.words[g]=o.words[g];if(a.length=h,o.length<=9){o.words[0]=0,o.length=1;return}var S=o.words[9];for(a.words[a.length++]=S&f,g=10;g<o.length;g++){var I=o.words[g]|0;o.words[g-10]=(I&f)<<4|S>>>22,S=I}S>>>=22,o.words[g-10]=S,S===0&&o.length>10?o.length-=10:o.length-=9},z.prototype.imulK=function(o){o.words[o.length]=0,o.words[o.length+1]=0,o.length+=2;for(var a=0,f=0;f<o.length;f++){var h=o.words[f]|0;a+=h*977,o.words[f]=a&67108863,a=h*64+(a/67108864|0)}return o.words[o.length-1]===0&&(o.length--,o.words[o.length-1]===0&&o.length--),o};function H(){O.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}s(H,O);function tt(){O.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}s(tt,O);function nt(){O.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}s(nt,O),nt.prototype.imulK=function(o){for(var a=0,f=0;f<o.length;f++){var h=(o.words[f]|0)*19+a,g=h&67108863;h>>>=26,o.words[f]=g,a=h}return a!==0&&(o.words[o.length++]=a),o},i._prime=function(o){if(C[o])return C[o];var a;if(o==="k256")a=new z;else if(o==="p224")a=new H;else if(o==="p192")a=new tt;else if(o==="p25519")a=new nt;else throw new Error("Unknown prime "+o);return C[o]=a,a};function G(d){if(typeof d=="string"){var o=i._prime(d);this.m=o.p,this.prime=o}else n(d.gtn(1),"modulus must be greater than 1"),this.m=d,this.prime=null}G.prototype._verify1=function(o){n(o.negative===0,"red works only with positives"),n(o.red,"red works only with red numbers")},G.prototype._verify2=function(o,a){n((o.negative|a.negative)===0,"red works only with positives"),n(o.red&&o.red===a.red,"red works only with red numbers")},G.prototype.imod=function(o){return this.prime?this.prime.ireduce(o)._forceRed(this):o.umod(this.m)._forceRed(this)},G.prototype.neg=function(o){return o.isZero()?o.clone():this.m.sub(o)._forceRed(this)},G.prototype.add=function(o,a){this._verify2(o,a);var f=o.add(a);return f.cmp(this.m)>=0&&f.isub(this.m),f._forceRed(this)},G.prototype.iadd=function(o,a){this._verify2(o,a);var f=o.iadd(a);return f.cmp(this.m)>=0&&f.isub(this.m),f},G.prototype.sub=function(o,a){this._verify2(o,a);var f=o.sub(a);return f.cmpn(0)<0&&f.iadd(this.m),f._forceRed(this)},G.prototype.isub=function(o,a){this._verify2(o,a);var f=o.isub(a);return f.cmpn(0)<0&&f.iadd(this.m),f},G.prototype.shl=function(o,a){return this._verify1(o),this.imod(o.ushln(a))},G.prototype.imul=function(o,a){return this._verify2(o,a),this.imod(o.imul(a))},G.prototype.mul=function(o,a){return this._verify2(o,a),this.imod(o.mul(a))},G.prototype.isqr=function(o){return this.imul(o,o.clone())},G.prototype.sqr=function(o){return this.mul(o,o)},G.prototype.sqrt=function(o){if(o.isZero())return o.clone();var a=this.m.andln(3);if(n(a%2===1),a===3){var f=this.m.add(new i(1)).iushrn(2);return this.pow(o,f)}for(var h=this.m.subn(1),g=0;!h.isZero()&&h.andln(1)===0;)g++,h.iushrn(1);n(!h.isZero());var S=new i(1).toRed(this),I=S.redNeg(),y=this.m.subn(1).iushrn(1),u=this.m.bitLength();for(u=new i(2*u*u).toRed(this);this.pow(u,y).cmp(I)!==0;)u.redIAdd(I);for(var b=this.pow(u,h),D=this.pow(o,h.addn(1).iushrn(1)),Z=this.pow(o,h),F=g;Z.cmp(S)!==0;){for(var q=Z,it=0;q.cmp(S)!==0;it++)q=q.redSqr();n(it<F);var at=this.pow(b,new i(1).iushln(F-it-1));D=D.redMul(at),b=at.redSqr(),Z=Z.redMul(b),F=it}return D},G.prototype.invm=function(o){var a=o._invmp(this.m);return a.negative!==0?(a.negative=0,this.imod(a).redNeg()):this.imod(a)},G.prototype.pow=function(o,a){if(a.isZero())return new i(1).toRed(this);if(a.cmpn(1)===0)return o.clone();var f=4,h=new Array(1<<f);h[0]=new i(1).toRed(this),h[1]=o;for(var g=2;g<h.length;g++)h[g]=this.mul(h[g-1],o);var S=h[0],I=0,y=0,u=a.bitLength()%26;for(u===0&&(u=26),g=a.length-1;g>=0;g--){for(var b=a.words[g],D=u-1;D>=0;D--){var Z=b>>D&1;if(S!==h[0]&&(S=this.sqr(S)),Z===0&&I===0){y=0;continue}I<<=1,I|=Z,y++,!(y!==f&&(g!==0||D!==0))&&(S=this.mul(S,h[I]),y=0,I=0)}u=26}return S},G.prototype.convertTo=function(o){var a=o.umod(this.m);return a===o?a.clone():a},G.prototype.convertFrom=function(o){var a=o.clone();return a.red=null,a},i.mont=function(o){return new M(o)};function M(d){G.call(this,d),this.shift=this.m.bitLength(),this.shift%26!==0&&(this.shift+=26-this.shift%26),this.r=new i(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}s(M,G),M.prototype.convertTo=function(o){return this.imod(o.ushln(this.shift))},M.prototype.convertFrom=function(o){var a=this.imod(o.mul(this.rinv));return a.red=null,a},M.prototype.imul=function(o,a){if(o.isZero()||a.isZero())return o.words[0]=0,o.length=1,o;var f=o.imul(a),h=f.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),g=f.isub(h).iushrn(this.shift),S=g;return g.cmp(this.m)>=0?S=g.isub(this.m):g.cmpn(0)<0&&(S=g.iadd(this.m)),S._forceRed(this)},M.prototype.mul=function(o,a){if(o.isZero()||a.isZero())return new i(0)._forceRed(this);var f=o.mul(a),h=f.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),g=f.isub(h).iushrn(this.shift),S=g;return g.cmp(this.m)>=0?S=g.isub(this.m):g.cmpn(0)<0&&(S=g.iadd(this.m)),S._forceRed(this)},M.prototype.invm=function(o){var a=this.imod(o._invmp(this.m).mul(this.r2));return a._forceRed(this)}})(r,Re)}(z0)),z0.exports}var q0={exports:{}};q0.exports;var vw;function nP(){return vw||(vw=1,function(r){(function(t,e){function n(d,o){if(!d)throw new Error(o||"Assertion failed")}function s(d,o){d.super_=o;var a=function(){};a.prototype=o.prototype,d.prototype=new a,d.prototype.constructor=d}function i(d,o,a){if(i.isBN(d))return d;this.negative=0,this.words=null,this.length=0,this.red=null,d!==null&&((o==="le"||o==="be")&&(a=o,o=10),this._init(d||0,o||10,a||"be"))}typeof t=="object"?t.exports=i:e.BN=i,i.BN=i,i.wordSize=26;var c;try{typeof window<"u"&&typeof window.Buffer<"u"?c=window.Buffer:c=yr.Buffer}catch{}i.isBN=function(o){return o instanceof i?!0:o!==null&&typeof o=="object"&&o.constructor.wordSize===i.wordSize&&Array.isArray(o.words)},i.max=function(o,a){return o.cmp(a)>0?o:a},i.min=function(o,a){return o.cmp(a)<0?o:a},i.prototype._init=function(o,a,f){if(typeof o=="number")return this._initNumber(o,a,f);if(typeof o=="object")return this._initArray(o,a,f);a==="hex"&&(a=16),n(a===(a|0)&&a>=2&&a<=36),o=o.toString().replace(/\s+/g,"");var h=0;o[0]==="-"&&(h++,this.negative=1),h<o.length&&(a===16?this._parseHex(o,h,f):(this._parseBase(o,a,h),f==="le"&&this._initArray(this.toArray(),a,f)))},i.prototype._initNumber=function(o,a,f){o<0&&(this.negative=1,o=-o),o<67108864?(this.words=[o&67108863],this.length=1):o<4503599627370496?(this.words=[o&67108863,o/67108864&67108863],this.length=2):(n(o<9007199254740992),this.words=[o&67108863,o/67108864&67108863,1],this.length=3),f==="le"&&this._initArray(this.toArray(),a,f)},i.prototype._initArray=function(o,a,f){if(n(typeof o.length=="number"),o.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(o.length/3),this.words=new Array(this.length);for(var h=0;h<this.length;h++)this.words[h]=0;var g,S,I=0;if(f==="be")for(h=o.length-1,g=0;h>=0;h-=3)S=o[h]|o[h-1]<<8|o[h-2]<<16,this.words[g]|=S<<I&67108863,this.words[g+1]=S>>>26-I&67108863,I+=24,I>=26&&(I-=26,g++);else if(f==="le")for(h=0,g=0;h<o.length;h+=3)S=o[h]|o[h+1]<<8|o[h+2]<<16,this.words[g]|=S<<I&67108863,this.words[g+1]=S>>>26-I&67108863,I+=24,I>=26&&(I-=26,g++);return this.strip()};function l(d,o){var a=d.charCodeAt(o);return a>=65&&a<=70?a-55:a>=97&&a<=102?a-87:a-48&15}function p(d,o,a){var f=l(d,a);return a-1>=o&&(f|=l(d,a-1)<<4),f}i.prototype._parseHex=function(o,a,f){this.length=Math.ceil((o.length-a)/6),this.words=new Array(this.length);for(var h=0;h<this.length;h++)this.words[h]=0;var g=0,S=0,I;if(f==="be")for(h=o.length-1;h>=a;h-=2)I=p(o,a,h)<<g,this.words[S]|=I&67108863,g>=18?(g-=18,S+=1,this.words[S]|=I>>>26):g+=8;else{var y=o.length-a;for(h=y%2===0?a+1:a;h<o.length;h+=2)I=p(o,a,h)<<g,this.words[S]|=I&67108863,g>=18?(g-=18,S+=1,this.words[S]|=I>>>26):g+=8}this.strip()};function m(d,o,a,f){for(var h=0,g=Math.min(d.length,a),S=o;S<g;S++){var I=d.charCodeAt(S)-48;h*=f,I>=49?h+=I-49+10:I>=17?h+=I-17+10:h+=I}return h}i.prototype._parseBase=function(o,a,f){this.words=[0],this.length=1;for(var h=0,g=1;g<=67108863;g*=a)h++;h--,g=g/a|0;for(var S=o.length-f,I=S%h,y=Math.min(S,S-I)+f,u=0,b=f;b<y;b+=h)u=m(o,b,b+h,a),this.imuln(g),this.words[0]+u<67108864?this.words[0]+=u:this._iaddn(u);if(I!==0){var D=1;for(u=m(o,b,o.length,a),b=0;b<I;b++)D*=a;this.imuln(D),this.words[0]+u<67108864?this.words[0]+=u:this._iaddn(u)}this.strip()},i.prototype.copy=function(o){o.words=new Array(this.length);for(var a=0;a<this.length;a++)o.words[a]=this.words[a];o.length=this.length,o.negative=this.negative,o.red=this.red},i.prototype.clone=function(){var o=new i(null);return this.copy(o),o},i.prototype._expand=function(o){for(;this.length<o;)this.words[this.length++]=0;return this},i.prototype.strip=function(){for(;this.length>1&&this.words[this.length-1]===0;)this.length--;return this._normSign()},i.prototype._normSign=function(){return this.length===1&&this.words[0]===0&&(this.negative=0),this},i.prototype.inspect=function(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"};var v=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],_=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],E=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];i.prototype.toString=function(o,a){o=o||10,a=a|0||1;var f;if(o===16||o==="hex"){f="";for(var h=0,g=0,S=0;S<this.length;S++){var I=this.words[S],y=((I<<h|g)&16777215).toString(16);g=I>>>24-h&16777215,g!==0||S!==this.length-1?f=v[6-y.length]+y+f:f=y+f,h+=2,h>=26&&(h-=26,S--)}for(g!==0&&(f=g.toString(16)+f);f.length%a!==0;)f="0"+f;return this.negative!==0&&(f="-"+f),f}if(o===(o|0)&&o>=2&&o<=36){var u=_[o],b=E[o];f="";var D=this.clone();for(D.negative=0;!D.isZero();){var Z=D.modn(b).toString(o);D=D.idivn(b),D.isZero()?f=Z+f:f=v[u-Z.length]+Z+f}for(this.isZero()&&(f="0"+f);f.length%a!==0;)f="0"+f;return this.negative!==0&&(f="-"+f),f}n(!1,"Base should be between 2 and 36")},i.prototype.toNumber=function(){var o=this.words[0];return this.length===2?o+=this.words[1]*67108864:this.length===3&&this.words[2]===1?o+=4503599627370496+this.words[1]*67108864:this.length>2&&n(!1,"Number can only safely store up to 53 bits"),this.negative!==0?-o:o},i.prototype.toJSON=function(){return this.toString(16)},i.prototype.toBuffer=function(o,a){return n(typeof c<"u"),this.toArrayLike(c,o,a)},i.prototype.toArray=function(o,a){return this.toArrayLike(Array,o,a)},i.prototype.toArrayLike=function(o,a,f){var h=this.byteLength(),g=f||Math.max(1,h);n(h<=g,"byte array longer than desired length"),n(g>0,"Requested array length <= 0"),this.strip();var S=a==="le",I=new o(g),y,u,b=this.clone();if(S){for(u=0;!b.isZero();u++)y=b.andln(255),b.iushrn(8),I[u]=y;for(;u<g;u++)I[u]=0}else{for(u=0;u<g-h;u++)I[u]=0;for(u=0;!b.isZero();u++)y=b.andln(255),b.iushrn(8),I[g-u-1]=y}return I},Math.clz32?i.prototype._countBits=function(o){return 32-Math.clz32(o)}:i.prototype._countBits=function(o){var a=o,f=0;return a>=4096&&(f+=13,a>>>=13),a>=64&&(f+=7,a>>>=7),a>=8&&(f+=4,a>>>=4),a>=2&&(f+=2,a>>>=2),f+a},i.prototype._zeroBits=function(o){if(o===0)return 26;var a=o,f=0;return a&8191||(f+=13,a>>>=13),a&127||(f+=7,a>>>=7),a&15||(f+=4,a>>>=4),a&3||(f+=2,a>>>=2),a&1||f++,f},i.prototype.bitLength=function(){var o=this.words[this.length-1],a=this._countBits(o);return(this.length-1)*26+a};function w(d){for(var o=new Array(d.bitLength()),a=0;a<o.length;a++){var f=a/26|0,h=a%26;o[a]=(d.words[f]&1<<h)>>>h}return o}i.prototype.zeroBits=function(){if(this.isZero())return 0;for(var o=0,a=0;a<this.length;a++){var f=this._zeroBits(this.words[a]);if(o+=f,f!==26)break}return o},i.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},i.prototype.toTwos=function(o){return this.negative!==0?this.abs().inotn(o).iaddn(1):this.clone()},i.prototype.fromTwos=function(o){return this.testn(o-1)?this.notn(o).iaddn(1).ineg():this.clone()},i.prototype.isNeg=function(){return this.negative!==0},i.prototype.neg=function(){return this.clone().ineg()},i.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},i.prototype.iuor=function(o){for(;this.length<o.length;)this.words[this.length++]=0;for(var a=0;a<o.length;a++)this.words[a]=this.words[a]|o.words[a];return this.strip()},i.prototype.ior=function(o){return n((this.negative|o.negative)===0),this.iuor(o)},i.prototype.or=function(o){return this.length>o.length?this.clone().ior(o):o.clone().ior(this)},i.prototype.uor=function(o){return this.length>o.length?this.clone().iuor(o):o.clone().iuor(this)},i.prototype.iuand=function(o){var a;this.length>o.length?a=o:a=this;for(var f=0;f<a.length;f++)this.words[f]=this.words[f]&o.words[f];return this.length=a.length,this.strip()},i.prototype.iand=function(o){return n((this.negative|o.negative)===0),this.iuand(o)},i.prototype.and=function(o){return this.length>o.length?this.clone().iand(o):o.clone().iand(this)},i.prototype.uand=function(o){return this.length>o.length?this.clone().iuand(o):o.clone().iuand(this)},i.prototype.iuxor=function(o){var a,f;this.length>o.length?(a=this,f=o):(a=o,f=this);for(var h=0;h<f.length;h++)this.words[h]=a.words[h]^f.words[h];if(this!==a)for(;h<a.length;h++)this.words[h]=a.words[h];return this.length=a.length,this.strip()},i.prototype.ixor=function(o){return n((this.negative|o.negative)===0),this.iuxor(o)},i.prototype.xor=function(o){return this.length>o.length?this.clone().ixor(o):o.clone().ixor(this)},i.prototype.uxor=function(o){return this.length>o.length?this.clone().iuxor(o):o.clone().iuxor(this)},i.prototype.inotn=function(o){n(typeof o=="number"&&o>=0);var a=Math.ceil(o/26)|0,f=o%26;this._expand(a),f>0&&a--;for(var h=0;h<a;h++)this.words[h]=~this.words[h]&67108863;return f>0&&(this.words[h]=~this.words[h]&67108863>>26-f),this.strip()},i.prototype.notn=function(o){return this.clone().inotn(o)},i.prototype.setn=function(o,a){n(typeof o=="number"&&o>=0);var f=o/26|0,h=o%26;return this._expand(f+1),a?this.words[f]=this.words[f]|1<<h:this.words[f]=this.words[f]&~(1<<h),this.strip()},i.prototype.iadd=function(o){var a;if(this.negative!==0&&o.negative===0)return this.negative=0,a=this.isub(o),this.negative^=1,this._normSign();if(this.negative===0&&o.negative!==0)return o.negative=0,a=this.isub(o),o.negative=1,a._normSign();var f,h;this.length>o.length?(f=this,h=o):(f=o,h=this);for(var g=0,S=0;S<h.length;S++)a=(f.words[S]|0)+(h.words[S]|0)+g,this.words[S]=a&67108863,g=a>>>26;for(;g!==0&&S<f.length;S++)a=(f.words[S]|0)+g,this.words[S]=a&67108863,g=a>>>26;if(this.length=f.length,g!==0)this.words[this.length]=g,this.length++;else if(f!==this)for(;S<f.length;S++)this.words[S]=f.words[S];return this},i.prototype.add=function(o){var a;return o.negative!==0&&this.negative===0?(o.negative=0,a=this.sub(o),o.negative^=1,a):o.negative===0&&this.negative!==0?(this.negative=0,a=o.sub(this),this.negative=1,a):this.length>o.length?this.clone().iadd(o):o.clone().iadd(this)},i.prototype.isub=function(o){if(o.negative!==0){o.negative=0;var a=this.iadd(o);return o.negative=1,a._normSign()}else if(this.negative!==0)return this.negative=0,this.iadd(o),this.negative=1,this._normSign();var f=this.cmp(o);if(f===0)return this.negative=0,this.length=1,this.words[0]=0,this;var h,g;f>0?(h=this,g=o):(h=o,g=this);for(var S=0,I=0;I<g.length;I++)a=(h.words[I]|0)-(g.words[I]|0)+S,S=a>>26,this.words[I]=a&67108863;for(;S!==0&&I<h.length;I++)a=(h.words[I]|0)+S,S=a>>26,this.words[I]=a&67108863;if(S===0&&I<h.length&&h!==this)for(;I<h.length;I++)this.words[I]=h.words[I];return this.length=Math.max(this.length,I),h!==this&&(this.negative=1),this.strip()},i.prototype.sub=function(o){return this.clone().isub(o)};function x(d,o,a){a.negative=o.negative^d.negative;var f=d.length+o.length|0;a.length=f,f=f-1|0;var h=d.words[0]|0,g=o.words[0]|0,S=h*g,I=S&67108863,y=S/67108864|0;a.words[0]=I;for(var u=1;u<f;u++){for(var b=y>>>26,D=y&67108863,Z=Math.min(u,o.length-1),F=Math.max(0,u-d.length+1);F<=Z;F++){var q=u-F|0;h=d.words[q]|0,g=o.words[F]|0,S=h*g+D,b+=S/67108864|0,D=S&67108863}a.words[u]=D|0,y=b|0}return y!==0?a.words[u]=y|0:a.length--,a.strip()}var A=function(o,a,f){var h=o.words,g=a.words,S=f.words,I=0,y,u,b,D=h[0]|0,Z=D&8191,F=D>>>13,q=h[1]|0,it=q&8191,at=q>>>13,Bt=h[2]|0,yt=Bt&8191,pt=Bt>>>13,Ft=h[3]|0,lt=Ft&8191,ct=Ft>>>13,Tt=h[4]|0,kt=Tt&8191,k=Tt>>>13,T=h[5]|0,L=T&8191,j=T>>>13,rt=h[6]|0,Q=rt&8191,ot=rt>>>13,qt=h[7]|0,It=qt&8191,xt=qt>>>13,Qt=h[8]|0,Ct=Qt&8191,Dt=Qt>>>13,Se=h[9]|0,te=Se&8191,Ut=Se>>>13,Te=g[0]|0,J=Te&8191,X=Te>>>13,st=g[1]|0,N=st&8191,$=st>>>13,gt=g[2]|0,ft=gt&8191,mt=gt>>>13,vt=g[3]|0,At=vt&8191,_t=vt>>>13,Gt=g[4]|0,Rt=Gt&8191,wt=Gt>>>13,se=g[5]|0,Lt=se&8191,Et=se>>>13,de=g[6]|0,Pt=de&8191,Mt=de>>>13,K=g[7]|0,Y=K&8191,V=K>>>13,U=g[8]|0,W=U&8191,et=U>>>13,dt=g[9]|0,ut=dt&8191,ht=dt>>>13;f.negative=o.negative^a.negative,f.length=19,y=Math.imul(Z,J),u=Math.imul(Z,X),u=u+Math.imul(F,J)|0,b=Math.imul(F,X);var zt=(I+y|0)+((u&8191)<<13)|0;I=(b+(u>>>13)|0)+(zt>>>26)|0,zt&=67108863,y=Math.imul(it,J),u=Math.imul(it,X),u=u+Math.imul(at,J)|0,b=Math.imul(at,X),y=y+Math.imul(Z,N)|0,u=u+Math.imul(Z,$)|0,u=u+Math.imul(F,N)|0,b=b+Math.imul(F,$)|0;var Wt=(I+y|0)+((u&8191)<<13)|0;I=(b+(u>>>13)|0)+(Wt>>>26)|0,Wt&=67108863,y=Math.imul(yt,J),u=Math.imul(yt,X),u=u+Math.imul(pt,J)|0,b=Math.imul(pt,X),y=y+Math.imul(it,N)|0,u=u+Math.imul(it,$)|0,u=u+Math.imul(at,N)|0,b=b+Math.imul(at,$)|0,y=y+Math.imul(Z,ft)|0,u=u+Math.imul(Z,mt)|0,u=u+Math.imul(F,ft)|0,b=b+Math.imul(F,mt)|0;var ye=(I+y|0)+((u&8191)<<13)|0;I=(b+(u>>>13)|0)+(ye>>>26)|0,ye&=67108863,y=Math.imul(lt,J),u=Math.imul(lt,X),u=u+Math.imul(ct,J)|0,b=Math.imul(ct,X),y=y+Math.imul(yt,N)|0,u=u+Math.imul(yt,$)|0,u=u+Math.imul(pt,N)|0,b=b+Math.imul(pt,$)|0,y=y+Math.imul(it,ft)|0,u=u+Math.imul(it,mt)|0,u=u+Math.imul(at,ft)|0,b=b+Math.imul(at,mt)|0,y=y+Math.imul(Z,At)|0,u=u+Math.imul(Z,_t)|0,u=u+Math.imul(F,At)|0,b=b+Math.imul(F,_t)|0;var Yt=(I+y|0)+((u&8191)<<13)|0;I=(b+(u>>>13)|0)+(Yt>>>26)|0,Yt&=67108863,y=Math.imul(kt,J),u=Math.imul(kt,X),u=u+Math.imul(k,J)|0,b=Math.imul(k,X),y=y+Math.imul(lt,N)|0,u=u+Math.imul(lt,$)|0,u=u+Math.imul(ct,N)|0,b=b+Math.imul(ct,$)|0,y=y+Math.imul(yt,ft)|0,u=u+Math.imul(yt,mt)|0,u=u+Math.imul(pt,ft)|0,b=b+Math.imul(pt,mt)|0,y=y+Math.imul(it,At)|0,u=u+Math.imul(it,_t)|0,u=u+Math.imul(at,At)|0,b=b+Math.imul(at,_t)|0,y=y+Math.imul(Z,Rt)|0,u=u+Math.imul(Z,wt)|0,u=u+Math.imul(F,Rt)|0,b=b+Math.imul(F,wt)|0;var pe=(I+y|0)+((u&8191)<<13)|0;I=(b+(u>>>13)|0)+(pe>>>26)|0,pe&=67108863,y=Math.imul(L,J),u=Math.imul(L,X),u=u+Math.imul(j,J)|0,b=Math.imul(j,X),y=y+Math.imul(kt,N)|0,u=u+Math.imul(kt,$)|0,u=u+Math.imul(k,N)|0,b=b+Math.imul(k,$)|0,y=y+Math.imul(lt,ft)|0,u=u+Math.imul(lt,mt)|0,u=u+Math.imul(ct,ft)|0,b=b+Math.imul(ct,mt)|0,y=y+Math.imul(yt,At)|0,u=u+Math.imul(yt,_t)|0,u=u+Math.imul(pt,At)|0,b=b+Math.imul(pt,_t)|0,y=y+Math.imul(it,Rt)|0,u=u+Math.imul(it,wt)|0,u=u+Math.imul(at,Rt)|0,b=b+Math.imul(at,wt)|0,y=y+Math.imul(Z,Lt)|0,u=u+Math.imul(Z,Et)|0,u=u+Math.imul(F,Lt)|0,b=b+Math.imul(F,Et)|0;var ve=(I+y|0)+((u&8191)<<13)|0;I=(b+(u>>>13)|0)+(ve>>>26)|0,ve&=67108863,y=Math.imul(Q,J),u=Math.imul(Q,X),u=u+Math.imul(ot,J)|0,b=Math.imul(ot,X),y=y+Math.imul(L,N)|0,u=u+Math.imul(L,$)|0,u=u+Math.imul(j,N)|0,b=b+Math.imul(j,$)|0,y=y+Math.imul(kt,ft)|0,u=u+Math.imul(kt,mt)|0,u=u+Math.imul(k,ft)|0,b=b+Math.imul(k,mt)|0,y=y+Math.imul(lt,At)|0,u=u+Math.imul(lt,_t)|0,u=u+Math.imul(ct,At)|0,b=b+Math.imul(ct,_t)|0,y=y+Math.imul(yt,Rt)|0,u=u+Math.imul(yt,wt)|0,u=u+Math.imul(pt,Rt)|0,b=b+Math.imul(pt,wt)|0,y=y+Math.imul(it,Lt)|0,u=u+Math.imul(it,Et)|0,u=u+Math.imul(at,Lt)|0,b=b+Math.imul(at,Et)|0,y=y+Math.imul(Z,Pt)|0,u=u+Math.imul(Z,Mt)|0,u=u+Math.imul(F,Pt)|0,b=b+Math.imul(F,Mt)|0;var ge=(I+y|0)+((u&8191)<<13)|0;I=(b+(u>>>13)|0)+(ge>>>26)|0,ge&=67108863,y=Math.imul(It,J),u=Math.imul(It,X),u=u+Math.imul(xt,J)|0,b=Math.imul(xt,X),y=y+Math.imul(Q,N)|0,u=u+Math.imul(Q,$)|0,u=u+Math.imul(ot,N)|0,b=b+Math.imul(ot,$)|0,y=y+Math.imul(L,ft)|0,u=u+Math.imul(L,mt)|0,u=u+Math.imul(j,ft)|0,b=b+Math.imul(j,mt)|0,y=y+Math.imul(kt,At)|0,u=u+Math.imul(kt,_t)|0,u=u+Math.imul(k,At)|0,b=b+Math.imul(k,_t)|0,y=y+Math.imul(lt,Rt)|0,u=u+Math.imul(lt,wt)|0,u=u+Math.imul(ct,Rt)|0,b=b+Math.imul(ct,wt)|0,y=y+Math.imul(yt,Lt)|0,u=u+Math.imul(yt,Et)|0,u=u+Math.imul(pt,Lt)|0,b=b+Math.imul(pt,Et)|0,y=y+Math.imul(it,Pt)|0,u=u+Math.imul(it,Mt)|0,u=u+Math.imul(at,Pt)|0,b=b+Math.imul(at,Mt)|0,y=y+Math.imul(Z,Y)|0,u=u+Math.imul(Z,V)|0,u=u+Math.imul(F,Y)|0,b=b+Math.imul(F,V)|0;var ie=(I+y|0)+((u&8191)<<13)|0;I=(b+(u>>>13)|0)+(ie>>>26)|0,ie&=67108863,y=Math.imul(Ct,J),u=Math.imul(Ct,X),u=u+Math.imul(Dt,J)|0,b=Math.imul(Dt,X),y=y+Math.imul(It,N)|0,u=u+Math.imul(It,$)|0,u=u+Math.imul(xt,N)|0,b=b+Math.imul(xt,$)|0,y=y+Math.imul(Q,ft)|0,u=u+Math.imul(Q,mt)|0,u=u+Math.imul(ot,ft)|0,b=b+Math.imul(ot,mt)|0,y=y+Math.imul(L,At)|0,u=u+Math.imul(L,_t)|0,u=u+Math.imul(j,At)|0,b=b+Math.imul(j,_t)|0,y=y+Math.imul(kt,Rt)|0,u=u+Math.imul(kt,wt)|0,u=u+Math.imul(k,Rt)|0,b=b+Math.imul(k,wt)|0,y=y+Math.imul(lt,Lt)|0,u=u+Math.imul(lt,Et)|0,u=u+Math.imul(ct,Lt)|0,b=b+Math.imul(ct,Et)|0,y=y+Math.imul(yt,Pt)|0,u=u+Math.imul(yt,Mt)|0,u=u+Math.imul(pt,Pt)|0,b=b+Math.imul(pt,Mt)|0,y=y+Math.imul(it,Y)|0,u=u+Math.imul(it,V)|0,u=u+Math.imul(at,Y)|0,b=b+Math.imul(at,V)|0,y=y+Math.imul(Z,W)|0,u=u+Math.imul(Z,et)|0,u=u+Math.imul(F,W)|0,b=b+Math.imul(F,et)|0;var ue=(I+y|0)+((u&8191)<<13)|0;I=(b+(u>>>13)|0)+(ue>>>26)|0,ue&=67108863,y=Math.imul(te,J),u=Math.imul(te,X),u=u+Math.imul(Ut,J)|0,b=Math.imul(Ut,X),y=y+Math.imul(Ct,N)|0,u=u+Math.imul(Ct,$)|0,u=u+Math.imul(Dt,N)|0,b=b+Math.imul(Dt,$)|0,y=y+Math.imul(It,ft)|0,u=u+Math.imul(It,mt)|0,u=u+Math.imul(xt,ft)|0,b=b+Math.imul(xt,mt)|0,y=y+Math.imul(Q,At)|0,u=u+Math.imul(Q,_t)|0,u=u+Math.imul(ot,At)|0,b=b+Math.imul(ot,_t)|0,y=y+Math.imul(L,Rt)|0,u=u+Math.imul(L,wt)|0,u=u+Math.imul(j,Rt)|0,b=b+Math.imul(j,wt)|0,y=y+Math.imul(kt,Lt)|0,u=u+Math.imul(kt,Et)|0,u=u+Math.imul(k,Lt)|0,b=b+Math.imul(k,Et)|0,y=y+Math.imul(lt,Pt)|0,u=u+Math.imul(lt,Mt)|0,u=u+Math.imul(ct,Pt)|0,b=b+Math.imul(ct,Mt)|0,y=y+Math.imul(yt,Y)|0,u=u+Math.imul(yt,V)|0,u=u+Math.imul(pt,Y)|0,b=b+Math.imul(pt,V)|0,y=y+Math.imul(it,W)|0,u=u+Math.imul(it,et)|0,u=u+Math.imul(at,W)|0,b=b+Math.imul(at,et)|0,y=y+Math.imul(Z,ut)|0,u=u+Math.imul(Z,ht)|0,u=u+Math.imul(F,ut)|0,b=b+Math.imul(F,ht)|0;var fe=(I+y|0)+((u&8191)<<13)|0;I=(b+(u>>>13)|0)+(fe>>>26)|0,fe&=67108863,y=Math.imul(te,N),u=Math.imul(te,$),u=u+Math.imul(Ut,N)|0,b=Math.imul(Ut,$),y=y+Math.imul(Ct,ft)|0,u=u+Math.imul(Ct,mt)|0,u=u+Math.imul(Dt,ft)|0,b=b+Math.imul(Dt,mt)|0,y=y+Math.imul(It,At)|0,u=u+Math.imul(It,_t)|0,u=u+Math.imul(xt,At)|0,b=b+Math.imul(xt,_t)|0,y=y+Math.imul(Q,Rt)|0,u=u+Math.imul(Q,wt)|0,u=u+Math.imul(ot,Rt)|0,b=b+Math.imul(ot,wt)|0,y=y+Math.imul(L,Lt)|0,u=u+Math.imul(L,Et)|0,u=u+Math.imul(j,Lt)|0,b=b+Math.imul(j,Et)|0,y=y+Math.imul(kt,Pt)|0,u=u+Math.imul(kt,Mt)|0,u=u+Math.imul(k,Pt)|0,b=b+Math.imul(k,Mt)|0,y=y+Math.imul(lt,Y)|0,u=u+Math.imul(lt,V)|0,u=u+Math.imul(ct,Y)|0,b=b+Math.imul(ct,V)|0,y=y+Math.imul(yt,W)|0,u=u+Math.imul(yt,et)|0,u=u+Math.imul(pt,W)|0,b=b+Math.imul(pt,et)|0,y=y+Math.imul(it,ut)|0,u=u+Math.imul(it,ht)|0,u=u+Math.imul(at,ut)|0,b=b+Math.imul(at,ht)|0;var ce=(I+y|0)+((u&8191)<<13)|0;I=(b+(u>>>13)|0)+(ce>>>26)|0,ce&=67108863,y=Math.imul(te,ft),u=Math.imul(te,mt),u=u+Math.imul(Ut,ft)|0,b=Math.imul(Ut,mt),y=y+Math.imul(Ct,At)|0,u=u+Math.imul(Ct,_t)|0,u=u+Math.imul(Dt,At)|0,b=b+Math.imul(Dt,_t)|0,y=y+Math.imul(It,Rt)|0,u=u+Math.imul(It,wt)|0,u=u+Math.imul(xt,Rt)|0,b=b+Math.imul(xt,wt)|0,y=y+Math.imul(Q,Lt)|0,u=u+Math.imul(Q,Et)|0,u=u+Math.imul(ot,Lt)|0,b=b+Math.imul(ot,Et)|0,y=y+Math.imul(L,Pt)|0,u=u+Math.imul(L,Mt)|0,u=u+Math.imul(j,Pt)|0,b=b+Math.imul(j,Mt)|0,y=y+Math.imul(kt,Y)|0,u=u+Math.imul(kt,V)|0,u=u+Math.imul(k,Y)|0,b=b+Math.imul(k,V)|0,y=y+Math.imul(lt,W)|0,u=u+Math.imul(lt,et)|0,u=u+Math.imul(ct,W)|0,b=b+Math.imul(ct,et)|0,y=y+Math.imul(yt,ut)|0,u=u+Math.imul(yt,ht)|0,u=u+Math.imul(pt,ut)|0,b=b+Math.imul(pt,ht)|0;var Kt=(I+y|0)+((u&8191)<<13)|0;I=(b+(u>>>13)|0)+(Kt>>>26)|0,Kt&=67108863,y=Math.imul(te,At),u=Math.imul(te,_t),u=u+Math.imul(Ut,At)|0,b=Math.imul(Ut,_t),y=y+Math.imul(Ct,Rt)|0,u=u+Math.imul(Ct,wt)|0,u=u+Math.imul(Dt,Rt)|0,b=b+Math.imul(Dt,wt)|0,y=y+Math.imul(It,Lt)|0,u=u+Math.imul(It,Et)|0,u=u+Math.imul(xt,Lt)|0,b=b+Math.imul(xt,Et)|0,y=y+Math.imul(Q,Pt)|0,u=u+Math.imul(Q,Mt)|0,u=u+Math.imul(ot,Pt)|0,b=b+Math.imul(ot,Mt)|0,y=y+Math.imul(L,Y)|0,u=u+Math.imul(L,V)|0,u=u+Math.imul(j,Y)|0,b=b+Math.imul(j,V)|0,y=y+Math.imul(kt,W)|0,u=u+Math.imul(kt,et)|0,u=u+Math.imul(k,W)|0,b=b+Math.imul(k,et)|0,y=y+Math.imul(lt,ut)|0,u=u+Math.imul(lt,ht)|0,u=u+Math.imul(ct,ut)|0,b=b+Math.imul(ct,ht)|0;var oe=(I+y|0)+((u&8191)<<13)|0;I=(b+(u>>>13)|0)+(oe>>>26)|0,oe&=67108863,y=Math.imul(te,Rt),u=Math.imul(te,wt),u=u+Math.imul(Ut,Rt)|0,b=Math.imul(Ut,wt),y=y+Math.imul(Ct,Lt)|0,u=u+Math.imul(Ct,Et)|0,u=u+Math.imul(Dt,Lt)|0,b=b+Math.imul(Dt,Et)|0,y=y+Math.imul(It,Pt)|0,u=u+Math.imul(It,Mt)|0,u=u+Math.imul(xt,Pt)|0,b=b+Math.imul(xt,Mt)|0,y=y+Math.imul(Q,Y)|0,u=u+Math.imul(Q,V)|0,u=u+Math.imul(ot,Y)|0,b=b+Math.imul(ot,V)|0,y=y+Math.imul(L,W)|0,u=u+Math.imul(L,et)|0,u=u+Math.imul(j,W)|0,b=b+Math.imul(j,et)|0,y=y+Math.imul(kt,ut)|0,u=u+Math.imul(kt,ht)|0,u=u+Math.imul(k,ut)|0,b=b+Math.imul(k,ht)|0;var Jt=(I+y|0)+((u&8191)<<13)|0;I=(b+(u>>>13)|0)+(Jt>>>26)|0,Jt&=67108863,y=Math.imul(te,Lt),u=Math.imul(te,Et),u=u+Math.imul(Ut,Lt)|0,b=Math.imul(Ut,Et),y=y+Math.imul(Ct,Pt)|0,u=u+Math.imul(Ct,Mt)|0,u=u+Math.imul(Dt,Pt)|0,b=b+Math.imul(Dt,Mt)|0,y=y+Math.imul(It,Y)|0,u=u+Math.imul(It,V)|0,u=u+Math.imul(xt,Y)|0,b=b+Math.imul(xt,V)|0,y=y+Math.imul(Q,W)|0,u=u+Math.imul(Q,et)|0,u=u+Math.imul(ot,W)|0,b=b+Math.imul(ot,et)|0,y=y+Math.imul(L,ut)|0,u=u+Math.imul(L,ht)|0,u=u+Math.imul(j,ut)|0,b=b+Math.imul(j,ht)|0;var le=(I+y|0)+((u&8191)<<13)|0;I=(b+(u>>>13)|0)+(le>>>26)|0,le&=67108863,y=Math.imul(te,Pt),u=Math.imul(te,Mt),u=u+Math.imul(Ut,Pt)|0,b=Math.imul(Ut,Mt),y=y+Math.imul(Ct,Y)|0,u=u+Math.imul(Ct,V)|0,u=u+Math.imul(Dt,Y)|0,b=b+Math.imul(Dt,V)|0,y=y+Math.imul(It,W)|0,u=u+Math.imul(It,et)|0,u=u+Math.imul(xt,W)|0,b=b+Math.imul(xt,et)|0,y=y+Math.imul(Q,ut)|0,u=u+Math.imul(Q,ht)|0,u=u+Math.imul(ot,ut)|0,b=b+Math.imul(ot,ht)|0;var ae=(I+y|0)+((u&8191)<<13)|0;I=(b+(u>>>13)|0)+(ae>>>26)|0,ae&=67108863,y=Math.imul(te,Y),u=Math.imul(te,V),u=u+Math.imul(Ut,Y)|0,b=Math.imul(Ut,V),y=y+Math.imul(Ct,W)|0,u=u+Math.imul(Ct,et)|0,u=u+Math.imul(Dt,W)|0,b=b+Math.imul(Dt,et)|0,y=y+Math.imul(It,ut)|0,u=u+Math.imul(It,ht)|0,u=u+Math.imul(xt,ut)|0,b=b+Math.imul(xt,ht)|0;var ne=(I+y|0)+((u&8191)<<13)|0;I=(b+(u>>>13)|0)+(ne>>>26)|0,ne&=67108863,y=Math.imul(te,W),u=Math.imul(te,et),u=u+Math.imul(Ut,W)|0,b=Math.imul(Ut,et),y=y+Math.imul(Ct,ut)|0,u=u+Math.imul(Ct,ht)|0,u=u+Math.imul(Dt,ut)|0,b=b+Math.imul(Dt,ht)|0;var Ot=(I+y|0)+((u&8191)<<13)|0;I=(b+(u>>>13)|0)+(Ot>>>26)|0,Ot&=67108863,y=Math.imul(te,ut),u=Math.imul(te,ht),u=u+Math.imul(Ut,ut)|0,b=Math.imul(Ut,ht);var Nt=(I+y|0)+((u&8191)<<13)|0;return I=(b+(u>>>13)|0)+(Nt>>>26)|0,Nt&=67108863,S[0]=zt,S[1]=Wt,S[2]=ye,S[3]=Yt,S[4]=pe,S[5]=ve,S[6]=ge,S[7]=ie,S[8]=ue,S[9]=fe,S[10]=ce,S[11]=Kt,S[12]=oe,S[13]=Jt,S[14]=le,S[15]=ae,S[16]=ne,S[17]=Ot,S[18]=Nt,I!==0&&(S[19]=I,f.length++),f};Math.imul||(A=x);function B(d,o,a){a.negative=o.negative^d.negative,a.length=d.length+o.length;for(var f=0,h=0,g=0;g<a.length-1;g++){var S=h;h=0;for(var I=f&67108863,y=Math.min(g,o.length-1),u=Math.max(0,g-d.length+1);u<=y;u++){var b=g-u,D=d.words[b]|0,Z=o.words[u]|0,F=D*Z,q=F&67108863;S=S+(F/67108864|0)|0,q=q+I|0,I=q&67108863,S=S+(q>>>26)|0,h+=S>>>26,S&=67108863}a.words[g]=I,f=S,S=h}return f!==0?a.words[g]=f:a.length--,a.strip()}function P(d,o,a){var f=new R;return f.mulp(d,o,a)}i.prototype.mulTo=function(o,a){var f,h=this.length+o.length;return this.length===10&&o.length===10?f=A(this,o,a):h<63?f=x(this,o,a):h<1024?f=B(this,o,a):f=P(this,o,a),f};function R(d,o){this.x=d,this.y=o}R.prototype.makeRBT=function(o){for(var a=new Array(o),f=i.prototype._countBits(o)-1,h=0;h<o;h++)a[h]=this.revBin(h,f,o);return a},R.prototype.revBin=function(o,a,f){if(o===0||o===f-1)return o;for(var h=0,g=0;g<a;g++)h|=(o&1)<<a-g-1,o>>=1;return h},R.prototype.permute=function(o,a,f,h,g,S){for(var I=0;I<S;I++)h[I]=a[o[I]],g[I]=f[o[I]]},R.prototype.transform=function(o,a,f,h,g,S){this.permute(S,o,a,f,h,g);for(var I=1;I<g;I<<=1)for(var y=I<<1,u=Math.cos(2*Math.PI/y),b=Math.sin(2*Math.PI/y),D=0;D<g;D+=y)for(var Z=u,F=b,q=0;q<I;q++){var it=f[D+q],at=h[D+q],Bt=f[D+q+I],yt=h[D+q+I],pt=Z*Bt-F*yt;yt=Z*yt+F*Bt,Bt=pt,f[D+q]=it+Bt,h[D+q]=at+yt,f[D+q+I]=it-Bt,h[D+q+I]=at-yt,q!==y&&(pt=u*Z-b*F,F=u*F+b*Z,Z=pt)}},R.prototype.guessLen13b=function(o,a){var f=Math.max(a,o)|1,h=f&1,g=0;for(f=f/2|0;f;f=f>>>1)g++;return 1<<g+1+h},R.prototype.conjugate=function(o,a,f){if(!(f<=1))for(var h=0;h<f/2;h++){var g=o[h];o[h]=o[f-h-1],o[f-h-1]=g,g=a[h],a[h]=-a[f-h-1],a[f-h-1]=-g}},R.prototype.normalize13b=function(o,a){for(var f=0,h=0;h<a/2;h++){var g=Math.round(o[2*h+1]/a)*8192+Math.round(o[2*h]/a)+f;o[h]=g&67108863,g<67108864?f=0:f=g/67108864|0}return o},R.prototype.convert13b=function(o,a,f,h){for(var g=0,S=0;S<a;S++)g=g+(o[S]|0),f[2*S]=g&8191,g=g>>>13,f[2*S+1]=g&8191,g=g>>>13;for(S=2*a;S<h;++S)f[S]=0;n(g===0),n((g&-8192)===0)},R.prototype.stub=function(o){for(var a=new Array(o),f=0;f<o;f++)a[f]=0;return a},R.prototype.mulp=function(o,a,f){var h=2*this.guessLen13b(o.length,a.length),g=this.makeRBT(h),S=this.stub(h),I=new Array(h),y=new Array(h),u=new Array(h),b=new Array(h),D=new Array(h),Z=new Array(h),F=f.words;F.length=h,this.convert13b(o.words,o.length,I,h),this.convert13b(a.words,a.length,b,h),this.transform(I,S,y,u,h,g),this.transform(b,S,D,Z,h,g);for(var q=0;q<h;q++){var it=y[q]*D[q]-u[q]*Z[q];u[q]=y[q]*Z[q]+u[q]*D[q],y[q]=it}return this.conjugate(y,u,h),this.transform(y,u,F,S,h,g),this.conjugate(F,S,h),this.normalize13b(F,h),f.negative=o.negative^a.negative,f.length=o.length+a.length,f.strip()},i.prototype.mul=function(o){var a=new i(null);return a.words=new Array(this.length+o.length),this.mulTo(o,a)},i.prototype.mulf=function(o){var a=new i(null);return a.words=new Array(this.length+o.length),P(this,o,a)},i.prototype.imul=function(o){return this.clone().mulTo(o,this)},i.prototype.imuln=function(o){n(typeof o=="number"),n(o<67108864);for(var a=0,f=0;f<this.length;f++){var h=(this.words[f]|0)*o,g=(h&67108863)+(a&67108863);a>>=26,a+=h/67108864|0,a+=g>>>26,this.words[f]=g&67108863}return a!==0&&(this.words[f]=a,this.length++),this},i.prototype.muln=function(o){return this.clone().imuln(o)},i.prototype.sqr=function(){return this.mul(this)},i.prototype.isqr=function(){return this.imul(this.clone())},i.prototype.pow=function(o){var a=w(o);if(a.length===0)return new i(1);for(var f=this,h=0;h<a.length&&a[h]===0;h++,f=f.sqr());if(++h<a.length)for(var g=f.sqr();h<a.length;h++,g=g.sqr())a[h]!==0&&(f=f.mul(g));return f},i.prototype.iushln=function(o){n(typeof o=="number"&&o>=0);var a=o%26,f=(o-a)/26,h=67108863>>>26-a<<26-a,g;if(a!==0){var S=0;for(g=0;g<this.length;g++){var I=this.words[g]&h,y=(this.words[g]|0)-I<<a;this.words[g]=y|S,S=I>>>26-a}S&&(this.words[g]=S,this.length++)}if(f!==0){for(g=this.length-1;g>=0;g--)this.words[g+f]=this.words[g];for(g=0;g<f;g++)this.words[g]=0;this.length+=f}return this.strip()},i.prototype.ishln=function(o){return n(this.negative===0),this.iushln(o)},i.prototype.iushrn=function(o,a,f){n(typeof o=="number"&&o>=0);var h;a?h=(a-a%26)/26:h=0;var g=o%26,S=Math.min((o-g)/26,this.length),I=67108863^67108863>>>g<<g,y=f;if(h-=S,h=Math.max(0,h),y){for(var u=0;u<S;u++)y.words[u]=this.words[u];y.length=S}if(S!==0)if(this.length>S)for(this.length-=S,u=0;u<this.length;u++)this.words[u]=this.words[u+S];else this.words[0]=0,this.length=1;var b=0;for(u=this.length-1;u>=0&&(b!==0||u>=h);u--){var D=this.words[u]|0;this.words[u]=b<<26-g|D>>>g,b=D&I}return y&&b!==0&&(y.words[y.length++]=b),this.length===0&&(this.words[0]=0,this.length=1),this.strip()},i.prototype.ishrn=function(o,a,f){return n(this.negative===0),this.iushrn(o,a,f)},i.prototype.shln=function(o){return this.clone().ishln(o)},i.prototype.ushln=function(o){return this.clone().iushln(o)},i.prototype.shrn=function(o){return this.clone().ishrn(o)},i.prototype.ushrn=function(o){return this.clone().iushrn(o)},i.prototype.testn=function(o){n(typeof o=="number"&&o>=0);var a=o%26,f=(o-a)/26,h=1<<a;if(this.length<=f)return!1;var g=this.words[f];return!!(g&h)},i.prototype.imaskn=function(o){n(typeof o=="number"&&o>=0);var a=o%26,f=(o-a)/26;if(n(this.negative===0,"imaskn works only with positive numbers"),this.length<=f)return this;if(a!==0&&f++,this.length=Math.min(f,this.length),a!==0){var h=67108863^67108863>>>a<<a;this.words[this.length-1]&=h}return this.strip()},i.prototype.maskn=function(o){return this.clone().imaskn(o)},i.prototype.iaddn=function(o){return n(typeof o=="number"),n(o<67108864),o<0?this.isubn(-o):this.negative!==0?this.length===1&&(this.words[0]|0)<o?(this.words[0]=o-(this.words[0]|0),this.negative=0,this):(this.negative=0,this.isubn(o),this.negative=1,this):this._iaddn(o)},i.prototype._iaddn=function(o){this.words[0]+=o;for(var a=0;a<this.length&&this.words[a]>=67108864;a++)this.words[a]-=67108864,a===this.length-1?this.words[a+1]=1:this.words[a+1]++;return this.length=Math.max(this.length,a+1),this},i.prototype.isubn=function(o){if(n(typeof o=="number"),n(o<67108864),o<0)return this.iaddn(-o);if(this.negative!==0)return this.negative=0,this.iaddn(o),this.negative=1,this;if(this.words[0]-=o,this.length===1&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var a=0;a<this.length&&this.words[a]<0;a++)this.words[a]+=67108864,this.words[a+1]-=1;return this.strip()},i.prototype.addn=function(o){return this.clone().iaddn(o)},i.prototype.subn=function(o){return this.clone().isubn(o)},i.prototype.iabs=function(){return this.negative=0,this},i.prototype.abs=function(){return this.clone().iabs()},i.prototype._ishlnsubmul=function(o,a,f){var h=o.length+f,g;this._expand(h);var S,I=0;for(g=0;g<o.length;g++){S=(this.words[g+f]|0)+I;var y=(o.words[g]|0)*a;S-=y&67108863,I=(S>>26)-(y/67108864|0),this.words[g+f]=S&67108863}for(;g<this.length-f;g++)S=(this.words[g+f]|0)+I,I=S>>26,this.words[g+f]=S&67108863;if(I===0)return this.strip();for(n(I===-1),I=0,g=0;g<this.length;g++)S=-(this.words[g]|0)+I,I=S>>26,this.words[g]=S&67108863;return this.negative=1,this.strip()},i.prototype._wordDiv=function(o,a){var f=this.length-o.length,h=this.clone(),g=o,S=g.words[g.length-1]|0,I=this._countBits(S);f=26-I,f!==0&&(g=g.ushln(f),h.iushln(f),S=g.words[g.length-1]|0);var y=h.length-g.length,u;if(a!=="mod"){u=new i(null),u.length=y+1,u.words=new Array(u.length);for(var b=0;b<u.length;b++)u.words[b]=0}var D=h.clone()._ishlnsubmul(g,1,y);D.negative===0&&(h=D,u&&(u.words[y]=1));for(var Z=y-1;Z>=0;Z--){var F=(h.words[g.length+Z]|0)*67108864+(h.words[g.length+Z-1]|0);for(F=Math.min(F/S|0,67108863),h._ishlnsubmul(g,F,Z);h.negative!==0;)F--,h.negative=0,h._ishlnsubmul(g,1,Z),h.isZero()||(h.negative^=1);u&&(u.words[Z]=F)}return u&&u.strip(),h.strip(),a!=="div"&&f!==0&&h.iushrn(f),{div:u||null,mod:h}},i.prototype.divmod=function(o,a,f){if(n(!o.isZero()),this.isZero())return{div:new i(0),mod:new i(0)};var h,g,S;return this.negative!==0&&o.negative===0?(S=this.neg().divmod(o,a),a!=="mod"&&(h=S.div.neg()),a!=="div"&&(g=S.mod.neg(),f&&g.negative!==0&&g.iadd(o)),{div:h,mod:g}):this.negative===0&&o.negative!==0?(S=this.divmod(o.neg(),a),a!=="mod"&&(h=S.div.neg()),{div:h,mod:S.mod}):this.negative&o.negative?(S=this.neg().divmod(o.neg(),a),a!=="div"&&(g=S.mod.neg(),f&&g.negative!==0&&g.isub(o)),{div:S.div,mod:g}):o.length>this.length||this.cmp(o)<0?{div:new i(0),mod:this}:o.length===1?a==="div"?{div:this.divn(o.words[0]),mod:null}:a==="mod"?{div:null,mod:new i(this.modn(o.words[0]))}:{div:this.divn(o.words[0]),mod:new i(this.modn(o.words[0]))}:this._wordDiv(o,a)},i.prototype.div=function(o){return this.divmod(o,"div",!1).div},i.prototype.mod=function(o){return this.divmod(o,"mod",!1).mod},i.prototype.umod=function(o){return this.divmod(o,"mod",!0).mod},i.prototype.divRound=function(o){var a=this.divmod(o);if(a.mod.isZero())return a.div;var f=a.div.negative!==0?a.mod.isub(o):a.mod,h=o.ushrn(1),g=o.andln(1),S=f.cmp(h);return S<0||g===1&&S===0?a.div:a.div.negative!==0?a.div.isubn(1):a.div.iaddn(1)},i.prototype.modn=function(o){n(o<=67108863);for(var a=(1<<26)%o,f=0,h=this.length-1;h>=0;h--)f=(a*f+(this.words[h]|0))%o;return f},i.prototype.idivn=function(o){n(o<=67108863);for(var a=0,f=this.length-1;f>=0;f--){var h=(this.words[f]|0)+a*67108864;this.words[f]=h/o|0,a=h%o}return this.strip()},i.prototype.divn=function(o){return this.clone().idivn(o)},i.prototype.egcd=function(o){n(o.negative===0),n(!o.isZero());var a=this,f=o.clone();a.negative!==0?a=a.umod(o):a=a.clone();for(var h=new i(1),g=new i(0),S=new i(0),I=new i(1),y=0;a.isEven()&&f.isEven();)a.iushrn(1),f.iushrn(1),++y;for(var u=f.clone(),b=a.clone();!a.isZero();){for(var D=0,Z=1;!(a.words[0]&Z)&&D<26;++D,Z<<=1);if(D>0)for(a.iushrn(D);D-- >0;)(h.isOdd()||g.isOdd())&&(h.iadd(u),g.isub(b)),h.iushrn(1),g.iushrn(1);for(var F=0,q=1;!(f.words[0]&q)&&F<26;++F,q<<=1);if(F>0)for(f.iushrn(F);F-- >0;)(S.isOdd()||I.isOdd())&&(S.iadd(u),I.isub(b)),S.iushrn(1),I.iushrn(1);a.cmp(f)>=0?(a.isub(f),h.isub(S),g.isub(I)):(f.isub(a),S.isub(h),I.isub(g))}return{a:S,b:I,gcd:f.iushln(y)}},i.prototype._invmp=function(o){n(o.negative===0),n(!o.isZero());var a=this,f=o.clone();a.negative!==0?a=a.umod(o):a=a.clone();for(var h=new i(1),g=new i(0),S=f.clone();a.cmpn(1)>0&&f.cmpn(1)>0;){for(var I=0,y=1;!(a.words[0]&y)&&I<26;++I,y<<=1);if(I>0)for(a.iushrn(I);I-- >0;)h.isOdd()&&h.iadd(S),h.iushrn(1);for(var u=0,b=1;!(f.words[0]&b)&&u<26;++u,b<<=1);if(u>0)for(f.iushrn(u);u-- >0;)g.isOdd()&&g.iadd(S),g.iushrn(1);a.cmp(f)>=0?(a.isub(f),h.isub(g)):(f.isub(a),g.isub(h))}var D;return a.cmpn(1)===0?D=h:D=g,D.cmpn(0)<0&&D.iadd(o),D},i.prototype.gcd=function(o){if(this.isZero())return o.abs();if(o.isZero())return this.abs();var a=this.clone(),f=o.clone();a.negative=0,f.negative=0;for(var h=0;a.isEven()&&f.isEven();h++)a.iushrn(1),f.iushrn(1);do{for(;a.isEven();)a.iushrn(1);for(;f.isEven();)f.iushrn(1);var g=a.cmp(f);if(g<0){var S=a;a=f,f=S}else if(g===0||f.cmpn(1)===0)break;a.isub(f)}while(!0);return f.iushln(h)},i.prototype.invm=function(o){return this.egcd(o).a.umod(o)},i.prototype.isEven=function(){return(this.words[0]&1)===0},i.prototype.isOdd=function(){return(this.words[0]&1)===1},i.prototype.andln=function(o){return this.words[0]&o},i.prototype.bincn=function(o){n(typeof o=="number");var a=o%26,f=(o-a)/26,h=1<<a;if(this.length<=f)return this._expand(f+1),this.words[f]|=h,this;for(var g=h,S=f;g!==0&&S<this.length;S++){var I=this.words[S]|0;I+=g,g=I>>>26,I&=67108863,this.words[S]=I}return g!==0&&(this.words[S]=g,this.length++),this},i.prototype.isZero=function(){return this.length===1&&this.words[0]===0},i.prototype.cmpn=function(o){var a=o<0;if(this.negative!==0&&!a)return-1;if(this.negative===0&&a)return 1;this.strip();var f;if(this.length>1)f=1;else{a&&(o=-o),n(o<=67108863,"Number is too big");var h=this.words[0]|0;f=h===o?0:h<o?-1:1}return this.negative!==0?-f|0:f},i.prototype.cmp=function(o){if(this.negative!==0&&o.negative===0)return-1;if(this.negative===0&&o.negative!==0)return 1;var a=this.ucmp(o);return this.negative!==0?-a|0:a},i.prototype.ucmp=function(o){if(this.length>o.length)return 1;if(this.length<o.length)return-1;for(var a=0,f=this.length-1;f>=0;f--){var h=this.words[f]|0,g=o.words[f]|0;if(h!==g){h<g?a=-1:h>g&&(a=1);break}}return a},i.prototype.gtn=function(o){return this.cmpn(o)===1},i.prototype.gt=function(o){return this.cmp(o)===1},i.prototype.gten=function(o){return this.cmpn(o)>=0},i.prototype.gte=function(o){return this.cmp(o)>=0},i.prototype.ltn=function(o){return this.cmpn(o)===-1},i.prototype.lt=function(o){return this.cmp(o)===-1},i.prototype.lten=function(o){return this.cmpn(o)<=0},i.prototype.lte=function(o){return this.cmp(o)<=0},i.prototype.eqn=function(o){return this.cmpn(o)===0},i.prototype.eq=function(o){return this.cmp(o)===0},i.red=function(o){return new G(o)},i.prototype.toRed=function(o){return n(!this.red,"Already a number in reduction context"),n(this.negative===0,"red works only with positives"),o.convertTo(this)._forceRed(o)},i.prototype.fromRed=function(){return n(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},i.prototype._forceRed=function(o){return this.red=o,this},i.prototype.forceRed=function(o){return n(!this.red,"Already a number in reduction context"),this._forceRed(o)},i.prototype.redAdd=function(o){return n(this.red,"redAdd works only with red numbers"),this.red.add(this,o)},i.prototype.redIAdd=function(o){return n(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,o)},i.prototype.redSub=function(o){return n(this.red,"redSub works only with red numbers"),this.red.sub(this,o)},i.prototype.redISub=function(o){return n(this.red,"redISub works only with red numbers"),this.red.isub(this,o)},i.prototype.redShl=function(o){return n(this.red,"redShl works only with red numbers"),this.red.shl(this,o)},i.prototype.redMul=function(o){return n(this.red,"redMul works only with red numbers"),this.red._verify2(this,o),this.red.mul(this,o)},i.prototype.redIMul=function(o){return n(this.red,"redMul works only with red numbers"),this.red._verify2(this,o),this.red.imul(this,o)},i.prototype.redSqr=function(){return n(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},i.prototype.redISqr=function(){return n(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},i.prototype.redSqrt=function(){return n(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},i.prototype.redInvm=function(){return n(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},i.prototype.redNeg=function(){return n(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},i.prototype.redPow=function(o){return n(this.red&&!o.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,o)};var C={k256:null,p224:null,p192:null,p25519:null};function O(d,o){this.name=d,this.p=new i(o,16),this.n=this.p.bitLength(),this.k=new i(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}O.prototype._tmp=function(){var o=new i(null);return o.words=new Array(Math.ceil(this.n/13)),o},O.prototype.ireduce=function(o){var a=o,f;do this.split(a,this.tmp),a=this.imulK(a),a=a.iadd(this.tmp),f=a.bitLength();while(f>this.n);var h=f<this.n?-1:a.ucmp(this.p);return h===0?(a.words[0]=0,a.length=1):h>0?a.isub(this.p):a.strip!==void 0?a.strip():a._strip(),a},O.prototype.split=function(o,a){o.iushrn(this.n,0,a)},O.prototype.imulK=function(o){return o.imul(this.k)};function z(){O.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}s(z,O),z.prototype.split=function(o,a){for(var f=4194303,h=Math.min(o.length,9),g=0;g<h;g++)a.words[g]=o.words[g];if(a.length=h,o.length<=9){o.words[0]=0,o.length=1;return}var S=o.words[9];for(a.words[a.length++]=S&f,g=10;g<o.length;g++){var I=o.words[g]|0;o.words[g-10]=(I&f)<<4|S>>>22,S=I}S>>>=22,o.words[g-10]=S,S===0&&o.length>10?o.length-=10:o.length-=9},z.prototype.imulK=function(o){o.words[o.length]=0,o.words[o.length+1]=0,o.length+=2;for(var a=0,f=0;f<o.length;f++){var h=o.words[f]|0;a+=h*977,o.words[f]=a&67108863,a=h*64+(a/67108864|0)}return o.words[o.length-1]===0&&(o.length--,o.words[o.length-1]===0&&o.length--),o};function H(){O.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}s(H,O);function tt(){O.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}s(tt,O);function nt(){O.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}s(nt,O),nt.prototype.imulK=function(o){for(var a=0,f=0;f<o.length;f++){var h=(o.words[f]|0)*19+a,g=h&67108863;h>>>=26,o.words[f]=g,a=h}return a!==0&&(o.words[o.length++]=a),o},i._prime=function(o){if(C[o])return C[o];var a;if(o==="k256")a=new z;else if(o==="p224")a=new H;else if(o==="p192")a=new tt;else if(o==="p25519")a=new nt;else throw new Error("Unknown prime "+o);return C[o]=a,a};function G(d){if(typeof d=="string"){var o=i._prime(d);this.m=o.p,this.prime=o}else n(d.gtn(1),"modulus must be greater than 1"),this.m=d,this.prime=null}G.prototype._verify1=function(o){n(o.negative===0,"red works only with positives"),n(o.red,"red works only with red numbers")},G.prototype._verify2=function(o,a){n((o.negative|a.negative)===0,"red works only with positives"),n(o.red&&o.red===a.red,"red works only with red numbers")},G.prototype.imod=function(o){return this.prime?this.prime.ireduce(o)._forceRed(this):o.umod(this.m)._forceRed(this)},G.prototype.neg=function(o){return o.isZero()?o.clone():this.m.sub(o)._forceRed(this)},G.prototype.add=function(o,a){this._verify2(o,a);var f=o.add(a);return f.cmp(this.m)>=0&&f.isub(this.m),f._forceRed(this)},G.prototype.iadd=function(o,a){this._verify2(o,a);var f=o.iadd(a);return f.cmp(this.m)>=0&&f.isub(this.m),f},G.prototype.sub=function(o,a){this._verify2(o,a);var f=o.sub(a);return f.cmpn(0)<0&&f.iadd(this.m),f._forceRed(this)},G.prototype.isub=function(o,a){this._verify2(o,a);var f=o.isub(a);return f.cmpn(0)<0&&f.iadd(this.m),f},G.prototype.shl=function(o,a){return this._verify1(o),this.imod(o.ushln(a))},G.prototype.imul=function(o,a){return this._verify2(o,a),this.imod(o.imul(a))},G.prototype.mul=function(o,a){return this._verify2(o,a),this.imod(o.mul(a))},G.prototype.isqr=function(o){return this.imul(o,o.clone())},G.prototype.sqr=function(o){return this.mul(o,o)},G.prototype.sqrt=function(o){if(o.isZero())return o.clone();var a=this.m.andln(3);if(n(a%2===1),a===3){var f=this.m.add(new i(1)).iushrn(2);return this.pow(o,f)}for(var h=this.m.subn(1),g=0;!h.isZero()&&h.andln(1)===0;)g++,h.iushrn(1);n(!h.isZero());var S=new i(1).toRed(this),I=S.redNeg(),y=this.m.subn(1).iushrn(1),u=this.m.bitLength();for(u=new i(2*u*u).toRed(this);this.pow(u,y).cmp(I)!==0;)u.redIAdd(I);for(var b=this.pow(u,h),D=this.pow(o,h.addn(1).iushrn(1)),Z=this.pow(o,h),F=g;Z.cmp(S)!==0;){for(var q=Z,it=0;q.cmp(S)!==0;it++)q=q.redSqr();n(it<F);var at=this.pow(b,new i(1).iushln(F-it-1));D=D.redMul(at),b=at.redSqr(),Z=Z.redMul(b),F=it}return D},G.prototype.invm=function(o){var a=o._invmp(this.m);return a.negative!==0?(a.negative=0,this.imod(a).redNeg()):this.imod(a)},G.prototype.pow=function(o,a){if(a.isZero())return new i(1).toRed(this);if(a.cmpn(1)===0)return o.clone();var f=4,h=new Array(1<<f);h[0]=new i(1).toRed(this),h[1]=o;for(var g=2;g<h.length;g++)h[g]=this.mul(h[g-1],o);var S=h[0],I=0,y=0,u=a.bitLength()%26;for(u===0&&(u=26),g=a.length-1;g>=0;g--){for(var b=a.words[g],D=u-1;D>=0;D--){var Z=b>>D&1;if(S!==h[0]&&(S=this.sqr(S)),Z===0&&I===0){y=0;continue}I<<=1,I|=Z,y++,!(y!==f&&(g!==0||D!==0))&&(S=this.mul(S,h[I]),y=0,I=0)}u=26}return S},G.prototype.convertTo=function(o){var a=o.umod(this.m);return a===o?a.clone():a},G.prototype.convertFrom=function(o){var a=o.clone();return a.red=null,a},i.mont=function(o){return new M(o)};function M(d){G.call(this,d),this.shift=this.m.bitLength(),this.shift%26!==0&&(this.shift+=26-this.shift%26),this.r=new i(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}s(M,G),M.prototype.convertTo=function(o){return this.imod(o.ushln(this.shift))},M.prototype.convertFrom=function(o){var a=this.imod(o.mul(this.rinv));return a.red=null,a},M.prototype.imul=function(o,a){if(o.isZero()||a.isZero())return o.words[0]=0,o.length=1,o;var f=o.imul(a),h=f.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),g=f.isub(h).iushrn(this.shift),S=g;return g.cmp(this.m)>=0?S=g.isub(this.m):g.cmpn(0)<0&&(S=g.iadd(this.m)),S._forceRed(this)},M.prototype.mul=function(o,a){if(o.isZero()||a.isZero())return new i(0)._forceRed(this);var f=o.mul(a),h=f.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),g=f.isub(h).iushrn(this.shift),S=g;return g.cmp(this.m)>=0?S=g.isub(this.m):g.cmpn(0)<0&&(S=g.iadd(this.m)),S._forceRed(this)},M.prototype.invm=function(o){var a=this.imod(o._invmp(this.m).mul(this.r2));return a._forceRed(this)}})(r,Re)}(q0)),q0.exports}var Jh={exports:{}},gw;function sg(){if(gw)return Jh.exports;gw=1;var r;Jh.exports=function(s){return r||(r=new t(null)),r.generate(s)};function t(n){this.rand=n}if(Jh.exports.Rand=t,t.prototype.generate=function(s){return this._rand(s)},t.prototype._rand=function(s){if(this.rand.getBytes)return this.rand.getBytes(s);for(var i=new Uint8Array(s),c=0;c<i.length;c++)i[c]=this.rand.getByte();return i},typeof self=="object")self.crypto&&self.crypto.getRandomValues?t.prototype._rand=function(s){var i=new Uint8Array(s);return self.crypto.getRandomValues(i),i}:self.msCrypto&&self.msCrypto.getRandomValues?t.prototype._rand=function(s){var i=new Uint8Array(s);return self.msCrypto.getRandomValues(i),i}:typeof window=="object"&&(t.prototype._rand=function(){throw new Error("Not implemented yet")});else try{var e=e9();if(typeof e.randomBytes!="function")throw new Error("Not supported");t.prototype._rand=function(s){return e.randomBytes(s)}}catch{}return Jh.exports}var m1,yw;function E_(){if(yw)return m1;yw=1;var r=nP(),t=sg();function e(n){this.rand=n||new t.Rand}return m1=e,e.create=function(s){return new e(s)},e.prototype._randbelow=function(s){var i=s.bitLength(),c=Math.ceil(i/8);do var l=new r(this.rand.generate(c));while(l.cmp(s)>=0);return l},e.prototype._randrange=function(s,i){var c=i.sub(s);return s.add(this._randbelow(c))},e.prototype.test=function(s,i,c){var l=s.bitLength(),p=r.mont(s),m=new r(1).toRed(p);i||(i=Math.max(1,l/48|0));for(var v=s.subn(1),_=0;!v.testn(_);_++);for(var E=s.shrn(_),w=v.toRed(p),x=!0;i>0;i--){var A=this._randrange(new r(2),v);c&&c(A);var B=A.toRed(p).redPow(E);if(!(B.cmp(m)===0||B.cmp(w)===0)){for(var P=1;P<_;P++){if(B=B.redSqr(),B.cmp(m)===0)return!1;if(B.cmp(w)===0)break}if(P===_)return!1}}return x},e.prototype.getDivisor=function(s,i){var c=s.bitLength(),l=r.mont(s),p=new r(1).toRed(l);i||(i=Math.max(1,c/48|0));for(var m=s.subn(1),v=0;!m.testn(v);v++);for(var _=s.shrn(v),E=m.toRed(l);i>0;i--){var w=this._randrange(new r(2),m),x=s.gcd(w);if(x.cmpn(1)!==0)return x;var A=w.toRed(l).redPow(_);if(!(A.cmp(p)===0||A.cmp(E)===0)){for(var B=1;B<v;B++){if(A=A.redSqr(),A.cmp(p)===0)return A.fromRed().subn(1).gcd(s);if(A.cmp(E)===0)break}if(B===v)return A=A.redSqr(),A.fromRed().subn(1).gcd(s)}}return!1},m1}var v1,bw;function A_(){if(bw)return v1;bw=1;var r=bf;v1=B,B.simpleSieve=x,B.fermatTest=A;var t=M_(),e=new t(24),n=E_(),s=new n,i=new t(1),c=new t(2),l=new t(5);new t(16),new t(8);var p=new t(10),m=new t(3);new t(7);var v=new t(11),_=new t(4);new t(12);var E=null;function w(){if(E!==null)return E;var P=1048576,R=[];R[0]=2;for(var C=1,O=3;O<P;O+=2){for(var z=Math.ceil(Math.sqrt(O)),H=0;H<C&&R[H]<=z&&O%R[H]!==0;H++);C!==H&&R[H]<=z||(R[C++]=O)}return E=R,R}function x(P){for(var R=w(),C=0;C<R.length;C++)if(P.modn(R[C])===0)return P.cmpn(R[C])===0;return!0}function A(P){var R=t.mont(P);return c.toRed(R).redPow(P.subn(1)).fromRed().cmpn(1)===0}function B(P,R){if(P<16)return R===2||R===5?new t([140,123]):new t([140,39]);R=new t(R);for(var C,O;;){for(C=new t(r(Math.ceil(P/8)));C.bitLength()>P;)C.ishrn(1);if(C.isEven()&&C.iadd(i),C.testn(1)||C.iadd(c),R.cmp(c)){if(!R.cmp(l))for(;C.mod(p).cmp(m);)C.iadd(_)}else for(;C.mod(e).cmp(v);)C.iadd(_);if(O=C.shrn(1),x(O)&&x(C)&&A(O)&&A(C)&&s.test(O)&&s.test(C))return C}}return v1}const iP={gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a63a3620ffffffffffffffff"},oP={gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece65381ffffffffffffffff"},sP={gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca237327ffffffffffffffff"},aP={gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aacaa68ffffffffffffffff"},uP={gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aaac42dad33170d04507a33a85521abdf1cba64ecfb850458dbef0a8aea71575d060c7db3970f85a6e1e4c7abf5ae8cdb0933d71e8c94e04a25619dcee3d2261ad2ee6bf12ffa06d98a0864d87602733ec86a64521f2b18177b200cbbe117577a615d6c770988c0bad946e208e24fa074e5ab3143db5bfce0fd108e4b82d120a93ad2caffffffffffffffff"},fP={gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aaac42dad33170d04507a33a85521abdf1cba64ecfb850458dbef0a8aea71575d060c7db3970f85a6e1e4c7abf5ae8cdb0933d71e8c94e04a25619dcee3d2261ad2ee6bf12ffa06d98a0864d87602733ec86a64521f2b18177b200cbbe117577a615d6c770988c0bad946e208e24fa074e5ab3143db5bfce0fd108e4b82d120a92108011a723c12a787e6d788719a10bdba5b2699c327186af4e23c1a946834b6150bda2583e9ca2ad44ce8dbbbc2db04de8ef92e8efc141fbecaa6287c59474e6bc05d99b2964fa090c3a2233ba186515be7ed1f612970cee2d7afb81bdd762170481cd0069127d5b05aa993b4ea988d8fddc186ffb7dc90a6c08f4df435c934063199ffffffffffffffff"},cP={gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aaac42dad33170d04507a33a85521abdf1cba64ecfb850458dbef0a8aea71575d060c7db3970f85a6e1e4c7abf5ae8cdb0933d71e8c94e04a25619dcee3d2261ad2ee6bf12ffa06d98a0864d87602733ec86a64521f2b18177b200cbbe117577a615d6c770988c0bad946e208e24fa074e5ab3143db5bfce0fd108e4b82d120a92108011a723c12a787e6d788719a10bdba5b2699c327186af4e23c1a946834b6150bda2583e9ca2ad44ce8dbbbc2db04de8ef92e8efc141fbecaa6287c59474e6bc05d99b2964fa090c3a2233ba186515be7ed1f612970cee2d7afb81bdd762170481cd0069127d5b05aa993b4ea988d8fddc186ffb7dc90a6c08f4df435c93402849236c3fab4d27c7026c1d4dcb2602646dec9751e763dba37bdf8ff9406ad9e530ee5db382f413001aeb06a53ed9027d831179727b0865a8918da3edbebcf9b14ed44ce6cbaced4bb1bdb7f1447e6cc254b332051512bd7af426fb8f401378cd2bf5983ca01c64b92ecf032ea15d1721d03f482d7ce6e74fef6d55e702f46980c82b5a84031900b1c9e59e7c97fbec7e8f323a97a7e36cc88be0f1d45b7ff585ac54bd407b22b4154aacc8f6d7ebf48e1d814cc5ed20f8037e0a79715eef29be32806a1d58bb7c5da76f550aa3d8a1fbff0eb19ccb1a313d55cda56c9ec2ef29632387fe8d76e3c0468043e8f663f4860ee12bf2d5b0b7474d6e694f91e6dcc4024ffffffffffffffff"},hP={gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aaac42dad33170d04507a33a85521abdf1cba64ecfb850458dbef0a8aea71575d060c7db3970f85a6e1e4c7abf5ae8cdb0933d71e8c94e04a25619dcee3d2261ad2ee6bf12ffa06d98a0864d87602733ec86a64521f2b18177b200cbbe117577a615d6c770988c0bad946e208e24fa074e5ab3143db5bfce0fd108e4b82d120a92108011a723c12a787e6d788719a10bdba5b2699c327186af4e23c1a946834b6150bda2583e9ca2ad44ce8dbbbc2db04de8ef92e8efc141fbecaa6287c59474e6bc05d99b2964fa090c3a2233ba186515be7ed1f612970cee2d7afb81bdd762170481cd0069127d5b05aa993b4ea988d8fddc186ffb7dc90a6c08f4df435c93402849236c3fab4d27c7026c1d4dcb2602646dec9751e763dba37bdf8ff9406ad9e530ee5db382f413001aeb06a53ed9027d831179727b0865a8918da3edbebcf9b14ed44ce6cbaced4bb1bdb7f1447e6cc254b332051512bd7af426fb8f401378cd2bf5983ca01c64b92ecf032ea15d1721d03f482d7ce6e74fef6d55e702f46980c82b5a84031900b1c9e59e7c97fbec7e8f323a97a7e36cc88be0f1d45b7ff585ac54bd407b22b4154aacc8f6d7ebf48e1d814cc5ed20f8037e0a79715eef29be32806a1d58bb7c5da76f550aa3d8a1fbff0eb19ccb1a313d55cda56c9ec2ef29632387fe8d76e3c0468043e8f663f4860ee12bf2d5b0b7474d6e694f91e6dbe115974a3926f12fee5e438777cb6a932df8cd8bec4d073b931ba3bc832b68d9dd300741fa7bf8afc47ed2576f6936ba424663aab639c5ae4f5683423b4742bf1c978238f16cbe39d652de3fdb8befc848ad922222e04a4037c0713eb57a81a23f0c73473fc646cea306b4bcbc8862f8385ddfa9d4b7fa2c087e879683303ed5bdd3a062b3cf5b3a278a66d2a13f83f44f82ddf310ee074ab6a364597e899a0255dc164f31cc50846851df9ab48195ded7ea1b1d510bd7ee74d73faf36bc31ecfa268359046f4eb879f924009438b481c6cd7889a002ed5ee382bc9190da6fc026e479558e4475677e9aa9e3050e2765694dfc81f56e880b96e7160c980dd98edd3dfffffffffffffffff"},lP={modp1:iP,modp2:oP,modp5:sP,modp14:aP,modp15:uP,modp16:fP,modp17:cP,modp18:hP};var g1,ww;function dP(){if(ww)return g1;ww=1;var r=M_(),t=E_(),e=new t,n=new r(24),s=new r(11),i=new r(10),c=new r(3),l=new r(7),p=A_(),m=bf;g1=x;function v(B,P){return P=P||"utf8",Zt.Buffer.isBuffer(B)||(B=new Zt.Buffer(B,P)),this._pub=new r(B),this}function _(B,P){return P=P||"utf8",Zt.Buffer.isBuffer(B)||(B=new Zt.Buffer(B,P)),this._priv=new r(B),this}var E={};function w(B,P){var R=P.toString("hex"),C=[R,B.toString(16)].join("_");if(C in E)return E[C];var O=0;if(B.isEven()||!p.simpleSieve||!p.fermatTest(B)||!e.test(B))return O+=1,R==="02"||R==="05"?O+=8:O+=4,E[C]=O,O;e.test(B.shrn(1))||(O+=2);var z;switch(R){case"02":B.mod(n).cmp(s)&&(O+=8);break;case"05":z=B.mod(i),z.cmp(c)&&z.cmp(l)&&(O+=8);break;default:O+=4}return E[C]=O,O}function x(B,P,R){this.setGenerator(P),this.__prime=new r(B),this._prime=r.mont(this.__prime),this._primeLen=B.length,this._pub=void 0,this._priv=void 0,this._primeCode=void 0,R?(this.setPublicKey=v,this.setPrivateKey=_):this._primeCode=8}Object.defineProperty(x.prototype,"verifyError",{enumerable:!0,get:function(){return typeof this._primeCode!="number"&&(this._primeCode=w(this.__prime,this.__gen)),this._primeCode}}),x.prototype.generateKeys=function(){return this._priv||(this._priv=new r(m(this._primeLen))),this._pub=this._gen.toRed(this._prime).redPow(this._priv).fromRed(),this.getPublicKey()},x.prototype.computeSecret=function(B){B=new r(B),B=B.toRed(this._prime);var P=B.redPow(this._priv).fromRed(),R=new Zt.Buffer(P.toArray()),C=this.getPrime();if(R.length<C.length){var O=new Zt.Buffer(C.length-R.length);O.fill(0),R=Zt.Buffer.concat([O,R])}return R},x.prototype.getPublicKey=function(P){return A(this._pub,P)},x.prototype.getPrivateKey=function(P){return A(this._priv,P)},x.prototype.getPrime=function(B){return A(this.__prime,B)},x.prototype.getGenerator=function(B){return A(this._gen,B)},x.prototype.setGenerator=function(B,P){return P=P||"utf8",Zt.Buffer.isBuffer(B)||(B=new Zt.Buffer(B,P)),this.__gen=B,this._gen=new r(B),this};function A(B,P){var R=new Zt.Buffer(B.toArray());return P?R.toString(P):R}return g1}var xw;function pP(){if(xw)return la;xw=1;var r=A_(),t=lP,e=dP();function n(c){var l=new Zt.Buffer(t[c].prime,"hex"),p=new Zt.Buffer(t[c].gen,"hex");return new e(l,p)}var s={binary:!0,hex:!0,base64:!0};function i(c,l,p,m){return Zt.Buffer.isBuffer(l)||s[l]===void 0?i(c,"binary",l,p):(l=l||"binary",m=m||"binary",p=p||new Zt.Buffer([2]),Zt.Buffer.isBuffer(p)||(p=new Zt.Buffer(p,m)),typeof c=="number"?new e(r(c,p),p,!0):(Zt.Buffer.isBuffer(c)||(c=new Zt.Buffer(c,l)),new e(c,p,!0)))}return la.DiffieHellmanGroup=la.createDiffieHellmanGroup=la.getDiffieHellman=n,la.createDiffieHellman=la.DiffieHellman=i,la}var $f={exports:{}},y1,_w;function ag(){if(_w)return y1;_w=1;var r=Kl,t=bf;function e(i){var c=n(i),l=c.toRed(r.mont(i.modulus)).redPow(new r(i.publicExponent)).fromRed();return{blinder:l,unblinder:c.invm(i.modulus)}}function n(i){var c=i.modulus.byteLength(),l;do l=new r(t(c));while(l.cmp(i.modulus)>=0||!l.umod(i.prime1)||!l.umod(i.prime2));return l}function s(i,c){var l=e(c),p=c.modulus.byteLength(),m=new r(i).mul(l.blinder).umod(c.modulus),v=m.toRed(r.mont(c.prime1)),_=m.toRed(r.mont(c.prime2)),E=c.coefficient,w=c.prime1,x=c.prime2,A=v.redPow(c.exponent1).fromRed(),B=_.redPow(c.exponent2).fromRed(),P=A.isub(B).imul(E).umod(w).imul(x);return B.iadd(P).imul(l.unblinder).umod(c.modulus).toArrayLike(Zt.Buffer,"be",p)}return s.getr=n,y1=s,y1}var b1={};const mP="elliptic",vP="6.5.4",gP="EC cryptography",yP="lib/elliptic.js",bP=["lib"],wP={lint:"eslint lib test","lint:fix":"npm run lint -- --fix",unit:"istanbul test _mocha --reporter=spec test/index.js",test:"npm run lint && npm run unit",version:"grunt dist && git add dist/"},xP={type:"git",url:"git@github.com:indutny/elliptic"},_P=["EC","Elliptic","curve","Cryptography"],MP="Fedor Indutny <fedor@indutny.com>",EP="MIT",AP={url:"https://github.com/indutny/elliptic/issues"},SP="https://github.com/indutny/elliptic",kP={brfs:"^2.0.2",coveralls:"^3.1.0",eslint:"^7.6.0",grunt:"^1.2.1","grunt-browserify":"^5.3.0","grunt-cli":"^1.3.2","grunt-contrib-connect":"^3.0.0","grunt-contrib-copy":"^1.0.0","grunt-contrib-uglify":"^5.0.0","grunt-mocha-istanbul":"^5.0.2","grunt-saucelabs":"^9.0.1",istanbul:"^0.4.5",mocha:"^8.0.1"},IP={"bn.js":"^4.11.9",brorand:"^1.1.0","hash.js":"^1.0.0","hmac-drbg":"^1.0.1",inherits:"^2.0.4","minimalistic-assert":"^1.0.1","minimalistic-crypto-utils":"^1.0.1"},BP={name:mP,version:vP,description:gP,main:yP,files:bP,scripts:wP,repository:xP,keywords:_P,author:MP,license:EP,bugs:AP,homepage:SP,devDependencies:kP,dependencies:IP};var w1={},F0={exports:{}};F0.exports;var Mw;function Is(){return Mw||(Mw=1,function(r){(function(t,e){function n(d,o){if(!d)throw new Error(o||"Assertion failed")}function s(d,o){d.super_=o;var a=function(){};a.prototype=o.prototype,d.prototype=new a,d.prototype.constructor=d}function i(d,o,a){if(i.isBN(d))return d;this.negative=0,this.words=null,this.length=0,this.red=null,d!==null&&((o==="le"||o==="be")&&(a=o,o=10),this._init(d||0,o||10,a||"be"))}typeof t=="object"?t.exports=i:e.BN=i,i.BN=i,i.wordSize=26;var c;try{typeof window<"u"&&typeof window.Buffer<"u"?c=window.Buffer:c=yr.Buffer}catch{}i.isBN=function(o){return o instanceof i?!0:o!==null&&typeof o=="object"&&o.constructor.wordSize===i.wordSize&&Array.isArray(o.words)},i.max=function(o,a){return o.cmp(a)>0?o:a},i.min=function(o,a){return o.cmp(a)<0?o:a},i.prototype._init=function(o,a,f){if(typeof o=="number")return this._initNumber(o,a,f);if(typeof o=="object")return this._initArray(o,a,f);a==="hex"&&(a=16),n(a===(a|0)&&a>=2&&a<=36),o=o.toString().replace(/\s+/g,"");var h=0;o[0]==="-"&&(h++,this.negative=1),h<o.length&&(a===16?this._parseHex(o,h,f):(this._parseBase(o,a,h),f==="le"&&this._initArray(this.toArray(),a,f)))},i.prototype._initNumber=function(o,a,f){o<0&&(this.negative=1,o=-o),o<67108864?(this.words=[o&67108863],this.length=1):o<4503599627370496?(this.words=[o&67108863,o/67108864&67108863],this.length=2):(n(o<9007199254740992),this.words=[o&67108863,o/67108864&67108863,1],this.length=3),f==="le"&&this._initArray(this.toArray(),a,f)},i.prototype._initArray=function(o,a,f){if(n(typeof o.length=="number"),o.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(o.length/3),this.words=new Array(this.length);for(var h=0;h<this.length;h++)this.words[h]=0;var g,S,I=0;if(f==="be")for(h=o.length-1,g=0;h>=0;h-=3)S=o[h]|o[h-1]<<8|o[h-2]<<16,this.words[g]|=S<<I&67108863,this.words[g+1]=S>>>26-I&67108863,I+=24,I>=26&&(I-=26,g++);else if(f==="le")for(h=0,g=0;h<o.length;h+=3)S=o[h]|o[h+1]<<8|o[h+2]<<16,this.words[g]|=S<<I&67108863,this.words[g+1]=S>>>26-I&67108863,I+=24,I>=26&&(I-=26,g++);return this.strip()};function l(d,o){var a=d.charCodeAt(o);return a>=65&&a<=70?a-55:a>=97&&a<=102?a-87:a-48&15}function p(d,o,a){var f=l(d,a);return a-1>=o&&(f|=l(d,a-1)<<4),f}i.prototype._parseHex=function(o,a,f){this.length=Math.ceil((o.length-a)/6),this.words=new Array(this.length);for(var h=0;h<this.length;h++)this.words[h]=0;var g=0,S=0,I;if(f==="be")for(h=o.length-1;h>=a;h-=2)I=p(o,a,h)<<g,this.words[S]|=I&67108863,g>=18?(g-=18,S+=1,this.words[S]|=I>>>26):g+=8;else{var y=o.length-a;for(h=y%2===0?a+1:a;h<o.length;h+=2)I=p(o,a,h)<<g,this.words[S]|=I&67108863,g>=18?(g-=18,S+=1,this.words[S]|=I>>>26):g+=8}this.strip()};function m(d,o,a,f){for(var h=0,g=Math.min(d.length,a),S=o;S<g;S++){var I=d.charCodeAt(S)-48;h*=f,I>=49?h+=I-49+10:I>=17?h+=I-17+10:h+=I}return h}i.prototype._parseBase=function(o,a,f){this.words=[0],this.length=1;for(var h=0,g=1;g<=67108863;g*=a)h++;h--,g=g/a|0;for(var S=o.length-f,I=S%h,y=Math.min(S,S-I)+f,u=0,b=f;b<y;b+=h)u=m(o,b,b+h,a),this.imuln(g),this.words[0]+u<67108864?this.words[0]+=u:this._iaddn(u);if(I!==0){var D=1;for(u=m(o,b,o.length,a),b=0;b<I;b++)D*=a;this.imuln(D),this.words[0]+u<67108864?this.words[0]+=u:this._iaddn(u)}this.strip()},i.prototype.copy=function(o){o.words=new Array(this.length);for(var a=0;a<this.length;a++)o.words[a]=this.words[a];o.length=this.length,o.negative=this.negative,o.red=this.red},i.prototype.clone=function(){var o=new i(null);return this.copy(o),o},i.prototype._expand=function(o){for(;this.length<o;)this.words[this.length++]=0;return this},i.prototype.strip=function(){for(;this.length>1&&this.words[this.length-1]===0;)this.length--;return this._normSign()},i.prototype._normSign=function(){return this.length===1&&this.words[0]===0&&(this.negative=0),this},i.prototype.inspect=function(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"};var v=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],_=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],E=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];i.prototype.toString=function(o,a){o=o||10,a=a|0||1;var f;if(o===16||o==="hex"){f="";for(var h=0,g=0,S=0;S<this.length;S++){var I=this.words[S],y=((I<<h|g)&16777215).toString(16);g=I>>>24-h&16777215,g!==0||S!==this.length-1?f=v[6-y.length]+y+f:f=y+f,h+=2,h>=26&&(h-=26,S--)}for(g!==0&&(f=g.toString(16)+f);f.length%a!==0;)f="0"+f;return this.negative!==0&&(f="-"+f),f}if(o===(o|0)&&o>=2&&o<=36){var u=_[o],b=E[o];f="";var D=this.clone();for(D.negative=0;!D.isZero();){var Z=D.modn(b).toString(o);D=D.idivn(b),D.isZero()?f=Z+f:f=v[u-Z.length]+Z+f}for(this.isZero()&&(f="0"+f);f.length%a!==0;)f="0"+f;return this.negative!==0&&(f="-"+f),f}n(!1,"Base should be between 2 and 36")},i.prototype.toNumber=function(){var o=this.words[0];return this.length===2?o+=this.words[1]*67108864:this.length===3&&this.words[2]===1?o+=4503599627370496+this.words[1]*67108864:this.length>2&&n(!1,"Number can only safely store up to 53 bits"),this.negative!==0?-o:o},i.prototype.toJSON=function(){return this.toString(16)},i.prototype.toBuffer=function(o,a){return n(typeof c<"u"),this.toArrayLike(c,o,a)},i.prototype.toArray=function(o,a){return this.toArrayLike(Array,o,a)},i.prototype.toArrayLike=function(o,a,f){var h=this.byteLength(),g=f||Math.max(1,h);n(h<=g,"byte array longer than desired length"),n(g>0,"Requested array length <= 0"),this.strip();var S=a==="le",I=new o(g),y,u,b=this.clone();if(S){for(u=0;!b.isZero();u++)y=b.andln(255),b.iushrn(8),I[u]=y;for(;u<g;u++)I[u]=0}else{for(u=0;u<g-h;u++)I[u]=0;for(u=0;!b.isZero();u++)y=b.andln(255),b.iushrn(8),I[g-u-1]=y}return I},Math.clz32?i.prototype._countBits=function(o){return 32-Math.clz32(o)}:i.prototype._countBits=function(o){var a=o,f=0;return a>=4096&&(f+=13,a>>>=13),a>=64&&(f+=7,a>>>=7),a>=8&&(f+=4,a>>>=4),a>=2&&(f+=2,a>>>=2),f+a},i.prototype._zeroBits=function(o){if(o===0)return 26;var a=o,f=0;return a&8191||(f+=13,a>>>=13),a&127||(f+=7,a>>>=7),a&15||(f+=4,a>>>=4),a&3||(f+=2,a>>>=2),a&1||f++,f},i.prototype.bitLength=function(){var o=this.words[this.length-1],a=this._countBits(o);return(this.length-1)*26+a};function w(d){for(var o=new Array(d.bitLength()),a=0;a<o.length;a++){var f=a/26|0,h=a%26;o[a]=(d.words[f]&1<<h)>>>h}return o}i.prototype.zeroBits=function(){if(this.isZero())return 0;for(var o=0,a=0;a<this.length;a++){var f=this._zeroBits(this.words[a]);if(o+=f,f!==26)break}return o},i.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},i.prototype.toTwos=function(o){return this.negative!==0?this.abs().inotn(o).iaddn(1):this.clone()},i.prototype.fromTwos=function(o){return this.testn(o-1)?this.notn(o).iaddn(1).ineg():this.clone()},i.prototype.isNeg=function(){return this.negative!==0},i.prototype.neg=function(){return this.clone().ineg()},i.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},i.prototype.iuor=function(o){for(;this.length<o.length;)this.words[this.length++]=0;for(var a=0;a<o.length;a++)this.words[a]=this.words[a]|o.words[a];return this.strip()},i.prototype.ior=function(o){return n((this.negative|o.negative)===0),this.iuor(o)},i.prototype.or=function(o){return this.length>o.length?this.clone().ior(o):o.clone().ior(this)},i.prototype.uor=function(o){return this.length>o.length?this.clone().iuor(o):o.clone().iuor(this)},i.prototype.iuand=function(o){var a;this.length>o.length?a=o:a=this;for(var f=0;f<a.length;f++)this.words[f]=this.words[f]&o.words[f];return this.length=a.length,this.strip()},i.prototype.iand=function(o){return n((this.negative|o.negative)===0),this.iuand(o)},i.prototype.and=function(o){return this.length>o.length?this.clone().iand(o):o.clone().iand(this)},i.prototype.uand=function(o){return this.length>o.length?this.clone().iuand(o):o.clone().iuand(this)},i.prototype.iuxor=function(o){var a,f;this.length>o.length?(a=this,f=o):(a=o,f=this);for(var h=0;h<f.length;h++)this.words[h]=a.words[h]^f.words[h];if(this!==a)for(;h<a.length;h++)this.words[h]=a.words[h];return this.length=a.length,this.strip()},i.prototype.ixor=function(o){return n((this.negative|o.negative)===0),this.iuxor(o)},i.prototype.xor=function(o){return this.length>o.length?this.clone().ixor(o):o.clone().ixor(this)},i.prototype.uxor=function(o){return this.length>o.length?this.clone().iuxor(o):o.clone().iuxor(this)},i.prototype.inotn=function(o){n(typeof o=="number"&&o>=0);var a=Math.ceil(o/26)|0,f=o%26;this._expand(a),f>0&&a--;for(var h=0;h<a;h++)this.words[h]=~this.words[h]&67108863;return f>0&&(this.words[h]=~this.words[h]&67108863>>26-f),this.strip()},i.prototype.notn=function(o){return this.clone().inotn(o)},i.prototype.setn=function(o,a){n(typeof o=="number"&&o>=0);var f=o/26|0,h=o%26;return this._expand(f+1),a?this.words[f]=this.words[f]|1<<h:this.words[f]=this.words[f]&~(1<<h),this.strip()},i.prototype.iadd=function(o){var a;if(this.negative!==0&&o.negative===0)return this.negative=0,a=this.isub(o),this.negative^=1,this._normSign();if(this.negative===0&&o.negative!==0)return o.negative=0,a=this.isub(o),o.negative=1,a._normSign();var f,h;this.length>o.length?(f=this,h=o):(f=o,h=this);for(var g=0,S=0;S<h.length;S++)a=(f.words[S]|0)+(h.words[S]|0)+g,this.words[S]=a&67108863,g=a>>>26;for(;g!==0&&S<f.length;S++)a=(f.words[S]|0)+g,this.words[S]=a&67108863,g=a>>>26;if(this.length=f.length,g!==0)this.words[this.length]=g,this.length++;else if(f!==this)for(;S<f.length;S++)this.words[S]=f.words[S];return this},i.prototype.add=function(o){var a;return o.negative!==0&&this.negative===0?(o.negative=0,a=this.sub(o),o.negative^=1,a):o.negative===0&&this.negative!==0?(this.negative=0,a=o.sub(this),this.negative=1,a):this.length>o.length?this.clone().iadd(o):o.clone().iadd(this)},i.prototype.isub=function(o){if(o.negative!==0){o.negative=0;var a=this.iadd(o);return o.negative=1,a._normSign()}else if(this.negative!==0)return this.negative=0,this.iadd(o),this.negative=1,this._normSign();var f=this.cmp(o);if(f===0)return this.negative=0,this.length=1,this.words[0]=0,this;var h,g;f>0?(h=this,g=o):(h=o,g=this);for(var S=0,I=0;I<g.length;I++)a=(h.words[I]|0)-(g.words[I]|0)+S,S=a>>26,this.words[I]=a&67108863;for(;S!==0&&I<h.length;I++)a=(h.words[I]|0)+S,S=a>>26,this.words[I]=a&67108863;if(S===0&&I<h.length&&h!==this)for(;I<h.length;I++)this.words[I]=h.words[I];return this.length=Math.max(this.length,I),h!==this&&(this.negative=1),this.strip()},i.prototype.sub=function(o){return this.clone().isub(o)};function x(d,o,a){a.negative=o.negative^d.negative;var f=d.length+o.length|0;a.length=f,f=f-1|0;var h=d.words[0]|0,g=o.words[0]|0,S=h*g,I=S&67108863,y=S/67108864|0;a.words[0]=I;for(var u=1;u<f;u++){for(var b=y>>>26,D=y&67108863,Z=Math.min(u,o.length-1),F=Math.max(0,u-d.length+1);F<=Z;F++){var q=u-F|0;h=d.words[q]|0,g=o.words[F]|0,S=h*g+D,b+=S/67108864|0,D=S&67108863}a.words[u]=D|0,y=b|0}return y!==0?a.words[u]=y|0:a.length--,a.strip()}var A=function(o,a,f){var h=o.words,g=a.words,S=f.words,I=0,y,u,b,D=h[0]|0,Z=D&8191,F=D>>>13,q=h[1]|0,it=q&8191,at=q>>>13,Bt=h[2]|0,yt=Bt&8191,pt=Bt>>>13,Ft=h[3]|0,lt=Ft&8191,ct=Ft>>>13,Tt=h[4]|0,kt=Tt&8191,k=Tt>>>13,T=h[5]|0,L=T&8191,j=T>>>13,rt=h[6]|0,Q=rt&8191,ot=rt>>>13,qt=h[7]|0,It=qt&8191,xt=qt>>>13,Qt=h[8]|0,Ct=Qt&8191,Dt=Qt>>>13,Se=h[9]|0,te=Se&8191,Ut=Se>>>13,Te=g[0]|0,J=Te&8191,X=Te>>>13,st=g[1]|0,N=st&8191,$=st>>>13,gt=g[2]|0,ft=gt&8191,mt=gt>>>13,vt=g[3]|0,At=vt&8191,_t=vt>>>13,Gt=g[4]|0,Rt=Gt&8191,wt=Gt>>>13,se=g[5]|0,Lt=se&8191,Et=se>>>13,de=g[6]|0,Pt=de&8191,Mt=de>>>13,K=g[7]|0,Y=K&8191,V=K>>>13,U=g[8]|0,W=U&8191,et=U>>>13,dt=g[9]|0,ut=dt&8191,ht=dt>>>13;f.negative=o.negative^a.negative,f.length=19,y=Math.imul(Z,J),u=Math.imul(Z,X),u=u+Math.imul(F,J)|0,b=Math.imul(F,X);var zt=(I+y|0)+((u&8191)<<13)|0;I=(b+(u>>>13)|0)+(zt>>>26)|0,zt&=67108863,y=Math.imul(it,J),u=Math.imul(it,X),u=u+Math.imul(at,J)|0,b=Math.imul(at,X),y=y+Math.imul(Z,N)|0,u=u+Math.imul(Z,$)|0,u=u+Math.imul(F,N)|0,b=b+Math.imul(F,$)|0;var Wt=(I+y|0)+((u&8191)<<13)|0;I=(b+(u>>>13)|0)+(Wt>>>26)|0,Wt&=67108863,y=Math.imul(yt,J),u=Math.imul(yt,X),u=u+Math.imul(pt,J)|0,b=Math.imul(pt,X),y=y+Math.imul(it,N)|0,u=u+Math.imul(it,$)|0,u=u+Math.imul(at,N)|0,b=b+Math.imul(at,$)|0,y=y+Math.imul(Z,ft)|0,u=u+Math.imul(Z,mt)|0,u=u+Math.imul(F,ft)|0,b=b+Math.imul(F,mt)|0;var ye=(I+y|0)+((u&8191)<<13)|0;I=(b+(u>>>13)|0)+(ye>>>26)|0,ye&=67108863,y=Math.imul(lt,J),u=Math.imul(lt,X),u=u+Math.imul(ct,J)|0,b=Math.imul(ct,X),y=y+Math.imul(yt,N)|0,u=u+Math.imul(yt,$)|0,u=u+Math.imul(pt,N)|0,b=b+Math.imul(pt,$)|0,y=y+Math.imul(it,ft)|0,u=u+Math.imul(it,mt)|0,u=u+Math.imul(at,ft)|0,b=b+Math.imul(at,mt)|0,y=y+Math.imul(Z,At)|0,u=u+Math.imul(Z,_t)|0,u=u+Math.imul(F,At)|0,b=b+Math.imul(F,_t)|0;var Yt=(I+y|0)+((u&8191)<<13)|0;I=(b+(u>>>13)|0)+(Yt>>>26)|0,Yt&=67108863,y=Math.imul(kt,J),u=Math.imul(kt,X),u=u+Math.imul(k,J)|0,b=Math.imul(k,X),y=y+Math.imul(lt,N)|0,u=u+Math.imul(lt,$)|0,u=u+Math.imul(ct,N)|0,b=b+Math.imul(ct,$)|0,y=y+Math.imul(yt,ft)|0,u=u+Math.imul(yt,mt)|0,u=u+Math.imul(pt,ft)|0,b=b+Math.imul(pt,mt)|0,y=y+Math.imul(it,At)|0,u=u+Math.imul(it,_t)|0,u=u+Math.imul(at,At)|0,b=b+Math.imul(at,_t)|0,y=y+Math.imul(Z,Rt)|0,u=u+Math.imul(Z,wt)|0,u=u+Math.imul(F,Rt)|0,b=b+Math.imul(F,wt)|0;var pe=(I+y|0)+((u&8191)<<13)|0;I=(b+(u>>>13)|0)+(pe>>>26)|0,pe&=67108863,y=Math.imul(L,J),u=Math.imul(L,X),u=u+Math.imul(j,J)|0,b=Math.imul(j,X),y=y+Math.imul(kt,N)|0,u=u+Math.imul(kt,$)|0,u=u+Math.imul(k,N)|0,b=b+Math.imul(k,$)|0,y=y+Math.imul(lt,ft)|0,u=u+Math.imul(lt,mt)|0,u=u+Math.imul(ct,ft)|0,b=b+Math.imul(ct,mt)|0,y=y+Math.imul(yt,At)|0,u=u+Math.imul(yt,_t)|0,u=u+Math.imul(pt,At)|0,b=b+Math.imul(pt,_t)|0,y=y+Math.imul(it,Rt)|0,u=u+Math.imul(it,wt)|0,u=u+Math.imul(at,Rt)|0,b=b+Math.imul(at,wt)|0,y=y+Math.imul(Z,Lt)|0,u=u+Math.imul(Z,Et)|0,u=u+Math.imul(F,Lt)|0,b=b+Math.imul(F,Et)|0;var ve=(I+y|0)+((u&8191)<<13)|0;I=(b+(u>>>13)|0)+(ve>>>26)|0,ve&=67108863,y=Math.imul(Q,J),u=Math.imul(Q,X),u=u+Math.imul(ot,J)|0,b=Math.imul(ot,X),y=y+Math.imul(L,N)|0,u=u+Math.imul(L,$)|0,u=u+Math.imul(j,N)|0,b=b+Math.imul(j,$)|0,y=y+Math.imul(kt,ft)|0,u=u+Math.imul(kt,mt)|0,u=u+Math.imul(k,ft)|0,b=b+Math.imul(k,mt)|0,y=y+Math.imul(lt,At)|0,u=u+Math.imul(lt,_t)|0,u=u+Math.imul(ct,At)|0,b=b+Math.imul(ct,_t)|0,y=y+Math.imul(yt,Rt)|0,u=u+Math.imul(yt,wt)|0,u=u+Math.imul(pt,Rt)|0,b=b+Math.imul(pt,wt)|0,y=y+Math.imul(it,Lt)|0,u=u+Math.imul(it,Et)|0,u=u+Math.imul(at,Lt)|0,b=b+Math.imul(at,Et)|0,y=y+Math.imul(Z,Pt)|0,u=u+Math.imul(Z,Mt)|0,u=u+Math.imul(F,Pt)|0,b=b+Math.imul(F,Mt)|0;var ge=(I+y|0)+((u&8191)<<13)|0;I=(b+(u>>>13)|0)+(ge>>>26)|0,ge&=67108863,y=Math.imul(It,J),u=Math.imul(It,X),u=u+Math.imul(xt,J)|0,b=Math.imul(xt,X),y=y+Math.imul(Q,N)|0,u=u+Math.imul(Q,$)|0,u=u+Math.imul(ot,N)|0,b=b+Math.imul(ot,$)|0,y=y+Math.imul(L,ft)|0,u=u+Math.imul(L,mt)|0,u=u+Math.imul(j,ft)|0,b=b+Math.imul(j,mt)|0,y=y+Math.imul(kt,At)|0,u=u+Math.imul(kt,_t)|0,u=u+Math.imul(k,At)|0,b=b+Math.imul(k,_t)|0,y=y+Math.imul(lt,Rt)|0,u=u+Math.imul(lt,wt)|0,u=u+Math.imul(ct,Rt)|0,b=b+Math.imul(ct,wt)|0,y=y+Math.imul(yt,Lt)|0,u=u+Math.imul(yt,Et)|0,u=u+Math.imul(pt,Lt)|0,b=b+Math.imul(pt,Et)|0,y=y+Math.imul(it,Pt)|0,u=u+Math.imul(it,Mt)|0,u=u+Math.imul(at,Pt)|0,b=b+Math.imul(at,Mt)|0,y=y+Math.imul(Z,Y)|0,u=u+Math.imul(Z,V)|0,u=u+Math.imul(F,Y)|0,b=b+Math.imul(F,V)|0;var ie=(I+y|0)+((u&8191)<<13)|0;I=(b+(u>>>13)|0)+(ie>>>26)|0,ie&=67108863,y=Math.imul(Ct,J),u=Math.imul(Ct,X),u=u+Math.imul(Dt,J)|0,b=Math.imul(Dt,X),y=y+Math.imul(It,N)|0,u=u+Math.imul(It,$)|0,u=u+Math.imul(xt,N)|0,b=b+Math.imul(xt,$)|0,y=y+Math.imul(Q,ft)|0,u=u+Math.imul(Q,mt)|0,u=u+Math.imul(ot,ft)|0,b=b+Math.imul(ot,mt)|0,y=y+Math.imul(L,At)|0,u=u+Math.imul(L,_t)|0,u=u+Math.imul(j,At)|0,b=b+Math.imul(j,_t)|0,y=y+Math.imul(kt,Rt)|0,u=u+Math.imul(kt,wt)|0,u=u+Math.imul(k,Rt)|0,b=b+Math.imul(k,wt)|0,y=y+Math.imul(lt,Lt)|0,u=u+Math.imul(lt,Et)|0,u=u+Math.imul(ct,Lt)|0,b=b+Math.imul(ct,Et)|0,y=y+Math.imul(yt,Pt)|0,u=u+Math.imul(yt,Mt)|0,u=u+Math.imul(pt,Pt)|0,b=b+Math.imul(pt,Mt)|0,y=y+Math.imul(it,Y)|0,u=u+Math.imul(it,V)|0,u=u+Math.imul(at,Y)|0,b=b+Math.imul(at,V)|0,y=y+Math.imul(Z,W)|0,u=u+Math.imul(Z,et)|0,u=u+Math.imul(F,W)|0,b=b+Math.imul(F,et)|0;var ue=(I+y|0)+((u&8191)<<13)|0;I=(b+(u>>>13)|0)+(ue>>>26)|0,ue&=67108863,y=Math.imul(te,J),u=Math.imul(te,X),u=u+Math.imul(Ut,J)|0,b=Math.imul(Ut,X),y=y+Math.imul(Ct,N)|0,u=u+Math.imul(Ct,$)|0,u=u+Math.imul(Dt,N)|0,b=b+Math.imul(Dt,$)|0,y=y+Math.imul(It,ft)|0,u=u+Math.imul(It,mt)|0,u=u+Math.imul(xt,ft)|0,b=b+Math.imul(xt,mt)|0,y=y+Math.imul(Q,At)|0,u=u+Math.imul(Q,_t)|0,u=u+Math.imul(ot,At)|0,b=b+Math.imul(ot,_t)|0,y=y+Math.imul(L,Rt)|0,u=u+Math.imul(L,wt)|0,u=u+Math.imul(j,Rt)|0,b=b+Math.imul(j,wt)|0,y=y+Math.imul(kt,Lt)|0,u=u+Math.imul(kt,Et)|0,u=u+Math.imul(k,Lt)|0,b=b+Math.imul(k,Et)|0,y=y+Math.imul(lt,Pt)|0,u=u+Math.imul(lt,Mt)|0,u=u+Math.imul(ct,Pt)|0,b=b+Math.imul(ct,Mt)|0,y=y+Math.imul(yt,Y)|0,u=u+Math.imul(yt,V)|0,u=u+Math.imul(pt,Y)|0,b=b+Math.imul(pt,V)|0,y=y+Math.imul(it,W)|0,u=u+Math.imul(it,et)|0,u=u+Math.imul(at,W)|0,b=b+Math.imul(at,et)|0,y=y+Math.imul(Z,ut)|0,u=u+Math.imul(Z,ht)|0,u=u+Math.imul(F,ut)|0,b=b+Math.imul(F,ht)|0;var fe=(I+y|0)+((u&8191)<<13)|0;I=(b+(u>>>13)|0)+(fe>>>26)|0,fe&=67108863,y=Math.imul(te,N),u=Math.imul(te,$),u=u+Math.imul(Ut,N)|0,b=Math.imul(Ut,$),y=y+Math.imul(Ct,ft)|0,u=u+Math.imul(Ct,mt)|0,u=u+Math.imul(Dt,ft)|0,b=b+Math.imul(Dt,mt)|0,y=y+Math.imul(It,At)|0,u=u+Math.imul(It,_t)|0,u=u+Math.imul(xt,At)|0,b=b+Math.imul(xt,_t)|0,y=y+Math.imul(Q,Rt)|0,u=u+Math.imul(Q,wt)|0,u=u+Math.imul(ot,Rt)|0,b=b+Math.imul(ot,wt)|0,y=y+Math.imul(L,Lt)|0,u=u+Math.imul(L,Et)|0,u=u+Math.imul(j,Lt)|0,b=b+Math.imul(j,Et)|0,y=y+Math.imul(kt,Pt)|0,u=u+Math.imul(kt,Mt)|0,u=u+Math.imul(k,Pt)|0,b=b+Math.imul(k,Mt)|0,y=y+Math.imul(lt,Y)|0,u=u+Math.imul(lt,V)|0,u=u+Math.imul(ct,Y)|0,b=b+Math.imul(ct,V)|0,y=y+Math.imul(yt,W)|0,u=u+Math.imul(yt,et)|0,u=u+Math.imul(pt,W)|0,b=b+Math.imul(pt,et)|0,y=y+Math.imul(it,ut)|0,u=u+Math.imul(it,ht)|0,u=u+Math.imul(at,ut)|0,b=b+Math.imul(at,ht)|0;var ce=(I+y|0)+((u&8191)<<13)|0;I=(b+(u>>>13)|0)+(ce>>>26)|0,ce&=67108863,y=Math.imul(te,ft),u=Math.imul(te,mt),u=u+Math.imul(Ut,ft)|0,b=Math.imul(Ut,mt),y=y+Math.imul(Ct,At)|0,u=u+Math.imul(Ct,_t)|0,u=u+Math.imul(Dt,At)|0,b=b+Math.imul(Dt,_t)|0,y=y+Math.imul(It,Rt)|0,u=u+Math.imul(It,wt)|0,u=u+Math.imul(xt,Rt)|0,b=b+Math.imul(xt,wt)|0,y=y+Math.imul(Q,Lt)|0,u=u+Math.imul(Q,Et)|0,u=u+Math.imul(ot,Lt)|0,b=b+Math.imul(ot,Et)|0,y=y+Math.imul(L,Pt)|0,u=u+Math.imul(L,Mt)|0,u=u+Math.imul(j,Pt)|0,b=b+Math.imul(j,Mt)|0,y=y+Math.imul(kt,Y)|0,u=u+Math.imul(kt,V)|0,u=u+Math.imul(k,Y)|0,b=b+Math.imul(k,V)|0,y=y+Math.imul(lt,W)|0,u=u+Math.imul(lt,et)|0,u=u+Math.imul(ct,W)|0,b=b+Math.imul(ct,et)|0,y=y+Math.imul(yt,ut)|0,u=u+Math.imul(yt,ht)|0,u=u+Math.imul(pt,ut)|0,b=b+Math.imul(pt,ht)|0;var Kt=(I+y|0)+((u&8191)<<13)|0;I=(b+(u>>>13)|0)+(Kt>>>26)|0,Kt&=67108863,y=Math.imul(te,At),u=Math.imul(te,_t),u=u+Math.imul(Ut,At)|0,b=Math.imul(Ut,_t),y=y+Math.imul(Ct,Rt)|0,u=u+Math.imul(Ct,wt)|0,u=u+Math.imul(Dt,Rt)|0,b=b+Math.imul(Dt,wt)|0,y=y+Math.imul(It,Lt)|0,u=u+Math.imul(It,Et)|0,u=u+Math.imul(xt,Lt)|0,b=b+Math.imul(xt,Et)|0,y=y+Math.imul(Q,Pt)|0,u=u+Math.imul(Q,Mt)|0,u=u+Math.imul(ot,Pt)|0,b=b+Math.imul(ot,Mt)|0,y=y+Math.imul(L,Y)|0,u=u+Math.imul(L,V)|0,u=u+Math.imul(j,Y)|0,b=b+Math.imul(j,V)|0,y=y+Math.imul(kt,W)|0,u=u+Math.imul(kt,et)|0,u=u+Math.imul(k,W)|0,b=b+Math.imul(k,et)|0,y=y+Math.imul(lt,ut)|0,u=u+Math.imul(lt,ht)|0,u=u+Math.imul(ct,ut)|0,b=b+Math.imul(ct,ht)|0;var oe=(I+y|0)+((u&8191)<<13)|0;I=(b+(u>>>13)|0)+(oe>>>26)|0,oe&=67108863,y=Math.imul(te,Rt),u=Math.imul(te,wt),u=u+Math.imul(Ut,Rt)|0,b=Math.imul(Ut,wt),y=y+Math.imul(Ct,Lt)|0,u=u+Math.imul(Ct,Et)|0,u=u+Math.imul(Dt,Lt)|0,b=b+Math.imul(Dt,Et)|0,y=y+Math.imul(It,Pt)|0,u=u+Math.imul(It,Mt)|0,u=u+Math.imul(xt,Pt)|0,b=b+Math.imul(xt,Mt)|0,y=y+Math.imul(Q,Y)|0,u=u+Math.imul(Q,V)|0,u=u+Math.imul(ot,Y)|0,b=b+Math.imul(ot,V)|0,y=y+Math.imul(L,W)|0,u=u+Math.imul(L,et)|0,u=u+Math.imul(j,W)|0,b=b+Math.imul(j,et)|0,y=y+Math.imul(kt,ut)|0,u=u+Math.imul(kt,ht)|0,u=u+Math.imul(k,ut)|0,b=b+Math.imul(k,ht)|0;var Jt=(I+y|0)+((u&8191)<<13)|0;I=(b+(u>>>13)|0)+(Jt>>>26)|0,Jt&=67108863,y=Math.imul(te,Lt),u=Math.imul(te,Et),u=u+Math.imul(Ut,Lt)|0,b=Math.imul(Ut,Et),y=y+Math.imul(Ct,Pt)|0,u=u+Math.imul(Ct,Mt)|0,u=u+Math.imul(Dt,Pt)|0,b=b+Math.imul(Dt,Mt)|0,y=y+Math.imul(It,Y)|0,u=u+Math.imul(It,V)|0,u=u+Math.imul(xt,Y)|0,b=b+Math.imul(xt,V)|0,y=y+Math.imul(Q,W)|0,u=u+Math.imul(Q,et)|0,u=u+Math.imul(ot,W)|0,b=b+Math.imul(ot,et)|0,y=y+Math.imul(L,ut)|0,u=u+Math.imul(L,ht)|0,u=u+Math.imul(j,ut)|0,b=b+Math.imul(j,ht)|0;var le=(I+y|0)+((u&8191)<<13)|0;I=(b+(u>>>13)|0)+(le>>>26)|0,le&=67108863,y=Math.imul(te,Pt),u=Math.imul(te,Mt),u=u+Math.imul(Ut,Pt)|0,b=Math.imul(Ut,Mt),y=y+Math.imul(Ct,Y)|0,u=u+Math.imul(Ct,V)|0,u=u+Math.imul(Dt,Y)|0,b=b+Math.imul(Dt,V)|0,y=y+Math.imul(It,W)|0,u=u+Math.imul(It,et)|0,u=u+Math.imul(xt,W)|0,b=b+Math.imul(xt,et)|0,y=y+Math.imul(Q,ut)|0,u=u+Math.imul(Q,ht)|0,u=u+Math.imul(ot,ut)|0,b=b+Math.imul(ot,ht)|0;var ae=(I+y|0)+((u&8191)<<13)|0;I=(b+(u>>>13)|0)+(ae>>>26)|0,ae&=67108863,y=Math.imul(te,Y),u=Math.imul(te,V),u=u+Math.imul(Ut,Y)|0,b=Math.imul(Ut,V),y=y+Math.imul(Ct,W)|0,u=u+Math.imul(Ct,et)|0,u=u+Math.imul(Dt,W)|0,b=b+Math.imul(Dt,et)|0,y=y+Math.imul(It,ut)|0,u=u+Math.imul(It,ht)|0,u=u+Math.imul(xt,ut)|0,b=b+Math.imul(xt,ht)|0;var ne=(I+y|0)+((u&8191)<<13)|0;I=(b+(u>>>13)|0)+(ne>>>26)|0,ne&=67108863,y=Math.imul(te,W),u=Math.imul(te,et),u=u+Math.imul(Ut,W)|0,b=Math.imul(Ut,et),y=y+Math.imul(Ct,ut)|0,u=u+Math.imul(Ct,ht)|0,u=u+Math.imul(Dt,ut)|0,b=b+Math.imul(Dt,ht)|0;var Ot=(I+y|0)+((u&8191)<<13)|0;I=(b+(u>>>13)|0)+(Ot>>>26)|0,Ot&=67108863,y=Math.imul(te,ut),u=Math.imul(te,ht),u=u+Math.imul(Ut,ut)|0,b=Math.imul(Ut,ht);var Nt=(I+y|0)+((u&8191)<<13)|0;return I=(b+(u>>>13)|0)+(Nt>>>26)|0,Nt&=67108863,S[0]=zt,S[1]=Wt,S[2]=ye,S[3]=Yt,S[4]=pe,S[5]=ve,S[6]=ge,S[7]=ie,S[8]=ue,S[9]=fe,S[10]=ce,S[11]=Kt,S[12]=oe,S[13]=Jt,S[14]=le,S[15]=ae,S[16]=ne,S[17]=Ot,S[18]=Nt,I!==0&&(S[19]=I,f.length++),f};Math.imul||(A=x);function B(d,o,a){a.negative=o.negative^d.negative,a.length=d.length+o.length;for(var f=0,h=0,g=0;g<a.length-1;g++){var S=h;h=0;for(var I=f&67108863,y=Math.min(g,o.length-1),u=Math.max(0,g-d.length+1);u<=y;u++){var b=g-u,D=d.words[b]|0,Z=o.words[u]|0,F=D*Z,q=F&67108863;S=S+(F/67108864|0)|0,q=q+I|0,I=q&67108863,S=S+(q>>>26)|0,h+=S>>>26,S&=67108863}a.words[g]=I,f=S,S=h}return f!==0?a.words[g]=f:a.length--,a.strip()}function P(d,o,a){var f=new R;return f.mulp(d,o,a)}i.prototype.mulTo=function(o,a){var f,h=this.length+o.length;return this.length===10&&o.length===10?f=A(this,o,a):h<63?f=x(this,o,a):h<1024?f=B(this,o,a):f=P(this,o,a),f};function R(d,o){this.x=d,this.y=o}R.prototype.makeRBT=function(o){for(var a=new Array(o),f=i.prototype._countBits(o)-1,h=0;h<o;h++)a[h]=this.revBin(h,f,o);return a},R.prototype.revBin=function(o,a,f){if(o===0||o===f-1)return o;for(var h=0,g=0;g<a;g++)h|=(o&1)<<a-g-1,o>>=1;return h},R.prototype.permute=function(o,a,f,h,g,S){for(var I=0;I<S;I++)h[I]=a[o[I]],g[I]=f[o[I]]},R.prototype.transform=function(o,a,f,h,g,S){this.permute(S,o,a,f,h,g);for(var I=1;I<g;I<<=1)for(var y=I<<1,u=Math.cos(2*Math.PI/y),b=Math.sin(2*Math.PI/y),D=0;D<g;D+=y)for(var Z=u,F=b,q=0;q<I;q++){var it=f[D+q],at=h[D+q],Bt=f[D+q+I],yt=h[D+q+I],pt=Z*Bt-F*yt;yt=Z*yt+F*Bt,Bt=pt,f[D+q]=it+Bt,h[D+q]=at+yt,f[D+q+I]=it-Bt,h[D+q+I]=at-yt,q!==y&&(pt=u*Z-b*F,F=u*F+b*Z,Z=pt)}},R.prototype.guessLen13b=function(o,a){var f=Math.max(a,o)|1,h=f&1,g=0;for(f=f/2|0;f;f=f>>>1)g++;return 1<<g+1+h},R.prototype.conjugate=function(o,a,f){if(!(f<=1))for(var h=0;h<f/2;h++){var g=o[h];o[h]=o[f-h-1],o[f-h-1]=g,g=a[h],a[h]=-a[f-h-1],a[f-h-1]=-g}},R.prototype.normalize13b=function(o,a){for(var f=0,h=0;h<a/2;h++){var g=Math.round(o[2*h+1]/a)*8192+Math.round(o[2*h]/a)+f;o[h]=g&67108863,g<67108864?f=0:f=g/67108864|0}return o},R.prototype.convert13b=function(o,a,f,h){for(var g=0,S=0;S<a;S++)g=g+(o[S]|0),f[2*S]=g&8191,g=g>>>13,f[2*S+1]=g&8191,g=g>>>13;for(S=2*a;S<h;++S)f[S]=0;n(g===0),n((g&-8192)===0)},R.prototype.stub=function(o){for(var a=new Array(o),f=0;f<o;f++)a[f]=0;return a},R.prototype.mulp=function(o,a,f){var h=2*this.guessLen13b(o.length,a.length),g=this.makeRBT(h),S=this.stub(h),I=new Array(h),y=new Array(h),u=new Array(h),b=new Array(h),D=new Array(h),Z=new Array(h),F=f.words;F.length=h,this.convert13b(o.words,o.length,I,h),this.convert13b(a.words,a.length,b,h),this.transform(I,S,y,u,h,g),this.transform(b,S,D,Z,h,g);for(var q=0;q<h;q++){var it=y[q]*D[q]-u[q]*Z[q];u[q]=y[q]*Z[q]+u[q]*D[q],y[q]=it}return this.conjugate(y,u,h),this.transform(y,u,F,S,h,g),this.conjugate(F,S,h),this.normalize13b(F,h),f.negative=o.negative^a.negative,f.length=o.length+a.length,f.strip()},i.prototype.mul=function(o){var a=new i(null);return a.words=new Array(this.length+o.length),this.mulTo(o,a)},i.prototype.mulf=function(o){var a=new i(null);return a.words=new Array(this.length+o.length),P(this,o,a)},i.prototype.imul=function(o){return this.clone().mulTo(o,this)},i.prototype.imuln=function(o){n(typeof o=="number"),n(o<67108864);for(var a=0,f=0;f<this.length;f++){var h=(this.words[f]|0)*o,g=(h&67108863)+(a&67108863);a>>=26,a+=h/67108864|0,a+=g>>>26,this.words[f]=g&67108863}return a!==0&&(this.words[f]=a,this.length++),this},i.prototype.muln=function(o){return this.clone().imuln(o)},i.prototype.sqr=function(){return this.mul(this)},i.prototype.isqr=function(){return this.imul(this.clone())},i.prototype.pow=function(o){var a=w(o);if(a.length===0)return new i(1);for(var f=this,h=0;h<a.length&&a[h]===0;h++,f=f.sqr());if(++h<a.length)for(var g=f.sqr();h<a.length;h++,g=g.sqr())a[h]!==0&&(f=f.mul(g));return f},i.prototype.iushln=function(o){n(typeof o=="number"&&o>=0);var a=o%26,f=(o-a)/26,h=67108863>>>26-a<<26-a,g;if(a!==0){var S=0;for(g=0;g<this.length;g++){var I=this.words[g]&h,y=(this.words[g]|0)-I<<a;this.words[g]=y|S,S=I>>>26-a}S&&(this.words[g]=S,this.length++)}if(f!==0){for(g=this.length-1;g>=0;g--)this.words[g+f]=this.words[g];for(g=0;g<f;g++)this.words[g]=0;this.length+=f}return this.strip()},i.prototype.ishln=function(o){return n(this.negative===0),this.iushln(o)},i.prototype.iushrn=function(o,a,f){n(typeof o=="number"&&o>=0);var h;a?h=(a-a%26)/26:h=0;var g=o%26,S=Math.min((o-g)/26,this.length),I=67108863^67108863>>>g<<g,y=f;if(h-=S,h=Math.max(0,h),y){for(var u=0;u<S;u++)y.words[u]=this.words[u];y.length=S}if(S!==0)if(this.length>S)for(this.length-=S,u=0;u<this.length;u++)this.words[u]=this.words[u+S];else this.words[0]=0,this.length=1;var b=0;for(u=this.length-1;u>=0&&(b!==0||u>=h);u--){var D=this.words[u]|0;this.words[u]=b<<26-g|D>>>g,b=D&I}return y&&b!==0&&(y.words[y.length++]=b),this.length===0&&(this.words[0]=0,this.length=1),this.strip()},i.prototype.ishrn=function(o,a,f){return n(this.negative===0),this.iushrn(o,a,f)},i.prototype.shln=function(o){return this.clone().ishln(o)},i.prototype.ushln=function(o){return this.clone().iushln(o)},i.prototype.shrn=function(o){return this.clone().ishrn(o)},i.prototype.ushrn=function(o){return this.clone().iushrn(o)},i.prototype.testn=function(o){n(typeof o=="number"&&o>=0);var a=o%26,f=(o-a)/26,h=1<<a;if(this.length<=f)return!1;var g=this.words[f];return!!(g&h)},i.prototype.imaskn=function(o){n(typeof o=="number"&&o>=0);var a=o%26,f=(o-a)/26;if(n(this.negative===0,"imaskn works only with positive numbers"),this.length<=f)return this;if(a!==0&&f++,this.length=Math.min(f,this.length),a!==0){var h=67108863^67108863>>>a<<a;this.words[this.length-1]&=h}return this.strip()},i.prototype.maskn=function(o){return this.clone().imaskn(o)},i.prototype.iaddn=function(o){return n(typeof o=="number"),n(o<67108864),o<0?this.isubn(-o):this.negative!==0?this.length===1&&(this.words[0]|0)<o?(this.words[0]=o-(this.words[0]|0),this.negative=0,this):(this.negative=0,this.isubn(o),this.negative=1,this):this._iaddn(o)},i.prototype._iaddn=function(o){this.words[0]+=o;for(var a=0;a<this.length&&this.words[a]>=67108864;a++)this.words[a]-=67108864,a===this.length-1?this.words[a+1]=1:this.words[a+1]++;return this.length=Math.max(this.length,a+1),this},i.prototype.isubn=function(o){if(n(typeof o=="number"),n(o<67108864),o<0)return this.iaddn(-o);if(this.negative!==0)return this.negative=0,this.iaddn(o),this.negative=1,this;if(this.words[0]-=o,this.length===1&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var a=0;a<this.length&&this.words[a]<0;a++)this.words[a]+=67108864,this.words[a+1]-=1;return this.strip()},i.prototype.addn=function(o){return this.clone().iaddn(o)},i.prototype.subn=function(o){return this.clone().isubn(o)},i.prototype.iabs=function(){return this.negative=0,this},i.prototype.abs=function(){return this.clone().iabs()},i.prototype._ishlnsubmul=function(o,a,f){var h=o.length+f,g;this._expand(h);var S,I=0;for(g=0;g<o.length;g++){S=(this.words[g+f]|0)+I;var y=(o.words[g]|0)*a;S-=y&67108863,I=(S>>26)-(y/67108864|0),this.words[g+f]=S&67108863}for(;g<this.length-f;g++)S=(this.words[g+f]|0)+I,I=S>>26,this.words[g+f]=S&67108863;if(I===0)return this.strip();for(n(I===-1),I=0,g=0;g<this.length;g++)S=-(this.words[g]|0)+I,I=S>>26,this.words[g]=S&67108863;return this.negative=1,this.strip()},i.prototype._wordDiv=function(o,a){var f=this.length-o.length,h=this.clone(),g=o,S=g.words[g.length-1]|0,I=this._countBits(S);f=26-I,f!==0&&(g=g.ushln(f),h.iushln(f),S=g.words[g.length-1]|0);var y=h.length-g.length,u;if(a!=="mod"){u=new i(null),u.length=y+1,u.words=new Array(u.length);for(var b=0;b<u.length;b++)u.words[b]=0}var D=h.clone()._ishlnsubmul(g,1,y);D.negative===0&&(h=D,u&&(u.words[y]=1));for(var Z=y-1;Z>=0;Z--){var F=(h.words[g.length+Z]|0)*67108864+(h.words[g.length+Z-1]|0);for(F=Math.min(F/S|0,67108863),h._ishlnsubmul(g,F,Z);h.negative!==0;)F--,h.negative=0,h._ishlnsubmul(g,1,Z),h.isZero()||(h.negative^=1);u&&(u.words[Z]=F)}return u&&u.strip(),h.strip(),a!=="div"&&f!==0&&h.iushrn(f),{div:u||null,mod:h}},i.prototype.divmod=function(o,a,f){if(n(!o.isZero()),this.isZero())return{div:new i(0),mod:new i(0)};var h,g,S;return this.negative!==0&&o.negative===0?(S=this.neg().divmod(o,a),a!=="mod"&&(h=S.div.neg()),a!=="div"&&(g=S.mod.neg(),f&&g.negative!==0&&g.iadd(o)),{div:h,mod:g}):this.negative===0&&o.negative!==0?(S=this.divmod(o.neg(),a),a!=="mod"&&(h=S.div.neg()),{div:h,mod:S.mod}):this.negative&o.negative?(S=this.neg().divmod(o.neg(),a),a!=="div"&&(g=S.mod.neg(),f&&g.negative!==0&&g.isub(o)),{div:S.div,mod:g}):o.length>this.length||this.cmp(o)<0?{div:new i(0),mod:this}:o.length===1?a==="div"?{div:this.divn(o.words[0]),mod:null}:a==="mod"?{div:null,mod:new i(this.modn(o.words[0]))}:{div:this.divn(o.words[0]),mod:new i(this.modn(o.words[0]))}:this._wordDiv(o,a)},i.prototype.div=function(o){return this.divmod(o,"div",!1).div},i.prototype.mod=function(o){return this.divmod(o,"mod",!1).mod},i.prototype.umod=function(o){return this.divmod(o,"mod",!0).mod},i.prototype.divRound=function(o){var a=this.divmod(o);if(a.mod.isZero())return a.div;var f=a.div.negative!==0?a.mod.isub(o):a.mod,h=o.ushrn(1),g=o.andln(1),S=f.cmp(h);return S<0||g===1&&S===0?a.div:a.div.negative!==0?a.div.isubn(1):a.div.iaddn(1)},i.prototype.modn=function(o){n(o<=67108863);for(var a=(1<<26)%o,f=0,h=this.length-1;h>=0;h--)f=(a*f+(this.words[h]|0))%o;return f},i.prototype.idivn=function(o){n(o<=67108863);for(var a=0,f=this.length-1;f>=0;f--){var h=(this.words[f]|0)+a*67108864;this.words[f]=h/o|0,a=h%o}return this.strip()},i.prototype.divn=function(o){return this.clone().idivn(o)},i.prototype.egcd=function(o){n(o.negative===0),n(!o.isZero());var a=this,f=o.clone();a.negative!==0?a=a.umod(o):a=a.clone();for(var h=new i(1),g=new i(0),S=new i(0),I=new i(1),y=0;a.isEven()&&f.isEven();)a.iushrn(1),f.iushrn(1),++y;for(var u=f.clone(),b=a.clone();!a.isZero();){for(var D=0,Z=1;!(a.words[0]&Z)&&D<26;++D,Z<<=1);if(D>0)for(a.iushrn(D);D-- >0;)(h.isOdd()||g.isOdd())&&(h.iadd(u),g.isub(b)),h.iushrn(1),g.iushrn(1);for(var F=0,q=1;!(f.words[0]&q)&&F<26;++F,q<<=1);if(F>0)for(f.iushrn(F);F-- >0;)(S.isOdd()||I.isOdd())&&(S.iadd(u),I.isub(b)),S.iushrn(1),I.iushrn(1);a.cmp(f)>=0?(a.isub(f),h.isub(S),g.isub(I)):(f.isub(a),S.isub(h),I.isub(g))}return{a:S,b:I,gcd:f.iushln(y)}},i.prototype._invmp=function(o){n(o.negative===0),n(!o.isZero());var a=this,f=o.clone();a.negative!==0?a=a.umod(o):a=a.clone();for(var h=new i(1),g=new i(0),S=f.clone();a.cmpn(1)>0&&f.cmpn(1)>0;){for(var I=0,y=1;!(a.words[0]&y)&&I<26;++I,y<<=1);if(I>0)for(a.iushrn(I);I-- >0;)h.isOdd()&&h.iadd(S),h.iushrn(1);for(var u=0,b=1;!(f.words[0]&b)&&u<26;++u,b<<=1);if(u>0)for(f.iushrn(u);u-- >0;)g.isOdd()&&g.iadd(S),g.iushrn(1);a.cmp(f)>=0?(a.isub(f),h.isub(g)):(f.isub(a),g.isub(h))}var D;return a.cmpn(1)===0?D=h:D=g,D.cmpn(0)<0&&D.iadd(o),D},i.prototype.gcd=function(o){if(this.isZero())return o.abs();if(o.isZero())return this.abs();var a=this.clone(),f=o.clone();a.negative=0,f.negative=0;for(var h=0;a.isEven()&&f.isEven();h++)a.iushrn(1),f.iushrn(1);do{for(;a.isEven();)a.iushrn(1);for(;f.isEven();)f.iushrn(1);var g=a.cmp(f);if(g<0){var S=a;a=f,f=S}else if(g===0||f.cmpn(1)===0)break;a.isub(f)}while(!0);return f.iushln(h)},i.prototype.invm=function(o){return this.egcd(o).a.umod(o)},i.prototype.isEven=function(){return(this.words[0]&1)===0},i.prototype.isOdd=function(){return(this.words[0]&1)===1},i.prototype.andln=function(o){return this.words[0]&o},i.prototype.bincn=function(o){n(typeof o=="number");var a=o%26,f=(o-a)/26,h=1<<a;if(this.length<=f)return this._expand(f+1),this.words[f]|=h,this;for(var g=h,S=f;g!==0&&S<this.length;S++){var I=this.words[S]|0;I+=g,g=I>>>26,I&=67108863,this.words[S]=I}return g!==0&&(this.words[S]=g,this.length++),this},i.prototype.isZero=function(){return this.length===1&&this.words[0]===0},i.prototype.cmpn=function(o){var a=o<0;if(this.negative!==0&&!a)return-1;if(this.negative===0&&a)return 1;this.strip();var f;if(this.length>1)f=1;else{a&&(o=-o),n(o<=67108863,"Number is too big");var h=this.words[0]|0;f=h===o?0:h<o?-1:1}return this.negative!==0?-f|0:f},i.prototype.cmp=function(o){if(this.negative!==0&&o.negative===0)return-1;if(this.negative===0&&o.negative!==0)return 1;var a=this.ucmp(o);return this.negative!==0?-a|0:a},i.prototype.ucmp=function(o){if(this.length>o.length)return 1;if(this.length<o.length)return-1;for(var a=0,f=this.length-1;f>=0;f--){var h=this.words[f]|0,g=o.words[f]|0;if(h!==g){h<g?a=-1:h>g&&(a=1);break}}return a},i.prototype.gtn=function(o){return this.cmpn(o)===1},i.prototype.gt=function(o){return this.cmp(o)===1},i.prototype.gten=function(o){return this.cmpn(o)>=0},i.prototype.gte=function(o){return this.cmp(o)>=0},i.prototype.ltn=function(o){return this.cmpn(o)===-1},i.prototype.lt=function(o){return this.cmp(o)===-1},i.prototype.lten=function(o){return this.cmpn(o)<=0},i.prototype.lte=function(o){return this.cmp(o)<=0},i.prototype.eqn=function(o){return this.cmpn(o)===0},i.prototype.eq=function(o){return this.cmp(o)===0},i.red=function(o){return new G(o)},i.prototype.toRed=function(o){return n(!this.red,"Already a number in reduction context"),n(this.negative===0,"red works only with positives"),o.convertTo(this)._forceRed(o)},i.prototype.fromRed=function(){return n(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},i.prototype._forceRed=function(o){return this.red=o,this},i.prototype.forceRed=function(o){return n(!this.red,"Already a number in reduction context"),this._forceRed(o)},i.prototype.redAdd=function(o){return n(this.red,"redAdd works only with red numbers"),this.red.add(this,o)},i.prototype.redIAdd=function(o){return n(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,o)},i.prototype.redSub=function(o){return n(this.red,"redSub works only with red numbers"),this.red.sub(this,o)},i.prototype.redISub=function(o){return n(this.red,"redISub works only with red numbers"),this.red.isub(this,o)},i.prototype.redShl=function(o){return n(this.red,"redShl works only with red numbers"),this.red.shl(this,o)},i.prototype.redMul=function(o){return n(this.red,"redMul works only with red numbers"),this.red._verify2(this,o),this.red.mul(this,o)},i.prototype.redIMul=function(o){return n(this.red,"redMul works only with red numbers"),this.red._verify2(this,o),this.red.imul(this,o)},i.prototype.redSqr=function(){return n(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},i.prototype.redISqr=function(){return n(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},i.prototype.redSqrt=function(){return n(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},i.prototype.redInvm=function(){return n(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},i.prototype.redNeg=function(){return n(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},i.prototype.redPow=function(o){return n(this.red&&!o.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,o)};var C={k256:null,p224:null,p192:null,p25519:null};function O(d,o){this.name=d,this.p=new i(o,16),this.n=this.p.bitLength(),this.k=new i(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}O.prototype._tmp=function(){var o=new i(null);return o.words=new Array(Math.ceil(this.n/13)),o},O.prototype.ireduce=function(o){var a=o,f;do this.split(a,this.tmp),a=this.imulK(a),a=a.iadd(this.tmp),f=a.bitLength();while(f>this.n);var h=f<this.n?-1:a.ucmp(this.p);return h===0?(a.words[0]=0,a.length=1):h>0?a.isub(this.p):a.strip!==void 0?a.strip():a._strip(),a},O.prototype.split=function(o,a){o.iushrn(this.n,0,a)},O.prototype.imulK=function(o){return o.imul(this.k)};function z(){O.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}s(z,O),z.prototype.split=function(o,a){for(var f=4194303,h=Math.min(o.length,9),g=0;g<h;g++)a.words[g]=o.words[g];if(a.length=h,o.length<=9){o.words[0]=0,o.length=1;return}var S=o.words[9];for(a.words[a.length++]=S&f,g=10;g<o.length;g++){var I=o.words[g]|0;o.words[g-10]=(I&f)<<4|S>>>22,S=I}S>>>=22,o.words[g-10]=S,S===0&&o.length>10?o.length-=10:o.length-=9},z.prototype.imulK=function(o){o.words[o.length]=0,o.words[o.length+1]=0,o.length+=2;for(var a=0,f=0;f<o.length;f++){var h=o.words[f]|0;a+=h*977,o.words[f]=a&67108863,a=h*64+(a/67108864|0)}return o.words[o.length-1]===0&&(o.length--,o.words[o.length-1]===0&&o.length--),o};function H(){O.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}s(H,O);function tt(){O.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}s(tt,O);function nt(){O.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}s(nt,O),nt.prototype.imulK=function(o){for(var a=0,f=0;f<o.length;f++){var h=(o.words[f]|0)*19+a,g=h&67108863;h>>>=26,o.words[f]=g,a=h}return a!==0&&(o.words[o.length++]=a),o},i._prime=function(o){if(C[o])return C[o];var a;if(o==="k256")a=new z;else if(o==="p224")a=new H;else if(o==="p192")a=new tt;else if(o==="p25519")a=new nt;else throw new Error("Unknown prime "+o);return C[o]=a,a};function G(d){if(typeof d=="string"){var o=i._prime(d);this.m=o.p,this.prime=o}else n(d.gtn(1),"modulus must be greater than 1"),this.m=d,this.prime=null}G.prototype._verify1=function(o){n(o.negative===0,"red works only with positives"),n(o.red,"red works only with red numbers")},G.prototype._verify2=function(o,a){n((o.negative|a.negative)===0,"red works only with positives"),n(o.red&&o.red===a.red,"red works only with red numbers")},G.prototype.imod=function(o){return this.prime?this.prime.ireduce(o)._forceRed(this):o.umod(this.m)._forceRed(this)},G.prototype.neg=function(o){return o.isZero()?o.clone():this.m.sub(o)._forceRed(this)},G.prototype.add=function(o,a){this._verify2(o,a);var f=o.add(a);return f.cmp(this.m)>=0&&f.isub(this.m),f._forceRed(this)},G.prototype.iadd=function(o,a){this._verify2(o,a);var f=o.iadd(a);return f.cmp(this.m)>=0&&f.isub(this.m),f},G.prototype.sub=function(o,a){this._verify2(o,a);var f=o.sub(a);return f.cmpn(0)<0&&f.iadd(this.m),f._forceRed(this)},G.prototype.isub=function(o,a){this._verify2(o,a);var f=o.isub(a);return f.cmpn(0)<0&&f.iadd(this.m),f},G.prototype.shl=function(o,a){return this._verify1(o),this.imod(o.ushln(a))},G.prototype.imul=function(o,a){return this._verify2(o,a),this.imod(o.imul(a))},G.prototype.mul=function(o,a){return this._verify2(o,a),this.imod(o.mul(a))},G.prototype.isqr=function(o){return this.imul(o,o.clone())},G.prototype.sqr=function(o){return this.mul(o,o)},G.prototype.sqrt=function(o){if(o.isZero())return o.clone();var a=this.m.andln(3);if(n(a%2===1),a===3){var f=this.m.add(new i(1)).iushrn(2);return this.pow(o,f)}for(var h=this.m.subn(1),g=0;!h.isZero()&&h.andln(1)===0;)g++,h.iushrn(1);n(!h.isZero());var S=new i(1).toRed(this),I=S.redNeg(),y=this.m.subn(1).iushrn(1),u=this.m.bitLength();for(u=new i(2*u*u).toRed(this);this.pow(u,y).cmp(I)!==0;)u.redIAdd(I);for(var b=this.pow(u,h),D=this.pow(o,h.addn(1).iushrn(1)),Z=this.pow(o,h),F=g;Z.cmp(S)!==0;){for(var q=Z,it=0;q.cmp(S)!==0;it++)q=q.redSqr();n(it<F);var at=this.pow(b,new i(1).iushln(F-it-1));D=D.redMul(at),b=at.redSqr(),Z=Z.redMul(b),F=it}return D},G.prototype.invm=function(o){var a=o._invmp(this.m);return a.negative!==0?(a.negative=0,this.imod(a).redNeg()):this.imod(a)},G.prototype.pow=function(o,a){if(a.isZero())return new i(1).toRed(this);if(a.cmpn(1)===0)return o.clone();var f=4,h=new Array(1<<f);h[0]=new i(1).toRed(this),h[1]=o;for(var g=2;g<h.length;g++)h[g]=this.mul(h[g-1],o);var S=h[0],I=0,y=0,u=a.bitLength()%26;for(u===0&&(u=26),g=a.length-1;g>=0;g--){for(var b=a.words[g],D=u-1;D>=0;D--){var Z=b>>D&1;if(S!==h[0]&&(S=this.sqr(S)),Z===0&&I===0){y=0;continue}I<<=1,I|=Z,y++,!(y!==f&&(g!==0||D!==0))&&(S=this.mul(S,h[I]),y=0,I=0)}u=26}return S},G.prototype.convertTo=function(o){var a=o.umod(this.m);return a===o?a.clone():a},G.prototype.convertFrom=function(o){var a=o.clone();return a.red=null,a},i.mont=function(o){return new M(o)};function M(d){G.call(this,d),this.shift=this.m.bitLength(),this.shift%26!==0&&(this.shift+=26-this.shift%26),this.r=new i(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}s(M,G),M.prototype.convertTo=function(o){return this.imod(o.ushln(this.shift))},M.prototype.convertFrom=function(o){var a=this.imod(o.mul(this.rinv));return a.red=null,a},M.prototype.imul=function(o,a){if(o.isZero()||a.isZero())return o.words[0]=0,o.length=1,o;var f=o.imul(a),h=f.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),g=f.isub(h).iushrn(this.shift),S=g;return g.cmp(this.m)>=0?S=g.isub(this.m):g.cmpn(0)<0&&(S=g.iadd(this.m)),S._forceRed(this)},M.prototype.mul=function(o,a){if(o.isZero()||a.isZero())return new i(0)._forceRed(this);var f=o.mul(a),h=f.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),g=f.isub(h).iushrn(this.shift),S=g;return g.cmp(this.m)>=0?S=g.isub(this.m):g.cmpn(0)<0&&(S=g.iadd(this.m)),S._forceRed(this)},M.prototype.invm=function(o){var a=this.imod(o._invmp(this.m).mul(this.r2));return a._forceRed(this)}})(r,Re)}(F0)),F0.exports}var x1={},Ew;function S_(){return Ew||(Ew=1,function(r){var t=r;function e(i,c){if(Array.isArray(i))return i.slice();if(!i)return[];var l=[];if(typeof i!="string"){for(var p=0;p<i.length;p++)l[p]=i[p]|0;return l}if(c==="hex"){i=i.replace(/[^a-z0-9]+/ig,""),i.length%2!==0&&(i="0"+i);for(var p=0;p<i.length;p+=2)l.push(parseInt(i[p]+i[p+1],16))}else for(var p=0;p<i.length;p++){var m=i.charCodeAt(p),v=m>>8,_=m&255;v?l.push(v,_):l.push(_)}return l}t.toArray=e;function n(i){return i.length===1?"0"+i:i}t.zero2=n;function s(i){for(var c="",l=0;l<i.length;l++)c+=n(i[l].toString(16));return c}t.toHex=s,t.encode=function(c,l){return l==="hex"?s(c):c}}(x1)),x1}var Aw;function Wi(){return Aw||(Aw=1,function(r){var t=r,e=Is(),n=Zi,s=S_();t.assert=n,t.toArray=s.toArray,t.zero2=s.zero2,t.toHex=s.toHex,t.encode=s.encode;function i(v,_,E){var w=new Array(Math.max(v.bitLength(),E)+1);w.fill(0);for(var x=1<<_+1,A=v.clone(),B=0;B<w.length;B++){var P,R=A.andln(x-1);A.isOdd()?(R>(x>>1)-1?P=(x>>1)-R:P=R,A.isubn(P)):P=0,w[B]=P,A.iushrn(1)}return w}t.getNAF=i;function c(v,_){var E=[[],[]];v=v.clone(),_=_.clone();for(var w=0,x=0,A;v.cmpn(-w)>0||_.cmpn(-x)>0;){var B=v.andln(3)+w&3,P=_.andln(3)+x&3;B===3&&(B=-1),P===3&&(P=-1);var R;B&1?(A=v.andln(7)+w&7,(A===3||A===5)&&P===2?R=-B:R=B):R=0,E[0].push(R);var C;P&1?(A=_.andln(7)+x&7,(A===3||A===5)&&B===2?C=-P:C=P):C=0,E[1].push(C),2*w===R+1&&(w=1-w),2*x===C+1&&(x=1-x),v.iushrn(1),_.iushrn(1)}return E}t.getJSF=c;function l(v,_,E){var w="_"+_;v.prototype[_]=function(){return this[w]!==void 0?this[w]:this[w]=E.call(this)}}t.cachedProperty=l;function p(v){return typeof v=="string"?t.toArray(v,"hex"):v}t.parseBytes=p;function m(v){return new e(v,"hex","le")}t.intFromLE=m}(w1)),w1}var _1={},M1,Sw;function nd(){if(Sw)return M1;Sw=1;var r=Is(),t=Wi(),e=t.getNAF,n=t.getJSF,s=t.assert;function i(l,p){this.type=l,this.p=new r(p.p,16),this.red=p.prime?r.red(p.prime):r.mont(this.p),this.zero=new r(0).toRed(this.red),this.one=new r(1).toRed(this.red),this.two=new r(2).toRed(this.red),this.n=p.n&&new r(p.n,16),this.g=p.g&&this.pointFromJSON(p.g,p.gRed),this._wnafT1=new Array(4),this._wnafT2=new Array(4),this._wnafT3=new Array(4),this._wnafT4=new Array(4),this._bitLength=this.n?this.n.bitLength():0;var m=this.n&&this.p.div(this.n);!m||m.cmpn(100)>0?this.redN=null:(this._maxwellTrick=!0,this.redN=this.n.toRed(this.red))}M1=i,i.prototype.point=function(){throw new Error("Not implemented")},i.prototype.validate=function(){throw new Error("Not implemented")},i.prototype._fixedNafMul=function(p,m){s(p.precomputed);var v=p._getDoubles(),_=e(m,1,this._bitLength),E=(1<<v.step+1)-(v.step%2===0?2:1);E/=3;var w=[],x,A;for(x=0;x<_.length;x+=v.step){A=0;for(var B=x+v.step-1;B>=x;B--)A=(A<<1)+_[B];w.push(A)}for(var P=this.jpoint(null,null,null),R=this.jpoint(null,null,null),C=E;C>0;C--){for(x=0;x<w.length;x++)A=w[x],A===C?R=R.mixedAdd(v.points[x]):A===-C&&(R=R.mixedAdd(v.points[x].neg()));P=P.add(R)}return P.toP()},i.prototype._wnafMul=function(p,m){var v=4,_=p._getNAFPoints(v);v=_.wnd;for(var E=_.points,w=e(m,v,this._bitLength),x=this.jpoint(null,null,null),A=w.length-1;A>=0;A--){for(var B=0;A>=0&&w[A]===0;A--)B++;if(A>=0&&B++,x=x.dblp(B),A<0)break;var P=w[A];s(P!==0),p.type==="affine"?P>0?x=x.mixedAdd(E[P-1>>1]):x=x.mixedAdd(E[-P-1>>1].neg()):P>0?x=x.add(E[P-1>>1]):x=x.add(E[-P-1>>1].neg())}return p.type==="affine"?x.toP():x},i.prototype._wnafMulAdd=function(p,m,v,_,E){var w=this._wnafT1,x=this._wnafT2,A=this._wnafT3,B=0,P,R,C;for(P=0;P<_;P++){C=m[P];var O=C._getNAFPoints(p);w[P]=O.wnd,x[P]=O.points}for(P=_-1;P>=1;P-=2){var z=P-1,H=P;if(w[z]!==1||w[H]!==1){A[z]=e(v[z],w[z],this._bitLength),A[H]=e(v[H],w[H],this._bitLength),B=Math.max(A[z].length,B),B=Math.max(A[H].length,B);continue}var tt=[m[z],null,null,m[H]];m[z].y.cmp(m[H].y)===0?(tt[1]=m[z].add(m[H]),tt[2]=m[z].toJ().mixedAdd(m[H].neg())):m[z].y.cmp(m[H].y.redNeg())===0?(tt[1]=m[z].toJ().mixedAdd(m[H]),tt[2]=m[z].add(m[H].neg())):(tt[1]=m[z].toJ().mixedAdd(m[H]),tt[2]=m[z].toJ().mixedAdd(m[H].neg()));var nt=[-3,-1,-5,-7,0,7,5,1,3],G=n(v[z],v[H]);for(B=Math.max(G[0].length,B),A[z]=new Array(B),A[H]=new Array(B),R=0;R<B;R++){var M=G[0][R]|0,d=G[1][R]|0;A[z][R]=nt[(M+1)*3+(d+1)],A[H][R]=0,x[z]=tt}}var o=this.jpoint(null,null,null),a=this._wnafT4;for(P=B;P>=0;P--){for(var f=0;P>=0;){var h=!0;for(R=0;R<_;R++)a[R]=A[R][P]|0,a[R]!==0&&(h=!1);if(!h)break;f++,P--}if(P>=0&&f++,o=o.dblp(f),P<0)break;for(R=0;R<_;R++){var g=a[R];g!==0&&(g>0?C=x[R][g-1>>1]:g<0&&(C=x[R][-g-1>>1].neg()),C.type==="affine"?o=o.mixedAdd(C):o=o.add(C))}}for(P=0;P<_;P++)x[P]=null;return E?o:o.toP()};function c(l,p){this.curve=l,this.type=p,this.precomputed=null}return i.BasePoint=c,c.prototype.eq=function(){throw new Error("Not implemented")},c.prototype.validate=function(){return this.curve.validate(this)},i.prototype.decodePoint=function(p,m){p=t.toArray(p,m);var v=this.p.byteLength();if((p[0]===4||p[0]===6||p[0]===7)&&p.length-1===2*v){p[0]===6?s(p[p.length-1]%2===0):p[0]===7&&s(p[p.length-1]%2===1);var _=this.point(p.slice(1,1+v),p.slice(1+v,1+2*v));return _}else if((p[0]===2||p[0]===3)&&p.length-1===v)return this.pointFromX(p.slice(1,1+v),p[0]===3);throw new Error("Unknown point format")},c.prototype.encodeCompressed=function(p){return this.encode(p,!0)},c.prototype._encode=function(p){var m=this.curve.p.byteLength(),v=this.getX().toArray("be",m);return p?[this.getY().isEven()?2:3].concat(v):[4].concat(v,this.getY().toArray("be",m))},c.prototype.encode=function(p,m){return t.encode(this._encode(m),p)},c.prototype.precompute=function(p){if(this.precomputed)return this;var m={doubles:null,naf:null,beta:null};return m.naf=this._getNAFPoints(8),m.doubles=this._getDoubles(4,p),m.beta=this._getBeta(),this.precomputed=m,this},c.prototype._hasDoubles=function(p){if(!this.precomputed)return!1;var m=this.precomputed.doubles;return m?m.points.length>=Math.ceil((p.bitLength()+1)/m.step):!1},c.prototype._getDoubles=function(p,m){if(this.precomputed&&this.precomputed.doubles)return this.precomputed.doubles;for(var v=[this],_=this,E=0;E<m;E+=p){for(var w=0;w<p;w++)_=_.dbl();v.push(_)}return{step:p,points:v}},c.prototype._getNAFPoints=function(p){if(this.precomputed&&this.precomputed.naf)return this.precomputed.naf;for(var m=[this],v=(1<<p)-1,_=v===1?null:this.dbl(),E=1;E<v;E++)m[E]=m[E-1].add(_);return{wnd:p,points:m}},c.prototype._getBeta=function(){return null},c.prototype.dblp=function(p){for(var m=this,v=0;v<p;v++)m=m.dbl();return m},M1}var E1,kw;function PP(){if(kw)return E1;kw=1;var r=Wi(),t=Is(),e=br,n=nd(),s=r.assert;function i(p){n.call(this,"short",p),this.a=new t(p.a,16).toRed(this.red),this.b=new t(p.b,16).toRed(this.red),this.tinv=this.two.redInvm(),this.zeroA=this.a.fromRed().cmpn(0)===0,this.threeA=this.a.fromRed().sub(this.p).cmpn(-3)===0,this.endo=this._getEndomorphism(p),this._endoWnafT1=new Array(4),this._endoWnafT2=new Array(4)}e(i,n),E1=i,i.prototype._getEndomorphism=function(m){if(!(!this.zeroA||!this.g||!this.n||this.p.modn(3)!==1)){var v,_;if(m.beta)v=new t(m.beta,16).toRed(this.red);else{var E=this._getEndoRoots(this.p);v=E[0].cmp(E[1])<0?E[0]:E[1],v=v.toRed(this.red)}if(m.lambda)_=new t(m.lambda,16);else{var w=this._getEndoRoots(this.n);this.g.mul(w[0]).x.cmp(this.g.x.redMul(v))===0?_=w[0]:(_=w[1],s(this.g.mul(_).x.cmp(this.g.x.redMul(v))===0))}var x;return m.basis?x=m.basis.map(function(A){return{a:new t(A.a,16),b:new t(A.b,16)}}):x=this._getEndoBasis(_),{beta:v,lambda:_,basis:x}}},i.prototype._getEndoRoots=function(m){var v=m===this.p?this.red:t.mont(m),_=new t(2).toRed(v).redInvm(),E=_.redNeg(),w=new t(3).toRed(v).redNeg().redSqrt().redMul(_),x=E.redAdd(w).fromRed(),A=E.redSub(w).fromRed();return[x,A]},i.prototype._getEndoBasis=function(m){for(var v=this.n.ushrn(Math.floor(this.n.bitLength()/2)),_=m,E=this.n.clone(),w=new t(1),x=new t(0),A=new t(0),B=new t(1),P,R,C,O,z,H,tt,nt=0,G,M;_.cmpn(0)!==0;){var d=E.div(_);G=E.sub(d.mul(_)),M=A.sub(d.mul(w));var o=B.sub(d.mul(x));if(!C&&G.cmp(v)<0)P=tt.neg(),R=w,C=G.neg(),O=M;else if(C&&++nt===2)break;tt=G,E=_,_=G,A=w,w=M,B=x,x=o}z=G.neg(),H=M;var a=C.sqr().add(O.sqr()),f=z.sqr().add(H.sqr());return f.cmp(a)>=0&&(z=P,H=R),C.negative&&(C=C.neg(),O=O.neg()),z.negative&&(z=z.neg(),H=H.neg()),[{a:C,b:O},{a:z,b:H}]},i.prototype._endoSplit=function(m){var v=this.endo.basis,_=v[0],E=v[1],w=E.b.mul(m).divRound(this.n),x=_.b.neg().mul(m).divRound(this.n),A=w.mul(_.a),B=x.mul(E.a),P=w.mul(_.b),R=x.mul(E.b),C=m.sub(A).sub(B),O=P.add(R).neg();return{k1:C,k2:O}},i.prototype.pointFromX=function(m,v){m=new t(m,16),m.red||(m=m.toRed(this.red));var _=m.redSqr().redMul(m).redIAdd(m.redMul(this.a)).redIAdd(this.b),E=_.redSqrt();if(E.redSqr().redSub(_).cmp(this.zero)!==0)throw new Error("invalid point");var w=E.fromRed().isOdd();return(v&&!w||!v&&w)&&(E=E.redNeg()),this.point(m,E)},i.prototype.validate=function(m){if(m.inf)return!0;var v=m.x,_=m.y,E=this.a.redMul(v),w=v.redSqr().redMul(v).redIAdd(E).redIAdd(this.b);return _.redSqr().redISub(w).cmpn(0)===0},i.prototype._endoWnafMulAdd=function(m,v,_){for(var E=this._endoWnafT1,w=this._endoWnafT2,x=0;x<m.length;x++){var A=this._endoSplit(v[x]),B=m[x],P=B._getBeta();A.k1.negative&&(A.k1.ineg(),B=B.neg(!0)),A.k2.negative&&(A.k2.ineg(),P=P.neg(!0)),E[x*2]=B,E[x*2+1]=P,w[x*2]=A.k1,w[x*2+1]=A.k2}for(var R=this._wnafMulAdd(1,E,w,x*2,_),C=0;C<x*2;C++)E[C]=null,w[C]=null;return R};function c(p,m,v,_){n.BasePoint.call(this,p,"affine"),m===null&&v===null?(this.x=null,this.y=null,this.inf=!0):(this.x=new t(m,16),this.y=new t(v,16),_&&(this.x.forceRed(this.curve.red),this.y.forceRed(this.curve.red)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.inf=!1)}e(c,n.BasePoint),i.prototype.point=function(m,v,_){return new c(this,m,v,_)},i.prototype.pointFromJSON=function(m,v){return c.fromJSON(this,m,v)},c.prototype._getBeta=function(){if(this.curve.endo){var m=this.precomputed;if(m&&m.beta)return m.beta;var v=this.curve.point(this.x.redMul(this.curve.endo.beta),this.y);if(m){var _=this.curve,E=function(w){return _.point(w.x.redMul(_.endo.beta),w.y)};m.beta=v,v.precomputed={beta:null,naf:m.naf&&{wnd:m.naf.wnd,points:m.naf.points.map(E)},doubles:m.doubles&&{step:m.doubles.step,points:m.doubles.points.map(E)}}}return v}},c.prototype.toJSON=function(){return this.precomputed?[this.x,this.y,this.precomputed&&{doubles:this.precomputed.doubles&&{step:this.precomputed.doubles.step,points:this.precomputed.doubles.points.slice(1)},naf:this.precomputed.naf&&{wnd:this.precomputed.naf.wnd,points:this.precomputed.naf.points.slice(1)}}]:[this.x,this.y]},c.fromJSON=function(m,v,_){typeof v=="string"&&(v=JSON.parse(v));var E=m.point(v[0],v[1],_);if(!v[2])return E;function w(A){return m.point(A[0],A[1],_)}var x=v[2];return E.precomputed={beta:null,doubles:x.doubles&&{step:x.doubles.step,points:[E].concat(x.doubles.points.map(w))},naf:x.naf&&{wnd:x.naf.wnd,points:[E].concat(x.naf.points.map(w))}},E},c.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" y: "+this.y.fromRed().toString(16,2)+">"},c.prototype.isInfinity=function(){return this.inf},c.prototype.add=function(m){if(this.inf)return m;if(m.inf)return this;if(this.eq(m))return this.dbl();if(this.neg().eq(m))return this.curve.point(null,null);if(this.x.cmp(m.x)===0)return this.curve.point(null,null);var v=this.y.redSub(m.y);v.cmpn(0)!==0&&(v=v.redMul(this.x.redSub(m.x).redInvm()));var _=v.redSqr().redISub(this.x).redISub(m.x),E=v.redMul(this.x.redSub(_)).redISub(this.y);return this.curve.point(_,E)},c.prototype.dbl=function(){if(this.inf)return this;var m=this.y.redAdd(this.y);if(m.cmpn(0)===0)return this.curve.point(null,null);var v=this.curve.a,_=this.x.redSqr(),E=m.redInvm(),w=_.redAdd(_).redIAdd(_).redIAdd(v).redMul(E),x=w.redSqr().redISub(this.x.redAdd(this.x)),A=w.redMul(this.x.redSub(x)).redISub(this.y);return this.curve.point(x,A)},c.prototype.getX=function(){return this.x.fromRed()},c.prototype.getY=function(){return this.y.fromRed()},c.prototype.mul=function(m){return m=new t(m,16),this.isInfinity()?this:this._hasDoubles(m)?this.curve._fixedNafMul(this,m):this.curve.endo?this.curve._endoWnafMulAdd([this],[m]):this.curve._wnafMul(this,m)},c.prototype.mulAdd=function(m,v,_){var E=[this,v],w=[m,_];return this.curve.endo?this.curve._endoWnafMulAdd(E,w):this.curve._wnafMulAdd(1,E,w,2)},c.prototype.jmulAdd=function(m,v,_){var E=[this,v],w=[m,_];return this.curve.endo?this.curve._endoWnafMulAdd(E,w,!0):this.curve._wnafMulAdd(1,E,w,2,!0)},c.prototype.eq=function(m){return this===m||this.inf===m.inf&&(this.inf||this.x.cmp(m.x)===0&&this.y.cmp(m.y)===0)},c.prototype.neg=function(m){if(this.inf)return this;var v=this.curve.point(this.x,this.y.redNeg());if(m&&this.precomputed){var _=this.precomputed,E=function(w){return w.neg()};v.precomputed={naf:_.naf&&{wnd:_.naf.wnd,points:_.naf.points.map(E)},doubles:_.doubles&&{step:_.doubles.step,points:_.doubles.points.map(E)}}}return v},c.prototype.toJ=function(){if(this.inf)return this.curve.jpoint(null,null,null);var m=this.curve.jpoint(this.x,this.y,this.curve.one);return m};function l(p,m,v,_){n.BasePoint.call(this,p,"jacobian"),m===null&&v===null&&_===null?(this.x=this.curve.one,this.y=this.curve.one,this.z=new t(0)):(this.x=new t(m,16),this.y=new t(v,16),this.z=new t(_,16)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)),this.zOne=this.z===this.curve.one}return e(l,n.BasePoint),i.prototype.jpoint=function(m,v,_){return new l(this,m,v,_)},l.prototype.toP=function(){if(this.isInfinity())return this.curve.point(null,null);var m=this.z.redInvm(),v=m.redSqr(),_=this.x.redMul(v),E=this.y.redMul(v).redMul(m);return this.curve.point(_,E)},l.prototype.neg=function(){return this.curve.jpoint(this.x,this.y.redNeg(),this.z)},l.prototype.add=function(m){if(this.isInfinity())return m;if(m.isInfinity())return this;var v=m.z.redSqr(),_=this.z.redSqr(),E=this.x.redMul(v),w=m.x.redMul(_),x=this.y.redMul(v.redMul(m.z)),A=m.y.redMul(_.redMul(this.z)),B=E.redSub(w),P=x.redSub(A);if(B.cmpn(0)===0)return P.cmpn(0)!==0?this.curve.jpoint(null,null,null):this.dbl();var R=B.redSqr(),C=R.redMul(B),O=E.redMul(R),z=P.redSqr().redIAdd(C).redISub(O).redISub(O),H=P.redMul(O.redISub(z)).redISub(x.redMul(C)),tt=this.z.redMul(m.z).redMul(B);return this.curve.jpoint(z,H,tt)},l.prototype.mixedAdd=function(m){if(this.isInfinity())return m.toJ();if(m.isInfinity())return this;var v=this.z.redSqr(),_=this.x,E=m.x.redMul(v),w=this.y,x=m.y.redMul(v).redMul(this.z),A=_.redSub(E),B=w.redSub(x);if(A.cmpn(0)===0)return B.cmpn(0)!==0?this.curve.jpoint(null,null,null):this.dbl();var P=A.redSqr(),R=P.redMul(A),C=_.redMul(P),O=B.redSqr().redIAdd(R).redISub(C).redISub(C),z=B.redMul(C.redISub(O)).redISub(w.redMul(R)),H=this.z.redMul(A);return this.curve.jpoint(O,z,H)},l.prototype.dblp=function(m){if(m===0)return this;if(this.isInfinity())return this;if(!m)return this.dbl();var v;if(this.curve.zeroA||this.curve.threeA){var _=this;for(v=0;v<m;v++)_=_.dbl();return _}var E=this.curve.a,w=this.curve.tinv,x=this.x,A=this.y,B=this.z,P=B.redSqr().redSqr(),R=A.redAdd(A);for(v=0;v<m;v++){var C=x.redSqr(),O=R.redSqr(),z=O.redSqr(),H=C.redAdd(C).redIAdd(C).redIAdd(E.redMul(P)),tt=x.redMul(O),nt=H.redSqr().redISub(tt.redAdd(tt)),G=tt.redISub(nt),M=H.redMul(G);M=M.redIAdd(M).redISub(z);var d=R.redMul(B);v+1<m&&(P=P.redMul(z)),x=nt,B=d,R=M}return this.curve.jpoint(x,R.redMul(w),B)},l.prototype.dbl=function(){return this.isInfinity()?this:this.curve.zeroA?this._zeroDbl():this.curve.threeA?this._threeDbl():this._dbl()},l.prototype._zeroDbl=function(){var m,v,_;if(this.zOne){var E=this.x.redSqr(),w=this.y.redSqr(),x=w.redSqr(),A=this.x.redAdd(w).redSqr().redISub(E).redISub(x);A=A.redIAdd(A);var B=E.redAdd(E).redIAdd(E),P=B.redSqr().redISub(A).redISub(A),R=x.redIAdd(x);R=R.redIAdd(R),R=R.redIAdd(R),m=P,v=B.redMul(A.redISub(P)).redISub(R),_=this.y.redAdd(this.y)}else{var C=this.x.redSqr(),O=this.y.redSqr(),z=O.redSqr(),H=this.x.redAdd(O).redSqr().redISub(C).redISub(z);H=H.redIAdd(H);var tt=C.redAdd(C).redIAdd(C),nt=tt.redSqr(),G=z.redIAdd(z);G=G.redIAdd(G),G=G.redIAdd(G),m=nt.redISub(H).redISub(H),v=tt.redMul(H.redISub(m)).redISub(G),_=this.y.redMul(this.z),_=_.redIAdd(_)}return this.curve.jpoint(m,v,_)},l.prototype._threeDbl=function(){var m,v,_;if(this.zOne){var E=this.x.redSqr(),w=this.y.redSqr(),x=w.redSqr(),A=this.x.redAdd(w).redSqr().redISub(E).redISub(x);A=A.redIAdd(A);var B=E.redAdd(E).redIAdd(E).redIAdd(this.curve.a),P=B.redSqr().redISub(A).redISub(A);m=P;var R=x.redIAdd(x);R=R.redIAdd(R),R=R.redIAdd(R),v=B.redMul(A.redISub(P)).redISub(R),_=this.y.redAdd(this.y)}else{var C=this.z.redSqr(),O=this.y.redSqr(),z=this.x.redMul(O),H=this.x.redSub(C).redMul(this.x.redAdd(C));H=H.redAdd(H).redIAdd(H);var tt=z.redIAdd(z);tt=tt.redIAdd(tt);var nt=tt.redAdd(tt);m=H.redSqr().redISub(nt),_=this.y.redAdd(this.z).redSqr().redISub(O).redISub(C);var G=O.redSqr();G=G.redIAdd(G),G=G.redIAdd(G),G=G.redIAdd(G),v=H.redMul(tt.redISub(m)).redISub(G)}return this.curve.jpoint(m,v,_)},l.prototype._dbl=function(){var m=this.curve.a,v=this.x,_=this.y,E=this.z,w=E.redSqr().redSqr(),x=v.redSqr(),A=_.redSqr(),B=x.redAdd(x).redIAdd(x).redIAdd(m.redMul(w)),P=v.redAdd(v);P=P.redIAdd(P);var R=P.redMul(A),C=B.redSqr().redISub(R.redAdd(R)),O=R.redISub(C),z=A.redSqr();z=z.redIAdd(z),z=z.redIAdd(z),z=z.redIAdd(z);var H=B.redMul(O).redISub(z),tt=_.redAdd(_).redMul(E);return this.curve.jpoint(C,H,tt)},l.prototype.trpl=function(){if(!this.curve.zeroA)return this.dbl().add(this);var m=this.x.redSqr(),v=this.y.redSqr(),_=this.z.redSqr(),E=v.redSqr(),w=m.redAdd(m).redIAdd(m),x=w.redSqr(),A=this.x.redAdd(v).redSqr().redISub(m).redISub(E);A=A.redIAdd(A),A=A.redAdd(A).redIAdd(A),A=A.redISub(x);var B=A.redSqr(),P=E.redIAdd(E);P=P.redIAdd(P),P=P.redIAdd(P),P=P.redIAdd(P);var R=w.redIAdd(A).redSqr().redISub(x).redISub(B).redISub(P),C=v.redMul(R);C=C.redIAdd(C),C=C.redIAdd(C);var O=this.x.redMul(B).redISub(C);O=O.redIAdd(O),O=O.redIAdd(O);var z=this.y.redMul(R.redMul(P.redISub(R)).redISub(A.redMul(B)));z=z.redIAdd(z),z=z.redIAdd(z),z=z.redIAdd(z);var H=this.z.redAdd(A).redSqr().redISub(_).redISub(B);return this.curve.jpoint(O,z,H)},l.prototype.mul=function(m,v){return m=new t(m,v),this.curve._wnafMul(this,m)},l.prototype.eq=function(m){if(m.type==="affine")return this.eq(m.toJ());if(this===m)return!0;var v=this.z.redSqr(),_=m.z.redSqr();if(this.x.redMul(_).redISub(m.x.redMul(v)).cmpn(0)!==0)return!1;var E=v.redMul(this.z),w=_.redMul(m.z);return this.y.redMul(w).redISub(m.y.redMul(E)).cmpn(0)===0},l.prototype.eqXToP=function(m){var v=this.z.redSqr(),_=m.toRed(this.curve.red).redMul(v);if(this.x.cmp(_)===0)return!0;for(var E=m.clone(),w=this.curve.redN.redMul(v);;){if(E.iadd(this.curve.n),E.cmp(this.curve.p)>=0)return!1;if(_.redIAdd(w),this.x.cmp(_)===0)return!0}},l.prototype.inspect=function(){return this.isInfinity()?"<EC JPoint Infinity>":"<EC JPoint x: "+this.x.toString(16,2)+" y: "+this.y.toString(16,2)+" z: "+this.z.toString(16,2)+">"},l.prototype.isInfinity=function(){return this.z.cmpn(0)===0},E1}var A1,Iw;function RP(){if(Iw)return A1;Iw=1;var r=Is(),t=br,e=nd(),n=Wi();function s(c){e.call(this,"mont",c),this.a=new r(c.a,16).toRed(this.red),this.b=new r(c.b,16).toRed(this.red),this.i4=new r(4).toRed(this.red).redInvm(),this.two=new r(2).toRed(this.red),this.a24=this.i4.redMul(this.a.redAdd(this.two))}t(s,e),A1=s,s.prototype.validate=function(l){var p=l.normalize().x,m=p.redSqr(),v=m.redMul(p).redAdd(m.redMul(this.a)).redAdd(p),_=v.redSqrt();return _.redSqr().cmp(v)===0};function i(c,l,p){e.BasePoint.call(this,c,"projective"),l===null&&p===null?(this.x=this.curve.one,this.z=this.curve.zero):(this.x=new r(l,16),this.z=new r(p,16),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)))}return t(i,e.BasePoint),s.prototype.decodePoint=function(l,p){return this.point(n.toArray(l,p),1)},s.prototype.point=function(l,p){return new i(this,l,p)},s.prototype.pointFromJSON=function(l){return i.fromJSON(this,l)},i.prototype.precompute=function(){},i.prototype._encode=function(){return this.getX().toArray("be",this.curve.p.byteLength())},i.fromJSON=function(l,p){return new i(l,p[0],p[1]||l.one)},i.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" z: "+this.z.fromRed().toString(16,2)+">"},i.prototype.isInfinity=function(){return this.z.cmpn(0)===0},i.prototype.dbl=function(){var l=this.x.redAdd(this.z),p=l.redSqr(),m=this.x.redSub(this.z),v=m.redSqr(),_=p.redSub(v),E=p.redMul(v),w=_.redMul(v.redAdd(this.curve.a24.redMul(_)));return this.curve.point(E,w)},i.prototype.add=function(){throw new Error("Not supported on Montgomery curve")},i.prototype.diffAdd=function(l,p){var m=this.x.redAdd(this.z),v=this.x.redSub(this.z),_=l.x.redAdd(l.z),E=l.x.redSub(l.z),w=E.redMul(m),x=_.redMul(v),A=p.z.redMul(w.redAdd(x).redSqr()),B=p.x.redMul(w.redISub(x).redSqr());return this.curve.point(A,B)},i.prototype.mul=function(l){for(var p=l.clone(),m=this,v=this.curve.point(null,null),_=this,E=[];p.cmpn(0)!==0;p.iushrn(1))E.push(p.andln(1));for(var w=E.length-1;w>=0;w--)E[w]===0?(m=m.diffAdd(v,_),v=v.dbl()):(v=m.diffAdd(v,_),m=m.dbl());return v},i.prototype.mulAdd=function(){throw new Error("Not supported on Montgomery curve")},i.prototype.jumlAdd=function(){throw new Error("Not supported on Montgomery curve")},i.prototype.eq=function(l){return this.getX().cmp(l.getX())===0},i.prototype.normalize=function(){return this.x=this.x.redMul(this.z.redInvm()),this.z=this.curve.one,this},i.prototype.getX=function(){return this.normalize(),this.x.fromRed()},A1}var S1,Bw;function CP(){if(Bw)return S1;Bw=1;var r=Wi(),t=Is(),e=br,n=nd(),s=r.assert;function i(l){this.twisted=(l.a|0)!==1,this.mOneA=this.twisted&&(l.a|0)===-1,this.extended=this.mOneA,n.call(this,"edwards",l),this.a=new t(l.a,16).umod(this.red.m),this.a=this.a.toRed(this.red),this.c=new t(l.c,16).toRed(this.red),this.c2=this.c.redSqr(),this.d=new t(l.d,16).toRed(this.red),this.dd=this.d.redAdd(this.d),s(!this.twisted||this.c.fromRed().cmpn(1)===0),this.oneC=(l.c|0)===1}e(i,n),S1=i,i.prototype._mulA=function(p){return this.mOneA?p.redNeg():this.a.redMul(p)},i.prototype._mulC=function(p){return this.oneC?p:this.c.redMul(p)},i.prototype.jpoint=function(p,m,v,_){return this.point(p,m,v,_)},i.prototype.pointFromX=function(p,m){p=new t(p,16),p.red||(p=p.toRed(this.red));var v=p.redSqr(),_=this.c2.redSub(this.a.redMul(v)),E=this.one.redSub(this.c2.redMul(this.d).redMul(v)),w=_.redMul(E.redInvm()),x=w.redSqrt();if(x.redSqr().redSub(w).cmp(this.zero)!==0)throw new Error("invalid point");var A=x.fromRed().isOdd();return(m&&!A||!m&&A)&&(x=x.redNeg()),this.point(p,x)},i.prototype.pointFromY=function(p,m){p=new t(p,16),p.red||(p=p.toRed(this.red));var v=p.redSqr(),_=v.redSub(this.c2),E=v.redMul(this.d).redMul(this.c2).redSub(this.a),w=_.redMul(E.redInvm());if(w.cmp(this.zero)===0){if(m)throw new Error("invalid point");return this.point(this.zero,p)}var x=w.redSqrt();if(x.redSqr().redSub(w).cmp(this.zero)!==0)throw new Error("invalid point");return x.fromRed().isOdd()!==m&&(x=x.redNeg()),this.point(x,p)},i.prototype.validate=function(p){if(p.isInfinity())return!0;p.normalize();var m=p.x.redSqr(),v=p.y.redSqr(),_=m.redMul(this.a).redAdd(v),E=this.c2.redMul(this.one.redAdd(this.d.redMul(m).redMul(v)));return _.cmp(E)===0};function c(l,p,m,v,_){n.BasePoint.call(this,l,"projective"),p===null&&m===null&&v===null?(this.x=this.curve.zero,this.y=this.curve.one,this.z=this.curve.one,this.t=this.curve.zero,this.zOne=!0):(this.x=new t(p,16),this.y=new t(m,16),this.z=v?new t(v,16):this.curve.one,this.t=_&&new t(_,16),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)),this.t&&!this.t.red&&(this.t=this.t.toRed(this.curve.red)),this.zOne=this.z===this.curve.one,this.curve.extended&&!this.t&&(this.t=this.x.redMul(this.y),this.zOne||(this.t=this.t.redMul(this.z.redInvm()))))}return e(c,n.BasePoint),i.prototype.pointFromJSON=function(p){return c.fromJSON(this,p)},i.prototype.point=function(p,m,v,_){return new c(this,p,m,v,_)},c.fromJSON=function(p,m){return new c(p,m[0],m[1],m[2])},c.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" y: "+this.y.fromRed().toString(16,2)+" z: "+this.z.fromRed().toString(16,2)+">"},c.prototype.isInfinity=function(){return this.x.cmpn(0)===0&&(this.y.cmp(this.z)===0||this.zOne&&this.y.cmp(this.curve.c)===0)},c.prototype._extDbl=function(){var p=this.x.redSqr(),m=this.y.redSqr(),v=this.z.redSqr();v=v.redIAdd(v);var _=this.curve._mulA(p),E=this.x.redAdd(this.y).redSqr().redISub(p).redISub(m),w=_.redAdd(m),x=w.redSub(v),A=_.redSub(m),B=E.redMul(x),P=w.redMul(A),R=E.redMul(A),C=x.redMul(w);return this.curve.point(B,P,C,R)},c.prototype._projDbl=function(){var p=this.x.redAdd(this.y).redSqr(),m=this.x.redSqr(),v=this.y.redSqr(),_,E,w,x,A,B;if(this.curve.twisted){x=this.curve._mulA(m);var P=x.redAdd(v);this.zOne?(_=p.redSub(m).redSub(v).redMul(P.redSub(this.curve.two)),E=P.redMul(x.redSub(v)),w=P.redSqr().redSub(P).redSub(P)):(A=this.z.redSqr(),B=P.redSub(A).redISub(A),_=p.redSub(m).redISub(v).redMul(B),E=P.redMul(x.redSub(v)),w=P.redMul(B))}else x=m.redAdd(v),A=this.curve._mulC(this.z).redSqr(),B=x.redSub(A).redSub(A),_=this.curve._mulC(p.redISub(x)).redMul(B),E=this.curve._mulC(x).redMul(m.redISub(v)),w=x.redMul(B);return this.curve.point(_,E,w)},c.prototype.dbl=function(){return this.isInfinity()?this:this.curve.extended?this._extDbl():this._projDbl()},c.prototype._extAdd=function(p){var m=this.y.redSub(this.x).redMul(p.y.redSub(p.x)),v=this.y.redAdd(this.x).redMul(p.y.redAdd(p.x)),_=this.t.redMul(this.curve.dd).redMul(p.t),E=this.z.redMul(p.z.redAdd(p.z)),w=v.redSub(m),x=E.redSub(_),A=E.redAdd(_),B=v.redAdd(m),P=w.redMul(x),R=A.redMul(B),C=w.redMul(B),O=x.redMul(A);return this.curve.point(P,R,O,C)},c.prototype._projAdd=function(p){var m=this.z.redMul(p.z),v=m.redSqr(),_=this.x.redMul(p.x),E=this.y.redMul(p.y),w=this.curve.d.redMul(_).redMul(E),x=v.redSub(w),A=v.redAdd(w),B=this.x.redAdd(this.y).redMul(p.x.redAdd(p.y)).redISub(_).redISub(E),P=m.redMul(x).redMul(B),R,C;return this.curve.twisted?(R=m.redMul(A).redMul(E.redSub(this.curve._mulA(_))),C=x.redMul(A)):(R=m.redMul(A).redMul(E.redSub(_)),C=this.curve._mulC(x).redMul(A)),this.curve.point(P,R,C)},c.prototype.add=function(p){return this.isInfinity()?p:p.isInfinity()?this:this.curve.extended?this._extAdd(p):this._projAdd(p)},c.prototype.mul=function(p){return this._hasDoubles(p)?this.curve._fixedNafMul(this,p):this.curve._wnafMul(this,p)},c.prototype.mulAdd=function(p,m,v){return this.curve._wnafMulAdd(1,[this,m],[p,v],2,!1)},c.prototype.jmulAdd=function(p,m,v){return this.curve._wnafMulAdd(1,[this,m],[p,v],2,!0)},c.prototype.normalize=function(){if(this.zOne)return this;var p=this.z.redInvm();return this.x=this.x.redMul(p),this.y=this.y.redMul(p),this.t&&(this.t=this.t.redMul(p)),this.z=this.curve.one,this.zOne=!0,this},c.prototype.neg=function(){return this.curve.point(this.x.redNeg(),this.y,this.z,this.t&&this.t.redNeg())},c.prototype.getX=function(){return this.normalize(),this.x.fromRed()},c.prototype.getY=function(){return this.normalize(),this.y.fromRed()},c.prototype.eq=function(p){return this===p||this.getX().cmp(p.getX())===0&&this.getY().cmp(p.getY())===0},c.prototype.eqXToP=function(p){var m=p.toRed(this.curve.red).redMul(this.z);if(this.x.cmp(m)===0)return!0;for(var v=p.clone(),_=this.curve.redN.redMul(this.z);;){if(v.iadd(this.curve.n),v.cmp(this.curve.p)>=0)return!1;if(m.redIAdd(_),this.x.cmp(m)===0)return!0}},c.prototype.toP=c.prototype.normalize,c.prototype.mixedAdd=c.prototype.add,S1}var Pw;function k_(){return Pw||(Pw=1,function(r){var t=r;t.base=nd(),t.short=PP(),t.mont=RP(),t.edwards=CP()}(_1)),_1}var k1={},Eh={},fr={},TP=Zi,LP=br;fr.inherits=LP;function OP(r,t){return(r.charCodeAt(t)&64512)!==55296||t<0||t+1>=r.length?!1:(r.charCodeAt(t+1)&64512)===56320}function UP(r,t){if(Array.isArray(r))return r.slice();if(!r)return[];var e=[];if(typeof r=="string")if(t){if(t==="hex")for(r=r.replace(/[^a-z0-9]+/ig,""),r.length%2!==0&&(r="0"+r),s=0;s<r.length;s+=2)e.push(parseInt(r[s]+r[s+1],16))}else for(var n=0,s=0;s<r.length;s++){var i=r.charCodeAt(s);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):OP(r,s)?(i=65536+((i&1023)<<10)+(r.charCodeAt(++s)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}else for(s=0;s<r.length;s++)e[s]=r[s]|0;return e}fr.toArray=UP;function NP(r){for(var t="",e=0;e<r.length;e++)t+=B_(r[e].toString(16));return t}fr.toHex=NP;function I_(r){var t=r>>>24|r>>>8&65280|r<<8&16711680|(r&255)<<24;return t>>>0}fr.htonl=I_;function DP(r,t){for(var e="",n=0;n<r.length;n++){var s=r[n];t==="little"&&(s=I_(s)),e+=P_(s.toString(16))}return e}fr.toHex32=DP;function B_(r){return r.length===1?"0"+r:r}fr.zero2=B_;function P_(r){return r.length===7?"0"+r:r.length===6?"00"+r:r.length===5?"000"+r:r.length===4?"0000"+r:r.length===3?"00000"+r:r.length===2?"000000"+r:r.length===1?"0000000"+r:r}fr.zero8=P_;function zP(r,t,e,n){var s=e-t;TP(s%4===0);for(var i=new Array(s/4),c=0,l=t;c<i.length;c++,l+=4){var p;n==="big"?p=r[l]<<24|r[l+1]<<16|r[l+2]<<8|r[l+3]:p=r[l+3]<<24|r[l+2]<<16|r[l+1]<<8|r[l],i[c]=p>>>0}return i}fr.join32=zP;function qP(r,t){for(var e=new Array(r.length*4),n=0,s=0;n<r.length;n++,s+=4){var i=r[n];t==="big"?(e[s]=i>>>24,e[s+1]=i>>>16&255,e[s+2]=i>>>8&255,e[s+3]=i&255):(e[s+3]=i>>>24,e[s+2]=i>>>16&255,e[s+1]=i>>>8&255,e[s]=i&255)}return e}fr.split32=qP;function FP(r,t){return r>>>t|r<<32-t}fr.rotr32=FP;function jP(r,t){return r<<t|r>>>32-t}fr.rotl32=jP;function KP(r,t){return r+t>>>0}fr.sum32=KP;function $P(r,t,e){return r+t+e>>>0}fr.sum32_3=$P;function HP(r,t,e,n){return r+t+e+n>>>0}fr.sum32_4=HP;function VP(r,t,e,n,s){return r+t+e+n+s>>>0}fr.sum32_5=VP;function ZP(r,t,e,n){var s=r[t],i=r[t+1],c=n+i>>>0,l=(c<n?1:0)+e+s;r[t]=l>>>0,r[t+1]=c}fr.sum64=ZP;function WP(r,t,e,n){var s=t+n>>>0,i=(s<t?1:0)+r+e;return i>>>0}fr.sum64_hi=WP;function GP(r,t,e,n){var s=t+n;return s>>>0}fr.sum64_lo=GP;function YP(r,t,e,n,s,i,c,l){var p=0,m=t;m=m+n>>>0,p+=m<t?1:0,m=m+i>>>0,p+=m<i?1:0,m=m+l>>>0,p+=m<l?1:0;var v=r+e+s+c+p;return v>>>0}fr.sum64_4_hi=YP;function XP(r,t,e,n,s,i,c,l){var p=t+n+i+l;return p>>>0}fr.sum64_4_lo=XP;function JP(r,t,e,n,s,i,c,l,p,m){var v=0,_=t;_=_+n>>>0,v+=_<t?1:0,_=_+i>>>0,v+=_<i?1:0,_=_+l>>>0,v+=_<l?1:0,_=_+m>>>0,v+=_<m?1:0;var E=r+e+s+c+p+v;return E>>>0}fr.sum64_5_hi=JP;function QP(r,t,e,n,s,i,c,l,p,m){var v=t+n+i+l+m;return v>>>0}fr.sum64_5_lo=QP;function tR(r,t,e){var n=t<<32-e|r>>>e;return n>>>0}fr.rotr64_hi=tR;function eR(r,t,e){var n=r<<32-e|t>>>e;return n>>>0}fr.rotr64_lo=eR;function rR(r,t,e){return r>>>e}fr.shr64_hi=rR;function nR(r,t,e){var n=r<<32-e|t>>>e;return n>>>0}fr.shr64_lo=nR;var xf={},Rw=fr,iR=Zi;function id(){this.pending=null,this.pendingTotal=0,this.blockSize=this.constructor.blockSize,this.outSize=this.constructor.outSize,this.hmacStrength=this.constructor.hmacStrength,this.padLength=this.constructor.padLength/8,this.endian="big",this._delta8=this.blockSize/8,this._delta32=this.blockSize/32}xf.BlockHash=id;id.prototype.update=function(t,e){if(t=Rw.toArray(t,e),this.pending?this.pending=this.pending.concat(t):this.pending=t,this.pendingTotal+=t.length,this.pending.length>=this._delta8){t=this.pending;var n=t.length%this._delta8;this.pending=t.slice(t.length-n,t.length),this.pending.length===0&&(this.pending=null),t=Rw.join32(t,0,t.length-n,this.endian);for(var s=0;s<t.length;s+=this._delta32)this._update(t,s,s+this._delta32)}return this};id.prototype.digest=function(t){return this.update(this._pad()),iR(this.pending===null),this._digest(t)};id.prototype._pad=function(){var t=this.pendingTotal,e=this._delta8,n=e-(t+this.padLength)%e,s=new Array(n+this.padLength);s[0]=128;for(var i=1;i<n;i++)s[i]=0;if(t<<=3,this.endian==="big"){for(var c=8;c<this.padLength;c++)s[i++]=0;s[i++]=0,s[i++]=0,s[i++]=0,s[i++]=0,s[i++]=t>>>24&255,s[i++]=t>>>16&255,s[i++]=t>>>8&255,s[i++]=t&255}else for(s[i++]=t&255,s[i++]=t>>>8&255,s[i++]=t>>>16&255,s[i++]=t>>>24&255,s[i++]=0,s[i++]=0,s[i++]=0,s[i++]=0,c=8;c<this.padLength;c++)s[i++]=0;return s};var _f={},Xo={},oR=fr,zo=oR.rotr32;function sR(r,t,e,n){if(r===0)return R_(t,e,n);if(r===1||r===3)return T_(t,e,n);if(r===2)return C_(t,e,n)}Xo.ft_1=sR;function R_(r,t,e){return r&t^~r&e}Xo.ch32=R_;function C_(r,t,e){return r&t^r&e^t&e}Xo.maj32=C_;function T_(r,t,e){return r^t^e}Xo.p32=T_;function aR(r){return zo(r,2)^zo(r,13)^zo(r,22)}Xo.s0_256=aR;function uR(r){return zo(r,6)^zo(r,11)^zo(r,25)}Xo.s1_256=uR;function fR(r){return zo(r,7)^zo(r,18)^r>>>3}Xo.g0_256=fR;function cR(r){return zo(r,17)^zo(r,19)^r>>>10}Xo.g1_256=cR;var tf=fr,hR=xf,lR=Xo,I1=tf.rotl32,Hf=tf.sum32,dR=tf.sum32_5,pR=lR.ft_1,L_=hR.BlockHash,mR=[1518500249,1859775393,2400959708,3395469782];function Vo(){if(!(this instanceof Vo))return new Vo;L_.call(this),this.h=[1732584193,4023233417,2562383102,271733878,3285377520],this.W=new Array(80)}tf.inherits(Vo,L_);var vR=Vo;Vo.blockSize=512;Vo.outSize=160;Vo.hmacStrength=80;Vo.padLength=64;Vo.prototype._update=function(t,e){for(var n=this.W,s=0;s<16;s++)n[s]=t[e+s];for(;s<n.length;s++)n[s]=I1(n[s-3]^n[s-8]^n[s-14]^n[s-16],1);var i=this.h[0],c=this.h[1],l=this.h[2],p=this.h[3],m=this.h[4];for(s=0;s<n.length;s++){var v=~~(s/20),_=dR(I1(i,5),pR(v,c,l,p),m,n[s],mR[v]);m=p,p=l,l=I1(c,30),c=i,i=_}this.h[0]=Hf(this.h[0],i),this.h[1]=Hf(this.h[1],c),this.h[2]=Hf(this.h[2],l),this.h[3]=Hf(this.h[3],p),this.h[4]=Hf(this.h[4],m)};Vo.prototype._digest=function(t){return t==="hex"?tf.toHex32(this.h,"big"):tf.split32(this.h,"big")};var ef=fr,gR=xf,Mf=Xo,yR=Zi,Xi=ef.sum32,bR=ef.sum32_4,wR=ef.sum32_5,xR=Mf.ch32,_R=Mf.maj32,MR=Mf.s0_256,ER=Mf.s1_256,AR=Mf.g0_256,SR=Mf.g1_256,O_=gR.BlockHash,kR=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298];function Zo(){if(!(this instanceof Zo))return new Zo;O_.call(this),this.h=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225],this.k=kR,this.W=new Array(64)}ef.inherits(Zo,O_);var U_=Zo;Zo.blockSize=512;Zo.outSize=256;Zo.hmacStrength=192;Zo.padLength=64;Zo.prototype._update=function(t,e){for(var n=this.W,s=0;s<16;s++)n[s]=t[e+s];for(;s<n.length;s++)n[s]=bR(SR(n[s-2]),n[s-7],AR(n[s-15]),n[s-16]);var i=this.h[0],c=this.h[1],l=this.h[2],p=this.h[3],m=this.h[4],v=this.h[5],_=this.h[6],E=this.h[7];for(yR(this.k.length===n.length),s=0;s<n.length;s++){var w=wR(E,ER(m),xR(m,v,_),this.k[s],n[s]),x=Xi(MR(i),_R(i,c,l));E=_,_=v,v=m,m=Xi(p,w),p=l,l=c,c=i,i=Xi(w,x)}this.h[0]=Xi(this.h[0],i),this.h[1]=Xi(this.h[1],c),this.h[2]=Xi(this.h[2],l),this.h[3]=Xi(this.h[3],p),this.h[4]=Xi(this.h[4],m),this.h[5]=Xi(this.h[5],v),this.h[6]=Xi(this.h[6],_),this.h[7]=Xi(this.h[7],E)};Zo.prototype._digest=function(t){return t==="hex"?ef.toHex32(this.h,"big"):ef.split32(this.h,"big")};var a2=fr,N_=U_;function As(){if(!(this instanceof As))return new As;N_.call(this),this.h=[3238371032,914150663,812702999,4144912697,4290775857,1750603025,1694076839,3204075428]}a2.inherits(As,N_);var IR=As;As.blockSize=512;As.outSize=224;As.hmacStrength=192;As.padLength=64;As.prototype._digest=function(t){return t==="hex"?a2.toHex32(this.h.slice(0,7),"big"):a2.split32(this.h.slice(0,7),"big")};var ui=fr,BR=xf,PR=Zi,qo=ui.rotr64_hi,Fo=ui.rotr64_lo,D_=ui.shr64_hi,z_=ui.shr64_lo,Cs=ui.sum64,B1=ui.sum64_hi,P1=ui.sum64_lo,RR=ui.sum64_4_hi,CR=ui.sum64_4_lo,TR=ui.sum64_5_hi,LR=ui.sum64_5_lo,q_=BR.BlockHash,OR=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591];function fo(){if(!(this instanceof fo))return new fo;q_.call(this),this.h=[1779033703,4089235720,3144134277,2227873595,1013904242,4271175723,2773480762,1595750129,1359893119,2917565137,2600822924,725511199,528734635,4215389547,1541459225,327033209],this.k=OR,this.W=new Array(160)}ui.inherits(fo,q_);var F_=fo;fo.blockSize=1024;fo.outSize=512;fo.hmacStrength=192;fo.padLength=128;fo.prototype._prepareBlock=function(t,e){for(var n=this.W,s=0;s<32;s++)n[s]=t[e+s];for(;s<n.length;s+=2){var i=VR(n[s-4],n[s-3]),c=ZR(n[s-4],n[s-3]),l=n[s-14],p=n[s-13],m=$R(n[s-30],n[s-29]),v=HR(n[s-30],n[s-29]),_=n[s-32],E=n[s-31];n[s]=RR(i,c,l,p,m,v,_,E),n[s+1]=CR(i,c,l,p,m,v,_,E)}};fo.prototype._update=function(t,e){this._prepareBlock(t,e);var n=this.W,s=this.h[0],i=this.h[1],c=this.h[2],l=this.h[3],p=this.h[4],m=this.h[5],v=this.h[6],_=this.h[7],E=this.h[8],w=this.h[9],x=this.h[10],A=this.h[11],B=this.h[12],P=this.h[13],R=this.h[14],C=this.h[15];PR(this.k.length===n.length);for(var O=0;O<n.length;O+=2){var z=R,H=C,tt=jR(E,w),nt=KR(E,w),G=UR(E,w,x,A,B),M=NR(E,w,x,A,B,P),d=this.k[O],o=this.k[O+1],a=n[O],f=n[O+1],h=TR(z,H,tt,nt,G,M,d,o,a,f),g=LR(z,H,tt,nt,G,M,d,o,a,f);z=qR(s,i),H=FR(s,i),tt=DR(s,i,c,l,p),nt=zR(s,i,c,l,p,m);var S=B1(z,H,tt,nt),I=P1(z,H,tt,nt);R=B,C=P,B=x,P=A,x=E,A=w,E=B1(v,_,h,g),w=P1(_,_,h,g),v=p,_=m,p=c,m=l,c=s,l=i,s=B1(h,g,S,I),i=P1(h,g,S,I)}Cs(this.h,0,s,i),Cs(this.h,2,c,l),Cs(this.h,4,p,m),Cs(this.h,6,v,_),Cs(this.h,8,E,w),Cs(this.h,10,x,A),Cs(this.h,12,B,P),Cs(this.h,14,R,C)};fo.prototype._digest=function(t){return t==="hex"?ui.toHex32(this.h,"big"):ui.split32(this.h,"big")};function UR(r,t,e,n,s){var i=r&e^~r&s;return i<0&&(i+=4294967296),i}function NR(r,t,e,n,s,i){var c=t&n^~t&i;return c<0&&(c+=4294967296),c}function DR(r,t,e,n,s){var i=r&e^r&s^e&s;return i<0&&(i+=4294967296),i}function zR(r,t,e,n,s,i){var c=t&n^t&i^n&i;return c<0&&(c+=4294967296),c}function qR(r,t){var e=qo(r,t,28),n=qo(t,r,2),s=qo(t,r,7),i=e^n^s;return i<0&&(i+=4294967296),i}function FR(r,t){var e=Fo(r,t,28),n=Fo(t,r,2),s=Fo(t,r,7),i=e^n^s;return i<0&&(i+=4294967296),i}function jR(r,t){var e=qo(r,t,14),n=qo(r,t,18),s=qo(t,r,9),i=e^n^s;return i<0&&(i+=4294967296),i}function KR(r,t){var e=Fo(r,t,14),n=Fo(r,t,18),s=Fo(t,r,9),i=e^n^s;return i<0&&(i+=4294967296),i}function $R(r,t){var e=qo(r,t,1),n=qo(r,t,8),s=D_(r,t,7),i=e^n^s;return i<0&&(i+=4294967296),i}function HR(r,t){var e=Fo(r,t,1),n=Fo(r,t,8),s=z_(r,t,7),i=e^n^s;return i<0&&(i+=4294967296),i}function VR(r,t){var e=qo(r,t,19),n=qo(t,r,29),s=D_(r,t,6),i=e^n^s;return i<0&&(i+=4294967296),i}function ZR(r,t){var e=Fo(r,t,19),n=Fo(t,r,29),s=z_(r,t,6),i=e^n^s;return i<0&&(i+=4294967296),i}var u2=fr,j_=F_;function Ss(){if(!(this instanceof Ss))return new Ss;j_.call(this),this.h=[3418070365,3238371032,1654270250,914150663,2438529370,812702999,355462360,4144912697,1731405415,4290775857,2394180231,1750603025,3675008525,1694076839,1203062813,3204075428]}u2.inherits(Ss,j_);var WR=Ss;Ss.blockSize=1024;Ss.outSize=384;Ss.hmacStrength=192;Ss.padLength=128;Ss.prototype._digest=function(t){return t==="hex"?u2.toHex32(this.h.slice(0,12),"big"):u2.split32(this.h.slice(0,12),"big")};_f.sha1=vR;_f.sha224=IR;_f.sha256=U_;_f.sha384=WR;_f.sha512=F_;var K_={},Wa=fr,GR=xf,Qh=Wa.rotl32,Cw=Wa.sum32,Vf=Wa.sum32_3,Tw=Wa.sum32_4,$_=GR.BlockHash;function Wo(){if(!(this instanceof Wo))return new Wo;$_.call(this),this.h=[1732584193,4023233417,2562383102,271733878,3285377520],this.endian="little"}Wa.inherits(Wo,$_);K_.ripemd160=Wo;Wo.blockSize=512;Wo.outSize=160;Wo.hmacStrength=192;Wo.padLength=64;Wo.prototype._update=function(t,e){for(var n=this.h[0],s=this.h[1],i=this.h[2],c=this.h[3],l=this.h[4],p=n,m=s,v=i,_=c,E=l,w=0;w<80;w++){var x=Cw(Qh(Tw(n,Lw(w,s,i,c),t[JR[w]+e],YR(w)),tC[w]),l);n=l,l=c,c=Qh(i,10),i=s,s=x,x=Cw(Qh(Tw(p,Lw(79-w,m,v,_),t[QR[w]+e],XR(w)),eC[w]),E),p=E,E=_,_=Qh(v,10),v=m,m=x}x=Vf(this.h[1],i,_),this.h[1]=Vf(this.h[2],c,E),this.h[2]=Vf(this.h[3],l,p),this.h[3]=Vf(this.h[4],n,m),this.h[4]=Vf(this.h[0],s,v),this.h[0]=x};Wo.prototype._digest=function(t){return t==="hex"?Wa.toHex32(this.h,"little"):Wa.split32(this.h,"little")};function Lw(r,t,e,n){return r<=15?t^e^n:r<=31?t&e|~t&n:r<=47?(t|~e)^n:r<=63?t&n|e&~n:t^(e|~n)}function YR(r){return r<=15?0:r<=31?1518500249:r<=47?1859775393:r<=63?2400959708:2840853838}function XR(r){return r<=15?1352829926:r<=31?1548603684:r<=47?1836072691:r<=63?2053994217:0}var JR=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13],QR=[5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11],tC=[11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6],eC=[8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11],rC=fr,nC=Zi;function rf(r,t,e){if(!(this instanceof rf))return new rf(r,t,e);this.Hash=r,this.blockSize=r.blockSize/8,this.outSize=r.outSize/8,this.inner=null,this.outer=null,this._init(rC.toArray(t,e))}var iC=rf;rf.prototype._init=function(t){t.length>this.blockSize&&(t=new this.Hash().update(t).digest()),nC(t.length<=this.blockSize);for(var e=t.length;e<this.blockSize;e++)t.push(0);for(e=0;e<t.length;e++)t[e]^=54;for(this.inner=new this.Hash().update(t),e=0;e<t.length;e++)t[e]^=106;this.outer=new this.Hash().update(t)};rf.prototype.update=function(t,e){return this.inner.update(t,e),this};rf.prototype.digest=function(t){return this.outer.update(this.inner.digest()),this.outer.digest(t)};(function(r){var t=r;t.utils=fr,t.common=xf,t.sha=_f,t.ripemd=K_,t.hmac=iC,t.sha1=t.sha.sha1,t.sha256=t.sha.sha256,t.sha224=t.sha.sha224,t.sha384=t.sha.sha384,t.sha512=t.sha.sha512,t.ripemd160=t.ripemd.ripemd160})(Eh);const oC=Yv(Eh);var R1,Ow;function sC(){return Ow||(Ow=1,R1={doubles:{step:4,points:[["e60fce93b59e9ec53011aabc21c23e97b2a31369b87a5ae9c44ee89e2a6dec0a","f7e3507399e595929db99f34f57937101296891e44d23f0be1f32cce69616821"],["8282263212c609d9ea2a6e3e172de238d8c39cabd5ac1ca10646e23fd5f51508","11f8a8098557dfe45e8256e830b60ace62d613ac2f7b17bed31b6eaff6e26caf"],["175e159f728b865a72f99cc6c6fc846de0b93833fd2222ed73fce5b551e5b739","d3506e0d9e3c79eba4ef97a51ff71f5eacb5955add24345c6efa6ffee9fed695"],["363d90d447b00c9c99ceac05b6262ee053441c7e55552ffe526bad8f83ff4640","4e273adfc732221953b445397f3363145b9a89008199ecb62003c7f3bee9de9"],["8b4b5f165df3c2be8c6244b5b745638843e4a781a15bcd1b69f79a55dffdf80c","4aad0a6f68d308b4b3fbd7813ab0da04f9e336546162ee56b3eff0c65fd4fd36"],["723cbaa6e5db996d6bf771c00bd548c7b700dbffa6c0e77bcb6115925232fcda","96e867b5595cc498a921137488824d6e2660a0653779494801dc069d9eb39f5f"],["eebfa4d493bebf98ba5feec812c2d3b50947961237a919839a533eca0e7dd7fa","5d9a8ca3970ef0f269ee7edaf178089d9ae4cdc3a711f712ddfd4fdae1de8999"],["100f44da696e71672791d0a09b7bde459f1215a29b3c03bfefd7835b39a48db0","cdd9e13192a00b772ec8f3300c090666b7ff4a18ff5195ac0fbd5cd62bc65a09"],["e1031be262c7ed1b1dc9227a4a04c017a77f8d4464f3b3852c8acde6e534fd2d","9d7061928940405e6bb6a4176597535af292dd419e1ced79a44f18f29456a00d"],["feea6cae46d55b530ac2839f143bd7ec5cf8b266a41d6af52d5e688d9094696d","e57c6b6c97dce1bab06e4e12bf3ecd5c981c8957cc41442d3155debf18090088"],["da67a91d91049cdcb367be4be6ffca3cfeed657d808583de33fa978bc1ec6cb1","9bacaa35481642bc41f463f7ec9780e5dec7adc508f740a17e9ea8e27a68be1d"],["53904faa0b334cdda6e000935ef22151ec08d0f7bb11069f57545ccc1a37b7c0","5bc087d0bc80106d88c9eccac20d3c1c13999981e14434699dcb096b022771c8"],["8e7bcd0bd35983a7719cca7764ca906779b53a043a9b8bcaeff959f43ad86047","10b7770b2a3da4b3940310420ca9514579e88e2e47fd68b3ea10047e8460372a"],["385eed34c1cdff21e6d0818689b81bde71a7f4f18397e6690a841e1599c43862","283bebc3e8ea23f56701de19e9ebf4576b304eec2086dc8cc0458fe5542e5453"],["6f9d9b803ecf191637c73a4413dfa180fddf84a5947fbc9c606ed86c3fac3a7","7c80c68e603059ba69b8e2a30e45c4d47ea4dd2f5c281002d86890603a842160"],["3322d401243c4e2582a2147c104d6ecbf774d163db0f5e5313b7e0e742d0e6bd","56e70797e9664ef5bfb019bc4ddaf9b72805f63ea2873af624f3a2e96c28b2a0"],["85672c7d2de0b7da2bd1770d89665868741b3f9af7643397721d74d28134ab83","7c481b9b5b43b2eb6374049bfa62c2e5e77f17fcc5298f44c8e3094f790313a6"],["948bf809b1988a46b06c9f1919413b10f9226c60f668832ffd959af60c82a0a","53a562856dcb6646dc6b74c5d1c3418c6d4dff08c97cd2bed4cb7f88d8c8e589"],["6260ce7f461801c34f067ce0f02873a8f1b0e44dfc69752accecd819f38fd8e8","bc2da82b6fa5b571a7f09049776a1ef7ecd292238051c198c1a84e95b2b4ae17"],["e5037de0afc1d8d43d8348414bbf4103043ec8f575bfdc432953cc8d2037fa2d","4571534baa94d3b5f9f98d09fb990bddbd5f5b03ec481f10e0e5dc841d755bda"],["e06372b0f4a207adf5ea905e8f1771b4e7e8dbd1c6a6c5b725866a0ae4fce725","7a908974bce18cfe12a27bb2ad5a488cd7484a7787104870b27034f94eee31dd"],["213c7a715cd5d45358d0bbf9dc0ce02204b10bdde2a3f58540ad6908d0559754","4b6dad0b5ae462507013ad06245ba190bb4850f5f36a7eeddff2c27534b458f2"],["4e7c272a7af4b34e8dbb9352a5419a87e2838c70adc62cddf0cc3a3b08fbd53c","17749c766c9d0b18e16fd09f6def681b530b9614bff7dd33e0b3941817dcaae6"],["fea74e3dbe778b1b10f238ad61686aa5c76e3db2be43057632427e2840fb27b6","6e0568db9b0b13297cf674deccb6af93126b596b973f7b77701d3db7f23cb96f"],["76e64113f677cf0e10a2570d599968d31544e179b760432952c02a4417bdde39","c90ddf8dee4e95cf577066d70681f0d35e2a33d2b56d2032b4b1752d1901ac01"],["c738c56b03b2abe1e8281baa743f8f9a8f7cc643df26cbee3ab150242bcbb891","893fb578951ad2537f718f2eacbfbbbb82314eef7880cfe917e735d9699a84c3"],["d895626548b65b81e264c7637c972877d1d72e5f3a925014372e9f6588f6c14b","febfaa38f2bc7eae728ec60818c340eb03428d632bb067e179363ed75d7d991f"],["b8da94032a957518eb0f6433571e8761ceffc73693e84edd49150a564f676e03","2804dfa44805a1e4d7c99cc9762808b092cc584d95ff3b511488e4e74efdf6e7"],["e80fea14441fb33a7d8adab9475d7fab2019effb5156a792f1a11778e3c0df5d","eed1de7f638e00771e89768ca3ca94472d155e80af322ea9fcb4291b6ac9ec78"],["a301697bdfcd704313ba48e51d567543f2a182031efd6915ddc07bbcc4e16070","7370f91cfb67e4f5081809fa25d40f9b1735dbf7c0a11a130c0d1a041e177ea1"],["90ad85b389d6b936463f9d0512678de208cc330b11307fffab7ac63e3fb04ed4","e507a3620a38261affdcbd9427222b839aefabe1582894d991d4d48cb6ef150"],["8f68b9d2f63b5f339239c1ad981f162ee88c5678723ea3351b7b444c9ec4c0da","662a9f2dba063986de1d90c2b6be215dbbea2cfe95510bfdf23cbf79501fff82"],["e4f3fb0176af85d65ff99ff9198c36091f48e86503681e3e6686fd5053231e11","1e63633ad0ef4f1c1661a6d0ea02b7286cc7e74ec951d1c9822c38576feb73bc"],["8c00fa9b18ebf331eb961537a45a4266c7034f2f0d4e1d0716fb6eae20eae29e","efa47267fea521a1a9dc343a3736c974c2fadafa81e36c54e7d2a4c66702414b"],["e7a26ce69dd4829f3e10cec0a9e98ed3143d084f308b92c0997fddfc60cb3e41","2a758e300fa7984b471b006a1aafbb18d0a6b2c0420e83e20e8a9421cf2cfd51"],["b6459e0ee3662ec8d23540c223bcbdc571cbcb967d79424f3cf29eb3de6b80ef","67c876d06f3e06de1dadf16e5661db3c4b3ae6d48e35b2ff30bf0b61a71ba45"],["d68a80c8280bb840793234aa118f06231d6f1fc67e73c5a5deda0f5b496943e8","db8ba9fff4b586d00c4b1f9177b0e28b5b0e7b8f7845295a294c84266b133120"],["324aed7df65c804252dc0270907a30b09612aeb973449cea4095980fc28d3d5d","648a365774b61f2ff130c0c35aec1f4f19213b0c7e332843967224af96ab7c84"],["4df9c14919cde61f6d51dfdbe5fee5dceec4143ba8d1ca888e8bd373fd054c96","35ec51092d8728050974c23a1d85d4b5d506cdc288490192ebac06cad10d5d"],["9c3919a84a474870faed8a9c1cc66021523489054d7f0308cbfc99c8ac1f98cd","ddb84f0f4a4ddd57584f044bf260e641905326f76c64c8e6be7e5e03d4fc599d"],["6057170b1dd12fdf8de05f281d8e06bb91e1493a8b91d4cc5a21382120a959e5","9a1af0b26a6a4807add9a2daf71df262465152bc3ee24c65e899be932385a2a8"],["a576df8e23a08411421439a4518da31880cef0fba7d4df12b1a6973eecb94266","40a6bf20e76640b2c92b97afe58cd82c432e10a7f514d9f3ee8be11ae1b28ec8"],["7778a78c28dec3e30a05fe9629de8c38bb30d1f5cf9a3a208f763889be58ad71","34626d9ab5a5b22ff7098e12f2ff580087b38411ff24ac563b513fc1fd9f43ac"],["928955ee637a84463729fd30e7afd2ed5f96274e5ad7e5cb09eda9c06d903ac","c25621003d3f42a827b78a13093a95eeac3d26efa8a8d83fc5180e935bcd091f"],["85d0fef3ec6db109399064f3a0e3b2855645b4a907ad354527aae75163d82751","1f03648413a38c0be29d496e582cf5663e8751e96877331582c237a24eb1f962"],["ff2b0dce97eece97c1c9b6041798b85dfdfb6d8882da20308f5404824526087e","493d13fef524ba188af4c4dc54d07936c7b7ed6fb90e2ceb2c951e01f0c29907"],["827fbbe4b1e880ea9ed2b2e6301b212b57f1ee148cd6dd28780e5e2cf856e241","c60f9c923c727b0b71bef2c67d1d12687ff7a63186903166d605b68baec293ec"],["eaa649f21f51bdbae7be4ae34ce6e5217a58fdce7f47f9aa7f3b58fa2120e2b3","be3279ed5bbbb03ac69a80f89879aa5a01a6b965f13f7e59d47a5305ba5ad93d"],["e4a42d43c5cf169d9391df6decf42ee541b6d8f0c9a137401e23632dda34d24f","4d9f92e716d1c73526fc99ccfb8ad34ce886eedfa8d8e4f13a7f7131deba9414"],["1ec80fef360cbdd954160fadab352b6b92b53576a88fea4947173b9d4300bf19","aeefe93756b5340d2f3a4958a7abbf5e0146e77f6295a07b671cdc1cc107cefd"],["146a778c04670c2f91b00af4680dfa8bce3490717d58ba889ddb5928366642be","b318e0ec3354028add669827f9d4b2870aaa971d2f7e5ed1d0b297483d83efd0"],["fa50c0f61d22e5f07e3acebb1aa07b128d0012209a28b9776d76a8793180eef9","6b84c6922397eba9b72cd2872281a68a5e683293a57a213b38cd8d7d3f4f2811"],["da1d61d0ca721a11b1a5bf6b7d88e8421a288ab5d5bba5220e53d32b5f067ec2","8157f55a7c99306c79c0766161c91e2966a73899d279b48a655fba0f1ad836f1"],["a8e282ff0c9706907215ff98e8fd416615311de0446f1e062a73b0610d064e13","7f97355b8db81c09abfb7f3c5b2515888b679a3e50dd6bd6cef7c73111f4cc0c"],["174a53b9c9a285872d39e56e6913cab15d59b1fa512508c022f382de8319497c","ccc9dc37abfc9c1657b4155f2c47f9e6646b3a1d8cb9854383da13ac079afa73"],["959396981943785c3d3e57edf5018cdbe039e730e4918b3d884fdff09475b7ba","2e7e552888c331dd8ba0386a4b9cd6849c653f64c8709385e9b8abf87524f2fd"],["d2a63a50ae401e56d645a1153b109a8fcca0a43d561fba2dbb51340c9d82b151","e82d86fb6443fcb7565aee58b2948220a70f750af484ca52d4142174dcf89405"],["64587e2335471eb890ee7896d7cfdc866bacbdbd3839317b3436f9b45617e073","d99fcdd5bf6902e2ae96dd6447c299a185b90a39133aeab358299e5e9faf6589"],["8481bde0e4e4d885b3a546d3e549de042f0aa6cea250e7fd358d6c86dd45e458","38ee7b8cba5404dd84a25bf39cecb2ca900a79c42b262e556d64b1b59779057e"],["13464a57a78102aa62b6979ae817f4637ffcfed3c4b1ce30bcd6303f6caf666b","69be159004614580ef7e433453ccb0ca48f300a81d0942e13f495a907f6ecc27"],["bc4a9df5b713fe2e9aef430bcc1dc97a0cd9ccede2f28588cada3a0d2d83f366","d3a81ca6e785c06383937adf4b798caa6e8a9fbfa547b16d758d666581f33c1"],["8c28a97bf8298bc0d23d8c749452a32e694b65e30a9472a3954ab30fe5324caa","40a30463a3305193378fedf31f7cc0eb7ae784f0451cb9459e71dc73cbef9482"],["8ea9666139527a8c1dd94ce4f071fd23c8b350c5a4bb33748c4ba111faccae0","620efabbc8ee2782e24e7c0cfb95c5d735b783be9cf0f8e955af34a30e62b945"],["dd3625faef5ba06074669716bbd3788d89bdde815959968092f76cc4eb9a9787","7a188fa3520e30d461da2501045731ca941461982883395937f68d00c644a573"],["f710d79d9eb962297e4f6232b40e8f7feb2bc63814614d692c12de752408221e","ea98e67232d3b3295d3b535532115ccac8612c721851617526ae47a9c77bfc82"]]},naf:{wnd:7,points:[["f9308a019258c31049344f85f89d5229b531c845836f99b08601f113bce036f9","388f7b0f632de8140fe337e62a37f3566500a99934c2231b6cb9fd7584b8e672"],["2f8bde4d1a07209355b4a7250a5c5128e88b84bddc619ab7cba8d569b240efe4","d8ac222636e5e3d6d4dba9dda6c9c426f788271bab0d6840dca87d3aa6ac62d6"],["5cbdf0646e5db4eaa398f365f2ea7a0e3d419b7e0330e39ce92bddedcac4f9bc","6aebca40ba255960a3178d6d861a54dba813d0b813fde7b5a5082628087264da"],["acd484e2f0c7f65309ad178a9f559abde09796974c57e714c35f110dfc27ccbe","cc338921b0a7d9fd64380971763b61e9add888a4375f8e0f05cc262ac64f9c37"],["774ae7f858a9411e5ef4246b70c65aac5649980be5c17891bbec17895da008cb","d984a032eb6b5e190243dd56d7b7b365372db1e2dff9d6a8301d74c9c953c61b"],["f28773c2d975288bc7d1d205c3748651b075fbc6610e58cddeeddf8f19405aa8","ab0902e8d880a89758212eb65cdaf473a1a06da521fa91f29b5cb52db03ed81"],["d7924d4f7d43ea965a465ae3095ff41131e5946f3c85f79e44adbcf8e27e080e","581e2872a86c72a683842ec228cc6defea40af2bd896d3a5c504dc9ff6a26b58"],["defdea4cdb677750a420fee807eacf21eb9898ae79b9768766e4faa04a2d4a34","4211ab0694635168e997b0ead2a93daeced1f4a04a95c0f6cfb199f69e56eb77"],["2b4ea0a797a443d293ef5cff444f4979f06acfebd7e86d277475656138385b6c","85e89bc037945d93b343083b5a1c86131a01f60c50269763b570c854e5c09b7a"],["352bbf4a4cdd12564f93fa332ce333301d9ad40271f8107181340aef25be59d5","321eb4075348f534d59c18259dda3e1f4a1b3b2e71b1039c67bd3d8bcf81998c"],["2fa2104d6b38d11b0230010559879124e42ab8dfeff5ff29dc9cdadd4ecacc3f","2de1068295dd865b64569335bd5dd80181d70ecfc882648423ba76b532b7d67"],["9248279b09b4d68dab21a9b066edda83263c3d84e09572e269ca0cd7f5453714","73016f7bf234aade5d1aa71bdea2b1ff3fc0de2a887912ffe54a32ce97cb3402"],["daed4f2be3a8bf278e70132fb0beb7522f570e144bf615c07e996d443dee8729","a69dce4a7d6c98e8d4a1aca87ef8d7003f83c230f3afa726ab40e52290be1c55"],["c44d12c7065d812e8acf28d7cbb19f9011ecd9e9fdf281b0e6a3b5e87d22e7db","2119a460ce326cdc76c45926c982fdac0e106e861edf61c5a039063f0e0e6482"],["6a245bf6dc698504c89a20cfded60853152b695336c28063b61c65cbd269e6b4","e022cf42c2bd4a708b3f5126f16a24ad8b33ba48d0423b6efd5e6348100d8a82"],["1697ffa6fd9de627c077e3d2fe541084ce13300b0bec1146f95ae57f0d0bd6a5","b9c398f186806f5d27561506e4557433a2cf15009e498ae7adee9d63d01b2396"],["605bdb019981718b986d0f07e834cb0d9deb8360ffb7f61df982345ef27a7479","2972d2de4f8d20681a78d93ec96fe23c26bfae84fb14db43b01e1e9056b8c49"],["62d14dab4150bf497402fdc45a215e10dcb01c354959b10cfe31c7e9d87ff33d","80fc06bd8cc5b01098088a1950eed0db01aa132967ab472235f5642483b25eaf"],["80c60ad0040f27dade5b4b06c408e56b2c50e9f56b9b8b425e555c2f86308b6f","1c38303f1cc5c30f26e66bad7fe72f70a65eed4cbe7024eb1aa01f56430bd57a"],["7a9375ad6167ad54aa74c6348cc54d344cc5dc9487d847049d5eabb0fa03c8fb","d0e3fa9eca8726909559e0d79269046bdc59ea10c70ce2b02d499ec224dc7f7"],["d528ecd9b696b54c907a9ed045447a79bb408ec39b68df504bb51f459bc3ffc9","eecf41253136e5f99966f21881fd656ebc4345405c520dbc063465b521409933"],["49370a4b5f43412ea25f514e8ecdad05266115e4a7ecb1387231808f8b45963","758f3f41afd6ed428b3081b0512fd62a54c3f3afbb5b6764b653052a12949c9a"],["77f230936ee88cbbd73df930d64702ef881d811e0e1498e2f1c13eb1fc345d74","958ef42a7886b6400a08266e9ba1b37896c95330d97077cbbe8eb3c7671c60d6"],["f2dac991cc4ce4b9ea44887e5c7c0bce58c80074ab9d4dbaeb28531b7739f530","e0dedc9b3b2f8dad4da1f32dec2531df9eb5fbeb0598e4fd1a117dba703a3c37"],["463b3d9f662621fb1b4be8fbbe2520125a216cdfc9dae3debcba4850c690d45b","5ed430d78c296c3543114306dd8622d7c622e27c970a1de31cb377b01af7307e"],["f16f804244e46e2a09232d4aff3b59976b98fac14328a2d1a32496b49998f247","cedabd9b82203f7e13d206fcdf4e33d92a6c53c26e5cce26d6579962c4e31df6"],["caf754272dc84563b0352b7a14311af55d245315ace27c65369e15f7151d41d1","cb474660ef35f5f2a41b643fa5e460575f4fa9b7962232a5c32f908318a04476"],["2600ca4b282cb986f85d0f1709979d8b44a09c07cb86d7c124497bc86f082120","4119b88753c15bd6a693b03fcddbb45d5ac6be74ab5f0ef44b0be9475a7e4b40"],["7635ca72d7e8432c338ec53cd12220bc01c48685e24f7dc8c602a7746998e435","91b649609489d613d1d5e590f78e6d74ecfc061d57048bad9e76f302c5b9c61"],["754e3239f325570cdbbf4a87deee8a66b7f2b33479d468fbc1a50743bf56cc18","673fb86e5bda30fb3cd0ed304ea49a023ee33d0197a695d0c5d98093c536683"],["e3e6bd1071a1e96aff57859c82d570f0330800661d1c952f9fe2694691d9b9e8","59c9e0bba394e76f40c0aa58379a3cb6a5a2283993e90c4167002af4920e37f5"],["186b483d056a033826ae73d88f732985c4ccb1f32ba35f4b4cc47fdcf04aa6eb","3b952d32c67cf77e2e17446e204180ab21fb8090895138b4a4a797f86e80888b"],["df9d70a6b9876ce544c98561f4be4f725442e6d2b737d9c91a8321724ce0963f","55eb2dafd84d6ccd5f862b785dc39d4ab157222720ef9da217b8c45cf2ba2417"],["5edd5cc23c51e87a497ca815d5dce0f8ab52554f849ed8995de64c5f34ce7143","efae9c8dbc14130661e8cec030c89ad0c13c66c0d17a2905cdc706ab7399a868"],["290798c2b6476830da12fe02287e9e777aa3fba1c355b17a722d362f84614fba","e38da76dcd440621988d00bcf79af25d5b29c094db2a23146d003afd41943e7a"],["af3c423a95d9f5b3054754efa150ac39cd29552fe360257362dfdecef4053b45","f98a3fd831eb2b749a93b0e6f35cfb40c8cd5aa667a15581bc2feded498fd9c6"],["766dbb24d134e745cccaa28c99bf274906bb66b26dcf98df8d2fed50d884249a","744b1152eacbe5e38dcc887980da38b897584a65fa06cedd2c924f97cbac5996"],["59dbf46f8c94759ba21277c33784f41645f7b44f6c596a58ce92e666191abe3e","c534ad44175fbc300f4ea6ce648309a042ce739a7919798cd85e216c4a307f6e"],["f13ada95103c4537305e691e74e9a4a8dd647e711a95e73cb62dc6018cfd87b8","e13817b44ee14de663bf4bc808341f326949e21a6a75c2570778419bdaf5733d"],["7754b4fa0e8aced06d4167a2c59cca4cda1869c06ebadfb6488550015a88522c","30e93e864e669d82224b967c3020b8fa8d1e4e350b6cbcc537a48b57841163a2"],["948dcadf5990e048aa3874d46abef9d701858f95de8041d2a6828c99e2262519","e491a42537f6e597d5d28a3224b1bc25df9154efbd2ef1d2cbba2cae5347d57e"],["7962414450c76c1689c7b48f8202ec37fb224cf5ac0bfa1570328a8a3d7c77ab","100b610ec4ffb4760d5c1fc133ef6f6b12507a051f04ac5760afa5b29db83437"],["3514087834964b54b15b160644d915485a16977225b8847bb0dd085137ec47ca","ef0afbb2056205448e1652c48e8127fc6039e77c15c2378b7e7d15a0de293311"],["d3cc30ad6b483e4bc79ce2c9dd8bc54993e947eb8df787b442943d3f7b527eaf","8b378a22d827278d89c5e9be8f9508ae3c2ad46290358630afb34db04eede0a4"],["1624d84780732860ce1c78fcbfefe08b2b29823db913f6493975ba0ff4847610","68651cf9b6da903e0914448c6cd9d4ca896878f5282be4c8cc06e2a404078575"],["733ce80da955a8a26902c95633e62a985192474b5af207da6df7b4fd5fc61cd4","f5435a2bd2badf7d485a4d8b8db9fcce3e1ef8e0201e4578c54673bc1dc5ea1d"],["15d9441254945064cf1a1c33bbd3b49f8966c5092171e699ef258dfab81c045c","d56eb30b69463e7234f5137b73b84177434800bacebfc685fc37bbe9efe4070d"],["a1d0fcf2ec9de675b612136e5ce70d271c21417c9d2b8aaaac138599d0717940","edd77f50bcb5a3cab2e90737309667f2641462a54070f3d519212d39c197a629"],["e22fbe15c0af8ccc5780c0735f84dbe9a790badee8245c06c7ca37331cb36980","a855babad5cd60c88b430a69f53a1a7a38289154964799be43d06d77d31da06"],["311091dd9860e8e20ee13473c1155f5f69635e394704eaa74009452246cfa9b3","66db656f87d1f04fffd1f04788c06830871ec5a64feee685bd80f0b1286d8374"],["34c1fd04d301be89b31c0442d3e6ac24883928b45a9340781867d4232ec2dbdf","9414685e97b1b5954bd46f730174136d57f1ceeb487443dc5321857ba73abee"],["f219ea5d6b54701c1c14de5b557eb42a8d13f3abbcd08affcc2a5e6b049b8d63","4cb95957e83d40b0f73af4544cccf6b1f4b08d3c07b27fb8d8c2962a400766d1"],["d7b8740f74a8fbaab1f683db8f45de26543a5490bca627087236912469a0b448","fa77968128d9c92ee1010f337ad4717eff15db5ed3c049b3411e0315eaa4593b"],["32d31c222f8f6f0ef86f7c98d3a3335ead5bcd32abdd94289fe4d3091aa824bf","5f3032f5892156e39ccd3d7915b9e1da2e6dac9e6f26e961118d14b8462e1661"],["7461f371914ab32671045a155d9831ea8793d77cd59592c4340f86cbc18347b5","8ec0ba238b96bec0cbdddcae0aa442542eee1ff50c986ea6b39847b3cc092ff6"],["ee079adb1df1860074356a25aa38206a6d716b2c3e67453d287698bad7b2b2d6","8dc2412aafe3be5c4c5f37e0ecc5f9f6a446989af04c4e25ebaac479ec1c8c1e"],["16ec93e447ec83f0467b18302ee620f7e65de331874c9dc72bfd8616ba9da6b5","5e4631150e62fb40d0e8c2a7ca5804a39d58186a50e497139626778e25b0674d"],["eaa5f980c245f6f038978290afa70b6bd8855897f98b6aa485b96065d537bd99","f65f5d3e292c2e0819a528391c994624d784869d7e6ea67fb18041024edc07dc"],["78c9407544ac132692ee1910a02439958ae04877151342ea96c4b6b35a49f51","f3e0319169eb9b85d5404795539a5e68fa1fbd583c064d2462b675f194a3ddb4"],["494f4be219a1a77016dcd838431aea0001cdc8ae7a6fc688726578d9702857a5","42242a969283a5f339ba7f075e36ba2af925ce30d767ed6e55f4b031880d562c"],["a598a8030da6d86c6bc7f2f5144ea549d28211ea58faa70ebf4c1e665c1fe9b5","204b5d6f84822c307e4b4a7140737aec23fc63b65b35f86a10026dbd2d864e6b"],["c41916365abb2b5d09192f5f2dbeafec208f020f12570a184dbadc3e58595997","4f14351d0087efa49d245b328984989d5caf9450f34bfc0ed16e96b58fa9913"],["841d6063a586fa475a724604da03bc5b92a2e0d2e0a36acfe4c73a5514742881","73867f59c0659e81904f9a1c7543698e62562d6744c169ce7a36de01a8d6154"],["5e95bb399a6971d376026947f89bde2f282b33810928be4ded112ac4d70e20d5","39f23f366809085beebfc71181313775a99c9aed7d8ba38b161384c746012865"],["36e4641a53948fd476c39f8a99fd974e5ec07564b5315d8bf99471bca0ef2f66","d2424b1b1abe4eb8164227b085c9aa9456ea13493fd563e06fd51cf5694c78fc"],["336581ea7bfbbb290c191a2f507a41cf5643842170e914faeab27c2c579f726","ead12168595fe1be99252129b6e56b3391f7ab1410cd1e0ef3dcdcabd2fda224"],["8ab89816dadfd6b6a1f2634fcf00ec8403781025ed6890c4849742706bd43ede","6fdcef09f2f6d0a044e654aef624136f503d459c3e89845858a47a9129cdd24e"],["1e33f1a746c9c5778133344d9299fcaa20b0938e8acff2544bb40284b8c5fb94","60660257dd11b3aa9c8ed618d24edff2306d320f1d03010e33a7d2057f3b3b6"],["85b7c1dcb3cec1b7ee7f30ded79dd20a0ed1f4cc18cbcfcfa410361fd8f08f31","3d98a9cdd026dd43f39048f25a8847f4fcafad1895d7a633c6fed3c35e999511"],["29df9fbd8d9e46509275f4b125d6d45d7fbe9a3b878a7af872a2800661ac5f51","b4c4fe99c775a606e2d8862179139ffda61dc861c019e55cd2876eb2a27d84b"],["a0b1cae06b0a847a3fea6e671aaf8adfdfe58ca2f768105c8082b2e449fce252","ae434102edde0958ec4b19d917a6a28e6b72da1834aff0e650f049503a296cf2"],["4e8ceafb9b3e9a136dc7ff67e840295b499dfb3b2133e4ba113f2e4c0e121e5","cf2174118c8b6d7a4b48f6d534ce5c79422c086a63460502b827ce62a326683c"],["d24a44e047e19b6f5afb81c7ca2f69080a5076689a010919f42725c2b789a33b","6fb8d5591b466f8fc63db50f1c0f1c69013f996887b8244d2cdec417afea8fa3"],["ea01606a7a6c9cdd249fdfcfacb99584001edd28abbab77b5104e98e8e3b35d4","322af4908c7312b0cfbfe369f7a7b3cdb7d4494bc2823700cfd652188a3ea98d"],["af8addbf2b661c8a6c6328655eb96651252007d8c5ea31be4ad196de8ce2131f","6749e67c029b85f52a034eafd096836b2520818680e26ac8f3dfbcdb71749700"],["e3ae1974566ca06cc516d47e0fb165a674a3dabcfca15e722f0e3450f45889","2aeabe7e4531510116217f07bf4d07300de97e4874f81f533420a72eeb0bd6a4"],["591ee355313d99721cf6993ffed1e3e301993ff3ed258802075ea8ced397e246","b0ea558a113c30bea60fc4775460c7901ff0b053d25ca2bdeee98f1a4be5d196"],["11396d55fda54c49f19aa97318d8da61fa8584e47b084945077cf03255b52984","998c74a8cd45ac01289d5833a7beb4744ff536b01b257be4c5767bea93ea57a4"],["3c5d2a1ba39c5a1790000738c9e0c40b8dcdfd5468754b6405540157e017aa7a","b2284279995a34e2f9d4de7396fc18b80f9b8b9fdd270f6661f79ca4c81bd257"],["cc8704b8a60a0defa3a99a7299f2e9c3fbc395afb04ac078425ef8a1793cc030","bdd46039feed17881d1e0862db347f8cf395b74fc4bcdc4e940b74e3ac1f1b13"],["c533e4f7ea8555aacd9777ac5cad29b97dd4defccc53ee7ea204119b2889b197","6f0a256bc5efdf429a2fb6242f1a43a2d9b925bb4a4b3a26bb8e0f45eb596096"],["c14f8f2ccb27d6f109f6d08d03cc96a69ba8c34eec07bbcf566d48e33da6593","c359d6923bb398f7fd4473e16fe1c28475b740dd098075e6c0e8649113dc3a38"],["a6cbc3046bc6a450bac24789fa17115a4c9739ed75f8f21ce441f72e0b90e6ef","21ae7f4680e889bb130619e2c0f95a360ceb573c70603139862afd617fa9b9f"],["347d6d9a02c48927ebfb86c1359b1caf130a3c0267d11ce6344b39f99d43cc38","60ea7f61a353524d1c987f6ecec92f086d565ab687870cb12689ff1e31c74448"],["da6545d2181db8d983f7dcb375ef5866d47c67b1bf31c8cf855ef7437b72656a","49b96715ab6878a79e78f07ce5680c5d6673051b4935bd897fea824b77dc208a"],["c40747cc9d012cb1a13b8148309c6de7ec25d6945d657146b9d5994b8feb1111","5ca560753be2a12fc6de6caf2cb489565db936156b9514e1bb5e83037e0fa2d4"],["4e42c8ec82c99798ccf3a610be870e78338c7f713348bd34c8203ef4037f3502","7571d74ee5e0fb92a7a8b33a07783341a5492144cc54bcc40a94473693606437"],["3775ab7089bc6af823aba2e1af70b236d251cadb0c86743287522a1b3b0dedea","be52d107bcfa09d8bcb9736a828cfa7fac8db17bf7a76a2c42ad961409018cf7"],["cee31cbf7e34ec379d94fb814d3d775ad954595d1314ba8846959e3e82f74e26","8fd64a14c06b589c26b947ae2bcf6bfa0149ef0be14ed4d80f448a01c43b1c6d"],["b4f9eaea09b6917619f6ea6a4eb5464efddb58fd45b1ebefcdc1a01d08b47986","39e5c9925b5a54b07433a4f18c61726f8bb131c012ca542eb24a8ac07200682a"],["d4263dfc3d2df923a0179a48966d30ce84e2515afc3dccc1b77907792ebcc60e","62dfaf07a0f78feb30e30d6295853ce189e127760ad6cf7fae164e122a208d54"],["48457524820fa65a4f8d35eb6930857c0032acc0a4a2de422233eeda897612c4","25a748ab367979d98733c38a1fa1c2e7dc6cc07db2d60a9ae7a76aaa49bd0f77"],["dfeeef1881101f2cb11644f3a2afdfc2045e19919152923f367a1767c11cceda","ecfb7056cf1de042f9420bab396793c0c390bde74b4bbdff16a83ae09a9a7517"],["6d7ef6b17543f8373c573f44e1f389835d89bcbc6062ced36c82df83b8fae859","cd450ec335438986dfefa10c57fea9bcc521a0959b2d80bbf74b190dca712d10"],["e75605d59102a5a2684500d3b991f2e3f3c88b93225547035af25af66e04541f","f5c54754a8f71ee540b9b48728473e314f729ac5308b06938360990e2bfad125"],["eb98660f4c4dfaa06a2be453d5020bc99a0c2e60abe388457dd43fefb1ed620c","6cb9a8876d9cb8520609af3add26cd20a0a7cd8a9411131ce85f44100099223e"],["13e87b027d8514d35939f2e6892b19922154596941888336dc3563e3b8dba942","fef5a3c68059a6dec5d624114bf1e91aac2b9da568d6abeb2570d55646b8adf1"],["ee163026e9fd6fe017c38f06a5be6fc125424b371ce2708e7bf4491691e5764a","1acb250f255dd61c43d94ccc670d0f58f49ae3fa15b96623e5430da0ad6c62b2"],["b268f5ef9ad51e4d78de3a750c2dc89b1e626d43505867999932e5db33af3d80","5f310d4b3c99b9ebb19f77d41c1dee018cf0d34fd4191614003e945a1216e423"],["ff07f3118a9df035e9fad85eb6c7bfe42b02f01ca99ceea3bf7ffdba93c4750d","438136d603e858a3a5c440c38eccbaddc1d2942114e2eddd4740d098ced1f0d8"],["8d8b9855c7c052a34146fd20ffb658bea4b9f69e0d825ebec16e8c3ce2b526a1","cdb559eedc2d79f926baf44fb84ea4d44bcf50fee51d7ceb30e2e7f463036758"],["52db0b5384dfbf05bfa9d472d7ae26dfe4b851ceca91b1eba54263180da32b63","c3b997d050ee5d423ebaf66a6db9f57b3180c902875679de924b69d84a7b375"],["e62f9490d3d51da6395efd24e80919cc7d0f29c3f3fa48c6fff543becbd43352","6d89ad7ba4876b0b22c2ca280c682862f342c8591f1daf5170e07bfd9ccafa7d"],["7f30ea2476b399b4957509c88f77d0191afa2ff5cb7b14fd6d8e7d65aaab1193","ca5ef7d4b231c94c3b15389a5f6311e9daff7bb67b103e9880ef4bff637acaec"],["5098ff1e1d9f14fb46a210fada6c903fef0fb7b4a1dd1d9ac60a0361800b7a00","9731141d81fc8f8084d37c6e7542006b3ee1b40d60dfe5362a5b132fd17ddc0"],["32b78c7de9ee512a72895be6b9cbefa6e2f3c4ccce445c96b9f2c81e2778ad58","ee1849f513df71e32efc3896ee28260c73bb80547ae2275ba497237794c8753c"],["e2cb74fddc8e9fbcd076eef2a7c72b0ce37d50f08269dfc074b581550547a4f7","d3aa2ed71c9dd2247a62df062736eb0baddea9e36122d2be8641abcb005cc4a4"],["8438447566d4d7bedadc299496ab357426009a35f235cb141be0d99cd10ae3a8","c4e1020916980a4da5d01ac5e6ad330734ef0d7906631c4f2390426b2edd791f"],["4162d488b89402039b584c6fc6c308870587d9c46f660b878ab65c82c711d67e","67163e903236289f776f22c25fb8a3afc1732f2b84b4e95dbda47ae5a0852649"],["3fad3fa84caf0f34f0f89bfd2dcf54fc175d767aec3e50684f3ba4a4bf5f683d","cd1bc7cb6cc407bb2f0ca647c718a730cf71872e7d0d2a53fa20efcdfe61826"],["674f2600a3007a00568c1a7ce05d0816c1fb84bf1370798f1c69532faeb1a86b","299d21f9413f33b3edf43b257004580b70db57da0b182259e09eecc69e0d38a5"],["d32f4da54ade74abb81b815ad1fb3b263d82d6c692714bcff87d29bd5ee9f08f","f9429e738b8e53b968e99016c059707782e14f4535359d582fc416910b3eea87"],["30e4e670435385556e593657135845d36fbb6931f72b08cb1ed954f1e3ce3ff6","462f9bce619898638499350113bbc9b10a878d35da70740dc695a559eb88db7b"],["be2062003c51cc3004682904330e4dee7f3dcd10b01e580bf1971b04d4cad297","62188bc49d61e5428573d48a74e1c655b1c61090905682a0d5558ed72dccb9bc"],["93144423ace3451ed29e0fb9ac2af211cb6e84a601df5993c419859fff5df04a","7c10dfb164c3425f5c71a3f9d7992038f1065224f72bb9d1d902a6d13037b47c"],["b015f8044f5fcbdcf21ca26d6c34fb8197829205c7b7d2a7cb66418c157b112c","ab8c1e086d04e813744a655b2df8d5f83b3cdc6faa3088c1d3aea1454e3a1d5f"],["d5e9e1da649d97d89e4868117a465a3a4f8a18de57a140d36b3f2af341a21b52","4cb04437f391ed73111a13cc1d4dd0db1693465c2240480d8955e8592f27447a"],["d3ae41047dd7ca065dbf8ed77b992439983005cd72e16d6f996a5316d36966bb","bd1aeb21ad22ebb22a10f0303417c6d964f8cdd7df0aca614b10dc14d125ac46"],["463e2763d885f958fc66cdd22800f0a487197d0a82e377b49f80af87c897b065","bfefacdb0e5d0fd7df3a311a94de062b26b80c61fbc97508b79992671ef7ca7f"],["7985fdfd127c0567c6f53ec1bb63ec3158e597c40bfe747c83cddfc910641917","603c12daf3d9862ef2b25fe1de289aed24ed291e0ec6708703a5bd567f32ed03"],["74a1ad6b5f76e39db2dd249410eac7f99e74c59cb83d2d0ed5ff1543da7703e9","cc6157ef18c9c63cd6193d83631bbea0093e0968942e8c33d5737fd790e0db08"],["30682a50703375f602d416664ba19b7fc9bab42c72747463a71d0896b22f6da3","553e04f6b018b4fa6c8f39e7f311d3176290d0e0f19ca73f17714d9977a22ff8"],["9e2158f0d7c0d5f26c3791efefa79597654e7a2b2464f52b1ee6c1347769ef57","712fcdd1b9053f09003a3481fa7762e9ffd7c8ef35a38509e2fbf2629008373"],["176e26989a43c9cfeba4029c202538c28172e566e3c4fce7322857f3be327d66","ed8cc9d04b29eb877d270b4878dc43c19aefd31f4eee09ee7b47834c1fa4b1c3"],["75d46efea3771e6e68abb89a13ad747ecf1892393dfc4f1b7004788c50374da8","9852390a99507679fd0b86fd2b39a868d7efc22151346e1a3ca4726586a6bed8"],["809a20c67d64900ffb698c4c825f6d5f2310fb0451c869345b7319f645605721","9e994980d9917e22b76b061927fa04143d096ccc54963e6a5ebfa5f3f8e286c1"],["1b38903a43f7f114ed4500b4eac7083fdefece1cf29c63528d563446f972c180","4036edc931a60ae889353f77fd53de4a2708b26b6f5da72ad3394119daf408f9"]]}}),R1}var Uw;function ug(){return Uw||(Uw=1,function(r){var t=r,e=Eh,n=k_(),s=Wi(),i=s.assert;function c(m){m.type==="short"?this.curve=new n.short(m):m.type==="edwards"?this.curve=new n.edwards(m):this.curve=new n.mont(m),this.g=this.curve.g,this.n=this.curve.n,this.hash=m.hash,i(this.g.validate(),"Invalid curve"),i(this.g.mul(this.n).isInfinity(),"Invalid curve, G*N != O")}t.PresetCurve=c;function l(m,v){Object.defineProperty(t,m,{configurable:!0,enumerable:!0,get:function(){var _=new c(v);return Object.defineProperty(t,m,{configurable:!0,enumerable:!0,value:_}),_}})}l("p192",{type:"short",prime:"p192",p:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff",a:"ffffffff ffffffff ffffffff fffffffe ffffffff fffffffc",b:"64210519 e59c80e7 0fa7e9ab 72243049 feb8deec c146b9b1",n:"ffffffff ffffffff ffffffff 99def836 146bc9b1 b4d22831",hash:e.sha256,gRed:!1,g:["188da80e b03090f6 7cbf20eb 43a18800 f4ff0afd 82ff1012","07192b95 ffc8da78 631011ed 6b24cdd5 73f977a1 1e794811"]}),l("p224",{type:"short",prime:"p224",p:"ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001",a:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff fffffffe",b:"b4050a85 0c04b3ab f5413256 5044b0b7 d7bfd8ba 270b3943 2355ffb4",n:"ffffffff ffffffff ffffffff ffff16a2 e0b8f03e 13dd2945 5c5c2a3d",hash:e.sha256,gRed:!1,g:["b70e0cbd 6bb4bf7f 321390b9 4a03c1d3 56c21122 343280d6 115c1d21","bd376388 b5f723fb 4c22dfe6 cd4375a0 5a074764 44d58199 85007e34"]}),l("p256",{type:"short",prime:null,p:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff ffffffff",a:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff fffffffc",b:"5ac635d8 aa3a93e7 b3ebbd55 769886bc 651d06b0 cc53b0f6 3bce3c3e 27d2604b",n:"ffffffff 00000000 ffffffff ffffffff bce6faad a7179e84 f3b9cac2 fc632551",hash:e.sha256,gRed:!1,g:["6b17d1f2 e12c4247 f8bce6e5 63a440f2 77037d81 2deb33a0 f4a13945 d898c296","4fe342e2 fe1a7f9b 8ee7eb4a 7c0f9e16 2bce3357 6b315ece cbb64068 37bf51f5"]}),l("p384",{type:"short",prime:null,p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 ffffffff",a:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 fffffffc",b:"b3312fa7 e23ee7e4 988e056b e3f82d19 181d9c6e fe814112 0314088f 5013875a c656398d 8a2ed19d 2a85c8ed d3ec2aef",n:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff c7634d81 f4372ddf 581a0db2 48b0a77a ecec196a ccc52973",hash:e.sha384,gRed:!1,g:["aa87ca22 be8b0537 8eb1c71e f320ad74 6e1d3b62 8ba79b98 59f741e0 82542a38 5502f25d bf55296c 3a545e38 72760ab7","3617de4a 96262c6f 5d9e98bf 9292dc29 f8f41dbd 289a147c e9da3113 b5f0b8c0 0a60b1ce 1d7e819d 7a431d7c 90ea0e5f"]}),l("p521",{type:"short",prime:null,p:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff",a:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffc",b:"00000051 953eb961 8e1c9a1f 929a21a0 b68540ee a2da725b 99b315f3 b8b48991 8ef109e1 56193951 ec7e937b 1652c0bd 3bb1bf07 3573df88 3d2c34f1 ef451fd4 6b503f00",n:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffa 51868783 bf2f966b 7fcc0148 f709a5d0 3bb5c9b8 899c47ae bb6fb71e 91386409",hash:e.sha512,gRed:!1,g:["000000c6 858e06b7 0404e9cd 9e3ecb66 2395b442 9c648139 053fb521 f828af60 6b4d3dba a14b5e77 efe75928 fe1dc127 a2ffa8de 3348b3c1 856a429b f97e7e31 c2e5bd66","00000118 39296a78 9a3bc004 5c8a5fb4 2c7d1bd9 98f54449 579b4468 17afbd17 273e662c 97ee7299 5ef42640 c550b901 3fad0761 353c7086 a272c240 88be9476 9fd16650"]}),l("curve25519",{type:"mont",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"76d06",b:"1",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:e.sha256,gRed:!1,g:["9"]}),l("ed25519",{type:"edwards",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"-1",c:"1",d:"52036cee2b6ffe73 8cc740797779e898 00700a4d4141d8ab 75eb4dca135978a3",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:e.sha256,gRed:!1,g:["216936d3cd6e53fec0a4e231fdd6dc5c692cc7609525a7b2c9562d608f25d51a","6666666666666666666666666666666666666666666666666666666666666658"]});var p;try{p=sC()}catch{p=void 0}l("secp256k1",{type:"short",prime:"k256",p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f",a:"0",b:"7",n:"ffffffff ffffffff ffffffff fffffffe baaedce6 af48a03b bfd25e8c d0364141",h:"1",hash:e.sha256,beta:"7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee",lambda:"5363ad4cc05c30e0a5261c028812645a122e22ea20816678df02967c1b23bd72",basis:[{a:"3086d221a7d46bcde86c90e49284eb15",b:"-e4437ed6010e88286f547fa90abfe4c3"},{a:"114ca50f7a8e2f3f657c1108d9d44cfd8",b:"3086d221a7d46bcde86c90e49284eb15"}],gRed:!1,g:["79be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f81798","483ada7726a3c4655da4fbfc0e1108a8fd17b448a68554199c47d08ffb10d4b8",p]})}(k1)),k1}var C1,Nw;function aC(){if(Nw)return C1;Nw=1;var r=Eh,t=S_(),e=Zi;function n(s){if(!(this instanceof n))return new n(s);this.hash=s.hash,this.predResist=!!s.predResist,this.outLen=this.hash.outSize,this.minEntropy=s.minEntropy||this.hash.hmacStrength,this._reseed=null,this.reseedInterval=null,this.K=null,this.V=null;var i=t.toArray(s.entropy,s.entropyEnc||"hex"),c=t.toArray(s.nonce,s.nonceEnc||"hex"),l=t.toArray(s.pers,s.persEnc||"hex");e(i.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._init(i,c,l)}return C1=n,n.prototype._init=function(i,c,l){var p=i.concat(c).concat(l);this.K=new Array(this.outLen/8),this.V=new Array(this.outLen/8);for(var m=0;m<this.V.length;m++)this.K[m]=0,this.V[m]=1;this._update(p),this._reseed=1,this.reseedInterval=281474976710656},n.prototype._hmac=function(){return new r.hmac(this.hash,this.K)},n.prototype._update=function(i){var c=this._hmac().update(this.V).update([0]);i&&(c=c.update(i)),this.K=c.digest(),this.V=this._hmac().update(this.V).digest(),i&&(this.K=this._hmac().update(this.V).update([1]).update(i).digest(),this.V=this._hmac().update(this.V).digest())},n.prototype.reseed=function(i,c,l,p){typeof c!="string"&&(p=l,l=c,c=null),i=t.toArray(i,c),l=t.toArray(l,p),e(i.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._update(i.concat(l||[])),this._reseed=1},n.prototype.generate=function(i,c,l,p){if(this._reseed>this.reseedInterval)throw new Error("Reseed is required");typeof c!="string"&&(p=l,l=c,c=null),l&&(l=t.toArray(l,p||"hex"),this._update(l));for(var m=[];m.length<i;)this.V=this._hmac().update(this.V).digest(),m=m.concat(this.V);var v=m.slice(0,i);return this._update(l),this._reseed++,t.encode(v,c)},C1}var T1,Dw;function uC(){if(Dw)return T1;Dw=1;var r=Is(),t=Wi(),e=t.assert;function n(s,i){this.ec=s,this.priv=null,this.pub=null,i.priv&&this._importPrivate(i.priv,i.privEnc),i.pub&&this._importPublic(i.pub,i.pubEnc)}return T1=n,n.fromPublic=function(i,c,l){return c instanceof n?c:new n(i,{pub:c,pubEnc:l})},n.fromPrivate=function(i,c,l){return c instanceof n?c:new n(i,{priv:c,privEnc:l})},n.prototype.validate=function(){var i=this.getPublic();return i.isInfinity()?{result:!1,reason:"Invalid public key"}:i.validate()?i.mul(this.ec.curve.n).isInfinity()?{result:!0,reason:null}:{result:!1,reason:"Public key * N != O"}:{result:!1,reason:"Public key is not a point"}},n.prototype.getPublic=function(i,c){return typeof i=="string"&&(c=i,i=null),this.pub||(this.pub=this.ec.g.mul(this.priv)),c?this.pub.encode(c,i):this.pub},n.prototype.getPrivate=function(i){return i==="hex"?this.priv.toString(16,2):this.priv},n.prototype._importPrivate=function(i,c){this.priv=new r(i,c||16),this.priv=this.priv.umod(this.ec.curve.n)},n.prototype._importPublic=function(i,c){if(i.x||i.y){this.ec.curve.type==="mont"?e(i.x,"Need x coordinate"):(this.ec.curve.type==="short"||this.ec.curve.type==="edwards")&&e(i.x&&i.y,"Need both x and y coordinate"),this.pub=this.ec.curve.point(i.x,i.y);return}this.pub=this.ec.curve.decodePoint(i,c)},n.prototype.derive=function(i){return i.validate()||e(i.validate(),"public point not validated"),i.mul(this.priv).getX()},n.prototype.sign=function(i,c,l){return this.ec.sign(i,this,c,l)},n.prototype.verify=function(i,c){return this.ec.verify(i,c,this)},n.prototype.inspect=function(){return"<Key priv: "+(this.priv&&this.priv.toString(16,2))+" pub: "+(this.pub&&this.pub.inspect())+" >"},T1}var L1,zw;function fC(){if(zw)return L1;zw=1;var r=Is(),t=Wi(),e=t.assert;function n(p,m){if(p instanceof n)return p;this._importDER(p,m)||(e(p.r&&p.s,"Signature without r or s"),this.r=new r(p.r,16),this.s=new r(p.s,16),p.recoveryParam===void 0?this.recoveryParam=null:this.recoveryParam=p.recoveryParam)}L1=n;function s(){this.place=0}function i(p,m){var v=p[m.place++];if(!(v&128))return v;var _=v&15;if(_===0||_>4)return!1;for(var E=0,w=0,x=m.place;w<_;w++,x++)E<<=8,E|=p[x],E>>>=0;return E<=127?!1:(m.place=x,E)}function c(p){for(var m=0,v=p.length-1;!p[m]&&!(p[m+1]&128)&&m<v;)m++;return m===0?p:p.slice(m)}n.prototype._importDER=function(m,v){m=t.toArray(m,v);var _=new s;if(m[_.place++]!==48)return!1;var E=i(m,_);if(E===!1||E+_.place!==m.length||m[_.place++]!==2)return!1;var w=i(m,_);if(w===!1)return!1;var x=m.slice(_.place,w+_.place);if(_.place+=w,m[_.place++]!==2)return!1;var A=i(m,_);if(A===!1||m.length!==A+_.place)return!1;var B=m.slice(_.place,A+_.place);if(x[0]===0)if(x[1]&128)x=x.slice(1);else return!1;if(B[0]===0)if(B[1]&128)B=B.slice(1);else return!1;return this.r=new r(x),this.s=new r(B),this.recoveryParam=null,!0};function l(p,m){if(m<128){p.push(m);return}var v=1+(Math.log(m)/Math.LN2>>>3);for(p.push(v|128);--v;)p.push(m>>>(v<<3)&255);p.push(m)}return n.prototype.toDER=function(m){var v=this.r.toArray(),_=this.s.toArray();for(v[0]&128&&(v=[0].concat(v)),_[0]&128&&(_=[0].concat(_)),v=c(v),_=c(_);!_[0]&&!(_[1]&128);)_=_.slice(1);var E=[2];l(E,v.length),E=E.concat(v),E.push(2),l(E,_.length);var w=E.concat(_),x=[48];return l(x,w.length),x=x.concat(w),t.encode(x,m)},L1}var O1,qw;function cC(){if(qw)return O1;qw=1;var r=Is(),t=aC(),e=Wi(),n=ug(),s=sg(),i=e.assert,c=uC(),l=fC();function p(m){if(!(this instanceof p))return new p(m);typeof m=="string"&&(i(Object.prototype.hasOwnProperty.call(n,m),"Unknown curve "+m),m=n[m]),m instanceof n.PresetCurve&&(m={curve:m}),this.curve=m.curve.curve,this.n=this.curve.n,this.nh=this.n.ushrn(1),this.g=this.curve.g,this.g=m.curve.g,this.g.precompute(m.curve.n.bitLength()+1),this.hash=m.hash||m.curve.hash}return O1=p,p.prototype.keyPair=function(v){return new c(this,v)},p.prototype.keyFromPrivate=function(v,_){return c.fromPrivate(this,v,_)},p.prototype.keyFromPublic=function(v,_){return c.fromPublic(this,v,_)},p.prototype.genKeyPair=function(v){v||(v={});for(var _=new t({hash:this.hash,pers:v.pers,persEnc:v.persEnc||"utf8",entropy:v.entropy||s(this.hash.hmacStrength),entropyEnc:v.entropy&&v.entropyEnc||"utf8",nonce:this.n.toArray()}),E=this.n.byteLength(),w=this.n.sub(new r(2));;){var x=new r(_.generate(E));if(!(x.cmp(w)>0))return x.iaddn(1),this.keyFromPrivate(x)}},p.prototype._truncateToN=function(v,_){var E=v.byteLength()*8-this.n.bitLength();return E>0&&(v=v.ushrn(E)),!_&&v.cmp(this.n)>=0?v.sub(this.n):v},p.prototype.sign=function(v,_,E,w){typeof E=="object"&&(w=E,E=null),w||(w={}),_=this.keyFromPrivate(_,E),v=this._truncateToN(new r(v,16));for(var x=this.n.byteLength(),A=_.getPrivate().toArray("be",x),B=v.toArray("be",x),P=new t({hash:this.hash,entropy:A,nonce:B,pers:w.pers,persEnc:w.persEnc||"utf8"}),R=this.n.sub(new r(1)),C=0;;C++){var O=w.k?w.k(C):new r(P.generate(this.n.byteLength()));if(O=this._truncateToN(O,!0),!(O.cmpn(1)<=0||O.cmp(R)>=0)){var z=this.g.mul(O);if(!z.isInfinity()){var H=z.getX(),tt=H.umod(this.n);if(tt.cmpn(0)!==0){var nt=O.invm(this.n).mul(tt.mul(_.getPrivate()).iadd(v));if(nt=nt.umod(this.n),nt.cmpn(0)!==0){var G=(z.getY().isOdd()?1:0)|(H.cmp(tt)!==0?2:0);return w.canonical&&nt.cmp(this.nh)>0&&(nt=this.n.sub(nt),G^=1),new l({r:tt,s:nt,recoveryParam:G})}}}}}},p.prototype.verify=function(v,_,E,w){v=this._truncateToN(new r(v,16)),E=this.keyFromPublic(E,w),_=new l(_,"hex");var x=_.r,A=_.s;if(x.cmpn(1)<0||x.cmp(this.n)>=0||A.cmpn(1)<0||A.cmp(this.n)>=0)return!1;var B=A.invm(this.n),P=B.mul(v).umod(this.n),R=B.mul(x).umod(this.n),C;return this.curve._maxwellTrick?(C=this.g.jmulAdd(P,E.getPublic(),R),C.isInfinity()?!1:C.eqXToP(x)):(C=this.g.mulAdd(P,E.getPublic(),R),C.isInfinity()?!1:C.getX().umod(this.n).cmp(x)===0)},p.prototype.recoverPubKey=function(m,v,_,E){i((3&_)===_,"The recovery param is more than two bits"),v=new l(v,E);var w=this.n,x=new r(m),A=v.r,B=v.s,P=_&1,R=_>>1;if(A.cmp(this.curve.p.umod(this.curve.n))>=0&&R)throw new Error("Unable to find sencond key candinate");R?A=this.curve.pointFromX(A.add(this.curve.n),P):A=this.curve.pointFromX(A,P);var C=v.r.invm(w),O=w.sub(x).mul(C).umod(w),z=B.mul(C).umod(w);return this.g.mulAdd(O,A,z)},p.prototype.getKeyRecoveryParam=function(m,v,_,E){if(v=new l(v,E),v.recoveryParam!==null)return v.recoveryParam;for(var w=0;w<4;w++){var x;try{x=this.recoverPubKey(m,v,w)}catch{continue}if(x.eq(_))return w}throw new Error("Unable to find valid recovery factor")},O1}var U1,Fw;function hC(){if(Fw)return U1;Fw=1;var r=Wi(),t=r.assert,e=r.parseBytes,n=r.cachedProperty;function s(i,c){this.eddsa=i,this._secret=e(c.secret),i.isPoint(c.pub)?this._pub=c.pub:this._pubBytes=e(c.pub)}return s.fromPublic=function(c,l){return l instanceof s?l:new s(c,{pub:l})},s.fromSecret=function(c,l){return l instanceof s?l:new s(c,{secret:l})},s.prototype.secret=function(){return this._secret},n(s,"pubBytes",function(){return this.eddsa.encodePoint(this.pub())}),n(s,"pub",function(){return this._pubBytes?this.eddsa.decodePoint(this._pubBytes):this.eddsa.g.mul(this.priv())}),n(s,"privBytes",function(){var c=this.eddsa,l=this.hash(),p=c.encodingLength-1,m=l.slice(0,c.encodingLength);return m[0]&=248,m[p]&=127,m[p]|=64,m}),n(s,"priv",function(){return this.eddsa.decodeInt(this.privBytes())}),n(s,"hash",function(){return this.eddsa.hash().update(this.secret()).digest()}),n(s,"messagePrefix",function(){return this.hash().slice(this.eddsa.encodingLength)}),s.prototype.sign=function(c){return t(this._secret,"KeyPair can only verify"),this.eddsa.sign(c,this)},s.prototype.verify=function(c,l){return this.eddsa.verify(c,l,this)},s.prototype.getSecret=function(c){return t(this._secret,"KeyPair is public only"),r.encode(this.secret(),c)},s.prototype.getPublic=function(c){return r.encode(this.pubBytes(),c)},U1=s,U1}var N1,jw;function lC(){if(jw)return N1;jw=1;var r=Is(),t=Wi(),e=t.assert,n=t.cachedProperty,s=t.parseBytes;function i(c,l){this.eddsa=c,typeof l!="object"&&(l=s(l)),Array.isArray(l)&&(l={R:l.slice(0,c.encodingLength),S:l.slice(c.encodingLength)}),e(l.R&&l.S,"Signature without R or S"),c.isPoint(l.R)&&(this._R=l.R),l.S instanceof r&&(this._S=l.S),this._Rencoded=Array.isArray(l.R)?l.R:l.Rencoded,this._Sencoded=Array.isArray(l.S)?l.S:l.Sencoded}return n(i,"S",function(){return this.eddsa.decodeInt(this.Sencoded())}),n(i,"R",function(){return this.eddsa.decodePoint(this.Rencoded())}),n(i,"Rencoded",function(){return this.eddsa.encodePoint(this.R())}),n(i,"Sencoded",function(){return this.eddsa.encodeInt(this.S())}),i.prototype.toBytes=function(){return this.Rencoded().concat(this.Sencoded())},i.prototype.toHex=function(){return t.encode(this.toBytes(),"hex").toUpperCase()},N1=i,N1}var D1,Kw;function dC(){if(Kw)return D1;Kw=1;var r=Eh,t=ug(),e=Wi(),n=e.assert,s=e.parseBytes,i=hC(),c=lC();function l(p){if(n(p==="ed25519","only tested with ed25519 so far"),!(this instanceof l))return new l(p);p=t[p].curve,this.curve=p,this.g=p.g,this.g.precompute(p.n.bitLength()+1),this.pointClass=p.point().constructor,this.encodingLength=Math.ceil(p.n.bitLength()/8),this.hash=r.sha512}return D1=l,l.prototype.sign=function(m,v){m=s(m);var _=this.keyFromSecret(v),E=this.hashInt(_.messagePrefix(),m),w=this.g.mul(E),x=this.encodePoint(w),A=this.hashInt(x,_.pubBytes(),m).mul(_.priv()),B=E.add(A).umod(this.curve.n);return this.makeSignature({R:w,S:B,Rencoded:x})},l.prototype.verify=function(m,v,_){m=s(m),v=this.makeSignature(v);var E=this.keyFromPublic(_),w=this.hashInt(v.Rencoded(),E.pubBytes(),m),x=this.g.mul(v.S()),A=v.R().add(E.pub().mul(w));return A.eq(x)},l.prototype.hashInt=function(){for(var m=this.hash(),v=0;v<arguments.length;v++)m.update(arguments[v]);return e.intFromLE(m.digest()).umod(this.curve.n)},l.prototype.keyFromPublic=function(m){return i.fromPublic(this,m)},l.prototype.keyFromSecret=function(m){return i.fromSecret(this,m)},l.prototype.makeSignature=function(m){return m instanceof c?m:new c(this,m)},l.prototype.encodePoint=function(m){var v=m.getY().toArray("le",this.encodingLength);return v[this.encodingLength-1]|=m.getX().isOdd()?128:0,v},l.prototype.decodePoint=function(m){m=e.parseBytes(m);var v=m.length-1,_=m.slice(0,v).concat(m[v]&-129),E=(m[v]&128)!==0,w=e.intFromLE(_);return this.curve.pointFromY(w,E)},l.prototype.encodeInt=function(m){return m.toArray("le",this.encodingLength)},l.prototype.decodeInt=function(m){return e.intFromLE(m)},l.prototype.isPoint=function(m){return m instanceof this.pointClass},D1}var $w;function fg(){return $w||($w=1,function(r){var t=r;t.version=BP.version,t.utils=Wi(),t.rand=sg(),t.curve=k_(),t.curves=ug(),t.ec=cC(),t.eddsa=dC()}(b1)),b1}var Bi={},z1={},j0={exports:{}};j0.exports;var Hw;function H_(){return Hw||(Hw=1,function(r){(function(t,e){function n(d,o){if(!d)throw new Error(o||"Assertion failed")}function s(d,o){d.super_=o;var a=function(){};a.prototype=o.prototype,d.prototype=new a,d.prototype.constructor=d}function i(d,o,a){if(i.isBN(d))return d;this.negative=0,this.words=null,this.length=0,this.red=null,d!==null&&((o==="le"||o==="be")&&(a=o,o=10),this._init(d||0,o||10,a||"be"))}typeof t=="object"?t.exports=i:e.BN=i,i.BN=i,i.wordSize=26;var c;try{typeof window<"u"&&typeof window.Buffer<"u"?c=window.Buffer:c=yr.Buffer}catch{}i.isBN=function(o){return o instanceof i?!0:o!==null&&typeof o=="object"&&o.constructor.wordSize===i.wordSize&&Array.isArray(o.words)},i.max=function(o,a){return o.cmp(a)>0?o:a},i.min=function(o,a){return o.cmp(a)<0?o:a},i.prototype._init=function(o,a,f){if(typeof o=="number")return this._initNumber(o,a,f);if(typeof o=="object")return this._initArray(o,a,f);a==="hex"&&(a=16),n(a===(a|0)&&a>=2&&a<=36),o=o.toString().replace(/\s+/g,"");var h=0;o[0]==="-"&&(h++,this.negative=1),h<o.length&&(a===16?this._parseHex(o,h,f):(this._parseBase(o,a,h),f==="le"&&this._initArray(this.toArray(),a,f)))},i.prototype._initNumber=function(o,a,f){o<0&&(this.negative=1,o=-o),o<67108864?(this.words=[o&67108863],this.length=1):o<4503599627370496?(this.words=[o&67108863,o/67108864&67108863],this.length=2):(n(o<9007199254740992),this.words=[o&67108863,o/67108864&67108863,1],this.length=3),f==="le"&&this._initArray(this.toArray(),a,f)},i.prototype._initArray=function(o,a,f){if(n(typeof o.length=="number"),o.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(o.length/3),this.words=new Array(this.length);for(var h=0;h<this.length;h++)this.words[h]=0;var g,S,I=0;if(f==="be")for(h=o.length-1,g=0;h>=0;h-=3)S=o[h]|o[h-1]<<8|o[h-2]<<16,this.words[g]|=S<<I&67108863,this.words[g+1]=S>>>26-I&67108863,I+=24,I>=26&&(I-=26,g++);else if(f==="le")for(h=0,g=0;h<o.length;h+=3)S=o[h]|o[h+1]<<8|o[h+2]<<16,this.words[g]|=S<<I&67108863,this.words[g+1]=S>>>26-I&67108863,I+=24,I>=26&&(I-=26,g++);return this.strip()};function l(d,o){var a=d.charCodeAt(o);return a>=65&&a<=70?a-55:a>=97&&a<=102?a-87:a-48&15}function p(d,o,a){var f=l(d,a);return a-1>=o&&(f|=l(d,a-1)<<4),f}i.prototype._parseHex=function(o,a,f){this.length=Math.ceil((o.length-a)/6),this.words=new Array(this.length);for(var h=0;h<this.length;h++)this.words[h]=0;var g=0,S=0,I;if(f==="be")for(h=o.length-1;h>=a;h-=2)I=p(o,a,h)<<g,this.words[S]|=I&67108863,g>=18?(g-=18,S+=1,this.words[S]|=I>>>26):g+=8;else{var y=o.length-a;for(h=y%2===0?a+1:a;h<o.length;h+=2)I=p(o,a,h)<<g,this.words[S]|=I&67108863,g>=18?(g-=18,S+=1,this.words[S]|=I>>>26):g+=8}this.strip()};function m(d,o,a,f){for(var h=0,g=Math.min(d.length,a),S=o;S<g;S++){var I=d.charCodeAt(S)-48;h*=f,I>=49?h+=I-49+10:I>=17?h+=I-17+10:h+=I}return h}i.prototype._parseBase=function(o,a,f){this.words=[0],this.length=1;for(var h=0,g=1;g<=67108863;g*=a)h++;h--,g=g/a|0;for(var S=o.length-f,I=S%h,y=Math.min(S,S-I)+f,u=0,b=f;b<y;b+=h)u=m(o,b,b+h,a),this.imuln(g),this.words[0]+u<67108864?this.words[0]+=u:this._iaddn(u);if(I!==0){var D=1;for(u=m(o,b,o.length,a),b=0;b<I;b++)D*=a;this.imuln(D),this.words[0]+u<67108864?this.words[0]+=u:this._iaddn(u)}this.strip()},i.prototype.copy=function(o){o.words=new Array(this.length);for(var a=0;a<this.length;a++)o.words[a]=this.words[a];o.length=this.length,o.negative=this.negative,o.red=this.red},i.prototype.clone=function(){var o=new i(null);return this.copy(o),o},i.prototype._expand=function(o){for(;this.length<o;)this.words[this.length++]=0;return this},i.prototype.strip=function(){for(;this.length>1&&this.words[this.length-1]===0;)this.length--;return this._normSign()},i.prototype._normSign=function(){return this.length===1&&this.words[0]===0&&(this.negative=0),this},i.prototype.inspect=function(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"};var v=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],_=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],E=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];i.prototype.toString=function(o,a){o=o||10,a=a|0||1;var f;if(o===16||o==="hex"){f="";for(var h=0,g=0,S=0;S<this.length;S++){var I=this.words[S],y=((I<<h|g)&16777215).toString(16);g=I>>>24-h&16777215,g!==0||S!==this.length-1?f=v[6-y.length]+y+f:f=y+f,h+=2,h>=26&&(h-=26,S--)}for(g!==0&&(f=g.toString(16)+f);f.length%a!==0;)f="0"+f;return this.negative!==0&&(f="-"+f),f}if(o===(o|0)&&o>=2&&o<=36){var u=_[o],b=E[o];f="";var D=this.clone();for(D.negative=0;!D.isZero();){var Z=D.modn(b).toString(o);D=D.idivn(b),D.isZero()?f=Z+f:f=v[u-Z.length]+Z+f}for(this.isZero()&&(f="0"+f);f.length%a!==0;)f="0"+f;return this.negative!==0&&(f="-"+f),f}n(!1,"Base should be between 2 and 36")},i.prototype.toNumber=function(){var o=this.words[0];return this.length===2?o+=this.words[1]*67108864:this.length===3&&this.words[2]===1?o+=4503599627370496+this.words[1]*67108864:this.length>2&&n(!1,"Number can only safely store up to 53 bits"),this.negative!==0?-o:o},i.prototype.toJSON=function(){return this.toString(16)},i.prototype.toBuffer=function(o,a){return n(typeof c<"u"),this.toArrayLike(c,o,a)},i.prototype.toArray=function(o,a){return this.toArrayLike(Array,o,a)},i.prototype.toArrayLike=function(o,a,f){var h=this.byteLength(),g=f||Math.max(1,h);n(h<=g,"byte array longer than desired length"),n(g>0,"Requested array length <= 0"),this.strip();var S=a==="le",I=new o(g),y,u,b=this.clone();if(S){for(u=0;!b.isZero();u++)y=b.andln(255),b.iushrn(8),I[u]=y;for(;u<g;u++)I[u]=0}else{for(u=0;u<g-h;u++)I[u]=0;for(u=0;!b.isZero();u++)y=b.andln(255),b.iushrn(8),I[g-u-1]=y}return I},Math.clz32?i.prototype._countBits=function(o){return 32-Math.clz32(o)}:i.prototype._countBits=function(o){var a=o,f=0;return a>=4096&&(f+=13,a>>>=13),a>=64&&(f+=7,a>>>=7),a>=8&&(f+=4,a>>>=4),a>=2&&(f+=2,a>>>=2),f+a},i.prototype._zeroBits=function(o){if(o===0)return 26;var a=o,f=0;return a&8191||(f+=13,a>>>=13),a&127||(f+=7,a>>>=7),a&15||(f+=4,a>>>=4),a&3||(f+=2,a>>>=2),a&1||f++,f},i.prototype.bitLength=function(){var o=this.words[this.length-1],a=this._countBits(o);return(this.length-1)*26+a};function w(d){for(var o=new Array(d.bitLength()),a=0;a<o.length;a++){var f=a/26|0,h=a%26;o[a]=(d.words[f]&1<<h)>>>h}return o}i.prototype.zeroBits=function(){if(this.isZero())return 0;for(var o=0,a=0;a<this.length;a++){var f=this._zeroBits(this.words[a]);if(o+=f,f!==26)break}return o},i.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},i.prototype.toTwos=function(o){return this.negative!==0?this.abs().inotn(o).iaddn(1):this.clone()},i.prototype.fromTwos=function(o){return this.testn(o-1)?this.notn(o).iaddn(1).ineg():this.clone()},i.prototype.isNeg=function(){return this.negative!==0},i.prototype.neg=function(){return this.clone().ineg()},i.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},i.prototype.iuor=function(o){for(;this.length<o.length;)this.words[this.length++]=0;for(var a=0;a<o.length;a++)this.words[a]=this.words[a]|o.words[a];return this.strip()},i.prototype.ior=function(o){return n((this.negative|o.negative)===0),this.iuor(o)},i.prototype.or=function(o){return this.length>o.length?this.clone().ior(o):o.clone().ior(this)},i.prototype.uor=function(o){return this.length>o.length?this.clone().iuor(o):o.clone().iuor(this)},i.prototype.iuand=function(o){var a;this.length>o.length?a=o:a=this;for(var f=0;f<a.length;f++)this.words[f]=this.words[f]&o.words[f];return this.length=a.length,this.strip()},i.prototype.iand=function(o){return n((this.negative|o.negative)===0),this.iuand(o)},i.prototype.and=function(o){return this.length>o.length?this.clone().iand(o):o.clone().iand(this)},i.prototype.uand=function(o){return this.length>o.length?this.clone().iuand(o):o.clone().iuand(this)},i.prototype.iuxor=function(o){var a,f;this.length>o.length?(a=this,f=o):(a=o,f=this);for(var h=0;h<f.length;h++)this.words[h]=a.words[h]^f.words[h];if(this!==a)for(;h<a.length;h++)this.words[h]=a.words[h];return this.length=a.length,this.strip()},i.prototype.ixor=function(o){return n((this.negative|o.negative)===0),this.iuxor(o)},i.prototype.xor=function(o){return this.length>o.length?this.clone().ixor(o):o.clone().ixor(this)},i.prototype.uxor=function(o){return this.length>o.length?this.clone().iuxor(o):o.clone().iuxor(this)},i.prototype.inotn=function(o){n(typeof o=="number"&&o>=0);var a=Math.ceil(o/26)|0,f=o%26;this._expand(a),f>0&&a--;for(var h=0;h<a;h++)this.words[h]=~this.words[h]&67108863;return f>0&&(this.words[h]=~this.words[h]&67108863>>26-f),this.strip()},i.prototype.notn=function(o){return this.clone().inotn(o)},i.prototype.setn=function(o,a){n(typeof o=="number"&&o>=0);var f=o/26|0,h=o%26;return this._expand(f+1),a?this.words[f]=this.words[f]|1<<h:this.words[f]=this.words[f]&~(1<<h),this.strip()},i.prototype.iadd=function(o){var a;if(this.negative!==0&&o.negative===0)return this.negative=0,a=this.isub(o),this.negative^=1,this._normSign();if(this.negative===0&&o.negative!==0)return o.negative=0,a=this.isub(o),o.negative=1,a._normSign();var f,h;this.length>o.length?(f=this,h=o):(f=o,h=this);for(var g=0,S=0;S<h.length;S++)a=(f.words[S]|0)+(h.words[S]|0)+g,this.words[S]=a&67108863,g=a>>>26;for(;g!==0&&S<f.length;S++)a=(f.words[S]|0)+g,this.words[S]=a&67108863,g=a>>>26;if(this.length=f.length,g!==0)this.words[this.length]=g,this.length++;else if(f!==this)for(;S<f.length;S++)this.words[S]=f.words[S];return this},i.prototype.add=function(o){var a;return o.negative!==0&&this.negative===0?(o.negative=0,a=this.sub(o),o.negative^=1,a):o.negative===0&&this.negative!==0?(this.negative=0,a=o.sub(this),this.negative=1,a):this.length>o.length?this.clone().iadd(o):o.clone().iadd(this)},i.prototype.isub=function(o){if(o.negative!==0){o.negative=0;var a=this.iadd(o);return o.negative=1,a._normSign()}else if(this.negative!==0)return this.negative=0,this.iadd(o),this.negative=1,this._normSign();var f=this.cmp(o);if(f===0)return this.negative=0,this.length=1,this.words[0]=0,this;var h,g;f>0?(h=this,g=o):(h=o,g=this);for(var S=0,I=0;I<g.length;I++)a=(h.words[I]|0)-(g.words[I]|0)+S,S=a>>26,this.words[I]=a&67108863;for(;S!==0&&I<h.length;I++)a=(h.words[I]|0)+S,S=a>>26,this.words[I]=a&67108863;if(S===0&&I<h.length&&h!==this)for(;I<h.length;I++)this.words[I]=h.words[I];return this.length=Math.max(this.length,I),h!==this&&(this.negative=1),this.strip()},i.prototype.sub=function(o){return this.clone().isub(o)};function x(d,o,a){a.negative=o.negative^d.negative;var f=d.length+o.length|0;a.length=f,f=f-1|0;var h=d.words[0]|0,g=o.words[0]|0,S=h*g,I=S&67108863,y=S/67108864|0;a.words[0]=I;for(var u=1;u<f;u++){for(var b=y>>>26,D=y&67108863,Z=Math.min(u,o.length-1),F=Math.max(0,u-d.length+1);F<=Z;F++){var q=u-F|0;h=d.words[q]|0,g=o.words[F]|0,S=h*g+D,b+=S/67108864|0,D=S&67108863}a.words[u]=D|0,y=b|0}return y!==0?a.words[u]=y|0:a.length--,a.strip()}var A=function(o,a,f){var h=o.words,g=a.words,S=f.words,I=0,y,u,b,D=h[0]|0,Z=D&8191,F=D>>>13,q=h[1]|0,it=q&8191,at=q>>>13,Bt=h[2]|0,yt=Bt&8191,pt=Bt>>>13,Ft=h[3]|0,lt=Ft&8191,ct=Ft>>>13,Tt=h[4]|0,kt=Tt&8191,k=Tt>>>13,T=h[5]|0,L=T&8191,j=T>>>13,rt=h[6]|0,Q=rt&8191,ot=rt>>>13,qt=h[7]|0,It=qt&8191,xt=qt>>>13,Qt=h[8]|0,Ct=Qt&8191,Dt=Qt>>>13,Se=h[9]|0,te=Se&8191,Ut=Se>>>13,Te=g[0]|0,J=Te&8191,X=Te>>>13,st=g[1]|0,N=st&8191,$=st>>>13,gt=g[2]|0,ft=gt&8191,mt=gt>>>13,vt=g[3]|0,At=vt&8191,_t=vt>>>13,Gt=g[4]|0,Rt=Gt&8191,wt=Gt>>>13,se=g[5]|0,Lt=se&8191,Et=se>>>13,de=g[6]|0,Pt=de&8191,Mt=de>>>13,K=g[7]|0,Y=K&8191,V=K>>>13,U=g[8]|0,W=U&8191,et=U>>>13,dt=g[9]|0,ut=dt&8191,ht=dt>>>13;f.negative=o.negative^a.negative,f.length=19,y=Math.imul(Z,J),u=Math.imul(Z,X),u=u+Math.imul(F,J)|0,b=Math.imul(F,X);var zt=(I+y|0)+((u&8191)<<13)|0;I=(b+(u>>>13)|0)+(zt>>>26)|0,zt&=67108863,y=Math.imul(it,J),u=Math.imul(it,X),u=u+Math.imul(at,J)|0,b=Math.imul(at,X),y=y+Math.imul(Z,N)|0,u=u+Math.imul(Z,$)|0,u=u+Math.imul(F,N)|0,b=b+Math.imul(F,$)|0;var Wt=(I+y|0)+((u&8191)<<13)|0;I=(b+(u>>>13)|0)+(Wt>>>26)|0,Wt&=67108863,y=Math.imul(yt,J),u=Math.imul(yt,X),u=u+Math.imul(pt,J)|0,b=Math.imul(pt,X),y=y+Math.imul(it,N)|0,u=u+Math.imul(it,$)|0,u=u+Math.imul(at,N)|0,b=b+Math.imul(at,$)|0,y=y+Math.imul(Z,ft)|0,u=u+Math.imul(Z,mt)|0,u=u+Math.imul(F,ft)|0,b=b+Math.imul(F,mt)|0;var ye=(I+y|0)+((u&8191)<<13)|0;I=(b+(u>>>13)|0)+(ye>>>26)|0,ye&=67108863,y=Math.imul(lt,J),u=Math.imul(lt,X),u=u+Math.imul(ct,J)|0,b=Math.imul(ct,X),y=y+Math.imul(yt,N)|0,u=u+Math.imul(yt,$)|0,u=u+Math.imul(pt,N)|0,b=b+Math.imul(pt,$)|0,y=y+Math.imul(it,ft)|0,u=u+Math.imul(it,mt)|0,u=u+Math.imul(at,ft)|0,b=b+Math.imul(at,mt)|0,y=y+Math.imul(Z,At)|0,u=u+Math.imul(Z,_t)|0,u=u+Math.imul(F,At)|0,b=b+Math.imul(F,_t)|0;var Yt=(I+y|0)+((u&8191)<<13)|0;I=(b+(u>>>13)|0)+(Yt>>>26)|0,Yt&=67108863,y=Math.imul(kt,J),u=Math.imul(kt,X),u=u+Math.imul(k,J)|0,b=Math.imul(k,X),y=y+Math.imul(lt,N)|0,u=u+Math.imul(lt,$)|0,u=u+Math.imul(ct,N)|0,b=b+Math.imul(ct,$)|0,y=y+Math.imul(yt,ft)|0,u=u+Math.imul(yt,mt)|0,u=u+Math.imul(pt,ft)|0,b=b+Math.imul(pt,mt)|0,y=y+Math.imul(it,At)|0,u=u+Math.imul(it,_t)|0,u=u+Math.imul(at,At)|0,b=b+Math.imul(at,_t)|0,y=y+Math.imul(Z,Rt)|0,u=u+Math.imul(Z,wt)|0,u=u+Math.imul(F,Rt)|0,b=b+Math.imul(F,wt)|0;var pe=(I+y|0)+((u&8191)<<13)|0;I=(b+(u>>>13)|0)+(pe>>>26)|0,pe&=67108863,y=Math.imul(L,J),u=Math.imul(L,X),u=u+Math.imul(j,J)|0,b=Math.imul(j,X),y=y+Math.imul(kt,N)|0,u=u+Math.imul(kt,$)|0,u=u+Math.imul(k,N)|0,b=b+Math.imul(k,$)|0,y=y+Math.imul(lt,ft)|0,u=u+Math.imul(lt,mt)|0,u=u+Math.imul(ct,ft)|0,b=b+Math.imul(ct,mt)|0,y=y+Math.imul(yt,At)|0,u=u+Math.imul(yt,_t)|0,u=u+Math.imul(pt,At)|0,b=b+Math.imul(pt,_t)|0,y=y+Math.imul(it,Rt)|0,u=u+Math.imul(it,wt)|0,u=u+Math.imul(at,Rt)|0,b=b+Math.imul(at,wt)|0,y=y+Math.imul(Z,Lt)|0,u=u+Math.imul(Z,Et)|0,u=u+Math.imul(F,Lt)|0,b=b+Math.imul(F,Et)|0;var ve=(I+y|0)+((u&8191)<<13)|0;I=(b+(u>>>13)|0)+(ve>>>26)|0,ve&=67108863,y=Math.imul(Q,J),u=Math.imul(Q,X),u=u+Math.imul(ot,J)|0,b=Math.imul(ot,X),y=y+Math.imul(L,N)|0,u=u+Math.imul(L,$)|0,u=u+Math.imul(j,N)|0,b=b+Math.imul(j,$)|0,y=y+Math.imul(kt,ft)|0,u=u+Math.imul(kt,mt)|0,u=u+Math.imul(k,ft)|0,b=b+Math.imul(k,mt)|0,y=y+Math.imul(lt,At)|0,u=u+Math.imul(lt,_t)|0,u=u+Math.imul(ct,At)|0,b=b+Math.imul(ct,_t)|0,y=y+Math.imul(yt,Rt)|0,u=u+Math.imul(yt,wt)|0,u=u+Math.imul(pt,Rt)|0,b=b+Math.imul(pt,wt)|0,y=y+Math.imul(it,Lt)|0,u=u+Math.imul(it,Et)|0,u=u+Math.imul(at,Lt)|0,b=b+Math.imul(at,Et)|0,y=y+Math.imul(Z,Pt)|0,u=u+Math.imul(Z,Mt)|0,u=u+Math.imul(F,Pt)|0,b=b+Math.imul(F,Mt)|0;var ge=(I+y|0)+((u&8191)<<13)|0;I=(b+(u>>>13)|0)+(ge>>>26)|0,ge&=67108863,y=Math.imul(It,J),u=Math.imul(It,X),u=u+Math.imul(xt,J)|0,b=Math.imul(xt,X),y=y+Math.imul(Q,N)|0,u=u+Math.imul(Q,$)|0,u=u+Math.imul(ot,N)|0,b=b+Math.imul(ot,$)|0,y=y+Math.imul(L,ft)|0,u=u+Math.imul(L,mt)|0,u=u+Math.imul(j,ft)|0,b=b+Math.imul(j,mt)|0,y=y+Math.imul(kt,At)|0,u=u+Math.imul(kt,_t)|0,u=u+Math.imul(k,At)|0,b=b+Math.imul(k,_t)|0,y=y+Math.imul(lt,Rt)|0,u=u+Math.imul(lt,wt)|0,u=u+Math.imul(ct,Rt)|0,b=b+Math.imul(ct,wt)|0,y=y+Math.imul(yt,Lt)|0,u=u+Math.imul(yt,Et)|0,u=u+Math.imul(pt,Lt)|0,b=b+Math.imul(pt,Et)|0,y=y+Math.imul(it,Pt)|0,u=u+Math.imul(it,Mt)|0,u=u+Math.imul(at,Pt)|0,b=b+Math.imul(at,Mt)|0,y=y+Math.imul(Z,Y)|0,u=u+Math.imul(Z,V)|0,u=u+Math.imul(F,Y)|0,b=b+Math.imul(F,V)|0;var ie=(I+y|0)+((u&8191)<<13)|0;I=(b+(u>>>13)|0)+(ie>>>26)|0,ie&=67108863,y=Math.imul(Ct,J),u=Math.imul(Ct,X),u=u+Math.imul(Dt,J)|0,b=Math.imul(Dt,X),y=y+Math.imul(It,N)|0,u=u+Math.imul(It,$)|0,u=u+Math.imul(xt,N)|0,b=b+Math.imul(xt,$)|0,y=y+Math.imul(Q,ft)|0,u=u+Math.imul(Q,mt)|0,u=u+Math.imul(ot,ft)|0,b=b+Math.imul(ot,mt)|0,y=y+Math.imul(L,At)|0,u=u+Math.imul(L,_t)|0,u=u+Math.imul(j,At)|0,b=b+Math.imul(j,_t)|0,y=y+Math.imul(kt,Rt)|0,u=u+Math.imul(kt,wt)|0,u=u+Math.imul(k,Rt)|0,b=b+Math.imul(k,wt)|0,y=y+Math.imul(lt,Lt)|0,u=u+Math.imul(lt,Et)|0,u=u+Math.imul(ct,Lt)|0,b=b+Math.imul(ct,Et)|0,y=y+Math.imul(yt,Pt)|0,u=u+Math.imul(yt,Mt)|0,u=u+Math.imul(pt,Pt)|0,b=b+Math.imul(pt,Mt)|0,y=y+Math.imul(it,Y)|0,u=u+Math.imul(it,V)|0,u=u+Math.imul(at,Y)|0,b=b+Math.imul(at,V)|0,y=y+Math.imul(Z,W)|0,u=u+Math.imul(Z,et)|0,u=u+Math.imul(F,W)|0,b=b+Math.imul(F,et)|0;var ue=(I+y|0)+((u&8191)<<13)|0;I=(b+(u>>>13)|0)+(ue>>>26)|0,ue&=67108863,y=Math.imul(te,J),u=Math.imul(te,X),u=u+Math.imul(Ut,J)|0,b=Math.imul(Ut,X),y=y+Math.imul(Ct,N)|0,u=u+Math.imul(Ct,$)|0,u=u+Math.imul(Dt,N)|0,b=b+Math.imul(Dt,$)|0,y=y+Math.imul(It,ft)|0,u=u+Math.imul(It,mt)|0,u=u+Math.imul(xt,ft)|0,b=b+Math.imul(xt,mt)|0,y=y+Math.imul(Q,At)|0,u=u+Math.imul(Q,_t)|0,u=u+Math.imul(ot,At)|0,b=b+Math.imul(ot,_t)|0,y=y+Math.imul(L,Rt)|0,u=u+Math.imul(L,wt)|0,u=u+Math.imul(j,Rt)|0,b=b+Math.imul(j,wt)|0,y=y+Math.imul(kt,Lt)|0,u=u+Math.imul(kt,Et)|0,u=u+Math.imul(k,Lt)|0,b=b+Math.imul(k,Et)|0,y=y+Math.imul(lt,Pt)|0,u=u+Math.imul(lt,Mt)|0,u=u+Math.imul(ct,Pt)|0,b=b+Math.imul(ct,Mt)|0,y=y+Math.imul(yt,Y)|0,u=u+Math.imul(yt,V)|0,u=u+Math.imul(pt,Y)|0,b=b+Math.imul(pt,V)|0,y=y+Math.imul(it,W)|0,u=u+Math.imul(it,et)|0,u=u+Math.imul(at,W)|0,b=b+Math.imul(at,et)|0,y=y+Math.imul(Z,ut)|0,u=u+Math.imul(Z,ht)|0,u=u+Math.imul(F,ut)|0,b=b+Math.imul(F,ht)|0;var fe=(I+y|0)+((u&8191)<<13)|0;I=(b+(u>>>13)|0)+(fe>>>26)|0,fe&=67108863,y=Math.imul(te,N),u=Math.imul(te,$),u=u+Math.imul(Ut,N)|0,b=Math.imul(Ut,$),y=y+Math.imul(Ct,ft)|0,u=u+Math.imul(Ct,mt)|0,u=u+Math.imul(Dt,ft)|0,b=b+Math.imul(Dt,mt)|0,y=y+Math.imul(It,At)|0,u=u+Math.imul(It,_t)|0,u=u+Math.imul(xt,At)|0,b=b+Math.imul(xt,_t)|0,y=y+Math.imul(Q,Rt)|0,u=u+Math.imul(Q,wt)|0,u=u+Math.imul(ot,Rt)|0,b=b+Math.imul(ot,wt)|0,y=y+Math.imul(L,Lt)|0,u=u+Math.imul(L,Et)|0,u=u+Math.imul(j,Lt)|0,b=b+Math.imul(j,Et)|0,y=y+Math.imul(kt,Pt)|0,u=u+Math.imul(kt,Mt)|0,u=u+Math.imul(k,Pt)|0,b=b+Math.imul(k,Mt)|0,y=y+Math.imul(lt,Y)|0,u=u+Math.imul(lt,V)|0,u=u+Math.imul(ct,Y)|0,b=b+Math.imul(ct,V)|0,y=y+Math.imul(yt,W)|0,u=u+Math.imul(yt,et)|0,u=u+Math.imul(pt,W)|0,b=b+Math.imul(pt,et)|0,y=y+Math.imul(it,ut)|0,u=u+Math.imul(it,ht)|0,u=u+Math.imul(at,ut)|0,b=b+Math.imul(at,ht)|0;var ce=(I+y|0)+((u&8191)<<13)|0;I=(b+(u>>>13)|0)+(ce>>>26)|0,ce&=67108863,y=Math.imul(te,ft),u=Math.imul(te,mt),u=u+Math.imul(Ut,ft)|0,b=Math.imul(Ut,mt),y=y+Math.imul(Ct,At)|0,u=u+Math.imul(Ct,_t)|0,u=u+Math.imul(Dt,At)|0,b=b+Math.imul(Dt,_t)|0,y=y+Math.imul(It,Rt)|0,u=u+Math.imul(It,wt)|0,u=u+Math.imul(xt,Rt)|0,b=b+Math.imul(xt,wt)|0,y=y+Math.imul(Q,Lt)|0,u=u+Math.imul(Q,Et)|0,u=u+Math.imul(ot,Lt)|0,b=b+Math.imul(ot,Et)|0,y=y+Math.imul(L,Pt)|0,u=u+Math.imul(L,Mt)|0,u=u+Math.imul(j,Pt)|0,b=b+Math.imul(j,Mt)|0,y=y+Math.imul(kt,Y)|0,u=u+Math.imul(kt,V)|0,u=u+Math.imul(k,Y)|0,b=b+Math.imul(k,V)|0,y=y+Math.imul(lt,W)|0,u=u+Math.imul(lt,et)|0,u=u+Math.imul(ct,W)|0,b=b+Math.imul(ct,et)|0,y=y+Math.imul(yt,ut)|0,u=u+Math.imul(yt,ht)|0,u=u+Math.imul(pt,ut)|0,b=b+Math.imul(pt,ht)|0;var Kt=(I+y|0)+((u&8191)<<13)|0;I=(b+(u>>>13)|0)+(Kt>>>26)|0,Kt&=67108863,y=Math.imul(te,At),u=Math.imul(te,_t),u=u+Math.imul(Ut,At)|0,b=Math.imul(Ut,_t),y=y+Math.imul(Ct,Rt)|0,u=u+Math.imul(Ct,wt)|0,u=u+Math.imul(Dt,Rt)|0,b=b+Math.imul(Dt,wt)|0,y=y+Math.imul(It,Lt)|0,u=u+Math.imul(It,Et)|0,u=u+Math.imul(xt,Lt)|0,b=b+Math.imul(xt,Et)|0,y=y+Math.imul(Q,Pt)|0,u=u+Math.imul(Q,Mt)|0,u=u+Math.imul(ot,Pt)|0,b=b+Math.imul(ot,Mt)|0,y=y+Math.imul(L,Y)|0,u=u+Math.imul(L,V)|0,u=u+Math.imul(j,Y)|0,b=b+Math.imul(j,V)|0,y=y+Math.imul(kt,W)|0,u=u+Math.imul(kt,et)|0,u=u+Math.imul(k,W)|0,b=b+Math.imul(k,et)|0,y=y+Math.imul(lt,ut)|0,u=u+Math.imul(lt,ht)|0,u=u+Math.imul(ct,ut)|0,b=b+Math.imul(ct,ht)|0;var oe=(I+y|0)+((u&8191)<<13)|0;I=(b+(u>>>13)|0)+(oe>>>26)|0,oe&=67108863,y=Math.imul(te,Rt),u=Math.imul(te,wt),u=u+Math.imul(Ut,Rt)|0,b=Math.imul(Ut,wt),y=y+Math.imul(Ct,Lt)|0,u=u+Math.imul(Ct,Et)|0,u=u+Math.imul(Dt,Lt)|0,b=b+Math.imul(Dt,Et)|0,y=y+Math.imul(It,Pt)|0,u=u+Math.imul(It,Mt)|0,u=u+Math.imul(xt,Pt)|0,b=b+Math.imul(xt,Mt)|0,y=y+Math.imul(Q,Y)|0,u=u+Math.imul(Q,V)|0,u=u+Math.imul(ot,Y)|0,b=b+Math.imul(ot,V)|0,y=y+Math.imul(L,W)|0,u=u+Math.imul(L,et)|0,u=u+Math.imul(j,W)|0,b=b+Math.imul(j,et)|0,y=y+Math.imul(kt,ut)|0,u=u+Math.imul(kt,ht)|0,u=u+Math.imul(k,ut)|0,b=b+Math.imul(k,ht)|0;var Jt=(I+y|0)+((u&8191)<<13)|0;I=(b+(u>>>13)|0)+(Jt>>>26)|0,Jt&=67108863,y=Math.imul(te,Lt),u=Math.imul(te,Et),u=u+Math.imul(Ut,Lt)|0,b=Math.imul(Ut,Et),y=y+Math.imul(Ct,Pt)|0,u=u+Math.imul(Ct,Mt)|0,u=u+Math.imul(Dt,Pt)|0,b=b+Math.imul(Dt,Mt)|0,y=y+Math.imul(It,Y)|0,u=u+Math.imul(It,V)|0,u=u+Math.imul(xt,Y)|0,b=b+Math.imul(xt,V)|0,y=y+Math.imul(Q,W)|0,u=u+Math.imul(Q,et)|0,u=u+Math.imul(ot,W)|0,b=b+Math.imul(ot,et)|0,y=y+Math.imul(L,ut)|0,u=u+Math.imul(L,ht)|0,u=u+Math.imul(j,ut)|0,b=b+Math.imul(j,ht)|0;var le=(I+y|0)+((u&8191)<<13)|0;I=(b+(u>>>13)|0)+(le>>>26)|0,le&=67108863,y=Math.imul(te,Pt),u=Math.imul(te,Mt),u=u+Math.imul(Ut,Pt)|0,b=Math.imul(Ut,Mt),y=y+Math.imul(Ct,Y)|0,u=u+Math.imul(Ct,V)|0,u=u+Math.imul(Dt,Y)|0,b=b+Math.imul(Dt,V)|0,y=y+Math.imul(It,W)|0,u=u+Math.imul(It,et)|0,u=u+Math.imul(xt,W)|0,b=b+Math.imul(xt,et)|0,y=y+Math.imul(Q,ut)|0,u=u+Math.imul(Q,ht)|0,u=u+Math.imul(ot,ut)|0,b=b+Math.imul(ot,ht)|0;var ae=(I+y|0)+((u&8191)<<13)|0;I=(b+(u>>>13)|0)+(ae>>>26)|0,ae&=67108863,y=Math.imul(te,Y),u=Math.imul(te,V),u=u+Math.imul(Ut,Y)|0,b=Math.imul(Ut,V),y=y+Math.imul(Ct,W)|0,u=u+Math.imul(Ct,et)|0,u=u+Math.imul(Dt,W)|0,b=b+Math.imul(Dt,et)|0,y=y+Math.imul(It,ut)|0,u=u+Math.imul(It,ht)|0,u=u+Math.imul(xt,ut)|0,b=b+Math.imul(xt,ht)|0;var ne=(I+y|0)+((u&8191)<<13)|0;I=(b+(u>>>13)|0)+(ne>>>26)|0,ne&=67108863,y=Math.imul(te,W),u=Math.imul(te,et),u=u+Math.imul(Ut,W)|0,b=Math.imul(Ut,et),y=y+Math.imul(Ct,ut)|0,u=u+Math.imul(Ct,ht)|0,u=u+Math.imul(Dt,ut)|0,b=b+Math.imul(Dt,ht)|0;var Ot=(I+y|0)+((u&8191)<<13)|0;I=(b+(u>>>13)|0)+(Ot>>>26)|0,Ot&=67108863,y=Math.imul(te,ut),u=Math.imul(te,ht),u=u+Math.imul(Ut,ut)|0,b=Math.imul(Ut,ht);var Nt=(I+y|0)+((u&8191)<<13)|0;return I=(b+(u>>>13)|0)+(Nt>>>26)|0,Nt&=67108863,S[0]=zt,S[1]=Wt,S[2]=ye,S[3]=Yt,S[4]=pe,S[5]=ve,S[6]=ge,S[7]=ie,S[8]=ue,S[9]=fe,S[10]=ce,S[11]=Kt,S[12]=oe,S[13]=Jt,S[14]=le,S[15]=ae,S[16]=ne,S[17]=Ot,S[18]=Nt,I!==0&&(S[19]=I,f.length++),f};Math.imul||(A=x);function B(d,o,a){a.negative=o.negative^d.negative,a.length=d.length+o.length;for(var f=0,h=0,g=0;g<a.length-1;g++){var S=h;h=0;for(var I=f&67108863,y=Math.min(g,o.length-1),u=Math.max(0,g-d.length+1);u<=y;u++){var b=g-u,D=d.words[b]|0,Z=o.words[u]|0,F=D*Z,q=F&67108863;S=S+(F/67108864|0)|0,q=q+I|0,I=q&67108863,S=S+(q>>>26)|0,h+=S>>>26,S&=67108863}a.words[g]=I,f=S,S=h}return f!==0?a.words[g]=f:a.length--,a.strip()}function P(d,o,a){var f=new R;return f.mulp(d,o,a)}i.prototype.mulTo=function(o,a){var f,h=this.length+o.length;return this.length===10&&o.length===10?f=A(this,o,a):h<63?f=x(this,o,a):h<1024?f=B(this,o,a):f=P(this,o,a),f};function R(d,o){this.x=d,this.y=o}R.prototype.makeRBT=function(o){for(var a=new Array(o),f=i.prototype._countBits(o)-1,h=0;h<o;h++)a[h]=this.revBin(h,f,o);return a},R.prototype.revBin=function(o,a,f){if(o===0||o===f-1)return o;for(var h=0,g=0;g<a;g++)h|=(o&1)<<a-g-1,o>>=1;return h},R.prototype.permute=function(o,a,f,h,g,S){for(var I=0;I<S;I++)h[I]=a[o[I]],g[I]=f[o[I]]},R.prototype.transform=function(o,a,f,h,g,S){this.permute(S,o,a,f,h,g);for(var I=1;I<g;I<<=1)for(var y=I<<1,u=Math.cos(2*Math.PI/y),b=Math.sin(2*Math.PI/y),D=0;D<g;D+=y)for(var Z=u,F=b,q=0;q<I;q++){var it=f[D+q],at=h[D+q],Bt=f[D+q+I],yt=h[D+q+I],pt=Z*Bt-F*yt;yt=Z*yt+F*Bt,Bt=pt,f[D+q]=it+Bt,h[D+q]=at+yt,f[D+q+I]=it-Bt,h[D+q+I]=at-yt,q!==y&&(pt=u*Z-b*F,F=u*F+b*Z,Z=pt)}},R.prototype.guessLen13b=function(o,a){var f=Math.max(a,o)|1,h=f&1,g=0;for(f=f/2|0;f;f=f>>>1)g++;return 1<<g+1+h},R.prototype.conjugate=function(o,a,f){if(!(f<=1))for(var h=0;h<f/2;h++){var g=o[h];o[h]=o[f-h-1],o[f-h-1]=g,g=a[h],a[h]=-a[f-h-1],a[f-h-1]=-g}},R.prototype.normalize13b=function(o,a){for(var f=0,h=0;h<a/2;h++){var g=Math.round(o[2*h+1]/a)*8192+Math.round(o[2*h]/a)+f;o[h]=g&67108863,g<67108864?f=0:f=g/67108864|0}return o},R.prototype.convert13b=function(o,a,f,h){for(var g=0,S=0;S<a;S++)g=g+(o[S]|0),f[2*S]=g&8191,g=g>>>13,f[2*S+1]=g&8191,g=g>>>13;for(S=2*a;S<h;++S)f[S]=0;n(g===0),n((g&-8192)===0)},R.prototype.stub=function(o){for(var a=new Array(o),f=0;f<o;f++)a[f]=0;return a},R.prototype.mulp=function(o,a,f){var h=2*this.guessLen13b(o.length,a.length),g=this.makeRBT(h),S=this.stub(h),I=new Array(h),y=new Array(h),u=new Array(h),b=new Array(h),D=new Array(h),Z=new Array(h),F=f.words;F.length=h,this.convert13b(o.words,o.length,I,h),this.convert13b(a.words,a.length,b,h),this.transform(I,S,y,u,h,g),this.transform(b,S,D,Z,h,g);for(var q=0;q<h;q++){var it=y[q]*D[q]-u[q]*Z[q];u[q]=y[q]*Z[q]+u[q]*D[q],y[q]=it}return this.conjugate(y,u,h),this.transform(y,u,F,S,h,g),this.conjugate(F,S,h),this.normalize13b(F,h),f.negative=o.negative^a.negative,f.length=o.length+a.length,f.strip()},i.prototype.mul=function(o){var a=new i(null);return a.words=new Array(this.length+o.length),this.mulTo(o,a)},i.prototype.mulf=function(o){var a=new i(null);return a.words=new Array(this.length+o.length),P(this,o,a)},i.prototype.imul=function(o){return this.clone().mulTo(o,this)},i.prototype.imuln=function(o){n(typeof o=="number"),n(o<67108864);for(var a=0,f=0;f<this.length;f++){var h=(this.words[f]|0)*o,g=(h&67108863)+(a&67108863);a>>=26,a+=h/67108864|0,a+=g>>>26,this.words[f]=g&67108863}return a!==0&&(this.words[f]=a,this.length++),this},i.prototype.muln=function(o){return this.clone().imuln(o)},i.prototype.sqr=function(){return this.mul(this)},i.prototype.isqr=function(){return this.imul(this.clone())},i.prototype.pow=function(o){var a=w(o);if(a.length===0)return new i(1);for(var f=this,h=0;h<a.length&&a[h]===0;h++,f=f.sqr());if(++h<a.length)for(var g=f.sqr();h<a.length;h++,g=g.sqr())a[h]!==0&&(f=f.mul(g));return f},i.prototype.iushln=function(o){n(typeof o=="number"&&o>=0);var a=o%26,f=(o-a)/26,h=67108863>>>26-a<<26-a,g;if(a!==0){var S=0;for(g=0;g<this.length;g++){var I=this.words[g]&h,y=(this.words[g]|0)-I<<a;this.words[g]=y|S,S=I>>>26-a}S&&(this.words[g]=S,this.length++)}if(f!==0){for(g=this.length-1;g>=0;g--)this.words[g+f]=this.words[g];for(g=0;g<f;g++)this.words[g]=0;this.length+=f}return this.strip()},i.prototype.ishln=function(o){return n(this.negative===0),this.iushln(o)},i.prototype.iushrn=function(o,a,f){n(typeof o=="number"&&o>=0);var h;a?h=(a-a%26)/26:h=0;var g=o%26,S=Math.min((o-g)/26,this.length),I=67108863^67108863>>>g<<g,y=f;if(h-=S,h=Math.max(0,h),y){for(var u=0;u<S;u++)y.words[u]=this.words[u];y.length=S}if(S!==0)if(this.length>S)for(this.length-=S,u=0;u<this.length;u++)this.words[u]=this.words[u+S];else this.words[0]=0,this.length=1;var b=0;for(u=this.length-1;u>=0&&(b!==0||u>=h);u--){var D=this.words[u]|0;this.words[u]=b<<26-g|D>>>g,b=D&I}return y&&b!==0&&(y.words[y.length++]=b),this.length===0&&(this.words[0]=0,this.length=1),this.strip()},i.prototype.ishrn=function(o,a,f){return n(this.negative===0),this.iushrn(o,a,f)},i.prototype.shln=function(o){return this.clone().ishln(o)},i.prototype.ushln=function(o){return this.clone().iushln(o)},i.prototype.shrn=function(o){return this.clone().ishrn(o)},i.prototype.ushrn=function(o){return this.clone().iushrn(o)},i.prototype.testn=function(o){n(typeof o=="number"&&o>=0);var a=o%26,f=(o-a)/26,h=1<<a;if(this.length<=f)return!1;var g=this.words[f];return!!(g&h)},i.prototype.imaskn=function(o){n(typeof o=="number"&&o>=0);var a=o%26,f=(o-a)/26;if(n(this.negative===0,"imaskn works only with positive numbers"),this.length<=f)return this;if(a!==0&&f++,this.length=Math.min(f,this.length),a!==0){var h=67108863^67108863>>>a<<a;this.words[this.length-1]&=h}return this.strip()},i.prototype.maskn=function(o){return this.clone().imaskn(o)},i.prototype.iaddn=function(o){return n(typeof o=="number"),n(o<67108864),o<0?this.isubn(-o):this.negative!==0?this.length===1&&(this.words[0]|0)<o?(this.words[0]=o-(this.words[0]|0),this.negative=0,this):(this.negative=0,this.isubn(o),this.negative=1,this):this._iaddn(o)},i.prototype._iaddn=function(o){this.words[0]+=o;for(var a=0;a<this.length&&this.words[a]>=67108864;a++)this.words[a]-=67108864,a===this.length-1?this.words[a+1]=1:this.words[a+1]++;return this.length=Math.max(this.length,a+1),this},i.prototype.isubn=function(o){if(n(typeof o=="number"),n(o<67108864),o<0)return this.iaddn(-o);if(this.negative!==0)return this.negative=0,this.iaddn(o),this.negative=1,this;if(this.words[0]-=o,this.length===1&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var a=0;a<this.length&&this.words[a]<0;a++)this.words[a]+=67108864,this.words[a+1]-=1;return this.strip()},i.prototype.addn=function(o){return this.clone().iaddn(o)},i.prototype.subn=function(o){return this.clone().isubn(o)},i.prototype.iabs=function(){return this.negative=0,this},i.prototype.abs=function(){return this.clone().iabs()},i.prototype._ishlnsubmul=function(o,a,f){var h=o.length+f,g;this._expand(h);var S,I=0;for(g=0;g<o.length;g++){S=(this.words[g+f]|0)+I;var y=(o.words[g]|0)*a;S-=y&67108863,I=(S>>26)-(y/67108864|0),this.words[g+f]=S&67108863}for(;g<this.length-f;g++)S=(this.words[g+f]|0)+I,I=S>>26,this.words[g+f]=S&67108863;if(I===0)return this.strip();for(n(I===-1),I=0,g=0;g<this.length;g++)S=-(this.words[g]|0)+I,I=S>>26,this.words[g]=S&67108863;return this.negative=1,this.strip()},i.prototype._wordDiv=function(o,a){var f=this.length-o.length,h=this.clone(),g=o,S=g.words[g.length-1]|0,I=this._countBits(S);f=26-I,f!==0&&(g=g.ushln(f),h.iushln(f),S=g.words[g.length-1]|0);var y=h.length-g.length,u;if(a!=="mod"){u=new i(null),u.length=y+1,u.words=new Array(u.length);for(var b=0;b<u.length;b++)u.words[b]=0}var D=h.clone()._ishlnsubmul(g,1,y);D.negative===0&&(h=D,u&&(u.words[y]=1));for(var Z=y-1;Z>=0;Z--){var F=(h.words[g.length+Z]|0)*67108864+(h.words[g.length+Z-1]|0);for(F=Math.min(F/S|0,67108863),h._ishlnsubmul(g,F,Z);h.negative!==0;)F--,h.negative=0,h._ishlnsubmul(g,1,Z),h.isZero()||(h.negative^=1);u&&(u.words[Z]=F)}return u&&u.strip(),h.strip(),a!=="div"&&f!==0&&h.iushrn(f),{div:u||null,mod:h}},i.prototype.divmod=function(o,a,f){if(n(!o.isZero()),this.isZero())return{div:new i(0),mod:new i(0)};var h,g,S;return this.negative!==0&&o.negative===0?(S=this.neg().divmod(o,a),a!=="mod"&&(h=S.div.neg()),a!=="div"&&(g=S.mod.neg(),f&&g.negative!==0&&g.iadd(o)),{div:h,mod:g}):this.negative===0&&o.negative!==0?(S=this.divmod(o.neg(),a),a!=="mod"&&(h=S.div.neg()),{div:h,mod:S.mod}):this.negative&o.negative?(S=this.neg().divmod(o.neg(),a),a!=="div"&&(g=S.mod.neg(),f&&g.negative!==0&&g.isub(o)),{div:S.div,mod:g}):o.length>this.length||this.cmp(o)<0?{div:new i(0),mod:this}:o.length===1?a==="div"?{div:this.divn(o.words[0]),mod:null}:a==="mod"?{div:null,mod:new i(this.modn(o.words[0]))}:{div:this.divn(o.words[0]),mod:new i(this.modn(o.words[0]))}:this._wordDiv(o,a)},i.prototype.div=function(o){return this.divmod(o,"div",!1).div},i.prototype.mod=function(o){return this.divmod(o,"mod",!1).mod},i.prototype.umod=function(o){return this.divmod(o,"mod",!0).mod},i.prototype.divRound=function(o){var a=this.divmod(o);if(a.mod.isZero())return a.div;var f=a.div.negative!==0?a.mod.isub(o):a.mod,h=o.ushrn(1),g=o.andln(1),S=f.cmp(h);return S<0||g===1&&S===0?a.div:a.div.negative!==0?a.div.isubn(1):a.div.iaddn(1)},i.prototype.modn=function(o){n(o<=67108863);for(var a=(1<<26)%o,f=0,h=this.length-1;h>=0;h--)f=(a*f+(this.words[h]|0))%o;return f},i.prototype.idivn=function(o){n(o<=67108863);for(var a=0,f=this.length-1;f>=0;f--){var h=(this.words[f]|0)+a*67108864;this.words[f]=h/o|0,a=h%o}return this.strip()},i.prototype.divn=function(o){return this.clone().idivn(o)},i.prototype.egcd=function(o){n(o.negative===0),n(!o.isZero());var a=this,f=o.clone();a.negative!==0?a=a.umod(o):a=a.clone();for(var h=new i(1),g=new i(0),S=new i(0),I=new i(1),y=0;a.isEven()&&f.isEven();)a.iushrn(1),f.iushrn(1),++y;for(var u=f.clone(),b=a.clone();!a.isZero();){for(var D=0,Z=1;!(a.words[0]&Z)&&D<26;++D,Z<<=1);if(D>0)for(a.iushrn(D);D-- >0;)(h.isOdd()||g.isOdd())&&(h.iadd(u),g.isub(b)),h.iushrn(1),g.iushrn(1);for(var F=0,q=1;!(f.words[0]&q)&&F<26;++F,q<<=1);if(F>0)for(f.iushrn(F);F-- >0;)(S.isOdd()||I.isOdd())&&(S.iadd(u),I.isub(b)),S.iushrn(1),I.iushrn(1);a.cmp(f)>=0?(a.isub(f),h.isub(S),g.isub(I)):(f.isub(a),S.isub(h),I.isub(g))}return{a:S,b:I,gcd:f.iushln(y)}},i.prototype._invmp=function(o){n(o.negative===0),n(!o.isZero());var a=this,f=o.clone();a.negative!==0?a=a.umod(o):a=a.clone();for(var h=new i(1),g=new i(0),S=f.clone();a.cmpn(1)>0&&f.cmpn(1)>0;){for(var I=0,y=1;!(a.words[0]&y)&&I<26;++I,y<<=1);if(I>0)for(a.iushrn(I);I-- >0;)h.isOdd()&&h.iadd(S),h.iushrn(1);for(var u=0,b=1;!(f.words[0]&b)&&u<26;++u,b<<=1);if(u>0)for(f.iushrn(u);u-- >0;)g.isOdd()&&g.iadd(S),g.iushrn(1);a.cmp(f)>=0?(a.isub(f),h.isub(g)):(f.isub(a),g.isub(h))}var D;return a.cmpn(1)===0?D=h:D=g,D.cmpn(0)<0&&D.iadd(o),D},i.prototype.gcd=function(o){if(this.isZero())return o.abs();if(o.isZero())return this.abs();var a=this.clone(),f=o.clone();a.negative=0,f.negative=0;for(var h=0;a.isEven()&&f.isEven();h++)a.iushrn(1),f.iushrn(1);do{for(;a.isEven();)a.iushrn(1);for(;f.isEven();)f.iushrn(1);var g=a.cmp(f);if(g<0){var S=a;a=f,f=S}else if(g===0||f.cmpn(1)===0)break;a.isub(f)}while(!0);return f.iushln(h)},i.prototype.invm=function(o){return this.egcd(o).a.umod(o)},i.prototype.isEven=function(){return(this.words[0]&1)===0},i.prototype.isOdd=function(){return(this.words[0]&1)===1},i.prototype.andln=function(o){return this.words[0]&o},i.prototype.bincn=function(o){n(typeof o=="number");var a=o%26,f=(o-a)/26,h=1<<a;if(this.length<=f)return this._expand(f+1),this.words[f]|=h,this;for(var g=h,S=f;g!==0&&S<this.length;S++){var I=this.words[S]|0;I+=g,g=I>>>26,I&=67108863,this.words[S]=I}return g!==0&&(this.words[S]=g,this.length++),this},i.prototype.isZero=function(){return this.length===1&&this.words[0]===0},i.prototype.cmpn=function(o){var a=o<0;if(this.negative!==0&&!a)return-1;if(this.negative===0&&a)return 1;this.strip();var f;if(this.length>1)f=1;else{a&&(o=-o),n(o<=67108863,"Number is too big");var h=this.words[0]|0;f=h===o?0:h<o?-1:1}return this.negative!==0?-f|0:f},i.prototype.cmp=function(o){if(this.negative!==0&&o.negative===0)return-1;if(this.negative===0&&o.negative!==0)return 1;var a=this.ucmp(o);return this.negative!==0?-a|0:a},i.prototype.ucmp=function(o){if(this.length>o.length)return 1;if(this.length<o.length)return-1;for(var a=0,f=this.length-1;f>=0;f--){var h=this.words[f]|0,g=o.words[f]|0;if(h!==g){h<g?a=-1:h>g&&(a=1);break}}return a},i.prototype.gtn=function(o){return this.cmpn(o)===1},i.prototype.gt=function(o){return this.cmp(o)===1},i.prototype.gten=function(o){return this.cmpn(o)>=0},i.prototype.gte=function(o){return this.cmp(o)>=0},i.prototype.ltn=function(o){return this.cmpn(o)===-1},i.prototype.lt=function(o){return this.cmp(o)===-1},i.prototype.lten=function(o){return this.cmpn(o)<=0},i.prototype.lte=function(o){return this.cmp(o)<=0},i.prototype.eqn=function(o){return this.cmpn(o)===0},i.prototype.eq=function(o){return this.cmp(o)===0},i.red=function(o){return new G(o)},i.prototype.toRed=function(o){return n(!this.red,"Already a number in reduction context"),n(this.negative===0,"red works only with positives"),o.convertTo(this)._forceRed(o)},i.prototype.fromRed=function(){return n(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},i.prototype._forceRed=function(o){return this.red=o,this},i.prototype.forceRed=function(o){return n(!this.red,"Already a number in reduction context"),this._forceRed(o)},i.prototype.redAdd=function(o){return n(this.red,"redAdd works only with red numbers"),this.red.add(this,o)},i.prototype.redIAdd=function(o){return n(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,o)},i.prototype.redSub=function(o){return n(this.red,"redSub works only with red numbers"),this.red.sub(this,o)},i.prototype.redISub=function(o){return n(this.red,"redISub works only with red numbers"),this.red.isub(this,o)},i.prototype.redShl=function(o){return n(this.red,"redShl works only with red numbers"),this.red.shl(this,o)},i.prototype.redMul=function(o){return n(this.red,"redMul works only with red numbers"),this.red._verify2(this,o),this.red.mul(this,o)},i.prototype.redIMul=function(o){return n(this.red,"redMul works only with red numbers"),this.red._verify2(this,o),this.red.imul(this,o)},i.prototype.redSqr=function(){return n(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},i.prototype.redISqr=function(){return n(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},i.prototype.redSqrt=function(){return n(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},i.prototype.redInvm=function(){return n(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},i.prototype.redNeg=function(){return n(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},i.prototype.redPow=function(o){return n(this.red&&!o.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,o)};var C={k256:null,p224:null,p192:null,p25519:null};function O(d,o){this.name=d,this.p=new i(o,16),this.n=this.p.bitLength(),this.k=new i(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}O.prototype._tmp=function(){var o=new i(null);return o.words=new Array(Math.ceil(this.n/13)),o},O.prototype.ireduce=function(o){var a=o,f;do this.split(a,this.tmp),a=this.imulK(a),a=a.iadd(this.tmp),f=a.bitLength();while(f>this.n);var h=f<this.n?-1:a.ucmp(this.p);return h===0?(a.words[0]=0,a.length=1):h>0?a.isub(this.p):a.strip!==void 0?a.strip():a._strip(),a},O.prototype.split=function(o,a){o.iushrn(this.n,0,a)},O.prototype.imulK=function(o){return o.imul(this.k)};function z(){O.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}s(z,O),z.prototype.split=function(o,a){for(var f=4194303,h=Math.min(o.length,9),g=0;g<h;g++)a.words[g]=o.words[g];if(a.length=h,o.length<=9){o.words[0]=0,o.length=1;return}var S=o.words[9];for(a.words[a.length++]=S&f,g=10;g<o.length;g++){var I=o.words[g]|0;o.words[g-10]=(I&f)<<4|S>>>22,S=I}S>>>=22,o.words[g-10]=S,S===0&&o.length>10?o.length-=10:o.length-=9},z.prototype.imulK=function(o){o.words[o.length]=0,o.words[o.length+1]=0,o.length+=2;for(var a=0,f=0;f<o.length;f++){var h=o.words[f]|0;a+=h*977,o.words[f]=a&67108863,a=h*64+(a/67108864|0)}return o.words[o.length-1]===0&&(o.length--,o.words[o.length-1]===0&&o.length--),o};function H(){O.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}s(H,O);function tt(){O.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}s(tt,O);function nt(){O.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}s(nt,O),nt.prototype.imulK=function(o){for(var a=0,f=0;f<o.length;f++){var h=(o.words[f]|0)*19+a,g=h&67108863;h>>>=26,o.words[f]=g,a=h}return a!==0&&(o.words[o.length++]=a),o},i._prime=function(o){if(C[o])return C[o];var a;if(o==="k256")a=new z;else if(o==="p224")a=new H;else if(o==="p192")a=new tt;else if(o==="p25519")a=new nt;else throw new Error("Unknown prime "+o);return C[o]=a,a};function G(d){if(typeof d=="string"){var o=i._prime(d);this.m=o.p,this.prime=o}else n(d.gtn(1),"modulus must be greater than 1"),this.m=d,this.prime=null}G.prototype._verify1=function(o){n(o.negative===0,"red works only with positives"),n(o.red,"red works only with red numbers")},G.prototype._verify2=function(o,a){n((o.negative|a.negative)===0,"red works only with positives"),n(o.red&&o.red===a.red,"red works only with red numbers")},G.prototype.imod=function(o){return this.prime?this.prime.ireduce(o)._forceRed(this):o.umod(this.m)._forceRed(this)},G.prototype.neg=function(o){return o.isZero()?o.clone():this.m.sub(o)._forceRed(this)},G.prototype.add=function(o,a){this._verify2(o,a);var f=o.add(a);return f.cmp(this.m)>=0&&f.isub(this.m),f._forceRed(this)},G.prototype.iadd=function(o,a){this._verify2(o,a);var f=o.iadd(a);return f.cmp(this.m)>=0&&f.isub(this.m),f},G.prototype.sub=function(o,a){this._verify2(o,a);var f=o.sub(a);return f.cmpn(0)<0&&f.iadd(this.m),f._forceRed(this)},G.prototype.isub=function(o,a){this._verify2(o,a);var f=o.isub(a);return f.cmpn(0)<0&&f.iadd(this.m),f},G.prototype.shl=function(o,a){return this._verify1(o),this.imod(o.ushln(a))},G.prototype.imul=function(o,a){return this._verify2(o,a),this.imod(o.imul(a))},G.prototype.mul=function(o,a){return this._verify2(o,a),this.imod(o.mul(a))},G.prototype.isqr=function(o){return this.imul(o,o.clone())},G.prototype.sqr=function(o){return this.mul(o,o)},G.prototype.sqrt=function(o){if(o.isZero())return o.clone();var a=this.m.andln(3);if(n(a%2===1),a===3){var f=this.m.add(new i(1)).iushrn(2);return this.pow(o,f)}for(var h=this.m.subn(1),g=0;!h.isZero()&&h.andln(1)===0;)g++,h.iushrn(1);n(!h.isZero());var S=new i(1).toRed(this),I=S.redNeg(),y=this.m.subn(1).iushrn(1),u=this.m.bitLength();for(u=new i(2*u*u).toRed(this);this.pow(u,y).cmp(I)!==0;)u.redIAdd(I);for(var b=this.pow(u,h),D=this.pow(o,h.addn(1).iushrn(1)),Z=this.pow(o,h),F=g;Z.cmp(S)!==0;){for(var q=Z,it=0;q.cmp(S)!==0;it++)q=q.redSqr();n(it<F);var at=this.pow(b,new i(1).iushln(F-it-1));D=D.redMul(at),b=at.redSqr(),Z=Z.redMul(b),F=it}return D},G.prototype.invm=function(o){var a=o._invmp(this.m);return a.negative!==0?(a.negative=0,this.imod(a).redNeg()):this.imod(a)},G.prototype.pow=function(o,a){if(a.isZero())return new i(1).toRed(this);if(a.cmpn(1)===0)return o.clone();var f=4,h=new Array(1<<f);h[0]=new i(1).toRed(this),h[1]=o;for(var g=2;g<h.length;g++)h[g]=this.mul(h[g-1],o);var S=h[0],I=0,y=0,u=a.bitLength()%26;for(u===0&&(u=26),g=a.length-1;g>=0;g--){for(var b=a.words[g],D=u-1;D>=0;D--){var Z=b>>D&1;if(S!==h[0]&&(S=this.sqr(S)),Z===0&&I===0){y=0;continue}I<<=1,I|=Z,y++,!(y!==f&&(g!==0||D!==0))&&(S=this.mul(S,h[I]),y=0,I=0)}u=26}return S},G.prototype.convertTo=function(o){var a=o.umod(this.m);return a===o?a.clone():a},G.prototype.convertFrom=function(o){var a=o.clone();return a.red=null,a},i.mont=function(o){return new M(o)};function M(d){G.call(this,d),this.shift=this.m.bitLength(),this.shift%26!==0&&(this.shift+=26-this.shift%26),this.r=new i(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}s(M,G),M.prototype.convertTo=function(o){return this.imod(o.ushln(this.shift))},M.prototype.convertFrom=function(o){var a=this.imod(o.mul(this.rinv));return a.red=null,a},M.prototype.imul=function(o,a){if(o.isZero()||a.isZero())return o.words[0]=0,o.length=1,o;var f=o.imul(a),h=f.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),g=f.isub(h).iushrn(this.shift),S=g;return g.cmp(this.m)>=0?S=g.isub(this.m):g.cmpn(0)<0&&(S=g.iadd(this.m)),S._forceRed(this)},M.prototype.mul=function(o,a){if(o.isZero()||a.isZero())return new i(0)._forceRed(this);var f=o.mul(a),h=f.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),g=f.isub(h).iushrn(this.shift),S=g;return g.cmp(this.m)>=0?S=g.isub(this.m):g.cmpn(0)<0&&(S=g.iadd(this.m)),S._forceRed(this)},M.prototype.invm=function(o){var a=this.imod(o._invmp(this.m).mul(this.r2));return a._forceRed(this)}})(r,Re)}(j0)),j0.exports}var q1={},F1={},j1,Vw;function cg(){if(Vw)return j1;Vw=1;var r=yr,t=r.Buffer,e={},n;for(n in r)r.hasOwnProperty(n)&&(n==="SlowBuffer"||n==="Buffer"||(e[n]=r[n]));var s=e.Buffer={};for(n in t)t.hasOwnProperty(n)&&(n==="allocUnsafe"||n==="allocUnsafeSlow"||(s[n]=t[n]));if(e.Buffer.prototype=t.prototype,(!s.from||s.from===Uint8Array.from)&&(s.from=function(i,c,l){if(typeof i=="number")throw new TypeError('The "value" argument must not be of type number. Received type '+typeof i);if(i&&typeof i.length>"u")throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof i);return t(i,c,l)}),s.alloc||(s.alloc=function(i,c,l){if(typeof i!="number")throw new TypeError('The "size" argument must be of type number. Received type '+typeof i);if(i<0||i>=2*(1<<30))throw new RangeError('The value "'+i+'" is invalid for option "size"');var p=t(i);return!c||c.length===0?p.fill(0):typeof l=="string"?p.fill(c,l):p.fill(c),p}),!e.kStringMaxLength)try{e.kStringMaxLength=Zt.process.binding("buffer").kStringMaxLength}catch{}return e.constants||(e.constants={MAX_LENGTH:e.kMaxLength},e.kStringMaxLength&&(e.constants.MAX_STRING_LENGTH=e.kStringMaxLength)),j1=e,j1}var K1={},Zw;function hg(){if(Zw)return K1;Zw=1;const r=br;function t(n){this._reporterState={obj:null,path:[],options:n||{},errors:[]}}K1.Reporter=t,t.prototype.isError=function(s){return s instanceof e},t.prototype.save=function(){const s=this._reporterState;return{obj:s.obj,pathLen:s.path.length}},t.prototype.restore=function(s){const i=this._reporterState;i.obj=s.obj,i.path=i.path.slice(0,s.pathLen)},t.prototype.enterKey=function(s){return this._reporterState.path.push(s)},t.prototype.exitKey=function(s){const i=this._reporterState;i.path=i.path.slice(0,s-1)},t.prototype.leaveKey=function(s,i,c){const l=this._reporterState;this.exitKey(s),l.obj!==null&&(l.obj[i]=c)},t.prototype.path=function(){return this._reporterState.path.join("/")},t.prototype.enterObject=function(){const s=this._reporterState,i=s.obj;return s.obj={},i},t.prototype.leaveObject=function(s){const i=this._reporterState,c=i.obj;return i.obj=s,c},t.prototype.error=function(s){let i;const c=this._reporterState,l=s instanceof e;if(l?i=s:i=new e(c.path.map(function(p){return"["+JSON.stringify(p)+"]"}).join(""),s.message||s,s.stack),!c.options.partial)throw i;return l||c.errors.push(i),i},t.prototype.wrapResult=function(s){const i=this._reporterState;return i.options.partial?{result:this.isError(s)?null:s,errors:i.errors}:s};function e(n,s){this.path=n,this.rethrow(s)}return r(e,Error),e.prototype.rethrow=function(s){if(this.message=s+" at: "+(this.path||"(shallow)"),Error.captureStackTrace&&Error.captureStackTrace(this,e),!this.stack)try{throw new Error(this.message)}catch(i){this.stack=i.stack}return this},K1}var t0={},Ww;function Uc(){if(Ww)return t0;Ww=1;const r=br,t=hg().Reporter,e=cg().Buffer;function n(i,c){if(t.call(this,c),!e.isBuffer(i)){this.error("Input not Buffer");return}this.base=i,this.offset=0,this.length=i.length}r(n,t),t0.DecoderBuffer=n,n.isDecoderBuffer=function(c){return c instanceof n?!0:typeof c=="object"&&e.isBuffer(c.base)&&c.constructor.name==="DecoderBuffer"&&typeof c.offset=="number"&&typeof c.length=="number"&&typeof c.save=="function"&&typeof c.restore=="function"&&typeof c.isEmpty=="function"&&typeof c.readUInt8=="function"&&typeof c.skip=="function"&&typeof c.raw=="function"},n.prototype.save=function(){return{offset:this.offset,reporter:t.prototype.save.call(this)}},n.prototype.restore=function(c){const l=new n(this.base);return l.offset=c.offset,l.length=this.offset,this.offset=c.offset,t.prototype.restore.call(this,c.reporter),l},n.prototype.isEmpty=function(){return this.offset===this.length},n.prototype.readUInt8=function(c){return this.offset+1<=this.length?this.base.readUInt8(this.offset++,!0):this.error(c||"DecoderBuffer overrun")},n.prototype.skip=function(c,l){if(!(this.offset+c<=this.length))return this.error(l||"DecoderBuffer overrun");const p=new n(this.base);return p._reporterState=this._reporterState,p.offset=this.offset,p.length=this.offset+c,this.offset+=c,p},n.prototype.raw=function(c){return this.base.slice(c?c.offset:this.offset,this.length)};function s(i,c){if(Array.isArray(i))this.length=0,this.value=i.map(function(l){return s.isEncoderBuffer(l)||(l=new s(l,c)),this.length+=l.length,l},this);else if(typeof i=="number"){if(!(0<=i&&i<=255))return c.error("non-byte EncoderBuffer value");this.value=i,this.length=1}else if(typeof i=="string")this.value=i,this.length=e.byteLength(i);else if(e.isBuffer(i))this.value=i,this.length=i.length;else return c.error("Unsupported type: "+typeof i)}return t0.EncoderBuffer=s,s.isEncoderBuffer=function(c){return c instanceof s?!0:typeof c=="object"&&c.constructor.name==="EncoderBuffer"&&typeof c.length=="number"&&typeof c.join=="function"},s.prototype.join=function(c,l){return c||(c=e.alloc(this.length)),l||(l=0),this.length===0||(Array.isArray(this.value)?this.value.forEach(function(p){p.join(c,l),l+=p.length}):(typeof this.value=="number"?c[l]=this.value:typeof this.value=="string"?c.write(this.value,l):e.isBuffer(this.value)&&this.value.copy(c,l),l+=this.length)),c},t0}var $1,Gw;function lg(){if(Gw)return $1;Gw=1;const r=hg().Reporter,t=Uc().EncoderBuffer,e=Uc().DecoderBuffer,n=Zi,s=["seq","seqof","set","setof","objid","bool","gentime","utctime","null_","enum","int","objDesc","bitstr","bmpstr","charstr","genstr","graphstr","ia5str","iso646str","numstr","octstr","printstr","t61str","unistr","utf8str","videostr"],i=["key","obj","use","optional","explicit","implicit","def","choice","any","contains"].concat(s),c=["_peekTag","_decodeTag","_use","_decodeStr","_decodeObjid","_decodeTime","_decodeNull","_decodeInt","_decodeBool","_decodeList","_encodeComposite","_encodeStr","_encodeObjid","_encodeTime","_encodeNull","_encodeInt","_encodeBool"];function l(m,v,_){const E={};this._baseState=E,E.name=_,E.enc=m,E.parent=v||null,E.children=null,E.tag=null,E.args=null,E.reverseArgs=null,E.choice=null,E.optional=!1,E.any=!1,E.obj=!1,E.use=null,E.useDecoder=null,E.key=null,E.default=null,E.explicit=null,E.implicit=null,E.contains=null,E.parent||(E.children=[],this._wrap())}$1=l;const p=["enc","parent","children","tag","args","reverseArgs","choice","optional","any","obj","use","alteredUse","key","default","explicit","implicit","contains"];return l.prototype.clone=function(){const v=this._baseState,_={};p.forEach(function(w){_[w]=v[w]});const E=new this.constructor(_.parent);return E._baseState=_,E},l.prototype._wrap=function(){const v=this._baseState;i.forEach(function(_){this[_]=function(){const w=new this.constructor(this);return v.children.push(w),w[_].apply(w,arguments)}},this)},l.prototype._init=function(v){const _=this._baseState;n(_.parent===null),v.call(this),_.children=_.children.filter(function(E){return E._baseState.parent===this},this),n.equal(_.children.length,1,"Root node can have only one child")},l.prototype._useArgs=function(v){const _=this._baseState,E=v.filter(function(w){return w instanceof this.constructor},this);v=v.filter(function(w){return!(w instanceof this.constructor)},this),E.length!==0&&(n(_.children===null),_.children=E,E.forEach(function(w){w._baseState.parent=this},this)),v.length!==0&&(n(_.args===null),_.args=v,_.reverseArgs=v.map(function(w){if(typeof w!="object"||w.constructor!==Object)return w;const x={};return Object.keys(w).forEach(function(A){A==(A|0)&&(A|=0);const B=w[A];x[B]=A}),x}))},c.forEach(function(m){l.prototype[m]=function(){const _=this._baseState;throw new Error(m+" not implemented for encoding: "+_.enc)}}),s.forEach(function(m){l.prototype[m]=function(){const _=this._baseState,E=Array.prototype.slice.call(arguments);return n(_.tag===null),_.tag=m,this._useArgs(E),this}}),l.prototype.use=function(v){n(v);const _=this._baseState;return n(_.use===null),_.use=v,this},l.prototype.optional=function(){const v=this._baseState;return v.optional=!0,this},l.prototype.def=function(v){const _=this._baseState;return n(_.default===null),_.default=v,_.optional=!0,this},l.prototype.explicit=function(v){const _=this._baseState;return n(_.explicit===null&&_.implicit===null),_.explicit=v,this},l.prototype.implicit=function(v){const _=this._baseState;return n(_.explicit===null&&_.implicit===null),_.implicit=v,this},l.prototype.obj=function(){const v=this._baseState,_=Array.prototype.slice.call(arguments);return v.obj=!0,_.length!==0&&this._useArgs(_),this},l.prototype.key=function(v){const _=this._baseState;return n(_.key===null),_.key=v,this},l.prototype.any=function(){const v=this._baseState;return v.any=!0,this},l.prototype.choice=function(v){const _=this._baseState;return n(_.choice===null),_.choice=v,this._useArgs(Object.keys(v).map(function(E){return v[E]})),this},l.prototype.contains=function(v){const _=this._baseState;return n(_.use===null),_.contains=v,this},l.prototype._decode=function(v,_){const E=this._baseState;if(E.parent===null)return v.wrapResult(E.children[0]._decode(v,_));let w=E.default,x=!0,A=null;if(E.key!==null&&(A=v.enterKey(E.key)),E.optional){let P=null;if(E.explicit!==null?P=E.explicit:E.implicit!==null?P=E.implicit:E.tag!==null&&(P=E.tag),P===null&&!E.any){const R=v.save();try{E.choice===null?this._decodeGeneric(E.tag,v,_):this._decodeChoice(v,_),x=!0}catch{x=!1}v.restore(R)}else if(x=this._peekTag(v,P,E.any),v.isError(x))return x}let B;if(E.obj&&x&&(B=v.enterObject()),x){if(E.explicit!==null){const R=this._decodeTag(v,E.explicit);if(v.isError(R))return R;v=R}const P=v.offset;if(E.use===null&&E.choice===null){let R;E.any&&(R=v.save());const C=this._decodeTag(v,E.implicit!==null?E.implicit:E.tag,E.any);if(v.isError(C))return C;E.any?w=v.raw(R):v=C}if(_&&_.track&&E.tag!==null&&_.track(v.path(),P,v.length,"tagged"),_&&_.track&&E.tag!==null&&_.track(v.path(),v.offset,v.length,"content"),E.any||(E.choice===null?w=this._decodeGeneric(E.tag,v,_):w=this._decodeChoice(v,_)),v.isError(w))return w;if(!E.any&&E.choice===null&&E.children!==null&&E.children.forEach(function(C){C._decode(v,_)}),E.contains&&(E.tag==="octstr"||E.tag==="bitstr")){const R=new e(w);w=this._getUse(E.contains,v._reporterState.obj)._decode(R,_)}}return E.obj&&x&&(w=v.leaveObject(B)),E.key!==null&&(w!==null||x===!0)?v.leaveKey(A,E.key,w):A!==null&&v.exitKey(A),w},l.prototype._decodeGeneric=function(v,_,E){const w=this._baseState;return v==="seq"||v==="set"?null:v==="seqof"||v==="setof"?this._decodeList(_,v,w.args[0],E):/str$/.test(v)?this._decodeStr(_,v,E):v==="objid"&&w.args?this._decodeObjid(_,w.args[0],w.args[1],E):v==="objid"?this._decodeObjid(_,null,null,E):v==="gentime"||v==="utctime"?this._decodeTime(_,v,E):v==="null_"?this._decodeNull(_,E):v==="bool"?this._decodeBool(_,E):v==="objDesc"?this._decodeStr(_,v,E):v==="int"||v==="enum"?this._decodeInt(_,w.args&&w.args[0],E):w.use!==null?this._getUse(w.use,_._reporterState.obj)._decode(_,E):_.error("unknown tag: "+v)},l.prototype._getUse=function(v,_){const E=this._baseState;return E.useDecoder=this._use(v,_),n(E.useDecoder._baseState.parent===null),E.useDecoder=E.useDecoder._baseState.children[0],E.implicit!==E.useDecoder._baseState.implicit&&(E.useDecoder=E.useDecoder.clone(),E.useDecoder._baseState.implicit=E.implicit),E.useDecoder},l.prototype._decodeChoice=function(v,_){const E=this._baseState;let w=null,x=!1;return Object.keys(E.choice).some(function(A){const B=v.save(),P=E.choice[A];try{const R=P._decode(v,_);if(v.isError(R))return!1;w={type:A,value:R},x=!0}catch{return v.restore(B),!1}return!0},this),x?w:v.error("Choice not matched")},l.prototype._createEncoderBuffer=function(v){return new t(v,this.reporter)},l.prototype._encode=function(v,_,E){const w=this._baseState;if(w.default!==null&&w.default===v)return;const x=this._encodeValue(v,_,E);if(x!==void 0&&!this._skipDefault(x,_,E))return x},l.prototype._encodeValue=function(v,_,E){const w=this._baseState;if(w.parent===null)return w.children[0]._encode(v,_||new r);let x=null;if(this.reporter=_,w.optional&&v===void 0)if(w.default!==null)v=w.default;else return;let A=null,B=!1;if(w.any)x=this._createEncoderBuffer(v);else if(w.choice)x=this._encodeChoice(v,_);else if(w.contains)A=this._getUse(w.contains,E)._encode(v,_),B=!0;else if(w.children)A=w.children.map(function(P){if(P._baseState.tag==="null_")return P._encode(null,_,v);if(P._baseState.key===null)return _.error("Child should have a key");const R=_.enterKey(P._baseState.key);if(typeof v!="object")return _.error("Child expected, but input is not object");const C=P._encode(v[P._baseState.key],_,v);return _.leaveKey(R),C},this).filter(function(P){return P}),A=this._createEncoderBuffer(A);else if(w.tag==="seqof"||w.tag==="setof"){if(!(w.args&&w.args.length===1))return _.error("Too many args for : "+w.tag);if(!Array.isArray(v))return _.error("seqof/setof, but data is not Array");const P=this.clone();P._baseState.implicit=null,A=this._createEncoderBuffer(v.map(function(R){const C=this._baseState;return this._getUse(C.args[0],v)._encode(R,_)},P))}else w.use!==null?x=this._getUse(w.use,E)._encode(v,_):(A=this._encodePrimitive(w.tag,v),B=!0);if(!w.any&&w.choice===null){const P=w.implicit!==null?w.implicit:w.tag,R=w.implicit===null?"universal":"context";P===null?w.use===null&&_.error("Tag could be omitted only for .use()"):w.use===null&&(x=this._encodeComposite(P,B,R,A))}return w.explicit!==null&&(x=this._encodeComposite(w.explicit,!1,"context",x)),x},l.prototype._encodeChoice=function(v,_){const E=this._baseState,w=E.choice[v.type];return w||n(!1,v.type+" not found in "+JSON.stringify(Object.keys(E.choice))),w._encode(v.value,_)},l.prototype._encodePrimitive=function(v,_){const E=this._baseState;if(/str$/.test(v))return this._encodeStr(_,v);if(v==="objid"&&E.args)return this._encodeObjid(_,E.reverseArgs[0],E.args[1]);if(v==="objid")return this._encodeObjid(_,null,null);if(v==="gentime"||v==="utctime")return this._encodeTime(_,v);if(v==="null_")return this._encodeNull();if(v==="int"||v==="enum")return this._encodeInt(_,E.args&&E.reverseArgs[0]);if(v==="bool")return this._encodeBool(_);if(v==="objDesc")return this._encodeStr(_,v);throw new Error("Unsupported tag: "+v)},l.prototype._isNumstr=function(v){return/^[0-9 ]*$/.test(v)},l.prototype._isPrintstr=function(v){return/^[A-Za-z0-9 '()+,-./:=?]*$/.test(v)},$1}var H1={},Yw;function dg(){return Yw||(Yw=1,function(r){function t(e){const n={};return Object.keys(e).forEach(function(s){(s|0)==s&&(s=s|0);const i=e[s];n[i]=s}),n}r.tagClass={0:"universal",1:"application",2:"context",3:"private"},r.tagClassByName=t(r.tagClass),r.tag={0:"end",1:"bool",2:"int",3:"bitstr",4:"octstr",5:"null_",6:"objid",7:"objDesc",8:"external",9:"real",10:"enum",11:"embed",12:"utf8str",13:"relativeOid",16:"seq",17:"set",18:"numstr",19:"printstr",20:"t61str",21:"videostr",22:"ia5str",23:"utctime",24:"gentime",25:"graphstr",26:"iso646str",27:"genstr",28:"unistr",29:"charstr",30:"bmpstr"},r.tagByName=t(r.tag)}(H1)),H1}var V1,Xw;function V_(){if(Xw)return V1;Xw=1;const r=br,t=cg().Buffer,e=lg(),n=dg();function s(p){this.enc="der",this.name=p.name,this.entity=p,this.tree=new i,this.tree._init(p.body)}V1=s,s.prototype.encode=function(m,v){return this.tree._encode(m,v).join()};function i(p){e.call(this,"der",p)}r(i,e),i.prototype._encodeComposite=function(m,v,_,E){const w=l(m,v,_,this.reporter);if(E.length<128){const B=t.alloc(2);return B[0]=w,B[1]=E.length,this._createEncoderBuffer([B,E])}let x=1;for(let B=E.length;B>=256;B>>=8)x++;const A=t.alloc(1+1+x);A[0]=w,A[1]=128|x;for(let B=1+x,P=E.length;P>0;B--,P>>=8)A[B]=P&255;return this._createEncoderBuffer([A,E])},i.prototype._encodeStr=function(m,v){if(v==="bitstr")return this._createEncoderBuffer([m.unused|0,m.data]);if(v==="bmpstr"){const _=t.alloc(m.length*2);for(let E=0;E<m.length;E++)_.writeUInt16BE(m.charCodeAt(E),E*2);return this._createEncoderBuffer(_)}else return v==="numstr"?this._isNumstr(m)?this._createEncoderBuffer(m):this.reporter.error("Encoding of string type: numstr supports only digits and space"):v==="printstr"?this._isPrintstr(m)?this._createEncoderBuffer(m):this.reporter.error("Encoding of string type: printstr supports only latin upper and lower case letters, digits, space, apostrophe, left and rigth parenthesis, plus sign, comma, hyphen, dot, slash, colon, equal sign, question mark"):/str$/.test(v)?this._createEncoderBuffer(m):v==="objDesc"?this._createEncoderBuffer(m):this.reporter.error("Encoding of string type: "+v+" unsupported")},i.prototype._encodeObjid=function(m,v,_){if(typeof m=="string"){if(!v)return this.reporter.error("string objid given, but no values map found");if(!v.hasOwnProperty(m))return this.reporter.error("objid not found in values map");m=v[m].split(/[\s.]+/g);for(let A=0;A<m.length;A++)m[A]|=0}else if(Array.isArray(m)){m=m.slice();for(let A=0;A<m.length;A++)m[A]|=0}if(!Array.isArray(m))return this.reporter.error("objid() should be either array or string, got: "+JSON.stringify(m));if(!_){if(m[1]>=40)return this.reporter.error("Second objid identifier OOB");m.splice(0,2,m[0]*40+m[1])}let E=0;for(let A=0;A<m.length;A++){let B=m[A];for(E++;B>=128;B>>=7)E++}const w=t.alloc(E);let x=w.length-1;for(let A=m.length-1;A>=0;A--){let B=m[A];for(w[x--]=B&127;(B>>=7)>0;)w[x--]=128|B&127}return this._createEncoderBuffer(w)};function c(p){return p<10?"0"+p:p}i.prototype._encodeTime=function(m,v){let _;const E=new Date(m);return v==="gentime"?_=[c(E.getUTCFullYear()),c(E.getUTCMonth()+1),c(E.getUTCDate()),c(E.getUTCHours()),c(E.getUTCMinutes()),c(E.getUTCSeconds()),"Z"].join(""):v==="utctime"?_=[c(E.getUTCFullYear()%100),c(E.getUTCMonth()+1),c(E.getUTCDate()),c(E.getUTCHours()),c(E.getUTCMinutes()),c(E.getUTCSeconds()),"Z"].join(""):this.reporter.error("Encoding "+v+" time is not supported yet"),this._encodeStr(_,"octstr")},i.prototype._encodeNull=function(){return this._createEncoderBuffer("")},i.prototype._encodeInt=function(m,v){if(typeof m=="string"){if(!v)return this.reporter.error("String int or enum given, but no values map");if(!v.hasOwnProperty(m))return this.reporter.error("Values map doesn't contain: "+JSON.stringify(m));m=v[m]}if(typeof m!="number"&&!t.isBuffer(m)){const w=m.toArray();!m.sign&&w[0]&128&&w.unshift(0),m=t.from(w)}if(t.isBuffer(m)){let w=m.length;m.length===0&&w++;const x=t.alloc(w);return m.copy(x),m.length===0&&(x[0]=0),this._createEncoderBuffer(x)}if(m<128)return this._createEncoderBuffer(m);if(m<256)return this._createEncoderBuffer([0,m]);let _=1;for(let w=m;w>=256;w>>=8)_++;const E=new Array(_);for(let w=E.length-1;w>=0;w--)E[w]=m&255,m>>=8;return E[0]&128&&E.unshift(0),this._createEncoderBuffer(t.from(E))},i.prototype._encodeBool=function(m){return this._createEncoderBuffer(m?255:0)},i.prototype._use=function(m,v){return typeof m=="function"&&(m=m(v)),m._getEncoder("der").tree},i.prototype._skipDefault=function(m,v,_){const E=this._baseState;let w;if(E.default===null)return!1;const x=m.join();if(E.defaultBuffer===void 0&&(E.defaultBuffer=this._encodeValue(E.default,v,_).join()),x.length!==E.defaultBuffer.length)return!1;for(w=0;w<x.length;w++)if(x[w]!==E.defaultBuffer[w])return!1;return!0};function l(p,m,v,_){let E;if(p==="seqof"?p="seq":p==="setof"&&(p="set"),n.tagByName.hasOwnProperty(p))E=n.tagByName[p];else if(typeof p=="number"&&(p|0)===p)E=p;else return _.error("Unknown tag: "+p);return E>=31?_.error("Multi-octet tag encoding unsupported"):(m||(E|=32),E|=n.tagClassByName[v||"universal"]<<6,E)}return V1}var Z1,Jw;function pC(){if(Jw)return Z1;Jw=1;const r=br,t=V_();function e(n){t.call(this,n),this.enc="pem"}return r(e,t),Z1=e,e.prototype.encode=function(s,i){const l=t.prototype.encode.call(this,s).toString("base64"),p=["-----BEGIN "+i.label+"-----"];for(let m=0;m<l.length;m+=64)p.push(l.slice(m,m+64));return p.push("-----END "+i.label+"-----"),p.join(`
`)},Z1}var Qw;function Z_(){return Qw||(Qw=1,function(r){const t=r;t.der=V_(),t.pem=pC()}(F1)),F1}var W1={},G1,t6;function W_(){if(t6)return G1;t6=1;const r=br,t=H_(),e=Uc().DecoderBuffer,n=lg(),s=dg();function i(m){this.enc="der",this.name=m.name,this.entity=m,this.tree=new c,this.tree._init(m.body)}G1=i,i.prototype.decode=function(v,_){return e.isDecoderBuffer(v)||(v=new e(v,_)),this.tree._decode(v,_)};function c(m){n.call(this,"der",m)}r(c,n),c.prototype._peekTag=function(v,_,E){if(v.isEmpty())return!1;const w=v.save(),x=l(v,'Failed to peek tag: "'+_+'"');return v.isError(x)?x:(v.restore(w),x.tag===_||x.tagStr===_||x.tagStr+"of"===_||E)},c.prototype._decodeTag=function(v,_,E){const w=l(v,'Failed to decode tag of "'+_+'"');if(v.isError(w))return w;let x=p(v,w.primitive,'Failed to get length of "'+_+'"');if(v.isError(x))return x;if(!E&&w.tag!==_&&w.tagStr!==_&&w.tagStr+"of"!==_)return v.error('Failed to match tag: "'+_+'"');if(w.primitive||x!==null)return v.skip(x,'Failed to match body of: "'+_+'"');const A=v.save(),B=this._skipUntilEnd(v,'Failed to skip indefinite length body: "'+this.tag+'"');return v.isError(B)?B:(x=v.offset-A.offset,v.restore(A),v.skip(x,'Failed to match body of: "'+_+'"'))},c.prototype._skipUntilEnd=function(v,_){for(;;){const E=l(v,_);if(v.isError(E))return E;const w=p(v,E.primitive,_);if(v.isError(w))return w;let x;if(E.primitive||w!==null?x=v.skip(w):x=this._skipUntilEnd(v,_),v.isError(x))return x;if(E.tagStr==="end")break}},c.prototype._decodeList=function(v,_,E,w){const x=[];for(;!v.isEmpty();){const A=this._peekTag(v,"end");if(v.isError(A))return A;const B=E.decode(v,"der",w);if(v.isError(B)&&A)break;x.push(B)}return x},c.prototype._decodeStr=function(v,_){if(_==="bitstr"){const E=v.readUInt8();return v.isError(E)?E:{unused:E,data:v.raw()}}else if(_==="bmpstr"){const E=v.raw();if(E.length%2===1)return v.error("Decoding of string type: bmpstr length mismatch");let w="";for(let x=0;x<E.length/2;x++)w+=String.fromCharCode(E.readUInt16BE(x*2));return w}else if(_==="numstr"){const E=v.raw().toString("ascii");return this._isNumstr(E)?E:v.error("Decoding of string type: numstr unsupported characters")}else{if(_==="octstr")return v.raw();if(_==="objDesc")return v.raw();if(_==="printstr"){const E=v.raw().toString("ascii");return this._isPrintstr(E)?E:v.error("Decoding of string type: printstr unsupported characters")}else return/str$/.test(_)?v.raw().toString():v.error("Decoding of string type: "+_+" unsupported")}},c.prototype._decodeObjid=function(v,_,E){let w;const x=[];let A=0,B=0;for(;!v.isEmpty();)B=v.readUInt8(),A<<=7,A|=B&127,B&128||(x.push(A),A=0);B&128&&x.push(A);const P=x[0]/40|0,R=x[0]%40;if(E?w=x:w=[P,R].concat(x.slice(1)),_){let C=_[w.join(" ")];C===void 0&&(C=_[w.join(".")]),C!==void 0&&(w=C)}return w},c.prototype._decodeTime=function(v,_){const E=v.raw().toString();let w,x,A,B,P,R;if(_==="gentime")w=E.slice(0,4)|0,x=E.slice(4,6)|0,A=E.slice(6,8)|0,B=E.slice(8,10)|0,P=E.slice(10,12)|0,R=E.slice(12,14)|0;else if(_==="utctime")w=E.slice(0,2)|0,x=E.slice(2,4)|0,A=E.slice(4,6)|0,B=E.slice(6,8)|0,P=E.slice(8,10)|0,R=E.slice(10,12)|0,w<70?w=2e3+w:w=1900+w;else return v.error("Decoding "+_+" time is not supported yet");return Date.UTC(w,x-1,A,B,P,R,0)},c.prototype._decodeNull=function(){return null},c.prototype._decodeBool=function(v){const _=v.readUInt8();return v.isError(_)?_:_!==0},c.prototype._decodeInt=function(v,_){const E=v.raw();let w=new t(E);return _&&(w=_[w.toString(10)]||w),w},c.prototype._use=function(v,_){return typeof v=="function"&&(v=v(_)),v._getDecoder("der").tree};function l(m,v){let _=m.readUInt8(v);if(m.isError(_))return _;const E=s.tagClass[_>>6],w=(_&32)===0;if((_&31)===31){let A=_;for(_=0;(A&128)===128;){if(A=m.readUInt8(v),m.isError(A))return A;_<<=7,_|=A&127}}else _&=31;const x=s.tag[_];return{cls:E,primitive:w,tag:_,tagStr:x}}function p(m,v,_){let E=m.readUInt8(_);if(m.isError(E))return E;if(!v&&E===128)return null;if(!(E&128))return E;const w=E&127;if(w>4)return m.error("length octect is too long");E=0;for(let x=0;x<w;x++){E<<=8;const A=m.readUInt8(_);if(m.isError(A))return A;E|=A}return E}return G1}var Y1,e6;function mC(){if(e6)return Y1;e6=1;const r=br,t=cg().Buffer,e=W_();function n(s){e.call(this,s),this.enc="pem"}return r(n,e),Y1=n,n.prototype.decode=function(i,c){const l=i.toString().split(/[\r\n]+/g),p=c.label.toUpperCase(),m=/^-----(BEGIN|END) ([^-]+)-----$/;let v=-1,_=-1;for(let x=0;x<l.length;x++){const A=l[x].match(m);if(A!==null&&A[2]===p)if(v===-1){if(A[1]!=="BEGIN")break;v=x}else{if(A[1]!=="END")break;_=x;break}}if(v===-1||_===-1)throw new Error("PEM section not found for: "+p);const E=l.slice(v+1,_).join("");E.replace(/[^a-z0-9+/=]+/gi,"");const w=t.from(E,"base64");return e.prototype.decode.call(this,w,c)},Y1}var r6;function G_(){return r6||(r6=1,function(r){const t=r;t.der=W_(),t.pem=mC()}(W1)),W1}var n6;function vC(){return n6||(n6=1,function(r){const t=Z_(),e=G_(),n=br,s=r;s.define=function(l,p){return new i(l,p)};function i(c,l){this.name=c,this.body=l,this.decoders={},this.encoders={}}i.prototype._createNamed=function(l){const p=this.name;function m(v){this._initNamed(v,p)}return n(m,l),m.prototype._initNamed=function(_,E){l.call(this,_,E)},new m(this)},i.prototype._getDecoder=function(l){return l=l||"der",this.decoders.hasOwnProperty(l)||(this.decoders[l]=this._createNamed(e[l])),this.decoders[l]},i.prototype.decode=function(l,p,m){return this._getDecoder(p).decode(l,m)},i.prototype._getEncoder=function(l){return l=l||"der",this.encoders.hasOwnProperty(l)||(this.encoders[l]=this._createNamed(t[l])),this.encoders[l]},i.prototype.encode=function(l,p,m){return this._getEncoder(p).encode(l,m)}}(q1)),q1}var X1={},i6;function gC(){return i6||(i6=1,function(r){const t=r;t.Reporter=hg().Reporter,t.DecoderBuffer=Uc().DecoderBuffer,t.EncoderBuffer=Uc().EncoderBuffer,t.Node=lg()}(X1)),X1}var J1={},o6;function yC(){return o6||(o6=1,function(r){const t=r;t._reverse=function(n){const s={};return Object.keys(n).forEach(function(i){(i|0)==i&&(i=i|0);const c=n[i];s[c]=i}),s},t.der=dg()}(J1)),J1}var s6;function Y_(){return s6||(s6=1,function(r){const t=r;t.bignum=H_(),t.define=vC().define,t.base=gC(),t.constants=yC(),t.decoders=G_(),t.encoders=Z_()}(z1)),z1}var Q1,a6;function bC(){if(a6)return Q1;a6=1;var r=Y_(),t=r.define("Time",function(){this.choice({utcTime:this.utctime(),generalTime:this.gentime()})}),e=r.define("AttributeTypeValue",function(){this.seq().obj(this.key("type").objid(),this.key("value").any())}),n=r.define("AlgorithmIdentifier",function(){this.seq().obj(this.key("algorithm").objid(),this.key("parameters").optional(),this.key("curve").objid().optional())}),s=r.define("SubjectPublicKeyInfo",function(){this.seq().obj(this.key("algorithm").use(n),this.key("subjectPublicKey").bitstr())}),i=r.define("RelativeDistinguishedName",function(){this.setof(e)}),c=r.define("RDNSequence",function(){this.seqof(i)}),l=r.define("Name",function(){this.choice({rdnSequence:this.use(c)})}),p=r.define("Validity",function(){this.seq().obj(this.key("notBefore").use(t),this.key("notAfter").use(t))}),m=r.define("Extension",function(){this.seq().obj(this.key("extnID").objid(),this.key("critical").bool().def(!1),this.key("extnValue").octstr())}),v=r.define("TBSCertificate",function(){this.seq().obj(this.key("version").explicit(0).int().optional(),this.key("serialNumber").int(),this.key("signature").use(n),this.key("issuer").use(l),this.key("validity").use(p),this.key("subject").use(l),this.key("subjectPublicKeyInfo").use(s),this.key("issuerUniqueID").implicit(1).bitstr().optional(),this.key("subjectUniqueID").implicit(2).bitstr().optional(),this.key("extensions").explicit(3).seqof(m).optional())}),_=r.define("X509Certificate",function(){this.seq().obj(this.key("tbsCertificate").use(v),this.key("signatureAlgorithm").use(n),this.key("signatureValue").bitstr())});return Q1=_,Q1}var u6;function wC(){if(u6)return Bi;u6=1;var r=Y_();Bi.certificate=bC();var t=r.define("RSAPrivateKey",function(){this.seq().obj(this.key("version").int(),this.key("modulus").int(),this.key("publicExponent").int(),this.key("privateExponent").int(),this.key("prime1").int(),this.key("prime2").int(),this.key("exponent1").int(),this.key("exponent2").int(),this.key("coefficient").int())});Bi.RSAPrivateKey=t;var e=r.define("RSAPublicKey",function(){this.seq().obj(this.key("modulus").int(),this.key("publicExponent").int())});Bi.RSAPublicKey=e;var n=r.define("SubjectPublicKeyInfo",function(){this.seq().obj(this.key("algorithm").use(s),this.key("subjectPublicKey").bitstr())});Bi.PublicKey=n;var s=r.define("AlgorithmIdentifier",function(){this.seq().obj(this.key("algorithm").objid(),this.key("none").null_().optional(),this.key("curve").objid().optional(),this.key("params").seq().obj(this.key("p").int(),this.key("q").int(),this.key("g").int()).optional())}),i=r.define("PrivateKeyInfo",function(){this.seq().obj(this.key("version").int(),this.key("algorithm").use(s),this.key("subjectPrivateKey").octstr())});Bi.PrivateKey=i;var c=r.define("EncryptedPrivateKeyInfo",function(){this.seq().obj(this.key("algorithm").seq().obj(this.key("id").objid(),this.key("decrypt").seq().obj(this.key("kde").seq().obj(this.key("id").objid(),this.key("kdeparams").seq().obj(this.key("salt").octstr(),this.key("iters").int())),this.key("cipher").seq().obj(this.key("algo").objid(),this.key("iv").octstr()))),this.key("subjectPrivateKey").octstr())});Bi.EncryptedPrivateKey=c;var l=r.define("DSAPrivateKey",function(){this.seq().obj(this.key("version").int(),this.key("p").int(),this.key("q").int(),this.key("g").int(),this.key("pub_key").int(),this.key("priv_key").int())});Bi.DSAPrivateKey=l,Bi.DSAparam=r.define("DSAparam",function(){this.int()});var p=r.define("ECPrivateKey",function(){this.seq().obj(this.key("version").int(),this.key("privateKey").octstr(),this.key("parameters").optional().explicit(0).use(m),this.key("publicKey").optional().explicit(1).bitstr())});Bi.ECPrivateKey=p;var m=r.define("ECParameters",function(){this.choice({namedCurve:this.objid()})});return Bi.signature=r.define("signature",function(){this.seq().obj(this.key("r").int(),this.key("s").int())}),Bi}const xC={"2.16.840.1.101.3.4.1.1":"aes-128-ecb","2.16.840.1.101.3.4.1.2":"aes-128-cbc","2.16.840.1.101.3.4.1.3":"aes-128-ofb","2.16.840.1.101.3.4.1.4":"aes-128-cfb","2.16.840.1.101.3.4.1.21":"aes-192-ecb","2.16.840.1.101.3.4.1.22":"aes-192-cbc","2.16.840.1.101.3.4.1.23":"aes-192-ofb","2.16.840.1.101.3.4.1.24":"aes-192-cfb","2.16.840.1.101.3.4.1.41":"aes-256-ecb","2.16.840.1.101.3.4.1.42":"aes-256-cbc","2.16.840.1.101.3.4.1.43":"aes-256-ofb","2.16.840.1.101.3.4.1.44":"aes-256-cfb"};var tp,f6;function _C(){if(f6)return tp;f6=1;var r=/Proc-Type: 4,ENCRYPTED[\n\r]+DEK-Info: AES-((?:128)|(?:192)|(?:256))-CBC,([0-9A-H]+)[\n\r]+([0-9A-z\n\r+/=]+)[\n\r]+/m,t=/^-----BEGIN ((?:.*? KEY)|CERTIFICATE)-----/m,e=/^-----BEGIN ((?:.*? KEY)|CERTIFICATE)-----([0-9A-z\n\r+/=]+)-----END \1-----$/m,n=rd(),s=og(),i=sr.Buffer;return tp=function(c,l){var p=c.toString(),m=p.match(r),v;if(m){var E="aes"+m[1],w=i.from(m[2],"hex"),x=i.from(m[3].replace(/[\r\n]/g,""),"base64"),A=n(l,w.slice(0,8),parseInt(m[1],10)).key,B=[],P=s.createDecipheriv(E,A,w);B.push(P.update(x)),B.push(P.final()),v=i.concat(B)}else{var _=p.match(e);v=i.from(_[2].replace(/[\r\n]/g,""),"base64")}var R=p.match(t)[1];return{tag:R,data:v}},tp}var ep,c6;function od(){if(c6)return ep;c6=1;var r=wC(),t=xC,e=_C(),n=og(),s=m_(),i=sr.Buffer;ep=c;function c(p){var m;typeof p=="object"&&!i.isBuffer(p)&&(m=p.passphrase,p=p.key),typeof p=="string"&&(p=i.from(p));var v=e(p,m),_=v.tag,E=v.data,w,x;switch(_){case"CERTIFICATE":x=r.certificate.decode(E,"der").tbsCertificate.subjectPublicKeyInfo;case"PUBLIC KEY":switch(x||(x=r.PublicKey.decode(E,"der")),w=x.algorithm.algorithm.join("."),w){case"1.2.840.113549.1.1.1":return r.RSAPublicKey.decode(x.subjectPublicKey.data,"der");case"1.2.840.10045.2.1":return x.subjectPrivateKey=x.subjectPublicKey,{type:"ec",data:x};case"1.2.840.10040.4.1":return x.algorithm.params.pub_key=r.DSAparam.decode(x.subjectPublicKey.data,"der"),{type:"dsa",data:x.algorithm.params};default:throw new Error("unknown key id "+w)}case"ENCRYPTED PRIVATE KEY":E=r.EncryptedPrivateKey.decode(E,"der"),E=l(E,m);case"PRIVATE KEY":switch(x=r.PrivateKey.decode(E,"der"),w=x.algorithm.algorithm.join("."),w){case"1.2.840.113549.1.1.1":return r.RSAPrivateKey.decode(x.subjectPrivateKey,"der");case"1.2.840.10045.2.1":return{curve:x.algorithm.curve,privateKey:r.ECPrivateKey.decode(x.subjectPrivateKey,"der").privateKey};case"1.2.840.10040.4.1":return x.algorithm.params.priv_key=r.DSAparam.decode(x.subjectPrivateKey,"der"),{type:"dsa",params:x.algorithm.params};default:throw new Error("unknown key id "+w)}case"RSA PUBLIC KEY":return r.RSAPublicKey.decode(E,"der");case"RSA PRIVATE KEY":return r.RSAPrivateKey.decode(E,"der");case"DSA PRIVATE KEY":return{type:"dsa",params:r.DSAPrivateKey.decode(E,"der")};case"EC PRIVATE KEY":return E=r.ECPrivateKey.decode(E,"der"),{curve:E.parameters.value,privateKey:E.privateKey};default:throw new Error("unknown key type "+_)}}c.signature=r.signature;function l(p,m){var v=p.algorithm.decrypt.kde.kdeparams.salt,_=parseInt(p.algorithm.decrypt.kde.kdeparams.iters.toString(),10),E=t[p.algorithm.decrypt.cipher.algo.join(".")],w=p.algorithm.decrypt.cipher.iv,x=p.subjectPrivateKey,A=parseInt(E.split("-")[1],10)/8,B=s.pbkdf2Sync(m,v,_,A,"sha1"),P=n.createDecipheriv(E,B,w),R=[];return R.push(P.update(x)),R.push(P.final()),i.concat(R)}return ep}const X_={"1.3.132.0.10":"secp256k1","1.3.132.0.33":"p224","1.2.840.10045.3.1.1":"p192","1.2.840.10045.3.1.7":"p256","1.3.132.0.34":"p384","1.3.132.0.35":"p521"};var h6;function MC(){if(h6)return $f.exports;h6=1;var r=sr.Buffer,t=f_(),e=ag(),n=fg().ec,s=Kl,i=od(),c=X_,l=1;function p(P,R,C,O,z){var H=i(R);if(H.curve){if(O!=="ecdsa"&&O!=="ecdsa/rsa")throw new Error("wrong private key type");return m(P,H)}else if(H.type==="dsa"){if(O!=="dsa")throw new Error("wrong private key type");return v(P,H,C)}if(O!=="rsa"&&O!=="ecdsa/rsa")throw new Error("wrong private key type");if(R.padding!==void 0&&R.padding!==l)throw new Error("illegal or unsupported padding mode");P=r.concat([z,P]);for(var tt=H.modulus.byteLength(),nt=[0,1];P.length+nt.length+1<tt;)nt.push(255);nt.push(0);for(var G=-1;++G<P.length;)nt.push(P[G]);var M=e(nt,H);return M}function m(P,R){var C=c[R.curve.join(".")];if(!C)throw new Error("unknown curve "+R.curve.join("."));var O=new n(C),z=O.keyFromPrivate(R.privateKey),H=z.sign(P);return r.from(H.toDER())}function v(P,R,C){for(var O=R.params.priv_key,z=R.params.p,H=R.params.q,tt=R.params.g,nt=new s(0),G,M=w(P,H).mod(H),d=!1,o=E(O,H,P,C);d===!1;)G=A(H,o,C),nt=B(tt,G,z,H),d=G.invm(H).imul(M.add(O.mul(nt))).mod(H),d.cmpn(0)===0&&(d=!1,nt=new s(0));return _(nt,d)}function _(P,R){P=P.toArray(),R=R.toArray(),P[0]&128&&(P=[0].concat(P)),R[0]&128&&(R=[0].concat(R));var C=P.length+R.length+4,O=[48,C,2,P.length];return O=O.concat(P,[2,R.length],R),r.from(O)}function E(P,R,C,O){if(P=r.from(P.toArray()),P.length<R.byteLength()){var z=r.alloc(R.byteLength()-P.length);P=r.concat([z,P])}var H=C.length,tt=x(C,R),nt=r.alloc(H);nt.fill(1);var G=r.alloc(H);return G=t(O,G).update(nt).update(r.from([0])).update(P).update(tt).digest(),nt=t(O,G).update(nt).digest(),G=t(O,G).update(nt).update(r.from([1])).update(P).update(tt).digest(),nt=t(O,G).update(nt).digest(),{k:G,v:nt}}function w(P,R){var C=new s(P),O=(P.length<<3)-R.bitLength();return O>0&&C.ishrn(O),C}function x(P,R){P=w(P,R),P=P.mod(R);var C=r.from(P.toArray());if(C.length<R.byteLength()){var O=r.alloc(R.byteLength()-C.length);C=r.concat([O,C])}return C}function A(P,R,C){var O,z;do{for(O=r.alloc(0);O.length*8<P.bitLength();)R.v=t(C,R.k).update(R.v).digest(),O=r.concat([O,R.v]);z=w(O,P),R.k=t(C,R.k).update(R.v).update(r.from([0])).digest(),R.v=t(C,R.k).update(R.v).digest()}while(z.cmp(P)!==-1);return z}function B(P,R,C,O){return P.toRed(s.mont(C)).redPow(R).fromRed().mod(O)}return $f.exports=p,$f.exports.getKey=E,$f.exports.makeKey=A,$f.exports}var rp,l6;function EC(){if(l6)return rp;l6=1;var r=sr.Buffer,t=Kl,e=fg().ec,n=od(),s=X_;function i(m,v,_,E,w){var x=n(_);if(x.type==="ec"){if(E!=="ecdsa"&&E!=="ecdsa/rsa")throw new Error("wrong public key type");return c(m,v,x)}else if(x.type==="dsa"){if(E!=="dsa")throw new Error("wrong public key type");return l(m,v,x)}if(E!=="rsa"&&E!=="ecdsa/rsa")throw new Error("wrong public key type");v=r.concat([w,v]);for(var A=x.modulus.byteLength(),B=[1],P=0;v.length+B.length+2<A;)B.push(255),P+=1;B.push(0);for(var R=-1;++R<v.length;)B.push(v[R]);B=r.from(B);var C=t.mont(x.modulus);m=new t(m).toRed(C),m=m.redPow(new t(x.publicExponent)),m=r.from(m.fromRed().toArray());var O=P<8?1:0;for(A=Math.min(m.length,B.length),m.length!==B.length&&(O=1),R=-1;++R<A;)O|=m[R]^B[R];return O===0}function c(m,v,_){var E=s[_.data.algorithm.curve.join(".")];if(!E)throw new Error("unknown curve "+_.data.algorithm.curve.join("."));var w=new e(E),x=_.data.subjectPrivateKey.data;return w.verify(v,m,x)}function l(m,v,_){var E=_.data.p,w=_.data.q,x=_.data.g,A=_.data.pub_key,B=n.signature.decode(m,"der"),P=B.s,R=B.r;p(P,w),p(R,w);var C=t.mont(E),O=P.invm(w),z=x.toRed(C).redPow(new t(v).mul(O).mod(w)).fromRed().mul(A.toRed(C).redPow(R.mul(O).mod(w)).fromRed()).mod(E).mod(w);return z.cmp(R)===0}function p(m,v){if(m.cmpn(0)<=0)throw new Error("invalid sig");if(m.cmp(v)>=0)throw new Error("invalid sig")}return rp=i,rp}var np,d6;function AC(){if(d6)return np;d6=1;var r=sr.Buffer,t=_h,e=V7,n=br,s=MC(),i=EC(),c=c_;Object.keys(c).forEach(function(_){c[_].id=r.from(c[_].id,"hex"),c[_.toLowerCase()]=c[_]});function l(_){e.Writable.call(this);var E=c[_];if(!E)throw new Error("Unknown message digest");this._hashType=E.hash,this._hash=t(E.hash),this._tag=E.id,this._signType=E.sign}n(l,e.Writable),l.prototype._write=function(E,w,x){this._hash.update(E),x()},l.prototype.update=function(E,w){return this._hash.update(typeof E=="string"?r.from(E,w):E),this},l.prototype.sign=function(E,w){this.end();var x=this._hash.digest(),A=s(x,E,this._hashType,this._signType,this._tag);return w?A.toString(w):A};function p(_){e.Writable.call(this);var E=c[_];if(!E)throw new Error("Unknown message digest");this._hash=t(E.hash),this._tag=E.id,this._signType=E.sign}n(p,e.Writable),p.prototype._write=function(E,w,x){this._hash.update(E),x()},p.prototype.update=function(E,w){return this._hash.update(typeof E=="string"?r.from(E,w):E),this},p.prototype.verify=function(E,w,x){var A=typeof w=="string"?r.from(w,x):w;this.end();var B=this._hash.digest();return i(A,B,E,this._signType,this._tag)};function m(_){return new l(_)}function v(_){return new p(_)}return np={Sign:m,Verify:v,createSign:m,createVerify:v},np}var K0={exports:{}};K0.exports;var p6;function SC(){return p6||(p6=1,function(r){(function(t,e){function n(d,o){if(!d)throw new Error(o||"Assertion failed")}function s(d,o){d.super_=o;var a=function(){};a.prototype=o.prototype,d.prototype=new a,d.prototype.constructor=d}function i(d,o,a){if(i.isBN(d))return d;this.negative=0,this.words=null,this.length=0,this.red=null,d!==null&&((o==="le"||o==="be")&&(a=o,o=10),this._init(d||0,o||10,a||"be"))}typeof t=="object"?t.exports=i:e.BN=i,i.BN=i,i.wordSize=26;var c;try{typeof window<"u"&&typeof window.Buffer<"u"?c=window.Buffer:c=yr.Buffer}catch{}i.isBN=function(o){return o instanceof i?!0:o!==null&&typeof o=="object"&&o.constructor.wordSize===i.wordSize&&Array.isArray(o.words)},i.max=function(o,a){return o.cmp(a)>0?o:a},i.min=function(o,a){return o.cmp(a)<0?o:a},i.prototype._init=function(o,a,f){if(typeof o=="number")return this._initNumber(o,a,f);if(typeof o=="object")return this._initArray(o,a,f);a==="hex"&&(a=16),n(a===(a|0)&&a>=2&&a<=36),o=o.toString().replace(/\s+/g,"");var h=0;o[0]==="-"&&(h++,this.negative=1),h<o.length&&(a===16?this._parseHex(o,h,f):(this._parseBase(o,a,h),f==="le"&&this._initArray(this.toArray(),a,f)))},i.prototype._initNumber=function(o,a,f){o<0&&(this.negative=1,o=-o),o<67108864?(this.words=[o&67108863],this.length=1):o<4503599627370496?(this.words=[o&67108863,o/67108864&67108863],this.length=2):(n(o<9007199254740992),this.words=[o&67108863,o/67108864&67108863,1],this.length=3),f==="le"&&this._initArray(this.toArray(),a,f)},i.prototype._initArray=function(o,a,f){if(n(typeof o.length=="number"),o.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(o.length/3),this.words=new Array(this.length);for(var h=0;h<this.length;h++)this.words[h]=0;var g,S,I=0;if(f==="be")for(h=o.length-1,g=0;h>=0;h-=3)S=o[h]|o[h-1]<<8|o[h-2]<<16,this.words[g]|=S<<I&67108863,this.words[g+1]=S>>>26-I&67108863,I+=24,I>=26&&(I-=26,g++);else if(f==="le")for(h=0,g=0;h<o.length;h+=3)S=o[h]|o[h+1]<<8|o[h+2]<<16,this.words[g]|=S<<I&67108863,this.words[g+1]=S>>>26-I&67108863,I+=24,I>=26&&(I-=26,g++);return this.strip()};function l(d,o){var a=d.charCodeAt(o);return a>=65&&a<=70?a-55:a>=97&&a<=102?a-87:a-48&15}function p(d,o,a){var f=l(d,a);return a-1>=o&&(f|=l(d,a-1)<<4),f}i.prototype._parseHex=function(o,a,f){this.length=Math.ceil((o.length-a)/6),this.words=new Array(this.length);for(var h=0;h<this.length;h++)this.words[h]=0;var g=0,S=0,I;if(f==="be")for(h=o.length-1;h>=a;h-=2)I=p(o,a,h)<<g,this.words[S]|=I&67108863,g>=18?(g-=18,S+=1,this.words[S]|=I>>>26):g+=8;else{var y=o.length-a;for(h=y%2===0?a+1:a;h<o.length;h+=2)I=p(o,a,h)<<g,this.words[S]|=I&67108863,g>=18?(g-=18,S+=1,this.words[S]|=I>>>26):g+=8}this.strip()};function m(d,o,a,f){for(var h=0,g=Math.min(d.length,a),S=o;S<g;S++){var I=d.charCodeAt(S)-48;h*=f,I>=49?h+=I-49+10:I>=17?h+=I-17+10:h+=I}return h}i.prototype._parseBase=function(o,a,f){this.words=[0],this.length=1;for(var h=0,g=1;g<=67108863;g*=a)h++;h--,g=g/a|0;for(var S=o.length-f,I=S%h,y=Math.min(S,S-I)+f,u=0,b=f;b<y;b+=h)u=m(o,b,b+h,a),this.imuln(g),this.words[0]+u<67108864?this.words[0]+=u:this._iaddn(u);if(I!==0){var D=1;for(u=m(o,b,o.length,a),b=0;b<I;b++)D*=a;this.imuln(D),this.words[0]+u<67108864?this.words[0]+=u:this._iaddn(u)}this.strip()},i.prototype.copy=function(o){o.words=new Array(this.length);for(var a=0;a<this.length;a++)o.words[a]=this.words[a];o.length=this.length,o.negative=this.negative,o.red=this.red},i.prototype.clone=function(){var o=new i(null);return this.copy(o),o},i.prototype._expand=function(o){for(;this.length<o;)this.words[this.length++]=0;return this},i.prototype.strip=function(){for(;this.length>1&&this.words[this.length-1]===0;)this.length--;return this._normSign()},i.prototype._normSign=function(){return this.length===1&&this.words[0]===0&&(this.negative=0),this},i.prototype.inspect=function(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"};var v=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],_=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],E=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];i.prototype.toString=function(o,a){o=o||10,a=a|0||1;var f;if(o===16||o==="hex"){f="";for(var h=0,g=0,S=0;S<this.length;S++){var I=this.words[S],y=((I<<h|g)&16777215).toString(16);g=I>>>24-h&16777215,g!==0||S!==this.length-1?f=v[6-y.length]+y+f:f=y+f,h+=2,h>=26&&(h-=26,S--)}for(g!==0&&(f=g.toString(16)+f);f.length%a!==0;)f="0"+f;return this.negative!==0&&(f="-"+f),f}if(o===(o|0)&&o>=2&&o<=36){var u=_[o],b=E[o];f="";var D=this.clone();for(D.negative=0;!D.isZero();){var Z=D.modn(b).toString(o);D=D.idivn(b),D.isZero()?f=Z+f:f=v[u-Z.length]+Z+f}for(this.isZero()&&(f="0"+f);f.length%a!==0;)f="0"+f;return this.negative!==0&&(f="-"+f),f}n(!1,"Base should be between 2 and 36")},i.prototype.toNumber=function(){var o=this.words[0];return this.length===2?o+=this.words[1]*67108864:this.length===3&&this.words[2]===1?o+=4503599627370496+this.words[1]*67108864:this.length>2&&n(!1,"Number can only safely store up to 53 bits"),this.negative!==0?-o:o},i.prototype.toJSON=function(){return this.toString(16)},i.prototype.toBuffer=function(o,a){return n(typeof c<"u"),this.toArrayLike(c,o,a)},i.prototype.toArray=function(o,a){return this.toArrayLike(Array,o,a)},i.prototype.toArrayLike=function(o,a,f){var h=this.byteLength(),g=f||Math.max(1,h);n(h<=g,"byte array longer than desired length"),n(g>0,"Requested array length <= 0"),this.strip();var S=a==="le",I=new o(g),y,u,b=this.clone();if(S){for(u=0;!b.isZero();u++)y=b.andln(255),b.iushrn(8),I[u]=y;for(;u<g;u++)I[u]=0}else{for(u=0;u<g-h;u++)I[u]=0;for(u=0;!b.isZero();u++)y=b.andln(255),b.iushrn(8),I[g-u-1]=y}return I},Math.clz32?i.prototype._countBits=function(o){return 32-Math.clz32(o)}:i.prototype._countBits=function(o){var a=o,f=0;return a>=4096&&(f+=13,a>>>=13),a>=64&&(f+=7,a>>>=7),a>=8&&(f+=4,a>>>=4),a>=2&&(f+=2,a>>>=2),f+a},i.prototype._zeroBits=function(o){if(o===0)return 26;var a=o,f=0;return a&8191||(f+=13,a>>>=13),a&127||(f+=7,a>>>=7),a&15||(f+=4,a>>>=4),a&3||(f+=2,a>>>=2),a&1||f++,f},i.prototype.bitLength=function(){var o=this.words[this.length-1],a=this._countBits(o);return(this.length-1)*26+a};function w(d){for(var o=new Array(d.bitLength()),a=0;a<o.length;a++){var f=a/26|0,h=a%26;o[a]=(d.words[f]&1<<h)>>>h}return o}i.prototype.zeroBits=function(){if(this.isZero())return 0;for(var o=0,a=0;a<this.length;a++){var f=this._zeroBits(this.words[a]);if(o+=f,f!==26)break}return o},i.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},i.prototype.toTwos=function(o){return this.negative!==0?this.abs().inotn(o).iaddn(1):this.clone()},i.prototype.fromTwos=function(o){return this.testn(o-1)?this.notn(o).iaddn(1).ineg():this.clone()},i.prototype.isNeg=function(){return this.negative!==0},i.prototype.neg=function(){return this.clone().ineg()},i.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},i.prototype.iuor=function(o){for(;this.length<o.length;)this.words[this.length++]=0;for(var a=0;a<o.length;a++)this.words[a]=this.words[a]|o.words[a];return this.strip()},i.prototype.ior=function(o){return n((this.negative|o.negative)===0),this.iuor(o)},i.prototype.or=function(o){return this.length>o.length?this.clone().ior(o):o.clone().ior(this)},i.prototype.uor=function(o){return this.length>o.length?this.clone().iuor(o):o.clone().iuor(this)},i.prototype.iuand=function(o){var a;this.length>o.length?a=o:a=this;for(var f=0;f<a.length;f++)this.words[f]=this.words[f]&o.words[f];return this.length=a.length,this.strip()},i.prototype.iand=function(o){return n((this.negative|o.negative)===0),this.iuand(o)},i.prototype.and=function(o){return this.length>o.length?this.clone().iand(o):o.clone().iand(this)},i.prototype.uand=function(o){return this.length>o.length?this.clone().iuand(o):o.clone().iuand(this)},i.prototype.iuxor=function(o){var a,f;this.length>o.length?(a=this,f=o):(a=o,f=this);for(var h=0;h<f.length;h++)this.words[h]=a.words[h]^f.words[h];if(this!==a)for(;h<a.length;h++)this.words[h]=a.words[h];return this.length=a.length,this.strip()},i.prototype.ixor=function(o){return n((this.negative|o.negative)===0),this.iuxor(o)},i.prototype.xor=function(o){return this.length>o.length?this.clone().ixor(o):o.clone().ixor(this)},i.prototype.uxor=function(o){return this.length>o.length?this.clone().iuxor(o):o.clone().iuxor(this)},i.prototype.inotn=function(o){n(typeof o=="number"&&o>=0);var a=Math.ceil(o/26)|0,f=o%26;this._expand(a),f>0&&a--;for(var h=0;h<a;h++)this.words[h]=~this.words[h]&67108863;return f>0&&(this.words[h]=~this.words[h]&67108863>>26-f),this.strip()},i.prototype.notn=function(o){return this.clone().inotn(o)},i.prototype.setn=function(o,a){n(typeof o=="number"&&o>=0);var f=o/26|0,h=o%26;return this._expand(f+1),a?this.words[f]=this.words[f]|1<<h:this.words[f]=this.words[f]&~(1<<h),this.strip()},i.prototype.iadd=function(o){var a;if(this.negative!==0&&o.negative===0)return this.negative=0,a=this.isub(o),this.negative^=1,this._normSign();if(this.negative===0&&o.negative!==0)return o.negative=0,a=this.isub(o),o.negative=1,a._normSign();var f,h;this.length>o.length?(f=this,h=o):(f=o,h=this);for(var g=0,S=0;S<h.length;S++)a=(f.words[S]|0)+(h.words[S]|0)+g,this.words[S]=a&67108863,g=a>>>26;for(;g!==0&&S<f.length;S++)a=(f.words[S]|0)+g,this.words[S]=a&67108863,g=a>>>26;if(this.length=f.length,g!==0)this.words[this.length]=g,this.length++;else if(f!==this)for(;S<f.length;S++)this.words[S]=f.words[S];return this},i.prototype.add=function(o){var a;return o.negative!==0&&this.negative===0?(o.negative=0,a=this.sub(o),o.negative^=1,a):o.negative===0&&this.negative!==0?(this.negative=0,a=o.sub(this),this.negative=1,a):this.length>o.length?this.clone().iadd(o):o.clone().iadd(this)},i.prototype.isub=function(o){if(o.negative!==0){o.negative=0;var a=this.iadd(o);return o.negative=1,a._normSign()}else if(this.negative!==0)return this.negative=0,this.iadd(o),this.negative=1,this._normSign();var f=this.cmp(o);if(f===0)return this.negative=0,this.length=1,this.words[0]=0,this;var h,g;f>0?(h=this,g=o):(h=o,g=this);for(var S=0,I=0;I<g.length;I++)a=(h.words[I]|0)-(g.words[I]|0)+S,S=a>>26,this.words[I]=a&67108863;for(;S!==0&&I<h.length;I++)a=(h.words[I]|0)+S,S=a>>26,this.words[I]=a&67108863;if(S===0&&I<h.length&&h!==this)for(;I<h.length;I++)this.words[I]=h.words[I];return this.length=Math.max(this.length,I),h!==this&&(this.negative=1),this.strip()},i.prototype.sub=function(o){return this.clone().isub(o)};function x(d,o,a){a.negative=o.negative^d.negative;var f=d.length+o.length|0;a.length=f,f=f-1|0;var h=d.words[0]|0,g=o.words[0]|0,S=h*g,I=S&67108863,y=S/67108864|0;a.words[0]=I;for(var u=1;u<f;u++){for(var b=y>>>26,D=y&67108863,Z=Math.min(u,o.length-1),F=Math.max(0,u-d.length+1);F<=Z;F++){var q=u-F|0;h=d.words[q]|0,g=o.words[F]|0,S=h*g+D,b+=S/67108864|0,D=S&67108863}a.words[u]=D|0,y=b|0}return y!==0?a.words[u]=y|0:a.length--,a.strip()}var A=function(o,a,f){var h=o.words,g=a.words,S=f.words,I=0,y,u,b,D=h[0]|0,Z=D&8191,F=D>>>13,q=h[1]|0,it=q&8191,at=q>>>13,Bt=h[2]|0,yt=Bt&8191,pt=Bt>>>13,Ft=h[3]|0,lt=Ft&8191,ct=Ft>>>13,Tt=h[4]|0,kt=Tt&8191,k=Tt>>>13,T=h[5]|0,L=T&8191,j=T>>>13,rt=h[6]|0,Q=rt&8191,ot=rt>>>13,qt=h[7]|0,It=qt&8191,xt=qt>>>13,Qt=h[8]|0,Ct=Qt&8191,Dt=Qt>>>13,Se=h[9]|0,te=Se&8191,Ut=Se>>>13,Te=g[0]|0,J=Te&8191,X=Te>>>13,st=g[1]|0,N=st&8191,$=st>>>13,gt=g[2]|0,ft=gt&8191,mt=gt>>>13,vt=g[3]|0,At=vt&8191,_t=vt>>>13,Gt=g[4]|0,Rt=Gt&8191,wt=Gt>>>13,se=g[5]|0,Lt=se&8191,Et=se>>>13,de=g[6]|0,Pt=de&8191,Mt=de>>>13,K=g[7]|0,Y=K&8191,V=K>>>13,U=g[8]|0,W=U&8191,et=U>>>13,dt=g[9]|0,ut=dt&8191,ht=dt>>>13;f.negative=o.negative^a.negative,f.length=19,y=Math.imul(Z,J),u=Math.imul(Z,X),u=u+Math.imul(F,J)|0,b=Math.imul(F,X);var zt=(I+y|0)+((u&8191)<<13)|0;I=(b+(u>>>13)|0)+(zt>>>26)|0,zt&=67108863,y=Math.imul(it,J),u=Math.imul(it,X),u=u+Math.imul(at,J)|0,b=Math.imul(at,X),y=y+Math.imul(Z,N)|0,u=u+Math.imul(Z,$)|0,u=u+Math.imul(F,N)|0,b=b+Math.imul(F,$)|0;var Wt=(I+y|0)+((u&8191)<<13)|0;I=(b+(u>>>13)|0)+(Wt>>>26)|0,Wt&=67108863,y=Math.imul(yt,J),u=Math.imul(yt,X),u=u+Math.imul(pt,J)|0,b=Math.imul(pt,X),y=y+Math.imul(it,N)|0,u=u+Math.imul(it,$)|0,u=u+Math.imul(at,N)|0,b=b+Math.imul(at,$)|0,y=y+Math.imul(Z,ft)|0,u=u+Math.imul(Z,mt)|0,u=u+Math.imul(F,ft)|0,b=b+Math.imul(F,mt)|0;var ye=(I+y|0)+((u&8191)<<13)|0;I=(b+(u>>>13)|0)+(ye>>>26)|0,ye&=67108863,y=Math.imul(lt,J),u=Math.imul(lt,X),u=u+Math.imul(ct,J)|0,b=Math.imul(ct,X),y=y+Math.imul(yt,N)|0,u=u+Math.imul(yt,$)|0,u=u+Math.imul(pt,N)|0,b=b+Math.imul(pt,$)|0,y=y+Math.imul(it,ft)|0,u=u+Math.imul(it,mt)|0,u=u+Math.imul(at,ft)|0,b=b+Math.imul(at,mt)|0,y=y+Math.imul(Z,At)|0,u=u+Math.imul(Z,_t)|0,u=u+Math.imul(F,At)|0,b=b+Math.imul(F,_t)|0;var Yt=(I+y|0)+((u&8191)<<13)|0;I=(b+(u>>>13)|0)+(Yt>>>26)|0,Yt&=67108863,y=Math.imul(kt,J),u=Math.imul(kt,X),u=u+Math.imul(k,J)|0,b=Math.imul(k,X),y=y+Math.imul(lt,N)|0,u=u+Math.imul(lt,$)|0,u=u+Math.imul(ct,N)|0,b=b+Math.imul(ct,$)|0,y=y+Math.imul(yt,ft)|0,u=u+Math.imul(yt,mt)|0,u=u+Math.imul(pt,ft)|0,b=b+Math.imul(pt,mt)|0,y=y+Math.imul(it,At)|0,u=u+Math.imul(it,_t)|0,u=u+Math.imul(at,At)|0,b=b+Math.imul(at,_t)|0,y=y+Math.imul(Z,Rt)|0,u=u+Math.imul(Z,wt)|0,u=u+Math.imul(F,Rt)|0,b=b+Math.imul(F,wt)|0;var pe=(I+y|0)+((u&8191)<<13)|0;I=(b+(u>>>13)|0)+(pe>>>26)|0,pe&=67108863,y=Math.imul(L,J),u=Math.imul(L,X),u=u+Math.imul(j,J)|0,b=Math.imul(j,X),y=y+Math.imul(kt,N)|0,u=u+Math.imul(kt,$)|0,u=u+Math.imul(k,N)|0,b=b+Math.imul(k,$)|0,y=y+Math.imul(lt,ft)|0,u=u+Math.imul(lt,mt)|0,u=u+Math.imul(ct,ft)|0,b=b+Math.imul(ct,mt)|0,y=y+Math.imul(yt,At)|0,u=u+Math.imul(yt,_t)|0,u=u+Math.imul(pt,At)|0,b=b+Math.imul(pt,_t)|0,y=y+Math.imul(it,Rt)|0,u=u+Math.imul(it,wt)|0,u=u+Math.imul(at,Rt)|0,b=b+Math.imul(at,wt)|0,y=y+Math.imul(Z,Lt)|0,u=u+Math.imul(Z,Et)|0,u=u+Math.imul(F,Lt)|0,b=b+Math.imul(F,Et)|0;var ve=(I+y|0)+((u&8191)<<13)|0;I=(b+(u>>>13)|0)+(ve>>>26)|0,ve&=67108863,y=Math.imul(Q,J),u=Math.imul(Q,X),u=u+Math.imul(ot,J)|0,b=Math.imul(ot,X),y=y+Math.imul(L,N)|0,u=u+Math.imul(L,$)|0,u=u+Math.imul(j,N)|0,b=b+Math.imul(j,$)|0,y=y+Math.imul(kt,ft)|0,u=u+Math.imul(kt,mt)|0,u=u+Math.imul(k,ft)|0,b=b+Math.imul(k,mt)|0,y=y+Math.imul(lt,At)|0,u=u+Math.imul(lt,_t)|0,u=u+Math.imul(ct,At)|0,b=b+Math.imul(ct,_t)|0,y=y+Math.imul(yt,Rt)|0,u=u+Math.imul(yt,wt)|0,u=u+Math.imul(pt,Rt)|0,b=b+Math.imul(pt,wt)|0,y=y+Math.imul(it,Lt)|0,u=u+Math.imul(it,Et)|0,u=u+Math.imul(at,Lt)|0,b=b+Math.imul(at,Et)|0,y=y+Math.imul(Z,Pt)|0,u=u+Math.imul(Z,Mt)|0,u=u+Math.imul(F,Pt)|0,b=b+Math.imul(F,Mt)|0;var ge=(I+y|0)+((u&8191)<<13)|0;I=(b+(u>>>13)|0)+(ge>>>26)|0,ge&=67108863,y=Math.imul(It,J),u=Math.imul(It,X),u=u+Math.imul(xt,J)|0,b=Math.imul(xt,X),y=y+Math.imul(Q,N)|0,u=u+Math.imul(Q,$)|0,u=u+Math.imul(ot,N)|0,b=b+Math.imul(ot,$)|0,y=y+Math.imul(L,ft)|0,u=u+Math.imul(L,mt)|0,u=u+Math.imul(j,ft)|0,b=b+Math.imul(j,mt)|0,y=y+Math.imul(kt,At)|0,u=u+Math.imul(kt,_t)|0,u=u+Math.imul(k,At)|0,b=b+Math.imul(k,_t)|0,y=y+Math.imul(lt,Rt)|0,u=u+Math.imul(lt,wt)|0,u=u+Math.imul(ct,Rt)|0,b=b+Math.imul(ct,wt)|0,y=y+Math.imul(yt,Lt)|0,u=u+Math.imul(yt,Et)|0,u=u+Math.imul(pt,Lt)|0,b=b+Math.imul(pt,Et)|0,y=y+Math.imul(it,Pt)|0,u=u+Math.imul(it,Mt)|0,u=u+Math.imul(at,Pt)|0,b=b+Math.imul(at,Mt)|0,y=y+Math.imul(Z,Y)|0,u=u+Math.imul(Z,V)|0,u=u+Math.imul(F,Y)|0,b=b+Math.imul(F,V)|0;var ie=(I+y|0)+((u&8191)<<13)|0;I=(b+(u>>>13)|0)+(ie>>>26)|0,ie&=67108863,y=Math.imul(Ct,J),u=Math.imul(Ct,X),u=u+Math.imul(Dt,J)|0,b=Math.imul(Dt,X),y=y+Math.imul(It,N)|0,u=u+Math.imul(It,$)|0,u=u+Math.imul(xt,N)|0,b=b+Math.imul(xt,$)|0,y=y+Math.imul(Q,ft)|0,u=u+Math.imul(Q,mt)|0,u=u+Math.imul(ot,ft)|0,b=b+Math.imul(ot,mt)|0,y=y+Math.imul(L,At)|0,u=u+Math.imul(L,_t)|0,u=u+Math.imul(j,At)|0,b=b+Math.imul(j,_t)|0,y=y+Math.imul(kt,Rt)|0,u=u+Math.imul(kt,wt)|0,u=u+Math.imul(k,Rt)|0,b=b+Math.imul(k,wt)|0,y=y+Math.imul(lt,Lt)|0,u=u+Math.imul(lt,Et)|0,u=u+Math.imul(ct,Lt)|0,b=b+Math.imul(ct,Et)|0,y=y+Math.imul(yt,Pt)|0,u=u+Math.imul(yt,Mt)|0,u=u+Math.imul(pt,Pt)|0,b=b+Math.imul(pt,Mt)|0,y=y+Math.imul(it,Y)|0,u=u+Math.imul(it,V)|0,u=u+Math.imul(at,Y)|0,b=b+Math.imul(at,V)|0,y=y+Math.imul(Z,W)|0,u=u+Math.imul(Z,et)|0,u=u+Math.imul(F,W)|0,b=b+Math.imul(F,et)|0;var ue=(I+y|0)+((u&8191)<<13)|0;I=(b+(u>>>13)|0)+(ue>>>26)|0,ue&=67108863,y=Math.imul(te,J),u=Math.imul(te,X),u=u+Math.imul(Ut,J)|0,b=Math.imul(Ut,X),y=y+Math.imul(Ct,N)|0,u=u+Math.imul(Ct,$)|0,u=u+Math.imul(Dt,N)|0,b=b+Math.imul(Dt,$)|0,y=y+Math.imul(It,ft)|0,u=u+Math.imul(It,mt)|0,u=u+Math.imul(xt,ft)|0,b=b+Math.imul(xt,mt)|0,y=y+Math.imul(Q,At)|0,u=u+Math.imul(Q,_t)|0,u=u+Math.imul(ot,At)|0,b=b+Math.imul(ot,_t)|0,y=y+Math.imul(L,Rt)|0,u=u+Math.imul(L,wt)|0,u=u+Math.imul(j,Rt)|0,b=b+Math.imul(j,wt)|0,y=y+Math.imul(kt,Lt)|0,u=u+Math.imul(kt,Et)|0,u=u+Math.imul(k,Lt)|0,b=b+Math.imul(k,Et)|0,y=y+Math.imul(lt,Pt)|0,u=u+Math.imul(lt,Mt)|0,u=u+Math.imul(ct,Pt)|0,b=b+Math.imul(ct,Mt)|0,y=y+Math.imul(yt,Y)|0,u=u+Math.imul(yt,V)|0,u=u+Math.imul(pt,Y)|0,b=b+Math.imul(pt,V)|0,y=y+Math.imul(it,W)|0,u=u+Math.imul(it,et)|0,u=u+Math.imul(at,W)|0,b=b+Math.imul(at,et)|0,y=y+Math.imul(Z,ut)|0,u=u+Math.imul(Z,ht)|0,u=u+Math.imul(F,ut)|0,b=b+Math.imul(F,ht)|0;var fe=(I+y|0)+((u&8191)<<13)|0;I=(b+(u>>>13)|0)+(fe>>>26)|0,fe&=67108863,y=Math.imul(te,N),u=Math.imul(te,$),u=u+Math.imul(Ut,N)|0,b=Math.imul(Ut,$),y=y+Math.imul(Ct,ft)|0,u=u+Math.imul(Ct,mt)|0,u=u+Math.imul(Dt,ft)|0,b=b+Math.imul(Dt,mt)|0,y=y+Math.imul(It,At)|0,u=u+Math.imul(It,_t)|0,u=u+Math.imul(xt,At)|0,b=b+Math.imul(xt,_t)|0,y=y+Math.imul(Q,Rt)|0,u=u+Math.imul(Q,wt)|0,u=u+Math.imul(ot,Rt)|0,b=b+Math.imul(ot,wt)|0,y=y+Math.imul(L,Lt)|0,u=u+Math.imul(L,Et)|0,u=u+Math.imul(j,Lt)|0,b=b+Math.imul(j,Et)|0,y=y+Math.imul(kt,Pt)|0,u=u+Math.imul(kt,Mt)|0,u=u+Math.imul(k,Pt)|0,b=b+Math.imul(k,Mt)|0,y=y+Math.imul(lt,Y)|0,u=u+Math.imul(lt,V)|0,u=u+Math.imul(ct,Y)|0,b=b+Math.imul(ct,V)|0,y=y+Math.imul(yt,W)|0,u=u+Math.imul(yt,et)|0,u=u+Math.imul(pt,W)|0,b=b+Math.imul(pt,et)|0,y=y+Math.imul(it,ut)|0,u=u+Math.imul(it,ht)|0,u=u+Math.imul(at,ut)|0,b=b+Math.imul(at,ht)|0;var ce=(I+y|0)+((u&8191)<<13)|0;I=(b+(u>>>13)|0)+(ce>>>26)|0,ce&=67108863,y=Math.imul(te,ft),u=Math.imul(te,mt),u=u+Math.imul(Ut,ft)|0,b=Math.imul(Ut,mt),y=y+Math.imul(Ct,At)|0,u=u+Math.imul(Ct,_t)|0,u=u+Math.imul(Dt,At)|0,b=b+Math.imul(Dt,_t)|0,y=y+Math.imul(It,Rt)|0,u=u+Math.imul(It,wt)|0,u=u+Math.imul(xt,Rt)|0,b=b+Math.imul(xt,wt)|0,y=y+Math.imul(Q,Lt)|0,u=u+Math.imul(Q,Et)|0,u=u+Math.imul(ot,Lt)|0,b=b+Math.imul(ot,Et)|0,y=y+Math.imul(L,Pt)|0,u=u+Math.imul(L,Mt)|0,u=u+Math.imul(j,Pt)|0,b=b+Math.imul(j,Mt)|0,y=y+Math.imul(kt,Y)|0,u=u+Math.imul(kt,V)|0,u=u+Math.imul(k,Y)|0,b=b+Math.imul(k,V)|0,y=y+Math.imul(lt,W)|0,u=u+Math.imul(lt,et)|0,u=u+Math.imul(ct,W)|0,b=b+Math.imul(ct,et)|0,y=y+Math.imul(yt,ut)|0,u=u+Math.imul(yt,ht)|0,u=u+Math.imul(pt,ut)|0,b=b+Math.imul(pt,ht)|0;var Kt=(I+y|0)+((u&8191)<<13)|0;I=(b+(u>>>13)|0)+(Kt>>>26)|0,Kt&=67108863,y=Math.imul(te,At),u=Math.imul(te,_t),u=u+Math.imul(Ut,At)|0,b=Math.imul(Ut,_t),y=y+Math.imul(Ct,Rt)|0,u=u+Math.imul(Ct,wt)|0,u=u+Math.imul(Dt,Rt)|0,b=b+Math.imul(Dt,wt)|0,y=y+Math.imul(It,Lt)|0,u=u+Math.imul(It,Et)|0,u=u+Math.imul(xt,Lt)|0,b=b+Math.imul(xt,Et)|0,y=y+Math.imul(Q,Pt)|0,u=u+Math.imul(Q,Mt)|0,u=u+Math.imul(ot,Pt)|0,b=b+Math.imul(ot,Mt)|0,y=y+Math.imul(L,Y)|0,u=u+Math.imul(L,V)|0,u=u+Math.imul(j,Y)|0,b=b+Math.imul(j,V)|0,y=y+Math.imul(kt,W)|0,u=u+Math.imul(kt,et)|0,u=u+Math.imul(k,W)|0,b=b+Math.imul(k,et)|0,y=y+Math.imul(lt,ut)|0,u=u+Math.imul(lt,ht)|0,u=u+Math.imul(ct,ut)|0,b=b+Math.imul(ct,ht)|0;var oe=(I+y|0)+((u&8191)<<13)|0;I=(b+(u>>>13)|0)+(oe>>>26)|0,oe&=67108863,y=Math.imul(te,Rt),u=Math.imul(te,wt),u=u+Math.imul(Ut,Rt)|0,b=Math.imul(Ut,wt),y=y+Math.imul(Ct,Lt)|0,u=u+Math.imul(Ct,Et)|0,u=u+Math.imul(Dt,Lt)|0,b=b+Math.imul(Dt,Et)|0,y=y+Math.imul(It,Pt)|0,u=u+Math.imul(It,Mt)|0,u=u+Math.imul(xt,Pt)|0,b=b+Math.imul(xt,Mt)|0,y=y+Math.imul(Q,Y)|0,u=u+Math.imul(Q,V)|0,u=u+Math.imul(ot,Y)|0,b=b+Math.imul(ot,V)|0,y=y+Math.imul(L,W)|0,u=u+Math.imul(L,et)|0,u=u+Math.imul(j,W)|0,b=b+Math.imul(j,et)|0,y=y+Math.imul(kt,ut)|0,u=u+Math.imul(kt,ht)|0,u=u+Math.imul(k,ut)|0,b=b+Math.imul(k,ht)|0;var Jt=(I+y|0)+((u&8191)<<13)|0;I=(b+(u>>>13)|0)+(Jt>>>26)|0,Jt&=67108863,y=Math.imul(te,Lt),u=Math.imul(te,Et),u=u+Math.imul(Ut,Lt)|0,b=Math.imul(Ut,Et),y=y+Math.imul(Ct,Pt)|0,u=u+Math.imul(Ct,Mt)|0,u=u+Math.imul(Dt,Pt)|0,b=b+Math.imul(Dt,Mt)|0,y=y+Math.imul(It,Y)|0,u=u+Math.imul(It,V)|0,u=u+Math.imul(xt,Y)|0,b=b+Math.imul(xt,V)|0,y=y+Math.imul(Q,W)|0,u=u+Math.imul(Q,et)|0,u=u+Math.imul(ot,W)|0,b=b+Math.imul(ot,et)|0,y=y+Math.imul(L,ut)|0,u=u+Math.imul(L,ht)|0,u=u+Math.imul(j,ut)|0,b=b+Math.imul(j,ht)|0;var le=(I+y|0)+((u&8191)<<13)|0;I=(b+(u>>>13)|0)+(le>>>26)|0,le&=67108863,y=Math.imul(te,Pt),u=Math.imul(te,Mt),u=u+Math.imul(Ut,Pt)|0,b=Math.imul(Ut,Mt),y=y+Math.imul(Ct,Y)|0,u=u+Math.imul(Ct,V)|0,u=u+Math.imul(Dt,Y)|0,b=b+Math.imul(Dt,V)|0,y=y+Math.imul(It,W)|0,u=u+Math.imul(It,et)|0,u=u+Math.imul(xt,W)|0,b=b+Math.imul(xt,et)|0,y=y+Math.imul(Q,ut)|0,u=u+Math.imul(Q,ht)|0,u=u+Math.imul(ot,ut)|0,b=b+Math.imul(ot,ht)|0;var ae=(I+y|0)+((u&8191)<<13)|0;I=(b+(u>>>13)|0)+(ae>>>26)|0,ae&=67108863,y=Math.imul(te,Y),u=Math.imul(te,V),u=u+Math.imul(Ut,Y)|0,b=Math.imul(Ut,V),y=y+Math.imul(Ct,W)|0,u=u+Math.imul(Ct,et)|0,u=u+Math.imul(Dt,W)|0,b=b+Math.imul(Dt,et)|0,y=y+Math.imul(It,ut)|0,u=u+Math.imul(It,ht)|0,u=u+Math.imul(xt,ut)|0,b=b+Math.imul(xt,ht)|0;var ne=(I+y|0)+((u&8191)<<13)|0;I=(b+(u>>>13)|0)+(ne>>>26)|0,ne&=67108863,y=Math.imul(te,W),u=Math.imul(te,et),u=u+Math.imul(Ut,W)|0,b=Math.imul(Ut,et),y=y+Math.imul(Ct,ut)|0,u=u+Math.imul(Ct,ht)|0,u=u+Math.imul(Dt,ut)|0,b=b+Math.imul(Dt,ht)|0;var Ot=(I+y|0)+((u&8191)<<13)|0;I=(b+(u>>>13)|0)+(Ot>>>26)|0,Ot&=67108863,y=Math.imul(te,ut),u=Math.imul(te,ht),u=u+Math.imul(Ut,ut)|0,b=Math.imul(Ut,ht);var Nt=(I+y|0)+((u&8191)<<13)|0;return I=(b+(u>>>13)|0)+(Nt>>>26)|0,Nt&=67108863,S[0]=zt,S[1]=Wt,S[2]=ye,S[3]=Yt,S[4]=pe,S[5]=ve,S[6]=ge,S[7]=ie,S[8]=ue,S[9]=fe,S[10]=ce,S[11]=Kt,S[12]=oe,S[13]=Jt,S[14]=le,S[15]=ae,S[16]=ne,S[17]=Ot,S[18]=Nt,I!==0&&(S[19]=I,f.length++),f};Math.imul||(A=x);function B(d,o,a){a.negative=o.negative^d.negative,a.length=d.length+o.length;for(var f=0,h=0,g=0;g<a.length-1;g++){var S=h;h=0;for(var I=f&67108863,y=Math.min(g,o.length-1),u=Math.max(0,g-d.length+1);u<=y;u++){var b=g-u,D=d.words[b]|0,Z=o.words[u]|0,F=D*Z,q=F&67108863;S=S+(F/67108864|0)|0,q=q+I|0,I=q&67108863,S=S+(q>>>26)|0,h+=S>>>26,S&=67108863}a.words[g]=I,f=S,S=h}return f!==0?a.words[g]=f:a.length--,a.strip()}function P(d,o,a){var f=new R;return f.mulp(d,o,a)}i.prototype.mulTo=function(o,a){var f,h=this.length+o.length;return this.length===10&&o.length===10?f=A(this,o,a):h<63?f=x(this,o,a):h<1024?f=B(this,o,a):f=P(this,o,a),f};function R(d,o){this.x=d,this.y=o}R.prototype.makeRBT=function(o){for(var a=new Array(o),f=i.prototype._countBits(o)-1,h=0;h<o;h++)a[h]=this.revBin(h,f,o);return a},R.prototype.revBin=function(o,a,f){if(o===0||o===f-1)return o;for(var h=0,g=0;g<a;g++)h|=(o&1)<<a-g-1,o>>=1;return h},R.prototype.permute=function(o,a,f,h,g,S){for(var I=0;I<S;I++)h[I]=a[o[I]],g[I]=f[o[I]]},R.prototype.transform=function(o,a,f,h,g,S){this.permute(S,o,a,f,h,g);for(var I=1;I<g;I<<=1)for(var y=I<<1,u=Math.cos(2*Math.PI/y),b=Math.sin(2*Math.PI/y),D=0;D<g;D+=y)for(var Z=u,F=b,q=0;q<I;q++){var it=f[D+q],at=h[D+q],Bt=f[D+q+I],yt=h[D+q+I],pt=Z*Bt-F*yt;yt=Z*yt+F*Bt,Bt=pt,f[D+q]=it+Bt,h[D+q]=at+yt,f[D+q+I]=it-Bt,h[D+q+I]=at-yt,q!==y&&(pt=u*Z-b*F,F=u*F+b*Z,Z=pt)}},R.prototype.guessLen13b=function(o,a){var f=Math.max(a,o)|1,h=f&1,g=0;for(f=f/2|0;f;f=f>>>1)g++;return 1<<g+1+h},R.prototype.conjugate=function(o,a,f){if(!(f<=1))for(var h=0;h<f/2;h++){var g=o[h];o[h]=o[f-h-1],o[f-h-1]=g,g=a[h],a[h]=-a[f-h-1],a[f-h-1]=-g}},R.prototype.normalize13b=function(o,a){for(var f=0,h=0;h<a/2;h++){var g=Math.round(o[2*h+1]/a)*8192+Math.round(o[2*h]/a)+f;o[h]=g&67108863,g<67108864?f=0:f=g/67108864|0}return o},R.prototype.convert13b=function(o,a,f,h){for(var g=0,S=0;S<a;S++)g=g+(o[S]|0),f[2*S]=g&8191,g=g>>>13,f[2*S+1]=g&8191,g=g>>>13;for(S=2*a;S<h;++S)f[S]=0;n(g===0),n((g&-8192)===0)},R.prototype.stub=function(o){for(var a=new Array(o),f=0;f<o;f++)a[f]=0;return a},R.prototype.mulp=function(o,a,f){var h=2*this.guessLen13b(o.length,a.length),g=this.makeRBT(h),S=this.stub(h),I=new Array(h),y=new Array(h),u=new Array(h),b=new Array(h),D=new Array(h),Z=new Array(h),F=f.words;F.length=h,this.convert13b(o.words,o.length,I,h),this.convert13b(a.words,a.length,b,h),this.transform(I,S,y,u,h,g),this.transform(b,S,D,Z,h,g);for(var q=0;q<h;q++){var it=y[q]*D[q]-u[q]*Z[q];u[q]=y[q]*Z[q]+u[q]*D[q],y[q]=it}return this.conjugate(y,u,h),this.transform(y,u,F,S,h,g),this.conjugate(F,S,h),this.normalize13b(F,h),f.negative=o.negative^a.negative,f.length=o.length+a.length,f.strip()},i.prototype.mul=function(o){var a=new i(null);return a.words=new Array(this.length+o.length),this.mulTo(o,a)},i.prototype.mulf=function(o){var a=new i(null);return a.words=new Array(this.length+o.length),P(this,o,a)},i.prototype.imul=function(o){return this.clone().mulTo(o,this)},i.prototype.imuln=function(o){n(typeof o=="number"),n(o<67108864);for(var a=0,f=0;f<this.length;f++){var h=(this.words[f]|0)*o,g=(h&67108863)+(a&67108863);a>>=26,a+=h/67108864|0,a+=g>>>26,this.words[f]=g&67108863}return a!==0&&(this.words[f]=a,this.length++),this},i.prototype.muln=function(o){return this.clone().imuln(o)},i.prototype.sqr=function(){return this.mul(this)},i.prototype.isqr=function(){return this.imul(this.clone())},i.prototype.pow=function(o){var a=w(o);if(a.length===0)return new i(1);for(var f=this,h=0;h<a.length&&a[h]===0;h++,f=f.sqr());if(++h<a.length)for(var g=f.sqr();h<a.length;h++,g=g.sqr())a[h]!==0&&(f=f.mul(g));return f},i.prototype.iushln=function(o){n(typeof o=="number"&&o>=0);var a=o%26,f=(o-a)/26,h=67108863>>>26-a<<26-a,g;if(a!==0){var S=0;for(g=0;g<this.length;g++){var I=this.words[g]&h,y=(this.words[g]|0)-I<<a;this.words[g]=y|S,S=I>>>26-a}S&&(this.words[g]=S,this.length++)}if(f!==0){for(g=this.length-1;g>=0;g--)this.words[g+f]=this.words[g];for(g=0;g<f;g++)this.words[g]=0;this.length+=f}return this.strip()},i.prototype.ishln=function(o){return n(this.negative===0),this.iushln(o)},i.prototype.iushrn=function(o,a,f){n(typeof o=="number"&&o>=0);var h;a?h=(a-a%26)/26:h=0;var g=o%26,S=Math.min((o-g)/26,this.length),I=67108863^67108863>>>g<<g,y=f;if(h-=S,h=Math.max(0,h),y){for(var u=0;u<S;u++)y.words[u]=this.words[u];y.length=S}if(S!==0)if(this.length>S)for(this.length-=S,u=0;u<this.length;u++)this.words[u]=this.words[u+S];else this.words[0]=0,this.length=1;var b=0;for(u=this.length-1;u>=0&&(b!==0||u>=h);u--){var D=this.words[u]|0;this.words[u]=b<<26-g|D>>>g,b=D&I}return y&&b!==0&&(y.words[y.length++]=b),this.length===0&&(this.words[0]=0,this.length=1),this.strip()},i.prototype.ishrn=function(o,a,f){return n(this.negative===0),this.iushrn(o,a,f)},i.prototype.shln=function(o){return this.clone().ishln(o)},i.prototype.ushln=function(o){return this.clone().iushln(o)},i.prototype.shrn=function(o){return this.clone().ishrn(o)},i.prototype.ushrn=function(o){return this.clone().iushrn(o)},i.prototype.testn=function(o){n(typeof o=="number"&&o>=0);var a=o%26,f=(o-a)/26,h=1<<a;if(this.length<=f)return!1;var g=this.words[f];return!!(g&h)},i.prototype.imaskn=function(o){n(typeof o=="number"&&o>=0);var a=o%26,f=(o-a)/26;if(n(this.negative===0,"imaskn works only with positive numbers"),this.length<=f)return this;if(a!==0&&f++,this.length=Math.min(f,this.length),a!==0){var h=67108863^67108863>>>a<<a;this.words[this.length-1]&=h}return this.strip()},i.prototype.maskn=function(o){return this.clone().imaskn(o)},i.prototype.iaddn=function(o){return n(typeof o=="number"),n(o<67108864),o<0?this.isubn(-o):this.negative!==0?this.length===1&&(this.words[0]|0)<o?(this.words[0]=o-(this.words[0]|0),this.negative=0,this):(this.negative=0,this.isubn(o),this.negative=1,this):this._iaddn(o)},i.prototype._iaddn=function(o){this.words[0]+=o;for(var a=0;a<this.length&&this.words[a]>=67108864;a++)this.words[a]-=67108864,a===this.length-1?this.words[a+1]=1:this.words[a+1]++;return this.length=Math.max(this.length,a+1),this},i.prototype.isubn=function(o){if(n(typeof o=="number"),n(o<67108864),o<0)return this.iaddn(-o);if(this.negative!==0)return this.negative=0,this.iaddn(o),this.negative=1,this;if(this.words[0]-=o,this.length===1&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var a=0;a<this.length&&this.words[a]<0;a++)this.words[a]+=67108864,this.words[a+1]-=1;return this.strip()},i.prototype.addn=function(o){return this.clone().iaddn(o)},i.prototype.subn=function(o){return this.clone().isubn(o)},i.prototype.iabs=function(){return this.negative=0,this},i.prototype.abs=function(){return this.clone().iabs()},i.prototype._ishlnsubmul=function(o,a,f){var h=o.length+f,g;this._expand(h);var S,I=0;for(g=0;g<o.length;g++){S=(this.words[g+f]|0)+I;var y=(o.words[g]|0)*a;S-=y&67108863,I=(S>>26)-(y/67108864|0),this.words[g+f]=S&67108863}for(;g<this.length-f;g++)S=(this.words[g+f]|0)+I,I=S>>26,this.words[g+f]=S&67108863;if(I===0)return this.strip();for(n(I===-1),I=0,g=0;g<this.length;g++)S=-(this.words[g]|0)+I,I=S>>26,this.words[g]=S&67108863;return this.negative=1,this.strip()},i.prototype._wordDiv=function(o,a){var f=this.length-o.length,h=this.clone(),g=o,S=g.words[g.length-1]|0,I=this._countBits(S);f=26-I,f!==0&&(g=g.ushln(f),h.iushln(f),S=g.words[g.length-1]|0);var y=h.length-g.length,u;if(a!=="mod"){u=new i(null),u.length=y+1,u.words=new Array(u.length);for(var b=0;b<u.length;b++)u.words[b]=0}var D=h.clone()._ishlnsubmul(g,1,y);D.negative===0&&(h=D,u&&(u.words[y]=1));for(var Z=y-1;Z>=0;Z--){var F=(h.words[g.length+Z]|0)*67108864+(h.words[g.length+Z-1]|0);for(F=Math.min(F/S|0,67108863),h._ishlnsubmul(g,F,Z);h.negative!==0;)F--,h.negative=0,h._ishlnsubmul(g,1,Z),h.isZero()||(h.negative^=1);u&&(u.words[Z]=F)}return u&&u.strip(),h.strip(),a!=="div"&&f!==0&&h.iushrn(f),{div:u||null,mod:h}},i.prototype.divmod=function(o,a,f){if(n(!o.isZero()),this.isZero())return{div:new i(0),mod:new i(0)};var h,g,S;return this.negative!==0&&o.negative===0?(S=this.neg().divmod(o,a),a!=="mod"&&(h=S.div.neg()),a!=="div"&&(g=S.mod.neg(),f&&g.negative!==0&&g.iadd(o)),{div:h,mod:g}):this.negative===0&&o.negative!==0?(S=this.divmod(o.neg(),a),a!=="mod"&&(h=S.div.neg()),{div:h,mod:S.mod}):this.negative&o.negative?(S=this.neg().divmod(o.neg(),a),a!=="div"&&(g=S.mod.neg(),f&&g.negative!==0&&g.isub(o)),{div:S.div,mod:g}):o.length>this.length||this.cmp(o)<0?{div:new i(0),mod:this}:o.length===1?a==="div"?{div:this.divn(o.words[0]),mod:null}:a==="mod"?{div:null,mod:new i(this.modn(o.words[0]))}:{div:this.divn(o.words[0]),mod:new i(this.modn(o.words[0]))}:this._wordDiv(o,a)},i.prototype.div=function(o){return this.divmod(o,"div",!1).div},i.prototype.mod=function(o){return this.divmod(o,"mod",!1).mod},i.prototype.umod=function(o){return this.divmod(o,"mod",!0).mod},i.prototype.divRound=function(o){var a=this.divmod(o);if(a.mod.isZero())return a.div;var f=a.div.negative!==0?a.mod.isub(o):a.mod,h=o.ushrn(1),g=o.andln(1),S=f.cmp(h);return S<0||g===1&&S===0?a.div:a.div.negative!==0?a.div.isubn(1):a.div.iaddn(1)},i.prototype.modn=function(o){n(o<=67108863);for(var a=(1<<26)%o,f=0,h=this.length-1;h>=0;h--)f=(a*f+(this.words[h]|0))%o;return f},i.prototype.idivn=function(o){n(o<=67108863);for(var a=0,f=this.length-1;f>=0;f--){var h=(this.words[f]|0)+a*67108864;this.words[f]=h/o|0,a=h%o}return this.strip()},i.prototype.divn=function(o){return this.clone().idivn(o)},i.prototype.egcd=function(o){n(o.negative===0),n(!o.isZero());var a=this,f=o.clone();a.negative!==0?a=a.umod(o):a=a.clone();for(var h=new i(1),g=new i(0),S=new i(0),I=new i(1),y=0;a.isEven()&&f.isEven();)a.iushrn(1),f.iushrn(1),++y;for(var u=f.clone(),b=a.clone();!a.isZero();){for(var D=0,Z=1;!(a.words[0]&Z)&&D<26;++D,Z<<=1);if(D>0)for(a.iushrn(D);D-- >0;)(h.isOdd()||g.isOdd())&&(h.iadd(u),g.isub(b)),h.iushrn(1),g.iushrn(1);for(var F=0,q=1;!(f.words[0]&q)&&F<26;++F,q<<=1);if(F>0)for(f.iushrn(F);F-- >0;)(S.isOdd()||I.isOdd())&&(S.iadd(u),I.isub(b)),S.iushrn(1),I.iushrn(1);a.cmp(f)>=0?(a.isub(f),h.isub(S),g.isub(I)):(f.isub(a),S.isub(h),I.isub(g))}return{a:S,b:I,gcd:f.iushln(y)}},i.prototype._invmp=function(o){n(o.negative===0),n(!o.isZero());var a=this,f=o.clone();a.negative!==0?a=a.umod(o):a=a.clone();for(var h=new i(1),g=new i(0),S=f.clone();a.cmpn(1)>0&&f.cmpn(1)>0;){for(var I=0,y=1;!(a.words[0]&y)&&I<26;++I,y<<=1);if(I>0)for(a.iushrn(I);I-- >0;)h.isOdd()&&h.iadd(S),h.iushrn(1);for(var u=0,b=1;!(f.words[0]&b)&&u<26;++u,b<<=1);if(u>0)for(f.iushrn(u);u-- >0;)g.isOdd()&&g.iadd(S),g.iushrn(1);a.cmp(f)>=0?(a.isub(f),h.isub(g)):(f.isub(a),g.isub(h))}var D;return a.cmpn(1)===0?D=h:D=g,D.cmpn(0)<0&&D.iadd(o),D},i.prototype.gcd=function(o){if(this.isZero())return o.abs();if(o.isZero())return this.abs();var a=this.clone(),f=o.clone();a.negative=0,f.negative=0;for(var h=0;a.isEven()&&f.isEven();h++)a.iushrn(1),f.iushrn(1);do{for(;a.isEven();)a.iushrn(1);for(;f.isEven();)f.iushrn(1);var g=a.cmp(f);if(g<0){var S=a;a=f,f=S}else if(g===0||f.cmpn(1)===0)break;a.isub(f)}while(!0);return f.iushln(h)},i.prototype.invm=function(o){return this.egcd(o).a.umod(o)},i.prototype.isEven=function(){return(this.words[0]&1)===0},i.prototype.isOdd=function(){return(this.words[0]&1)===1},i.prototype.andln=function(o){return this.words[0]&o},i.prototype.bincn=function(o){n(typeof o=="number");var a=o%26,f=(o-a)/26,h=1<<a;if(this.length<=f)return this._expand(f+1),this.words[f]|=h,this;for(var g=h,S=f;g!==0&&S<this.length;S++){var I=this.words[S]|0;I+=g,g=I>>>26,I&=67108863,this.words[S]=I}return g!==0&&(this.words[S]=g,this.length++),this},i.prototype.isZero=function(){return this.length===1&&this.words[0]===0},i.prototype.cmpn=function(o){var a=o<0;if(this.negative!==0&&!a)return-1;if(this.negative===0&&a)return 1;this.strip();var f;if(this.length>1)f=1;else{a&&(o=-o),n(o<=67108863,"Number is too big");var h=this.words[0]|0;f=h===o?0:h<o?-1:1}return this.negative!==0?-f|0:f},i.prototype.cmp=function(o){if(this.negative!==0&&o.negative===0)return-1;if(this.negative===0&&o.negative!==0)return 1;var a=this.ucmp(o);return this.negative!==0?-a|0:a},i.prototype.ucmp=function(o){if(this.length>o.length)return 1;if(this.length<o.length)return-1;for(var a=0,f=this.length-1;f>=0;f--){var h=this.words[f]|0,g=o.words[f]|0;if(h!==g){h<g?a=-1:h>g&&(a=1);break}}return a},i.prototype.gtn=function(o){return this.cmpn(o)===1},i.prototype.gt=function(o){return this.cmp(o)===1},i.prototype.gten=function(o){return this.cmpn(o)>=0},i.prototype.gte=function(o){return this.cmp(o)>=0},i.prototype.ltn=function(o){return this.cmpn(o)===-1},i.prototype.lt=function(o){return this.cmp(o)===-1},i.prototype.lten=function(o){return this.cmpn(o)<=0},i.prototype.lte=function(o){return this.cmp(o)<=0},i.prototype.eqn=function(o){return this.cmpn(o)===0},i.prototype.eq=function(o){return this.cmp(o)===0},i.red=function(o){return new G(o)},i.prototype.toRed=function(o){return n(!this.red,"Already a number in reduction context"),n(this.negative===0,"red works only with positives"),o.convertTo(this)._forceRed(o)},i.prototype.fromRed=function(){return n(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},i.prototype._forceRed=function(o){return this.red=o,this},i.prototype.forceRed=function(o){return n(!this.red,"Already a number in reduction context"),this._forceRed(o)},i.prototype.redAdd=function(o){return n(this.red,"redAdd works only with red numbers"),this.red.add(this,o)},i.prototype.redIAdd=function(o){return n(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,o)},i.prototype.redSub=function(o){return n(this.red,"redSub works only with red numbers"),this.red.sub(this,o)},i.prototype.redISub=function(o){return n(this.red,"redISub works only with red numbers"),this.red.isub(this,o)},i.prototype.redShl=function(o){return n(this.red,"redShl works only with red numbers"),this.red.shl(this,o)},i.prototype.redMul=function(o){return n(this.red,"redMul works only with red numbers"),this.red._verify2(this,o),this.red.mul(this,o)},i.prototype.redIMul=function(o){return n(this.red,"redMul works only with red numbers"),this.red._verify2(this,o),this.red.imul(this,o)},i.prototype.redSqr=function(){return n(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},i.prototype.redISqr=function(){return n(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},i.prototype.redSqrt=function(){return n(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},i.prototype.redInvm=function(){return n(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},i.prototype.redNeg=function(){return n(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},i.prototype.redPow=function(o){return n(this.red&&!o.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,o)};var C={k256:null,p224:null,p192:null,p25519:null};function O(d,o){this.name=d,this.p=new i(o,16),this.n=this.p.bitLength(),this.k=new i(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}O.prototype._tmp=function(){var o=new i(null);return o.words=new Array(Math.ceil(this.n/13)),o},O.prototype.ireduce=function(o){var a=o,f;do this.split(a,this.tmp),a=this.imulK(a),a=a.iadd(this.tmp),f=a.bitLength();while(f>this.n);var h=f<this.n?-1:a.ucmp(this.p);return h===0?(a.words[0]=0,a.length=1):h>0?a.isub(this.p):a.strip!==void 0?a.strip():a._strip(),a},O.prototype.split=function(o,a){o.iushrn(this.n,0,a)},O.prototype.imulK=function(o){return o.imul(this.k)};function z(){O.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}s(z,O),z.prototype.split=function(o,a){for(var f=4194303,h=Math.min(o.length,9),g=0;g<h;g++)a.words[g]=o.words[g];if(a.length=h,o.length<=9){o.words[0]=0,o.length=1;return}var S=o.words[9];for(a.words[a.length++]=S&f,g=10;g<o.length;g++){var I=o.words[g]|0;o.words[g-10]=(I&f)<<4|S>>>22,S=I}S>>>=22,o.words[g-10]=S,S===0&&o.length>10?o.length-=10:o.length-=9},z.prototype.imulK=function(o){o.words[o.length]=0,o.words[o.length+1]=0,o.length+=2;for(var a=0,f=0;f<o.length;f++){var h=o.words[f]|0;a+=h*977,o.words[f]=a&67108863,a=h*64+(a/67108864|0)}return o.words[o.length-1]===0&&(o.length--,o.words[o.length-1]===0&&o.length--),o};function H(){O.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}s(H,O);function tt(){O.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}s(tt,O);function nt(){O.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}s(nt,O),nt.prototype.imulK=function(o){for(var a=0,f=0;f<o.length;f++){var h=(o.words[f]|0)*19+a,g=h&67108863;h>>>=26,o.words[f]=g,a=h}return a!==0&&(o.words[o.length++]=a),o},i._prime=function(o){if(C[o])return C[o];var a;if(o==="k256")a=new z;else if(o==="p224")a=new H;else if(o==="p192")a=new tt;else if(o==="p25519")a=new nt;else throw new Error("Unknown prime "+o);return C[o]=a,a};function G(d){if(typeof d=="string"){var o=i._prime(d);this.m=o.p,this.prime=o}else n(d.gtn(1),"modulus must be greater than 1"),this.m=d,this.prime=null}G.prototype._verify1=function(o){n(o.negative===0,"red works only with positives"),n(o.red,"red works only with red numbers")},G.prototype._verify2=function(o,a){n((o.negative|a.negative)===0,"red works only with positives"),n(o.red&&o.red===a.red,"red works only with red numbers")},G.prototype.imod=function(o){return this.prime?this.prime.ireduce(o)._forceRed(this):o.umod(this.m)._forceRed(this)},G.prototype.neg=function(o){return o.isZero()?o.clone():this.m.sub(o)._forceRed(this)},G.prototype.add=function(o,a){this._verify2(o,a);var f=o.add(a);return f.cmp(this.m)>=0&&f.isub(this.m),f._forceRed(this)},G.prototype.iadd=function(o,a){this._verify2(o,a);var f=o.iadd(a);return f.cmp(this.m)>=0&&f.isub(this.m),f},G.prototype.sub=function(o,a){this._verify2(o,a);var f=o.sub(a);return f.cmpn(0)<0&&f.iadd(this.m),f._forceRed(this)},G.prototype.isub=function(o,a){this._verify2(o,a);var f=o.isub(a);return f.cmpn(0)<0&&f.iadd(this.m),f},G.prototype.shl=function(o,a){return this._verify1(o),this.imod(o.ushln(a))},G.prototype.imul=function(o,a){return this._verify2(o,a),this.imod(o.imul(a))},G.prototype.mul=function(o,a){return this._verify2(o,a),this.imod(o.mul(a))},G.prototype.isqr=function(o){return this.imul(o,o.clone())},G.prototype.sqr=function(o){return this.mul(o,o)},G.prototype.sqrt=function(o){if(o.isZero())return o.clone();var a=this.m.andln(3);if(n(a%2===1),a===3){var f=this.m.add(new i(1)).iushrn(2);return this.pow(o,f)}for(var h=this.m.subn(1),g=0;!h.isZero()&&h.andln(1)===0;)g++,h.iushrn(1);n(!h.isZero());var S=new i(1).toRed(this),I=S.redNeg(),y=this.m.subn(1).iushrn(1),u=this.m.bitLength();for(u=new i(2*u*u).toRed(this);this.pow(u,y).cmp(I)!==0;)u.redIAdd(I);for(var b=this.pow(u,h),D=this.pow(o,h.addn(1).iushrn(1)),Z=this.pow(o,h),F=g;Z.cmp(S)!==0;){for(var q=Z,it=0;q.cmp(S)!==0;it++)q=q.redSqr();n(it<F);var at=this.pow(b,new i(1).iushln(F-it-1));D=D.redMul(at),b=at.redSqr(),Z=Z.redMul(b),F=it}return D},G.prototype.invm=function(o){var a=o._invmp(this.m);return a.negative!==0?(a.negative=0,this.imod(a).redNeg()):this.imod(a)},G.prototype.pow=function(o,a){if(a.isZero())return new i(1).toRed(this);if(a.cmpn(1)===0)return o.clone();var f=4,h=new Array(1<<f);h[0]=new i(1).toRed(this),h[1]=o;for(var g=2;g<h.length;g++)h[g]=this.mul(h[g-1],o);var S=h[0],I=0,y=0,u=a.bitLength()%26;for(u===0&&(u=26),g=a.length-1;g>=0;g--){for(var b=a.words[g],D=u-1;D>=0;D--){var Z=b>>D&1;if(S!==h[0]&&(S=this.sqr(S)),Z===0&&I===0){y=0;continue}I<<=1,I|=Z,y++,!(y!==f&&(g!==0||D!==0))&&(S=this.mul(S,h[I]),y=0,I=0)}u=26}return S},G.prototype.convertTo=function(o){var a=o.umod(this.m);return a===o?a.clone():a},G.prototype.convertFrom=function(o){var a=o.clone();return a.red=null,a},i.mont=function(o){return new M(o)};function M(d){G.call(this,d),this.shift=this.m.bitLength(),this.shift%26!==0&&(this.shift+=26-this.shift%26),this.r=new i(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}s(M,G),M.prototype.convertTo=function(o){return this.imod(o.ushln(this.shift))},M.prototype.convertFrom=function(o){var a=this.imod(o.mul(this.rinv));return a.red=null,a},M.prototype.imul=function(o,a){if(o.isZero()||a.isZero())return o.words[0]=0,o.length=1,o;var f=o.imul(a),h=f.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),g=f.isub(h).iushrn(this.shift),S=g;return g.cmp(this.m)>=0?S=g.isub(this.m):g.cmpn(0)<0&&(S=g.iadd(this.m)),S._forceRed(this)},M.prototype.mul=function(o,a){if(o.isZero()||a.isZero())return new i(0)._forceRed(this);var f=o.mul(a),h=f.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),g=f.isub(h).iushrn(this.shift),S=g;return g.cmp(this.m)>=0?S=g.isub(this.m):g.cmpn(0)<0&&(S=g.iadd(this.m)),S._forceRed(this)},M.prototype.invm=function(o){var a=this.imod(o._invmp(this.m).mul(this.r2));return a._forceRed(this)}})(r,Re)}(K0)),K0.exports}var ip,m6;function kC(){if(m6)return ip;m6=1;var r=fg(),t=SC();ip=function(c){return new n(c)};var e={secp256k1:{name:"secp256k1",byteLength:32},secp224r1:{name:"p224",byteLength:28},prime256v1:{name:"p256",byteLength:32},prime192v1:{name:"p192",byteLength:24},ed25519:{name:"ed25519",byteLength:32},secp384r1:{name:"p384",byteLength:48},secp521r1:{name:"p521",byteLength:66}};e.p224=e.secp224r1,e.p256=e.secp256r1=e.prime256v1,e.p192=e.secp192r1=e.prime192v1,e.p384=e.secp384r1,e.p521=e.secp521r1;function n(i){this.curveType=e[i],this.curveType||(this.curveType={name:i}),this.curve=new r.ec(this.curveType.name),this.keys=void 0}n.prototype.generateKeys=function(i,c){return this.keys=this.curve.genKeyPair(),this.getPublicKey(i,c)},n.prototype.computeSecret=function(i,c,l){c=c||"utf8",Zt.Buffer.isBuffer(i)||(i=new Zt.Buffer(i,c));var p=this.curve.keyFromPublic(i).getPublic(),m=p.mul(this.keys.getPrivate()).getX();return s(m,l,this.curveType.byteLength)},n.prototype.getPublicKey=function(i,c){var l=this.keys.getPublic(c==="compressed",!0);return c==="hybrid"&&(l[l.length-1]%2?l[0]=7:l[0]=6),s(l,i)},n.prototype.getPrivateKey=function(i){return s(this.keys.getPrivate(),i)},n.prototype.setPublicKey=function(i,c){return c=c||"utf8",Zt.Buffer.isBuffer(i)||(i=new Zt.Buffer(i,c)),this.keys._importPublic(i),this},n.prototype.setPrivateKey=function(i,c){c=c||"utf8",Zt.Buffer.isBuffer(i)||(i=new Zt.Buffer(i,c));var l=new t(i);return l=l.toString(16),this.keys=this.curve.genKeyPair(),this.keys._importPrivate(l),this};function s(i,c,l){Array.isArray(i)||(i=i.toArray());var p=new Zt.Buffer(i);if(l&&p.length<l){var m=new Zt.Buffer(l-p.length);m.fill(0),p=Zt.Buffer.concat([m,p])}return c?p.toString(c):p}return ip}var op={},sp,v6;function J_(){if(v6)return sp;v6=1;var r=_h,t=sr.Buffer;sp=function(n,s){for(var i=t.alloc(0),c=0,l;i.length<s;)l=e(c++),i=t.concat([i,r("sha1").update(n).update(l).digest()]);return i.slice(0,s)};function e(n){var s=t.allocUnsafe(4);return s.writeUInt32BE(n,0),s}return sp}var ap,g6;function Q_(){return g6||(g6=1,ap=function(t,e){for(var n=t.length,s=-1;++s<n;)t[s]^=e[s];return t}),ap}var $0={exports:{}};$0.exports;var y6;function pg(){return y6||(y6=1,function(r){(function(t,e){function n(d,o){if(!d)throw new Error(o||"Assertion failed")}function s(d,o){d.super_=o;var a=function(){};a.prototype=o.prototype,d.prototype=new a,d.prototype.constructor=d}function i(d,o,a){if(i.isBN(d))return d;this.negative=0,this.words=null,this.length=0,this.red=null,d!==null&&((o==="le"||o==="be")&&(a=o,o=10),this._init(d||0,o||10,a||"be"))}typeof t=="object"?t.exports=i:e.BN=i,i.BN=i,i.wordSize=26;var c;try{typeof window<"u"&&typeof window.Buffer<"u"?c=window.Buffer:c=yr.Buffer}catch{}i.isBN=function(o){return o instanceof i?!0:o!==null&&typeof o=="object"&&o.constructor.wordSize===i.wordSize&&Array.isArray(o.words)},i.max=function(o,a){return o.cmp(a)>0?o:a},i.min=function(o,a){return o.cmp(a)<0?o:a},i.prototype._init=function(o,a,f){if(typeof o=="number")return this._initNumber(o,a,f);if(typeof o=="object")return this._initArray(o,a,f);a==="hex"&&(a=16),n(a===(a|0)&&a>=2&&a<=36),o=o.toString().replace(/\s+/g,"");var h=0;o[0]==="-"&&(h++,this.negative=1),h<o.length&&(a===16?this._parseHex(o,h,f):(this._parseBase(o,a,h),f==="le"&&this._initArray(this.toArray(),a,f)))},i.prototype._initNumber=function(o,a,f){o<0&&(this.negative=1,o=-o),o<67108864?(this.words=[o&67108863],this.length=1):o<4503599627370496?(this.words=[o&67108863,o/67108864&67108863],this.length=2):(n(o<9007199254740992),this.words=[o&67108863,o/67108864&67108863,1],this.length=3),f==="le"&&this._initArray(this.toArray(),a,f)},i.prototype._initArray=function(o,a,f){if(n(typeof o.length=="number"),o.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(o.length/3),this.words=new Array(this.length);for(var h=0;h<this.length;h++)this.words[h]=0;var g,S,I=0;if(f==="be")for(h=o.length-1,g=0;h>=0;h-=3)S=o[h]|o[h-1]<<8|o[h-2]<<16,this.words[g]|=S<<I&67108863,this.words[g+1]=S>>>26-I&67108863,I+=24,I>=26&&(I-=26,g++);else if(f==="le")for(h=0,g=0;h<o.length;h+=3)S=o[h]|o[h+1]<<8|o[h+2]<<16,this.words[g]|=S<<I&67108863,this.words[g+1]=S>>>26-I&67108863,I+=24,I>=26&&(I-=26,g++);return this.strip()};function l(d,o){var a=d.charCodeAt(o);return a>=65&&a<=70?a-55:a>=97&&a<=102?a-87:a-48&15}function p(d,o,a){var f=l(d,a);return a-1>=o&&(f|=l(d,a-1)<<4),f}i.prototype._parseHex=function(o,a,f){this.length=Math.ceil((o.length-a)/6),this.words=new Array(this.length);for(var h=0;h<this.length;h++)this.words[h]=0;var g=0,S=0,I;if(f==="be")for(h=o.length-1;h>=a;h-=2)I=p(o,a,h)<<g,this.words[S]|=I&67108863,g>=18?(g-=18,S+=1,this.words[S]|=I>>>26):g+=8;else{var y=o.length-a;for(h=y%2===0?a+1:a;h<o.length;h+=2)I=p(o,a,h)<<g,this.words[S]|=I&67108863,g>=18?(g-=18,S+=1,this.words[S]|=I>>>26):g+=8}this.strip()};function m(d,o,a,f){for(var h=0,g=Math.min(d.length,a),S=o;S<g;S++){var I=d.charCodeAt(S)-48;h*=f,I>=49?h+=I-49+10:I>=17?h+=I-17+10:h+=I}return h}i.prototype._parseBase=function(o,a,f){this.words=[0],this.length=1;for(var h=0,g=1;g<=67108863;g*=a)h++;h--,g=g/a|0;for(var S=o.length-f,I=S%h,y=Math.min(S,S-I)+f,u=0,b=f;b<y;b+=h)u=m(o,b,b+h,a),this.imuln(g),this.words[0]+u<67108864?this.words[0]+=u:this._iaddn(u);if(I!==0){var D=1;for(u=m(o,b,o.length,a),b=0;b<I;b++)D*=a;this.imuln(D),this.words[0]+u<67108864?this.words[0]+=u:this._iaddn(u)}this.strip()},i.prototype.copy=function(o){o.words=new Array(this.length);for(var a=0;a<this.length;a++)o.words[a]=this.words[a];o.length=this.length,o.negative=this.negative,o.red=this.red},i.prototype.clone=function(){var o=new i(null);return this.copy(o),o},i.prototype._expand=function(o){for(;this.length<o;)this.words[this.length++]=0;return this},i.prototype.strip=function(){for(;this.length>1&&this.words[this.length-1]===0;)this.length--;return this._normSign()},i.prototype._normSign=function(){return this.length===1&&this.words[0]===0&&(this.negative=0),this},i.prototype.inspect=function(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"};var v=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],_=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],E=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];i.prototype.toString=function(o,a){o=o||10,a=a|0||1;var f;if(o===16||o==="hex"){f="";for(var h=0,g=0,S=0;S<this.length;S++){var I=this.words[S],y=((I<<h|g)&16777215).toString(16);g=I>>>24-h&16777215,g!==0||S!==this.length-1?f=v[6-y.length]+y+f:f=y+f,h+=2,h>=26&&(h-=26,S--)}for(g!==0&&(f=g.toString(16)+f);f.length%a!==0;)f="0"+f;return this.negative!==0&&(f="-"+f),f}if(o===(o|0)&&o>=2&&o<=36){var u=_[o],b=E[o];f="";var D=this.clone();for(D.negative=0;!D.isZero();){var Z=D.modn(b).toString(o);D=D.idivn(b),D.isZero()?f=Z+f:f=v[u-Z.length]+Z+f}for(this.isZero()&&(f="0"+f);f.length%a!==0;)f="0"+f;return this.negative!==0&&(f="-"+f),f}n(!1,"Base should be between 2 and 36")},i.prototype.toNumber=function(){var o=this.words[0];return this.length===2?o+=this.words[1]*67108864:this.length===3&&this.words[2]===1?o+=4503599627370496+this.words[1]*67108864:this.length>2&&n(!1,"Number can only safely store up to 53 bits"),this.negative!==0?-o:o},i.prototype.toJSON=function(){return this.toString(16)},i.prototype.toBuffer=function(o,a){return n(typeof c<"u"),this.toArrayLike(c,o,a)},i.prototype.toArray=function(o,a){return this.toArrayLike(Array,o,a)},i.prototype.toArrayLike=function(o,a,f){var h=this.byteLength(),g=f||Math.max(1,h);n(h<=g,"byte array longer than desired length"),n(g>0,"Requested array length <= 0"),this.strip();var S=a==="le",I=new o(g),y,u,b=this.clone();if(S){for(u=0;!b.isZero();u++)y=b.andln(255),b.iushrn(8),I[u]=y;for(;u<g;u++)I[u]=0}else{for(u=0;u<g-h;u++)I[u]=0;for(u=0;!b.isZero();u++)y=b.andln(255),b.iushrn(8),I[g-u-1]=y}return I},Math.clz32?i.prototype._countBits=function(o){return 32-Math.clz32(o)}:i.prototype._countBits=function(o){var a=o,f=0;return a>=4096&&(f+=13,a>>>=13),a>=64&&(f+=7,a>>>=7),a>=8&&(f+=4,a>>>=4),a>=2&&(f+=2,a>>>=2),f+a},i.prototype._zeroBits=function(o){if(o===0)return 26;var a=o,f=0;return a&8191||(f+=13,a>>>=13),a&127||(f+=7,a>>>=7),a&15||(f+=4,a>>>=4),a&3||(f+=2,a>>>=2),a&1||f++,f},i.prototype.bitLength=function(){var o=this.words[this.length-1],a=this._countBits(o);return(this.length-1)*26+a};function w(d){for(var o=new Array(d.bitLength()),a=0;a<o.length;a++){var f=a/26|0,h=a%26;o[a]=(d.words[f]&1<<h)>>>h}return o}i.prototype.zeroBits=function(){if(this.isZero())return 0;for(var o=0,a=0;a<this.length;a++){var f=this._zeroBits(this.words[a]);if(o+=f,f!==26)break}return o},i.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},i.prototype.toTwos=function(o){return this.negative!==0?this.abs().inotn(o).iaddn(1):this.clone()},i.prototype.fromTwos=function(o){return this.testn(o-1)?this.notn(o).iaddn(1).ineg():this.clone()},i.prototype.isNeg=function(){return this.negative!==0},i.prototype.neg=function(){return this.clone().ineg()},i.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},i.prototype.iuor=function(o){for(;this.length<o.length;)this.words[this.length++]=0;for(var a=0;a<o.length;a++)this.words[a]=this.words[a]|o.words[a];return this.strip()},i.prototype.ior=function(o){return n((this.negative|o.negative)===0),this.iuor(o)},i.prototype.or=function(o){return this.length>o.length?this.clone().ior(o):o.clone().ior(this)},i.prototype.uor=function(o){return this.length>o.length?this.clone().iuor(o):o.clone().iuor(this)},i.prototype.iuand=function(o){var a;this.length>o.length?a=o:a=this;for(var f=0;f<a.length;f++)this.words[f]=this.words[f]&o.words[f];return this.length=a.length,this.strip()},i.prototype.iand=function(o){return n((this.negative|o.negative)===0),this.iuand(o)},i.prototype.and=function(o){return this.length>o.length?this.clone().iand(o):o.clone().iand(this)},i.prototype.uand=function(o){return this.length>o.length?this.clone().iuand(o):o.clone().iuand(this)},i.prototype.iuxor=function(o){var a,f;this.length>o.length?(a=this,f=o):(a=o,f=this);for(var h=0;h<f.length;h++)this.words[h]=a.words[h]^f.words[h];if(this!==a)for(;h<a.length;h++)this.words[h]=a.words[h];return this.length=a.length,this.strip()},i.prototype.ixor=function(o){return n((this.negative|o.negative)===0),this.iuxor(o)},i.prototype.xor=function(o){return this.length>o.length?this.clone().ixor(o):o.clone().ixor(this)},i.prototype.uxor=function(o){return this.length>o.length?this.clone().iuxor(o):o.clone().iuxor(this)},i.prototype.inotn=function(o){n(typeof o=="number"&&o>=0);var a=Math.ceil(o/26)|0,f=o%26;this._expand(a),f>0&&a--;for(var h=0;h<a;h++)this.words[h]=~this.words[h]&67108863;return f>0&&(this.words[h]=~this.words[h]&67108863>>26-f),this.strip()},i.prototype.notn=function(o){return this.clone().inotn(o)},i.prototype.setn=function(o,a){n(typeof o=="number"&&o>=0);var f=o/26|0,h=o%26;return this._expand(f+1),a?this.words[f]=this.words[f]|1<<h:this.words[f]=this.words[f]&~(1<<h),this.strip()},i.prototype.iadd=function(o){var a;if(this.negative!==0&&o.negative===0)return this.negative=0,a=this.isub(o),this.negative^=1,this._normSign();if(this.negative===0&&o.negative!==0)return o.negative=0,a=this.isub(o),o.negative=1,a._normSign();var f,h;this.length>o.length?(f=this,h=o):(f=o,h=this);for(var g=0,S=0;S<h.length;S++)a=(f.words[S]|0)+(h.words[S]|0)+g,this.words[S]=a&67108863,g=a>>>26;for(;g!==0&&S<f.length;S++)a=(f.words[S]|0)+g,this.words[S]=a&67108863,g=a>>>26;if(this.length=f.length,g!==0)this.words[this.length]=g,this.length++;else if(f!==this)for(;S<f.length;S++)this.words[S]=f.words[S];return this},i.prototype.add=function(o){var a;return o.negative!==0&&this.negative===0?(o.negative=0,a=this.sub(o),o.negative^=1,a):o.negative===0&&this.negative!==0?(this.negative=0,a=o.sub(this),this.negative=1,a):this.length>o.length?this.clone().iadd(o):o.clone().iadd(this)},i.prototype.isub=function(o){if(o.negative!==0){o.negative=0;var a=this.iadd(o);return o.negative=1,a._normSign()}else if(this.negative!==0)return this.negative=0,this.iadd(o),this.negative=1,this._normSign();var f=this.cmp(o);if(f===0)return this.negative=0,this.length=1,this.words[0]=0,this;var h,g;f>0?(h=this,g=o):(h=o,g=this);for(var S=0,I=0;I<g.length;I++)a=(h.words[I]|0)-(g.words[I]|0)+S,S=a>>26,this.words[I]=a&67108863;for(;S!==0&&I<h.length;I++)a=(h.words[I]|0)+S,S=a>>26,this.words[I]=a&67108863;if(S===0&&I<h.length&&h!==this)for(;I<h.length;I++)this.words[I]=h.words[I];return this.length=Math.max(this.length,I),h!==this&&(this.negative=1),this.strip()},i.prototype.sub=function(o){return this.clone().isub(o)};function x(d,o,a){a.negative=o.negative^d.negative;var f=d.length+o.length|0;a.length=f,f=f-1|0;var h=d.words[0]|0,g=o.words[0]|0,S=h*g,I=S&67108863,y=S/67108864|0;a.words[0]=I;for(var u=1;u<f;u++){for(var b=y>>>26,D=y&67108863,Z=Math.min(u,o.length-1),F=Math.max(0,u-d.length+1);F<=Z;F++){var q=u-F|0;h=d.words[q]|0,g=o.words[F]|0,S=h*g+D,b+=S/67108864|0,D=S&67108863}a.words[u]=D|0,y=b|0}return y!==0?a.words[u]=y|0:a.length--,a.strip()}var A=function(o,a,f){var h=o.words,g=a.words,S=f.words,I=0,y,u,b,D=h[0]|0,Z=D&8191,F=D>>>13,q=h[1]|0,it=q&8191,at=q>>>13,Bt=h[2]|0,yt=Bt&8191,pt=Bt>>>13,Ft=h[3]|0,lt=Ft&8191,ct=Ft>>>13,Tt=h[4]|0,kt=Tt&8191,k=Tt>>>13,T=h[5]|0,L=T&8191,j=T>>>13,rt=h[6]|0,Q=rt&8191,ot=rt>>>13,qt=h[7]|0,It=qt&8191,xt=qt>>>13,Qt=h[8]|0,Ct=Qt&8191,Dt=Qt>>>13,Se=h[9]|0,te=Se&8191,Ut=Se>>>13,Te=g[0]|0,J=Te&8191,X=Te>>>13,st=g[1]|0,N=st&8191,$=st>>>13,gt=g[2]|0,ft=gt&8191,mt=gt>>>13,vt=g[3]|0,At=vt&8191,_t=vt>>>13,Gt=g[4]|0,Rt=Gt&8191,wt=Gt>>>13,se=g[5]|0,Lt=se&8191,Et=se>>>13,de=g[6]|0,Pt=de&8191,Mt=de>>>13,K=g[7]|0,Y=K&8191,V=K>>>13,U=g[8]|0,W=U&8191,et=U>>>13,dt=g[9]|0,ut=dt&8191,ht=dt>>>13;f.negative=o.negative^a.negative,f.length=19,y=Math.imul(Z,J),u=Math.imul(Z,X),u=u+Math.imul(F,J)|0,b=Math.imul(F,X);var zt=(I+y|0)+((u&8191)<<13)|0;I=(b+(u>>>13)|0)+(zt>>>26)|0,zt&=67108863,y=Math.imul(it,J),u=Math.imul(it,X),u=u+Math.imul(at,J)|0,b=Math.imul(at,X),y=y+Math.imul(Z,N)|0,u=u+Math.imul(Z,$)|0,u=u+Math.imul(F,N)|0,b=b+Math.imul(F,$)|0;var Wt=(I+y|0)+((u&8191)<<13)|0;I=(b+(u>>>13)|0)+(Wt>>>26)|0,Wt&=67108863,y=Math.imul(yt,J),u=Math.imul(yt,X),u=u+Math.imul(pt,J)|0,b=Math.imul(pt,X),y=y+Math.imul(it,N)|0,u=u+Math.imul(it,$)|0,u=u+Math.imul(at,N)|0,b=b+Math.imul(at,$)|0,y=y+Math.imul(Z,ft)|0,u=u+Math.imul(Z,mt)|0,u=u+Math.imul(F,ft)|0,b=b+Math.imul(F,mt)|0;var ye=(I+y|0)+((u&8191)<<13)|0;I=(b+(u>>>13)|0)+(ye>>>26)|0,ye&=67108863,y=Math.imul(lt,J),u=Math.imul(lt,X),u=u+Math.imul(ct,J)|0,b=Math.imul(ct,X),y=y+Math.imul(yt,N)|0,u=u+Math.imul(yt,$)|0,u=u+Math.imul(pt,N)|0,b=b+Math.imul(pt,$)|0,y=y+Math.imul(it,ft)|0,u=u+Math.imul(it,mt)|0,u=u+Math.imul(at,ft)|0,b=b+Math.imul(at,mt)|0,y=y+Math.imul(Z,At)|0,u=u+Math.imul(Z,_t)|0,u=u+Math.imul(F,At)|0,b=b+Math.imul(F,_t)|0;var Yt=(I+y|0)+((u&8191)<<13)|0;I=(b+(u>>>13)|0)+(Yt>>>26)|0,Yt&=67108863,y=Math.imul(kt,J),u=Math.imul(kt,X),u=u+Math.imul(k,J)|0,b=Math.imul(k,X),y=y+Math.imul(lt,N)|0,u=u+Math.imul(lt,$)|0,u=u+Math.imul(ct,N)|0,b=b+Math.imul(ct,$)|0,y=y+Math.imul(yt,ft)|0,u=u+Math.imul(yt,mt)|0,u=u+Math.imul(pt,ft)|0,b=b+Math.imul(pt,mt)|0,y=y+Math.imul(it,At)|0,u=u+Math.imul(it,_t)|0,u=u+Math.imul(at,At)|0,b=b+Math.imul(at,_t)|0,y=y+Math.imul(Z,Rt)|0,u=u+Math.imul(Z,wt)|0,u=u+Math.imul(F,Rt)|0,b=b+Math.imul(F,wt)|0;var pe=(I+y|0)+((u&8191)<<13)|0;I=(b+(u>>>13)|0)+(pe>>>26)|0,pe&=67108863,y=Math.imul(L,J),u=Math.imul(L,X),u=u+Math.imul(j,J)|0,b=Math.imul(j,X),y=y+Math.imul(kt,N)|0,u=u+Math.imul(kt,$)|0,u=u+Math.imul(k,N)|0,b=b+Math.imul(k,$)|0,y=y+Math.imul(lt,ft)|0,u=u+Math.imul(lt,mt)|0,u=u+Math.imul(ct,ft)|0,b=b+Math.imul(ct,mt)|0,y=y+Math.imul(yt,At)|0,u=u+Math.imul(yt,_t)|0,u=u+Math.imul(pt,At)|0,b=b+Math.imul(pt,_t)|0,y=y+Math.imul(it,Rt)|0,u=u+Math.imul(it,wt)|0,u=u+Math.imul(at,Rt)|0,b=b+Math.imul(at,wt)|0,y=y+Math.imul(Z,Lt)|0,u=u+Math.imul(Z,Et)|0,u=u+Math.imul(F,Lt)|0,b=b+Math.imul(F,Et)|0;var ve=(I+y|0)+((u&8191)<<13)|0;I=(b+(u>>>13)|0)+(ve>>>26)|0,ve&=67108863,y=Math.imul(Q,J),u=Math.imul(Q,X),u=u+Math.imul(ot,J)|0,b=Math.imul(ot,X),y=y+Math.imul(L,N)|0,u=u+Math.imul(L,$)|0,u=u+Math.imul(j,N)|0,b=b+Math.imul(j,$)|0,y=y+Math.imul(kt,ft)|0,u=u+Math.imul(kt,mt)|0,u=u+Math.imul(k,ft)|0,b=b+Math.imul(k,mt)|0,y=y+Math.imul(lt,At)|0,u=u+Math.imul(lt,_t)|0,u=u+Math.imul(ct,At)|0,b=b+Math.imul(ct,_t)|0,y=y+Math.imul(yt,Rt)|0,u=u+Math.imul(yt,wt)|0,u=u+Math.imul(pt,Rt)|0,b=b+Math.imul(pt,wt)|0,y=y+Math.imul(it,Lt)|0,u=u+Math.imul(it,Et)|0,u=u+Math.imul(at,Lt)|0,b=b+Math.imul(at,Et)|0,y=y+Math.imul(Z,Pt)|0,u=u+Math.imul(Z,Mt)|0,u=u+Math.imul(F,Pt)|0,b=b+Math.imul(F,Mt)|0;var ge=(I+y|0)+((u&8191)<<13)|0;I=(b+(u>>>13)|0)+(ge>>>26)|0,ge&=67108863,y=Math.imul(It,J),u=Math.imul(It,X),u=u+Math.imul(xt,J)|0,b=Math.imul(xt,X),y=y+Math.imul(Q,N)|0,u=u+Math.imul(Q,$)|0,u=u+Math.imul(ot,N)|0,b=b+Math.imul(ot,$)|0,y=y+Math.imul(L,ft)|0,u=u+Math.imul(L,mt)|0,u=u+Math.imul(j,ft)|0,b=b+Math.imul(j,mt)|0,y=y+Math.imul(kt,At)|0,u=u+Math.imul(kt,_t)|0,u=u+Math.imul(k,At)|0,b=b+Math.imul(k,_t)|0,y=y+Math.imul(lt,Rt)|0,u=u+Math.imul(lt,wt)|0,u=u+Math.imul(ct,Rt)|0,b=b+Math.imul(ct,wt)|0,y=y+Math.imul(yt,Lt)|0,u=u+Math.imul(yt,Et)|0,u=u+Math.imul(pt,Lt)|0,b=b+Math.imul(pt,Et)|0,y=y+Math.imul(it,Pt)|0,u=u+Math.imul(it,Mt)|0,u=u+Math.imul(at,Pt)|0,b=b+Math.imul(at,Mt)|0,y=y+Math.imul(Z,Y)|0,u=u+Math.imul(Z,V)|0,u=u+Math.imul(F,Y)|0,b=b+Math.imul(F,V)|0;var ie=(I+y|0)+((u&8191)<<13)|0;I=(b+(u>>>13)|0)+(ie>>>26)|0,ie&=67108863,y=Math.imul(Ct,J),u=Math.imul(Ct,X),u=u+Math.imul(Dt,J)|0,b=Math.imul(Dt,X),y=y+Math.imul(It,N)|0,u=u+Math.imul(It,$)|0,u=u+Math.imul(xt,N)|0,b=b+Math.imul(xt,$)|0,y=y+Math.imul(Q,ft)|0,u=u+Math.imul(Q,mt)|0,u=u+Math.imul(ot,ft)|0,b=b+Math.imul(ot,mt)|0,y=y+Math.imul(L,At)|0,u=u+Math.imul(L,_t)|0,u=u+Math.imul(j,At)|0,b=b+Math.imul(j,_t)|0,y=y+Math.imul(kt,Rt)|0,u=u+Math.imul(kt,wt)|0,u=u+Math.imul(k,Rt)|0,b=b+Math.imul(k,wt)|0,y=y+Math.imul(lt,Lt)|0,u=u+Math.imul(lt,Et)|0,u=u+Math.imul(ct,Lt)|0,b=b+Math.imul(ct,Et)|0,y=y+Math.imul(yt,Pt)|0,u=u+Math.imul(yt,Mt)|0,u=u+Math.imul(pt,Pt)|0,b=b+Math.imul(pt,Mt)|0,y=y+Math.imul(it,Y)|0,u=u+Math.imul(it,V)|0,u=u+Math.imul(at,Y)|0,b=b+Math.imul(at,V)|0,y=y+Math.imul(Z,W)|0,u=u+Math.imul(Z,et)|0,u=u+Math.imul(F,W)|0,b=b+Math.imul(F,et)|0;var ue=(I+y|0)+((u&8191)<<13)|0;I=(b+(u>>>13)|0)+(ue>>>26)|0,ue&=67108863,y=Math.imul(te,J),u=Math.imul(te,X),u=u+Math.imul(Ut,J)|0,b=Math.imul(Ut,X),y=y+Math.imul(Ct,N)|0,u=u+Math.imul(Ct,$)|0,u=u+Math.imul(Dt,N)|0,b=b+Math.imul(Dt,$)|0,y=y+Math.imul(It,ft)|0,u=u+Math.imul(It,mt)|0,u=u+Math.imul(xt,ft)|0,b=b+Math.imul(xt,mt)|0,y=y+Math.imul(Q,At)|0,u=u+Math.imul(Q,_t)|0,u=u+Math.imul(ot,At)|0,b=b+Math.imul(ot,_t)|0,y=y+Math.imul(L,Rt)|0,u=u+Math.imul(L,wt)|0,u=u+Math.imul(j,Rt)|0,b=b+Math.imul(j,wt)|0,y=y+Math.imul(kt,Lt)|0,u=u+Math.imul(kt,Et)|0,u=u+Math.imul(k,Lt)|0,b=b+Math.imul(k,Et)|0,y=y+Math.imul(lt,Pt)|0,u=u+Math.imul(lt,Mt)|0,u=u+Math.imul(ct,Pt)|0,b=b+Math.imul(ct,Mt)|0,y=y+Math.imul(yt,Y)|0,u=u+Math.imul(yt,V)|0,u=u+Math.imul(pt,Y)|0,b=b+Math.imul(pt,V)|0,y=y+Math.imul(it,W)|0,u=u+Math.imul(it,et)|0,u=u+Math.imul(at,W)|0,b=b+Math.imul(at,et)|0,y=y+Math.imul(Z,ut)|0,u=u+Math.imul(Z,ht)|0,u=u+Math.imul(F,ut)|0,b=b+Math.imul(F,ht)|0;var fe=(I+y|0)+((u&8191)<<13)|0;I=(b+(u>>>13)|0)+(fe>>>26)|0,fe&=67108863,y=Math.imul(te,N),u=Math.imul(te,$),u=u+Math.imul(Ut,N)|0,b=Math.imul(Ut,$),y=y+Math.imul(Ct,ft)|0,u=u+Math.imul(Ct,mt)|0,u=u+Math.imul(Dt,ft)|0,b=b+Math.imul(Dt,mt)|0,y=y+Math.imul(It,At)|0,u=u+Math.imul(It,_t)|0,u=u+Math.imul(xt,At)|0,b=b+Math.imul(xt,_t)|0,y=y+Math.imul(Q,Rt)|0,u=u+Math.imul(Q,wt)|0,u=u+Math.imul(ot,Rt)|0,b=b+Math.imul(ot,wt)|0,y=y+Math.imul(L,Lt)|0,u=u+Math.imul(L,Et)|0,u=u+Math.imul(j,Lt)|0,b=b+Math.imul(j,Et)|0,y=y+Math.imul(kt,Pt)|0,u=u+Math.imul(kt,Mt)|0,u=u+Math.imul(k,Pt)|0,b=b+Math.imul(k,Mt)|0,y=y+Math.imul(lt,Y)|0,u=u+Math.imul(lt,V)|0,u=u+Math.imul(ct,Y)|0,b=b+Math.imul(ct,V)|0,y=y+Math.imul(yt,W)|0,u=u+Math.imul(yt,et)|0,u=u+Math.imul(pt,W)|0,b=b+Math.imul(pt,et)|0,y=y+Math.imul(it,ut)|0,u=u+Math.imul(it,ht)|0,u=u+Math.imul(at,ut)|0,b=b+Math.imul(at,ht)|0;var ce=(I+y|0)+((u&8191)<<13)|0;I=(b+(u>>>13)|0)+(ce>>>26)|0,ce&=67108863,y=Math.imul(te,ft),u=Math.imul(te,mt),u=u+Math.imul(Ut,ft)|0,b=Math.imul(Ut,mt),y=y+Math.imul(Ct,At)|0,u=u+Math.imul(Ct,_t)|0,u=u+Math.imul(Dt,At)|0,b=b+Math.imul(Dt,_t)|0,y=y+Math.imul(It,Rt)|0,u=u+Math.imul(It,wt)|0,u=u+Math.imul(xt,Rt)|0,b=b+Math.imul(xt,wt)|0,y=y+Math.imul(Q,Lt)|0,u=u+Math.imul(Q,Et)|0,u=u+Math.imul(ot,Lt)|0,b=b+Math.imul(ot,Et)|0,y=y+Math.imul(L,Pt)|0,u=u+Math.imul(L,Mt)|0,u=u+Math.imul(j,Pt)|0,b=b+Math.imul(j,Mt)|0,y=y+Math.imul(kt,Y)|0,u=u+Math.imul(kt,V)|0,u=u+Math.imul(k,Y)|0,b=b+Math.imul(k,V)|0,y=y+Math.imul(lt,W)|0,u=u+Math.imul(lt,et)|0,u=u+Math.imul(ct,W)|0,b=b+Math.imul(ct,et)|0,y=y+Math.imul(yt,ut)|0,u=u+Math.imul(yt,ht)|0,u=u+Math.imul(pt,ut)|0,b=b+Math.imul(pt,ht)|0;var Kt=(I+y|0)+((u&8191)<<13)|0;I=(b+(u>>>13)|0)+(Kt>>>26)|0,Kt&=67108863,y=Math.imul(te,At),u=Math.imul(te,_t),u=u+Math.imul(Ut,At)|0,b=Math.imul(Ut,_t),y=y+Math.imul(Ct,Rt)|0,u=u+Math.imul(Ct,wt)|0,u=u+Math.imul(Dt,Rt)|0,b=b+Math.imul(Dt,wt)|0,y=y+Math.imul(It,Lt)|0,u=u+Math.imul(It,Et)|0,u=u+Math.imul(xt,Lt)|0,b=b+Math.imul(xt,Et)|0,y=y+Math.imul(Q,Pt)|0,u=u+Math.imul(Q,Mt)|0,u=u+Math.imul(ot,Pt)|0,b=b+Math.imul(ot,Mt)|0,y=y+Math.imul(L,Y)|0,u=u+Math.imul(L,V)|0,u=u+Math.imul(j,Y)|0,b=b+Math.imul(j,V)|0,y=y+Math.imul(kt,W)|0,u=u+Math.imul(kt,et)|0,u=u+Math.imul(k,W)|0,b=b+Math.imul(k,et)|0,y=y+Math.imul(lt,ut)|0,u=u+Math.imul(lt,ht)|0,u=u+Math.imul(ct,ut)|0,b=b+Math.imul(ct,ht)|0;var oe=(I+y|0)+((u&8191)<<13)|0;I=(b+(u>>>13)|0)+(oe>>>26)|0,oe&=67108863,y=Math.imul(te,Rt),u=Math.imul(te,wt),u=u+Math.imul(Ut,Rt)|0,b=Math.imul(Ut,wt),y=y+Math.imul(Ct,Lt)|0,u=u+Math.imul(Ct,Et)|0,u=u+Math.imul(Dt,Lt)|0,b=b+Math.imul(Dt,Et)|0,y=y+Math.imul(It,Pt)|0,u=u+Math.imul(It,Mt)|0,u=u+Math.imul(xt,Pt)|0,b=b+Math.imul(xt,Mt)|0,y=y+Math.imul(Q,Y)|0,u=u+Math.imul(Q,V)|0,u=u+Math.imul(ot,Y)|0,b=b+Math.imul(ot,V)|0,y=y+Math.imul(L,W)|0,u=u+Math.imul(L,et)|0,u=u+Math.imul(j,W)|0,b=b+Math.imul(j,et)|0,y=y+Math.imul(kt,ut)|0,u=u+Math.imul(kt,ht)|0,u=u+Math.imul(k,ut)|0,b=b+Math.imul(k,ht)|0;var Jt=(I+y|0)+((u&8191)<<13)|0;I=(b+(u>>>13)|0)+(Jt>>>26)|0,Jt&=67108863,y=Math.imul(te,Lt),u=Math.imul(te,Et),u=u+Math.imul(Ut,Lt)|0,b=Math.imul(Ut,Et),y=y+Math.imul(Ct,Pt)|0,u=u+Math.imul(Ct,Mt)|0,u=u+Math.imul(Dt,Pt)|0,b=b+Math.imul(Dt,Mt)|0,y=y+Math.imul(It,Y)|0,u=u+Math.imul(It,V)|0,u=u+Math.imul(xt,Y)|0,b=b+Math.imul(xt,V)|0,y=y+Math.imul(Q,W)|0,u=u+Math.imul(Q,et)|0,u=u+Math.imul(ot,W)|0,b=b+Math.imul(ot,et)|0,y=y+Math.imul(L,ut)|0,u=u+Math.imul(L,ht)|0,u=u+Math.imul(j,ut)|0,b=b+Math.imul(j,ht)|0;var le=(I+y|0)+((u&8191)<<13)|0;I=(b+(u>>>13)|0)+(le>>>26)|0,le&=67108863,y=Math.imul(te,Pt),u=Math.imul(te,Mt),u=u+Math.imul(Ut,Pt)|0,b=Math.imul(Ut,Mt),y=y+Math.imul(Ct,Y)|0,u=u+Math.imul(Ct,V)|0,u=u+Math.imul(Dt,Y)|0,b=b+Math.imul(Dt,V)|0,y=y+Math.imul(It,W)|0,u=u+Math.imul(It,et)|0,u=u+Math.imul(xt,W)|0,b=b+Math.imul(xt,et)|0,y=y+Math.imul(Q,ut)|0,u=u+Math.imul(Q,ht)|0,u=u+Math.imul(ot,ut)|0,b=b+Math.imul(ot,ht)|0;var ae=(I+y|0)+((u&8191)<<13)|0;I=(b+(u>>>13)|0)+(ae>>>26)|0,ae&=67108863,y=Math.imul(te,Y),u=Math.imul(te,V),u=u+Math.imul(Ut,Y)|0,b=Math.imul(Ut,V),y=y+Math.imul(Ct,W)|0,u=u+Math.imul(Ct,et)|0,u=u+Math.imul(Dt,W)|0,b=b+Math.imul(Dt,et)|0,y=y+Math.imul(It,ut)|0,u=u+Math.imul(It,ht)|0,u=u+Math.imul(xt,ut)|0,b=b+Math.imul(xt,ht)|0;var ne=(I+y|0)+((u&8191)<<13)|0;I=(b+(u>>>13)|0)+(ne>>>26)|0,ne&=67108863,y=Math.imul(te,W),u=Math.imul(te,et),u=u+Math.imul(Ut,W)|0,b=Math.imul(Ut,et),y=y+Math.imul(Ct,ut)|0,u=u+Math.imul(Ct,ht)|0,u=u+Math.imul(Dt,ut)|0,b=b+Math.imul(Dt,ht)|0;var Ot=(I+y|0)+((u&8191)<<13)|0;I=(b+(u>>>13)|0)+(Ot>>>26)|0,Ot&=67108863,y=Math.imul(te,ut),u=Math.imul(te,ht),u=u+Math.imul(Ut,ut)|0,b=Math.imul(Ut,ht);var Nt=(I+y|0)+((u&8191)<<13)|0;return I=(b+(u>>>13)|0)+(Nt>>>26)|0,Nt&=67108863,S[0]=zt,S[1]=Wt,S[2]=ye,S[3]=Yt,S[4]=pe,S[5]=ve,S[6]=ge,S[7]=ie,S[8]=ue,S[9]=fe,S[10]=ce,S[11]=Kt,S[12]=oe,S[13]=Jt,S[14]=le,S[15]=ae,S[16]=ne,S[17]=Ot,S[18]=Nt,I!==0&&(S[19]=I,f.length++),f};Math.imul||(A=x);function B(d,o,a){a.negative=o.negative^d.negative,a.length=d.length+o.length;for(var f=0,h=0,g=0;g<a.length-1;g++){var S=h;h=0;for(var I=f&67108863,y=Math.min(g,o.length-1),u=Math.max(0,g-d.length+1);u<=y;u++){var b=g-u,D=d.words[b]|0,Z=o.words[u]|0,F=D*Z,q=F&67108863;S=S+(F/67108864|0)|0,q=q+I|0,I=q&67108863,S=S+(q>>>26)|0,h+=S>>>26,S&=67108863}a.words[g]=I,f=S,S=h}return f!==0?a.words[g]=f:a.length--,a.strip()}function P(d,o,a){var f=new R;return f.mulp(d,o,a)}i.prototype.mulTo=function(o,a){var f,h=this.length+o.length;return this.length===10&&o.length===10?f=A(this,o,a):h<63?f=x(this,o,a):h<1024?f=B(this,o,a):f=P(this,o,a),f};function R(d,o){this.x=d,this.y=o}R.prototype.makeRBT=function(o){for(var a=new Array(o),f=i.prototype._countBits(o)-1,h=0;h<o;h++)a[h]=this.revBin(h,f,o);return a},R.prototype.revBin=function(o,a,f){if(o===0||o===f-1)return o;for(var h=0,g=0;g<a;g++)h|=(o&1)<<a-g-1,o>>=1;return h},R.prototype.permute=function(o,a,f,h,g,S){for(var I=0;I<S;I++)h[I]=a[o[I]],g[I]=f[o[I]]},R.prototype.transform=function(o,a,f,h,g,S){this.permute(S,o,a,f,h,g);for(var I=1;I<g;I<<=1)for(var y=I<<1,u=Math.cos(2*Math.PI/y),b=Math.sin(2*Math.PI/y),D=0;D<g;D+=y)for(var Z=u,F=b,q=0;q<I;q++){var it=f[D+q],at=h[D+q],Bt=f[D+q+I],yt=h[D+q+I],pt=Z*Bt-F*yt;yt=Z*yt+F*Bt,Bt=pt,f[D+q]=it+Bt,h[D+q]=at+yt,f[D+q+I]=it-Bt,h[D+q+I]=at-yt,q!==y&&(pt=u*Z-b*F,F=u*F+b*Z,Z=pt)}},R.prototype.guessLen13b=function(o,a){var f=Math.max(a,o)|1,h=f&1,g=0;for(f=f/2|0;f;f=f>>>1)g++;return 1<<g+1+h},R.prototype.conjugate=function(o,a,f){if(!(f<=1))for(var h=0;h<f/2;h++){var g=o[h];o[h]=o[f-h-1],o[f-h-1]=g,g=a[h],a[h]=-a[f-h-1],a[f-h-1]=-g}},R.prototype.normalize13b=function(o,a){for(var f=0,h=0;h<a/2;h++){var g=Math.round(o[2*h+1]/a)*8192+Math.round(o[2*h]/a)+f;o[h]=g&67108863,g<67108864?f=0:f=g/67108864|0}return o},R.prototype.convert13b=function(o,a,f,h){for(var g=0,S=0;S<a;S++)g=g+(o[S]|0),f[2*S]=g&8191,g=g>>>13,f[2*S+1]=g&8191,g=g>>>13;for(S=2*a;S<h;++S)f[S]=0;n(g===0),n((g&-8192)===0)},R.prototype.stub=function(o){for(var a=new Array(o),f=0;f<o;f++)a[f]=0;return a},R.prototype.mulp=function(o,a,f){var h=2*this.guessLen13b(o.length,a.length),g=this.makeRBT(h),S=this.stub(h),I=new Array(h),y=new Array(h),u=new Array(h),b=new Array(h),D=new Array(h),Z=new Array(h),F=f.words;F.length=h,this.convert13b(o.words,o.length,I,h),this.convert13b(a.words,a.length,b,h),this.transform(I,S,y,u,h,g),this.transform(b,S,D,Z,h,g);for(var q=0;q<h;q++){var it=y[q]*D[q]-u[q]*Z[q];u[q]=y[q]*Z[q]+u[q]*D[q],y[q]=it}return this.conjugate(y,u,h),this.transform(y,u,F,S,h,g),this.conjugate(F,S,h),this.normalize13b(F,h),f.negative=o.negative^a.negative,f.length=o.length+a.length,f.strip()},i.prototype.mul=function(o){var a=new i(null);return a.words=new Array(this.length+o.length),this.mulTo(o,a)},i.prototype.mulf=function(o){var a=new i(null);return a.words=new Array(this.length+o.length),P(this,o,a)},i.prototype.imul=function(o){return this.clone().mulTo(o,this)},i.prototype.imuln=function(o){n(typeof o=="number"),n(o<67108864);for(var a=0,f=0;f<this.length;f++){var h=(this.words[f]|0)*o,g=(h&67108863)+(a&67108863);a>>=26,a+=h/67108864|0,a+=g>>>26,this.words[f]=g&67108863}return a!==0&&(this.words[f]=a,this.length++),this},i.prototype.muln=function(o){return this.clone().imuln(o)},i.prototype.sqr=function(){return this.mul(this)},i.prototype.isqr=function(){return this.imul(this.clone())},i.prototype.pow=function(o){var a=w(o);if(a.length===0)return new i(1);for(var f=this,h=0;h<a.length&&a[h]===0;h++,f=f.sqr());if(++h<a.length)for(var g=f.sqr();h<a.length;h++,g=g.sqr())a[h]!==0&&(f=f.mul(g));return f},i.prototype.iushln=function(o){n(typeof o=="number"&&o>=0);var a=o%26,f=(o-a)/26,h=67108863>>>26-a<<26-a,g;if(a!==0){var S=0;for(g=0;g<this.length;g++){var I=this.words[g]&h,y=(this.words[g]|0)-I<<a;this.words[g]=y|S,S=I>>>26-a}S&&(this.words[g]=S,this.length++)}if(f!==0){for(g=this.length-1;g>=0;g--)this.words[g+f]=this.words[g];for(g=0;g<f;g++)this.words[g]=0;this.length+=f}return this.strip()},i.prototype.ishln=function(o){return n(this.negative===0),this.iushln(o)},i.prototype.iushrn=function(o,a,f){n(typeof o=="number"&&o>=0);var h;a?h=(a-a%26)/26:h=0;var g=o%26,S=Math.min((o-g)/26,this.length),I=67108863^67108863>>>g<<g,y=f;if(h-=S,h=Math.max(0,h),y){for(var u=0;u<S;u++)y.words[u]=this.words[u];y.length=S}if(S!==0)if(this.length>S)for(this.length-=S,u=0;u<this.length;u++)this.words[u]=this.words[u+S];else this.words[0]=0,this.length=1;var b=0;for(u=this.length-1;u>=0&&(b!==0||u>=h);u--){var D=this.words[u]|0;this.words[u]=b<<26-g|D>>>g,b=D&I}return y&&b!==0&&(y.words[y.length++]=b),this.length===0&&(this.words[0]=0,this.length=1),this.strip()},i.prototype.ishrn=function(o,a,f){return n(this.negative===0),this.iushrn(o,a,f)},i.prototype.shln=function(o){return this.clone().ishln(o)},i.prototype.ushln=function(o){return this.clone().iushln(o)},i.prototype.shrn=function(o){return this.clone().ishrn(o)},i.prototype.ushrn=function(o){return this.clone().iushrn(o)},i.prototype.testn=function(o){n(typeof o=="number"&&o>=0);var a=o%26,f=(o-a)/26,h=1<<a;if(this.length<=f)return!1;var g=this.words[f];return!!(g&h)},i.prototype.imaskn=function(o){n(typeof o=="number"&&o>=0);var a=o%26,f=(o-a)/26;if(n(this.negative===0,"imaskn works only with positive numbers"),this.length<=f)return this;if(a!==0&&f++,this.length=Math.min(f,this.length),a!==0){var h=67108863^67108863>>>a<<a;this.words[this.length-1]&=h}return this.strip()},i.prototype.maskn=function(o){return this.clone().imaskn(o)},i.prototype.iaddn=function(o){return n(typeof o=="number"),n(o<67108864),o<0?this.isubn(-o):this.negative!==0?this.length===1&&(this.words[0]|0)<o?(this.words[0]=o-(this.words[0]|0),this.negative=0,this):(this.negative=0,this.isubn(o),this.negative=1,this):this._iaddn(o)},i.prototype._iaddn=function(o){this.words[0]+=o;for(var a=0;a<this.length&&this.words[a]>=67108864;a++)this.words[a]-=67108864,a===this.length-1?this.words[a+1]=1:this.words[a+1]++;return this.length=Math.max(this.length,a+1),this},i.prototype.isubn=function(o){if(n(typeof o=="number"),n(o<67108864),o<0)return this.iaddn(-o);if(this.negative!==0)return this.negative=0,this.iaddn(o),this.negative=1,this;if(this.words[0]-=o,this.length===1&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var a=0;a<this.length&&this.words[a]<0;a++)this.words[a]+=67108864,this.words[a+1]-=1;return this.strip()},i.prototype.addn=function(o){return this.clone().iaddn(o)},i.prototype.subn=function(o){return this.clone().isubn(o)},i.prototype.iabs=function(){return this.negative=0,this},i.prototype.abs=function(){return this.clone().iabs()},i.prototype._ishlnsubmul=function(o,a,f){var h=o.length+f,g;this._expand(h);var S,I=0;for(g=0;g<o.length;g++){S=(this.words[g+f]|0)+I;var y=(o.words[g]|0)*a;S-=y&67108863,I=(S>>26)-(y/67108864|0),this.words[g+f]=S&67108863}for(;g<this.length-f;g++)S=(this.words[g+f]|0)+I,I=S>>26,this.words[g+f]=S&67108863;if(I===0)return this.strip();for(n(I===-1),I=0,g=0;g<this.length;g++)S=-(this.words[g]|0)+I,I=S>>26,this.words[g]=S&67108863;return this.negative=1,this.strip()},i.prototype._wordDiv=function(o,a){var f=this.length-o.length,h=this.clone(),g=o,S=g.words[g.length-1]|0,I=this._countBits(S);f=26-I,f!==0&&(g=g.ushln(f),h.iushln(f),S=g.words[g.length-1]|0);var y=h.length-g.length,u;if(a!=="mod"){u=new i(null),u.length=y+1,u.words=new Array(u.length);for(var b=0;b<u.length;b++)u.words[b]=0}var D=h.clone()._ishlnsubmul(g,1,y);D.negative===0&&(h=D,u&&(u.words[y]=1));for(var Z=y-1;Z>=0;Z--){var F=(h.words[g.length+Z]|0)*67108864+(h.words[g.length+Z-1]|0);for(F=Math.min(F/S|0,67108863),h._ishlnsubmul(g,F,Z);h.negative!==0;)F--,h.negative=0,h._ishlnsubmul(g,1,Z),h.isZero()||(h.negative^=1);u&&(u.words[Z]=F)}return u&&u.strip(),h.strip(),a!=="div"&&f!==0&&h.iushrn(f),{div:u||null,mod:h}},i.prototype.divmod=function(o,a,f){if(n(!o.isZero()),this.isZero())return{div:new i(0),mod:new i(0)};var h,g,S;return this.negative!==0&&o.negative===0?(S=this.neg().divmod(o,a),a!=="mod"&&(h=S.div.neg()),a!=="div"&&(g=S.mod.neg(),f&&g.negative!==0&&g.iadd(o)),{div:h,mod:g}):this.negative===0&&o.negative!==0?(S=this.divmod(o.neg(),a),a!=="mod"&&(h=S.div.neg()),{div:h,mod:S.mod}):this.negative&o.negative?(S=this.neg().divmod(o.neg(),a),a!=="div"&&(g=S.mod.neg(),f&&g.negative!==0&&g.isub(o)),{div:S.div,mod:g}):o.length>this.length||this.cmp(o)<0?{div:new i(0),mod:this}:o.length===1?a==="div"?{div:this.divn(o.words[0]),mod:null}:a==="mod"?{div:null,mod:new i(this.modn(o.words[0]))}:{div:this.divn(o.words[0]),mod:new i(this.modn(o.words[0]))}:this._wordDiv(o,a)},i.prototype.div=function(o){return this.divmod(o,"div",!1).div},i.prototype.mod=function(o){return this.divmod(o,"mod",!1).mod},i.prototype.umod=function(o){return this.divmod(o,"mod",!0).mod},i.prototype.divRound=function(o){var a=this.divmod(o);if(a.mod.isZero())return a.div;var f=a.div.negative!==0?a.mod.isub(o):a.mod,h=o.ushrn(1),g=o.andln(1),S=f.cmp(h);return S<0||g===1&&S===0?a.div:a.div.negative!==0?a.div.isubn(1):a.div.iaddn(1)},i.prototype.modn=function(o){n(o<=67108863);for(var a=(1<<26)%o,f=0,h=this.length-1;h>=0;h--)f=(a*f+(this.words[h]|0))%o;return f},i.prototype.idivn=function(o){n(o<=67108863);for(var a=0,f=this.length-1;f>=0;f--){var h=(this.words[f]|0)+a*67108864;this.words[f]=h/o|0,a=h%o}return this.strip()},i.prototype.divn=function(o){return this.clone().idivn(o)},i.prototype.egcd=function(o){n(o.negative===0),n(!o.isZero());var a=this,f=o.clone();a.negative!==0?a=a.umod(o):a=a.clone();for(var h=new i(1),g=new i(0),S=new i(0),I=new i(1),y=0;a.isEven()&&f.isEven();)a.iushrn(1),f.iushrn(1),++y;for(var u=f.clone(),b=a.clone();!a.isZero();){for(var D=0,Z=1;!(a.words[0]&Z)&&D<26;++D,Z<<=1);if(D>0)for(a.iushrn(D);D-- >0;)(h.isOdd()||g.isOdd())&&(h.iadd(u),g.isub(b)),h.iushrn(1),g.iushrn(1);for(var F=0,q=1;!(f.words[0]&q)&&F<26;++F,q<<=1);if(F>0)for(f.iushrn(F);F-- >0;)(S.isOdd()||I.isOdd())&&(S.iadd(u),I.isub(b)),S.iushrn(1),I.iushrn(1);a.cmp(f)>=0?(a.isub(f),h.isub(S),g.isub(I)):(f.isub(a),S.isub(h),I.isub(g))}return{a:S,b:I,gcd:f.iushln(y)}},i.prototype._invmp=function(o){n(o.negative===0),n(!o.isZero());var a=this,f=o.clone();a.negative!==0?a=a.umod(o):a=a.clone();for(var h=new i(1),g=new i(0),S=f.clone();a.cmpn(1)>0&&f.cmpn(1)>0;){for(var I=0,y=1;!(a.words[0]&y)&&I<26;++I,y<<=1);if(I>0)for(a.iushrn(I);I-- >0;)h.isOdd()&&h.iadd(S),h.iushrn(1);for(var u=0,b=1;!(f.words[0]&b)&&u<26;++u,b<<=1);if(u>0)for(f.iushrn(u);u-- >0;)g.isOdd()&&g.iadd(S),g.iushrn(1);a.cmp(f)>=0?(a.isub(f),h.isub(g)):(f.isub(a),g.isub(h))}var D;return a.cmpn(1)===0?D=h:D=g,D.cmpn(0)<0&&D.iadd(o),D},i.prototype.gcd=function(o){if(this.isZero())return o.abs();if(o.isZero())return this.abs();var a=this.clone(),f=o.clone();a.negative=0,f.negative=0;for(var h=0;a.isEven()&&f.isEven();h++)a.iushrn(1),f.iushrn(1);do{for(;a.isEven();)a.iushrn(1);for(;f.isEven();)f.iushrn(1);var g=a.cmp(f);if(g<0){var S=a;a=f,f=S}else if(g===0||f.cmpn(1)===0)break;a.isub(f)}while(!0);return f.iushln(h)},i.prototype.invm=function(o){return this.egcd(o).a.umod(o)},i.prototype.isEven=function(){return(this.words[0]&1)===0},i.prototype.isOdd=function(){return(this.words[0]&1)===1},i.prototype.andln=function(o){return this.words[0]&o},i.prototype.bincn=function(o){n(typeof o=="number");var a=o%26,f=(o-a)/26,h=1<<a;if(this.length<=f)return this._expand(f+1),this.words[f]|=h,this;for(var g=h,S=f;g!==0&&S<this.length;S++){var I=this.words[S]|0;I+=g,g=I>>>26,I&=67108863,this.words[S]=I}return g!==0&&(this.words[S]=g,this.length++),this},i.prototype.isZero=function(){return this.length===1&&this.words[0]===0},i.prototype.cmpn=function(o){var a=o<0;if(this.negative!==0&&!a)return-1;if(this.negative===0&&a)return 1;this.strip();var f;if(this.length>1)f=1;else{a&&(o=-o),n(o<=67108863,"Number is too big");var h=this.words[0]|0;f=h===o?0:h<o?-1:1}return this.negative!==0?-f|0:f},i.prototype.cmp=function(o){if(this.negative!==0&&o.negative===0)return-1;if(this.negative===0&&o.negative!==0)return 1;var a=this.ucmp(o);return this.negative!==0?-a|0:a},i.prototype.ucmp=function(o){if(this.length>o.length)return 1;if(this.length<o.length)return-1;for(var a=0,f=this.length-1;f>=0;f--){var h=this.words[f]|0,g=o.words[f]|0;if(h!==g){h<g?a=-1:h>g&&(a=1);break}}return a},i.prototype.gtn=function(o){return this.cmpn(o)===1},i.prototype.gt=function(o){return this.cmp(o)===1},i.prototype.gten=function(o){return this.cmpn(o)>=0},i.prototype.gte=function(o){return this.cmp(o)>=0},i.prototype.ltn=function(o){return this.cmpn(o)===-1},i.prototype.lt=function(o){return this.cmp(o)===-1},i.prototype.lten=function(o){return this.cmpn(o)<=0},i.prototype.lte=function(o){return this.cmp(o)<=0},i.prototype.eqn=function(o){return this.cmpn(o)===0},i.prototype.eq=function(o){return this.cmp(o)===0},i.red=function(o){return new G(o)},i.prototype.toRed=function(o){return n(!this.red,"Already a number in reduction context"),n(this.negative===0,"red works only with positives"),o.convertTo(this)._forceRed(o)},i.prototype.fromRed=function(){return n(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},i.prototype._forceRed=function(o){return this.red=o,this},i.prototype.forceRed=function(o){return n(!this.red,"Already a number in reduction context"),this._forceRed(o)},i.prototype.redAdd=function(o){return n(this.red,"redAdd works only with red numbers"),this.red.add(this,o)},i.prototype.redIAdd=function(o){return n(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,o)},i.prototype.redSub=function(o){return n(this.red,"redSub works only with red numbers"),this.red.sub(this,o)},i.prototype.redISub=function(o){return n(this.red,"redISub works only with red numbers"),this.red.isub(this,o)},i.prototype.redShl=function(o){return n(this.red,"redShl works only with red numbers"),this.red.shl(this,o)},i.prototype.redMul=function(o){return n(this.red,"redMul works only with red numbers"),this.red._verify2(this,o),this.red.mul(this,o)},i.prototype.redIMul=function(o){return n(this.red,"redMul works only with red numbers"),this.red._verify2(this,o),this.red.imul(this,o)},i.prototype.redSqr=function(){return n(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},i.prototype.redISqr=function(){return n(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},i.prototype.redSqrt=function(){return n(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},i.prototype.redInvm=function(){return n(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},i.prototype.redNeg=function(){return n(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},i.prototype.redPow=function(o){return n(this.red&&!o.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,o)};var C={k256:null,p224:null,p192:null,p25519:null};function O(d,o){this.name=d,this.p=new i(o,16),this.n=this.p.bitLength(),this.k=new i(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}O.prototype._tmp=function(){var o=new i(null);return o.words=new Array(Math.ceil(this.n/13)),o},O.prototype.ireduce=function(o){var a=o,f;do this.split(a,this.tmp),a=this.imulK(a),a=a.iadd(this.tmp),f=a.bitLength();while(f>this.n);var h=f<this.n?-1:a.ucmp(this.p);return h===0?(a.words[0]=0,a.length=1):h>0?a.isub(this.p):a.strip!==void 0?a.strip():a._strip(),a},O.prototype.split=function(o,a){o.iushrn(this.n,0,a)},O.prototype.imulK=function(o){return o.imul(this.k)};function z(){O.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}s(z,O),z.prototype.split=function(o,a){for(var f=4194303,h=Math.min(o.length,9),g=0;g<h;g++)a.words[g]=o.words[g];if(a.length=h,o.length<=9){o.words[0]=0,o.length=1;return}var S=o.words[9];for(a.words[a.length++]=S&f,g=10;g<o.length;g++){var I=o.words[g]|0;o.words[g-10]=(I&f)<<4|S>>>22,S=I}S>>>=22,o.words[g-10]=S,S===0&&o.length>10?o.length-=10:o.length-=9},z.prototype.imulK=function(o){o.words[o.length]=0,o.words[o.length+1]=0,o.length+=2;for(var a=0,f=0;f<o.length;f++){var h=o.words[f]|0;a+=h*977,o.words[f]=a&67108863,a=h*64+(a/67108864|0)}return o.words[o.length-1]===0&&(o.length--,o.words[o.length-1]===0&&o.length--),o};function H(){O.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}s(H,O);function tt(){O.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}s(tt,O);function nt(){O.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}s(nt,O),nt.prototype.imulK=function(o){for(var a=0,f=0;f<o.length;f++){var h=(o.words[f]|0)*19+a,g=h&67108863;h>>>=26,o.words[f]=g,a=h}return a!==0&&(o.words[o.length++]=a),o},i._prime=function(o){if(C[o])return C[o];var a;if(o==="k256")a=new z;else if(o==="p224")a=new H;else if(o==="p192")a=new tt;else if(o==="p25519")a=new nt;else throw new Error("Unknown prime "+o);return C[o]=a,a};function G(d){if(typeof d=="string"){var o=i._prime(d);this.m=o.p,this.prime=o}else n(d.gtn(1),"modulus must be greater than 1"),this.m=d,this.prime=null}G.prototype._verify1=function(o){n(o.negative===0,"red works only with positives"),n(o.red,"red works only with red numbers")},G.prototype._verify2=function(o,a){n((o.negative|a.negative)===0,"red works only with positives"),n(o.red&&o.red===a.red,"red works only with red numbers")},G.prototype.imod=function(o){return this.prime?this.prime.ireduce(o)._forceRed(this):o.umod(this.m)._forceRed(this)},G.prototype.neg=function(o){return o.isZero()?o.clone():this.m.sub(o)._forceRed(this)},G.prototype.add=function(o,a){this._verify2(o,a);var f=o.add(a);return f.cmp(this.m)>=0&&f.isub(this.m),f._forceRed(this)},G.prototype.iadd=function(o,a){this._verify2(o,a);var f=o.iadd(a);return f.cmp(this.m)>=0&&f.isub(this.m),f},G.prototype.sub=function(o,a){this._verify2(o,a);var f=o.sub(a);return f.cmpn(0)<0&&f.iadd(this.m),f._forceRed(this)},G.prototype.isub=function(o,a){this._verify2(o,a);var f=o.isub(a);return f.cmpn(0)<0&&f.iadd(this.m),f},G.prototype.shl=function(o,a){return this._verify1(o),this.imod(o.ushln(a))},G.prototype.imul=function(o,a){return this._verify2(o,a),this.imod(o.imul(a))},G.prototype.mul=function(o,a){return this._verify2(o,a),this.imod(o.mul(a))},G.prototype.isqr=function(o){return this.imul(o,o.clone())},G.prototype.sqr=function(o){return this.mul(o,o)},G.prototype.sqrt=function(o){if(o.isZero())return o.clone();var a=this.m.andln(3);if(n(a%2===1),a===3){var f=this.m.add(new i(1)).iushrn(2);return this.pow(o,f)}for(var h=this.m.subn(1),g=0;!h.isZero()&&h.andln(1)===0;)g++,h.iushrn(1);n(!h.isZero());var S=new i(1).toRed(this),I=S.redNeg(),y=this.m.subn(1).iushrn(1),u=this.m.bitLength();for(u=new i(2*u*u).toRed(this);this.pow(u,y).cmp(I)!==0;)u.redIAdd(I);for(var b=this.pow(u,h),D=this.pow(o,h.addn(1).iushrn(1)),Z=this.pow(o,h),F=g;Z.cmp(S)!==0;){for(var q=Z,it=0;q.cmp(S)!==0;it++)q=q.redSqr();n(it<F);var at=this.pow(b,new i(1).iushln(F-it-1));D=D.redMul(at),b=at.redSqr(),Z=Z.redMul(b),F=it}return D},G.prototype.invm=function(o){var a=o._invmp(this.m);return a.negative!==0?(a.negative=0,this.imod(a).redNeg()):this.imod(a)},G.prototype.pow=function(o,a){if(a.isZero())return new i(1).toRed(this);if(a.cmpn(1)===0)return o.clone();var f=4,h=new Array(1<<f);h[0]=new i(1).toRed(this),h[1]=o;for(var g=2;g<h.length;g++)h[g]=this.mul(h[g-1],o);var S=h[0],I=0,y=0,u=a.bitLength()%26;for(u===0&&(u=26),g=a.length-1;g>=0;g--){for(var b=a.words[g],D=u-1;D>=0;D--){var Z=b>>D&1;if(S!==h[0]&&(S=this.sqr(S)),Z===0&&I===0){y=0;continue}I<<=1,I|=Z,y++,!(y!==f&&(g!==0||D!==0))&&(S=this.mul(S,h[I]),y=0,I=0)}u=26}return S},G.prototype.convertTo=function(o){var a=o.umod(this.m);return a===o?a.clone():a},G.prototype.convertFrom=function(o){var a=o.clone();return a.red=null,a},i.mont=function(o){return new M(o)};function M(d){G.call(this,d),this.shift=this.m.bitLength(),this.shift%26!==0&&(this.shift+=26-this.shift%26),this.r=new i(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}s(M,G),M.prototype.convertTo=function(o){return this.imod(o.ushln(this.shift))},M.prototype.convertFrom=function(o){var a=this.imod(o.mul(this.rinv));return a.red=null,a},M.prototype.imul=function(o,a){if(o.isZero()||a.isZero())return o.words[0]=0,o.length=1,o;var f=o.imul(a),h=f.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),g=f.isub(h).iushrn(this.shift),S=g;return g.cmp(this.m)>=0?S=g.isub(this.m):g.cmpn(0)<0&&(S=g.iadd(this.m)),S._forceRed(this)},M.prototype.mul=function(o,a){if(o.isZero()||a.isZero())return new i(0)._forceRed(this);var f=o.mul(a),h=f.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),g=f.isub(h).iushrn(this.shift),S=g;return g.cmp(this.m)>=0?S=g.isub(this.m):g.cmpn(0)<0&&(S=g.iadd(this.m)),S._forceRed(this)},M.prototype.invm=function(o){var a=this.imod(o._invmp(this.m).mul(this.r2));return a._forceRed(this)}})(r,Re)}($0)),$0.exports}var up,b6;function t9(){if(b6)return up;b6=1;var r=pg(),t=sr.Buffer;function e(n,s){return t.from(n.toRed(r.mont(s.modulus)).redPow(new r(s.publicExponent)).fromRed().toArray())}return up=e,up}var fp,w6;function IC(){if(w6)return fp;w6=1;var r=od(),t=bf,e=_h,n=J_(),s=Q_(),i=pg(),c=t9(),l=ag(),p=sr.Buffer;fp=function(w,x,A){var B;w.padding?B=w.padding:A?B=1:B=4;var P=r(w),R;if(B===4)R=m(P,x);else if(B===1)R=v(P,x,A);else if(B===3){if(R=new i(x),R.cmp(P.modulus)>=0)throw new Error("data too long for modulus")}else throw new Error("unknown padding");return A?l(R,P):c(R,P)};function m(E,w){var x=E.modulus.byteLength(),A=w.length,B=e("sha1").update(p.alloc(0)).digest(),P=B.length,R=2*P;if(A>x-R-2)throw new Error("message too long");var C=p.alloc(x-A-R-2),O=x-P-1,z=t(P),H=s(p.concat([B,C,p.alloc(1,1),w],O),n(z,O)),tt=s(z,n(H,P));return new i(p.concat([p.alloc(1),tt,H],x))}function v(E,w,x){var A=w.length,B=E.modulus.byteLength();if(A>B-11)throw new Error("message too long");var P;return x?P=p.alloc(B-A-3,255):P=_(B-A-3),new i(p.concat([p.from([0,x?1:2]),P,p.alloc(1),w],B))}function _(E){for(var w=p.allocUnsafe(E),x=0,A=t(E*2),B=0,P;x<E;)B===A.length&&(A=t(E*2),B=0),P=A[B++],P&&(w[x++]=P);return w}return fp}var cp,x6;function BC(){if(x6)return cp;x6=1;var r=od(),t=J_(),e=Q_(),n=pg(),s=ag(),i=_h,c=t9(),l=sr.Buffer;cp=function(E,w,x){var A;E.padding?A=E.padding:x?A=1:A=4;var B=r(E),P=B.modulus.byteLength();if(w.length>P||new n(w).cmp(B.modulus)>=0)throw new Error("decryption error");var R;x?R=c(new n(w),B):R=s(w,B);var C=l.alloc(P-R.length);if(R=l.concat([C,R],P),A===4)return p(B,R);if(A===1)return m(B,R,x);if(A===3)return R;throw new Error("unknown padding")};function p(_,E){var w=_.modulus.byteLength(),x=i("sha1").update(l.alloc(0)).digest(),A=x.length;if(E[0]!==0)throw new Error("decryption error");var B=E.slice(1,A+1),P=E.slice(A+1),R=e(B,t(P,A)),C=e(P,t(R,w-A-1));if(v(x,C.slice(0,A)))throw new Error("decryption error");for(var O=A;C[O]===0;)O++;if(C[O++]!==1)throw new Error("decryption error");return C.slice(O)}function m(_,E,w){for(var x=E.slice(0,2),A=2,B=0;E[A++]!==0;)if(A>=E.length){B++;break}var P=E.slice(2,A-1);if((x.toString("hex")!=="0002"&&!w||x.toString("hex")!=="0001"&&w)&&B++,P.length<8&&B++,B)throw new Error("decryption error");return E.slice(A)}function v(_,E){_=l.from(_),E=l.from(E);var w=0,x=_.length;_.length!==E.length&&(w++,x=Math.min(_.length,E.length));for(var A=-1;++A<x;)w+=_[A]^E[A];return w}return cp}var _6;function PC(){return _6||(_6=1,function(r){r.publicEncrypt=IC(),r.privateDecrypt=BC(),r.privateEncrypt=function(e,n){return r.publicEncrypt(e,n,!0)},r.publicDecrypt=function(e,n){return r.privateDecrypt(e,n,!0)}}(op)),op}var du={},M6;function RC(){if(M6)return du;M6=1;function r(){throw new Error(`secure random number generation not supported by this browser
use chrome, FireFox or Internet Explorer 11`)}var t=sr,e=bf,n=t.Buffer,s=t.kMaxLength,i=Re.crypto||Re.msCrypto,c=Math.pow(2,32)-1;function l(E,w){if(typeof E!="number"||E!==E)throw new TypeError("offset must be a number");if(E>c||E<0)throw new TypeError("offset must be a uint32");if(E>s||E>w)throw new RangeError("offset out of range")}function p(E,w,x){if(typeof E!="number"||E!==E)throw new TypeError("size must be a number");if(E>c||E<0)throw new TypeError("size must be a uint32");if(E+w>x||E>s)throw new RangeError("buffer too small")}i&&i.getRandomValues||!Zt.process.browser?(du.randomFill=m,du.randomFillSync=_):(du.randomFill=r,du.randomFillSync=r);function m(E,w,x,A){if(!n.isBuffer(E)&&!(E instanceof Re.Uint8Array))throw new TypeError('"buf" argument must be a Buffer or Uint8Array');if(typeof w=="function")A=w,w=0,x=E.length;else if(typeof x=="function")A=x,x=E.length-w;else if(typeof A!="function")throw new TypeError('"cb" argument must be a function');return l(w,E.length),p(x,w,E.length),v(E,w,x,A)}function v(E,w,x,A){if(Zt.process.browser){var B=E.buffer,P=new Uint8Array(B,w,x);if(i.getRandomValues(P),A){Zt.process.nextTick(function(){A(null,E)});return}return E}if(A){e(x,function(C,O){if(C)return A(C);O.copy(E,w),A(null,E)});return}var R=e(x);return R.copy(E,w),E}function _(E,w,x){if(typeof w>"u"&&(w=0),!n.isBuffer(E)&&!(E instanceof Re.Uint8Array))throw new TypeError('"buf" argument must be a Buffer or Uint8Array');return l(w,E.length),x===void 0&&(x=E.length-w),p(x,w,E.length),v(E,w,x)}return du}var E6;function e9(){if(E6)return Je;E6=1,Je.randomBytes=Je.rng=Je.pseudoRandomBytes=Je.prng=bf,Je.createHash=Je.Hash=_h,Je.createHmac=Je.Hmac=f_();var r=NB(),t=Object.keys(r),e=["sha1","sha224","sha256","sha384","sha512","md5","rmd160"].concat(t);Je.getHashes=function(){return e};var n=m_();Je.pbkdf2=n.pbkdf2,Je.pbkdf2Sync=n.pbkdf2Sync;var s=rP();Je.Cipher=s.Cipher,Je.createCipher=s.createCipher,Je.Cipheriv=s.Cipheriv,Je.createCipheriv=s.createCipheriv,Je.Decipher=s.Decipher,Je.createDecipher=s.createDecipher,Je.Decipheriv=s.Decipheriv,Je.createDecipheriv=s.createDecipheriv,Je.getCiphers=s.getCiphers,Je.listCiphers=s.listCiphers;var i=pP();Je.DiffieHellmanGroup=i.DiffieHellmanGroup,Je.createDiffieHellmanGroup=i.createDiffieHellmanGroup,Je.getDiffieHellman=i.getDiffieHellman,Je.createDiffieHellman=i.createDiffieHellman,Je.DiffieHellman=i.DiffieHellman;var c=AC();Je.createSign=c.createSign,Je.Sign=c.Sign,Je.createVerify=c.createVerify,Je.Verify=c.Verify,Je.createECDH=kC();var l=PC();Je.publicEncrypt=l.publicEncrypt,Je.privateEncrypt=l.privateEncrypt,Je.publicDecrypt=l.publicDecrypt,Je.privateDecrypt=l.privateDecrypt;var p=RC();return Je.randomFill=p.randomFill,Je.randomFillSync=p.randomFillSync,Je.createCredentials=function(){throw new Error(["sorry, createCredentials is not implemented yet","we accept pull requests","https://github.com/crypto-browserify/crypto-browserify"].join(`
`))},Je.constants={DH_CHECK_P_NOT_SAFE_PRIME:2,DH_CHECK_P_NOT_PRIME:1,DH_UNABLE_TO_CHECK_GENERATOR:4,DH_NOT_SUITABLE_GENERATOR:8,NPN_ENABLED:1,ALPN_ENABLED:1,RSA_PKCS1_PADDING:1,RSA_SSLV23_PADDING:2,RSA_NO_PADDING:3,RSA_PKCS1_OAEP_PADDING:4,RSA_X931_PADDING:5,RSA_PKCS1_PSS_PADDING:6,POINT_CONVERSION_COMPRESSED:2,POINT_CONVERSION_UNCOMPRESSED:4,POINT_CONVERSION_HYBRID:6},Je}var CC=function(r){return function(t,e){var n=xe.useRef(!1);r(function(){return function(){n.current=!1}},[]),r(function(){if(!n.current)n.current=!0;else return t()},e)}},f2=function(r){return typeof r=="function"},TC=function(r){return typeof r>"u"},LC=!1;const OC=LC;function UC(r){OC&&(f2(r)||console.error("useMemoizedFn expected parameter is a function, got ".concat(typeof r)));var t=xe.useRef(r);t.current=xe.useMemo(function(){return r},[r]);var e=xe.useRef();return e.current||(e.current=function(){for(var n=[],s=0;s<arguments.length;s++)n[s]=arguments[s];return t.current.apply(this,n)}),e.current}const NC=CC(xe.useEffect);var DC=!!(typeof window<"u"&&window.document&&window.document.createElement);const zC=DC;function qC(r){function t(e,n){n===void 0&&(n={});var s,i=n.onError,c=i===void 0?function(x){console.error(x)}:i;try{s=r()}catch(x){c(x)}var l=function(x){return n!=null&&n.serializer?n==null?void 0:n.serializer(x):JSON.stringify(x)},p=function(x){return n!=null&&n.deserializer?n==null?void 0:n.deserializer(x):JSON.parse(x)};function m(){try{var x=s==null?void 0:s.getItem(e);if(x)return p(x)}catch(A){c(A)}return f2(n==null?void 0:n.defaultValue)?n==null?void 0:n.defaultValue():n==null?void 0:n.defaultValue}var v=bI(xe.useState(function(){return m()}),2),_=v[0],E=v[1];NC(function(){E(m())},[e]);var w=function(x){var A=f2(x)?x(_):x;if(E(A),TC(A))s==null||s.removeItem(e);else try{s==null||s.setItem(e,l(A))}catch(B){console.error(B)}};return[_,UC(w)]}return t}var FC=qC(function(){return zC?sessionStorage:void 0});const jC=FC,Ah=xe.createContext({cart:{},isCartEmpty:!0,addToCart:()=>{},emptyCart:()=>{},removeFromCart:()=>{},referrerKey:void 0}),KC=({children:r,referrerKey:t}={})=>{const[e={},n]=jC("bonfida-widget-cart",{defaultValue:{}}),s=p=>{n({...e,[p.domain]:p})},i=p=>{const m={...e};delete m[p],n(m)},c=()=>n({}),l=!Object.values(e).length;return St.jsx(Ah.Provider,{value:{cart:e,addToCart:s,removeFromCart:i,isCartEmpty:l,emptyCart:c,referrerKey:t},children:r})},sd=xe.createContext({status:null,setStatus:()=>{},setError:()=>{}}),$C=({children:r})=>{const[t,e]=xe.useState(null),n=s=>{e({status:"error",message:s})};return St.jsx(sd.Provider,{value:{status:t,setStatus:e,setError:n},children:r})},mg=xe.createContext({connection:null});function vg(){return xe.useContext(mg)}const HC=({children:r})=>{const{connection:t}=eI();return St.jsx(mg.Provider,{value:{connection:t},children:r})},VC=({children:r,connection:t})=>t?t?St.jsx(mg.Provider,{value:{connection:t},children:r}):St.jsx(St.Fragment,{children:r}):St.jsx(HC,{children:r}),ZC={publicKey:null,wallets:[],wallet:null,connect:async()=>{},select:()=>{},connecting:!1,connected:!1,disconnect:async()=>{},visible:!1,setVisible:()=>{},connection:null,signAllTransactions:async r=>r},gg=xe.createContext(ZC);function ad(){return xe.useContext(gg)}const WC=({children:r})=>{const t=rI(),{connection:e}=vg(),{visible:n,setVisible:s}=nI(),i={visible:n,setVisible:s,connection:e,...t};return St.jsx(gg.Provider,{value:i,children:r})},GC=({children:r,passthroughWallet:t})=>{const{connection:e}=vg();return t?t?St.jsx(gg.Provider,{value:{...t,connection:e},children:r}):St.jsx(St.Fragment,{children:r}):St.jsx(WC,{children:r})},YC=({children:r,endpoint:t,connection:e,passthroughWallet:n})=>{const s=xe.useMemo(()=>t&&!e?({children:c})=>St.jsx(yI,{endpoint:t,children:c}):xe.Fragment,[t,e]),i=xe.useMemo(()=>n?xe.Fragment:({children:c})=>St.jsx(iI,{wallets:[new oI],autoConnect:!0,children:c}),[n]);return St.jsx(s,{children:St.jsx(i,{children:St.jsx(sI,{children:St.jsx(VC,{connection:e,children:St.jsx(GC,{passthroughWallet:n,children:r})})})})})};function Nc(){return Nc=Object.assign||function(r){for(var t=1;t<arguments.length;t++){var e=arguments[t];for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(r[n]=e[n])}return r},Nc.apply(this,arguments)}typeof Symbol<"u"&&(Symbol.iterator||(Symbol.iterator=Symbol("Symbol.iterator")));typeof Symbol<"u"&&(Symbol.asyncIterator||(Symbol.asyncIterator=Symbol("Symbol.asyncIterator")));var XC=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u"?xe.useLayoutEffect:xe.useEffect,JC=function(t){var e=xe.useRef(t);return XC(function(){e.current=t}),xe.useCallback(function(){return e.current},[e])},QC={status:"not-requested",loading:!1,result:void 0,error:void 0},r9={status:"loading",loading:!0,result:void 0,error:void 0},tT=function(t){return r9},eT=function(t,e){return{status:"success",loading:!1,result:t,error:void 0}},rT=function(t,e){return{status:"error",loading:!1,result:void 0,error:t}},A6=function(){},nT={initialState:function(t){return t&&t.executeOnMount?r9:QC},executeOnMount:!0,executeOnUpdate:!0,setLoading:tT,setResult:eT,setError:rT,onSuccess:A6,onError:A6},iT=function(t){return Nc({},nT,{},t)},oT=function(t){var e=xe.useState(function(){return t.initialState(t)}),n=e[0],s=e[1],i=xe.useCallback(function(){return s(t.initialState(t))},[s,t]),c=xe.useCallback(function(){return s(t.setLoading(n))},[n,s]),l=xe.useCallback(function(v){return s(t.setResult(v,n))},[n,s]),p=xe.useCallback(function(v){return s(t.setError(v,n))},[n,s]),m=xe.useCallback(function(v){return s(Nc({},n,{},v))},[n,s]);return{value:n,set:s,merge:m,reset:i,setLoading:c,setResult:l,setError:p}},sT=function(){var t=xe.useRef(!1);return xe.useEffect(function(){return t.current=!0,function(){t.current=!1}},[]),function(){return t.current}},aT=function(){var t=xe.useRef(null);return{set:function(n){return t.current=n},get:function(){return t.current},is:function(n){return t.current===n}}},uT=function(t,e,n){!e&&(e=[]);var s=iT(n),i=xe.useState(null),c=i[0],l=i[1],p=oT(s),m=sT(),v=aT(),_=function(P){return m()&&v.is(P)},E=function(){for(var P=arguments.length,R=new Array(P),C=0;C<P;C++)R[C]=arguments[C];var O=function(){try{return Promise.resolve(t.apply(void 0,R))}catch(z){return Promise.reject(z)}}();return l(R),v.set(O),p.setLoading(),O.then(function(z){_(O)&&p.setResult(z),s.onSuccess(z,{isCurrent:function(){return v.is(O)}})},function(z){_(O)&&p.setError(z),s.onError(z,{isCurrent:function(){return v.is(O)}})}),O},w=JC(E),x=xe.useCallback(function(){return w().apply(void 0,arguments)},[w]),A=!m();return xe.useEffect(function(){var B=function(){return w().apply(void 0,e)};A&&s.executeOnMount&&B(),!A&&s.executeOnUpdate&&B()},e),Nc({},p.value,{set:p.set,merge:p.merge,reset:p.reset,execute:x,currentPromise:v.get(),currentParams:c})};function yg(r,t,e){return uT(r,t,e)}const Sh=new Ne("TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA");new Ne("TokenzQdBNbLqP5VEhdkAS6EPFLC1PHnBqCXEpPxuEb");const bg=new Ne("ATokenGPvbdGVxr1b2hvZbsiqW5xWH25efTNsLJA8knL"),wg=new Ne("So11111111111111111111111111111111111111112");new Ne("9pan9bMn5HatX4EJdBwg9VgCa7Uz5HL8N1m5D3NdXejP");const xg=r=>{const t=r.decode.bind(r),e=r.encode.bind(r);return{decode:t,encode:e}},fT=r=>t=>{const e=$7(r,t),{encode:n,decode:s}=xg(e),i=e;return i.decode=(c,l)=>{const p=s(c,l);return aI(Zt.Buffer.from(p))},i.encode=(c,l,p)=>{const m=uI(c,r);return n(m,l,p)},i},cT=fT(8),hT=r=>{const t=$l(r),{encode:e,decode:n}=xg(t),s=t;return s.decode=(i,c)=>!!n(i,c),s.encode=(i,c,l)=>{const p=Number(i);return e(p,c,l)},s},S6=r=>{const t=$7(32,r),{encode:e,decode:n}=xg(t),s=t;return s.decode=(i,c)=>{const l=n(i,c);return new Ne(l)},s.encode=(i,c,l)=>{const p=i.toBuffer();return e(p,c,l)},s};class lT extends Error{constructor(t){super(t)}}class dT extends lT{constructor(){super(...arguments),this.name="TokenOwnerOffCurveError"}}var ul;(function(r){r[r.InitializeMint=0]="InitializeMint",r[r.InitializeAccount=1]="InitializeAccount",r[r.InitializeMultisig=2]="InitializeMultisig",r[r.Transfer=3]="Transfer",r[r.Approve=4]="Approve",r[r.Revoke=5]="Revoke",r[r.SetAuthority=6]="SetAuthority",r[r.MintTo=7]="MintTo",r[r.Burn=8]="Burn",r[r.CloseAccount=9]="CloseAccount",r[r.FreezeAccount=10]="FreezeAccount",r[r.ThawAccount=11]="ThawAccount",r[r.TransferChecked=12]="TransferChecked",r[r.ApproveChecked=13]="ApproveChecked",r[r.MintToChecked=14]="MintToChecked",r[r.BurnChecked=15]="BurnChecked",r[r.InitializeAccount2=16]="InitializeAccount2",r[r.SyncNative=17]="SyncNative",r[r.InitializeAccount3=18]="InitializeAccount3",r[r.InitializeMultisig2=19]="InitializeMultisig2",r[r.InitializeMint2=20]="InitializeMint2",r[r.GetAccountDataSize=21]="GetAccountDataSize",r[r.InitializeImmutableOwner=22]="InitializeImmutableOwner",r[r.AmountToUiAmount=23]="AmountToUiAmount",r[r.UiAmountToAmount=24]="UiAmountToAmount",r[r.InitializeMintCloseAuthority=25]="InitializeMintCloseAuthority",r[r.TransferFeeExtension=26]="TransferFeeExtension",r[r.ConfidentialTransferExtension=27]="ConfidentialTransferExtension",r[r.DefaultAccountStateExtension=28]="DefaultAccountStateExtension",r[r.Reallocate=29]="Reallocate",r[r.MemoTransferExtension=30]="MemoTransferExtension",r[r.CreateNativeMint=31]="CreateNativeMint",r[r.InitializeNonTransferableMint=32]="InitializeNonTransferableMint",r[r.InterestBearingMintExtension=33]="InterestBearingMintExtension",r[r.CpiGuardExtension=34]="CpiGuardExtension",r[r.InitializePermanentDelegate=35]="InitializePermanentDelegate"})(ul||(ul={}));function pT(r,t,e){if(e.length){r.push({pubkey:t,isSigner:!1,isWritable:!1});for(const n of e)r.push({pubkey:n instanceof Ne?n:n.publicKey,isSigner:!0,isWritable:!1})}else r.push({pubkey:t,isSigner:!0,isWritable:!1});return r}const k6=Xv([$l("instruction")]);function mT(r,t,e,n=[],s=Sh){const i=pT([{pubkey:r,isSigner:!1,isWritable:!0},{pubkey:t,isSigner:!1,isWritable:!0}],e,n),c=Zt.Buffer.alloc(k6.span);return k6.encode({instruction:ul.CloseAccount},c),new gh({keys:i,programId:s,data:c})}const vT=Xv([bb("mintAuthorityOption"),S6("mintAuthority"),cT("supply"),$l("decimals"),hT("isInitialized"),bb("freezeAuthorityOption"),S6("freezeAuthority")]);vT.span;function n9(r,t,e=!1,n=Sh,s=bg){if(!e&&!Ne.isOnCurve(t.toBuffer()))throw new dT;const[i]=Ne.findProgramAddressSync([t.toBuffer(),n.toBuffer(),r.toBuffer()],s);return i}function gT(r,t,e,n,s=Sh,i=bg){return yT(r,t,e,n,Zt.Buffer.alloc(0),s,i)}function yT(r,t,e,n,s,i=Sh,c=bg){const l=[{pubkey:r,isSigner:!0,isWritable:!0},{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:e,isSigner:!1,isWritable:!1},{pubkey:n,isSigner:!1,isWritable:!1},{pubkey:Hl.programId,isSigner:!1,isWritable:!1},{pubkey:i,isSigner:!1,isWritable:!1}];return new gh({keys:l,programId:c,data:s})}const I6=Xv([$l("instruction")]);function bT(r,t=Sh){const e=[{pubkey:r,isSigner:!1,isWritable:!0}],n=Zt.Buffer.alloc(I6.span);return I6.encode({instruction:ul.SyncNative},n),new gh({keys:e,programId:t,data:n})}const wT="logger/5.7.0";let B6=!1,P6=!1;const H0={debug:1,default:2,info:2,warning:3,error:4,off:5};let R6=H0.default,hp=null;function xT(){try{const r=[];if(["NFD","NFC","NFKD","NFKC"].forEach(t=>{try{if("test".normalize(t)!=="test")throw new Error("bad normalize")}catch{r.push(t)}}),r.length)throw new Error("missing "+r.join(", "));if(String.fromCharCode(233).normalize("NFD")!==String.fromCharCode(101,769))throw new Error("broken implementation")}catch(r){return r.message}return null}const C6=xT();var c2;(function(r){r.DEBUG="DEBUG",r.INFO="INFO",r.WARNING="WARNING",r.ERROR="ERROR",r.OFF="OFF"})(c2||(c2={}));var ro;(function(r){r.UNKNOWN_ERROR="UNKNOWN_ERROR",r.NOT_IMPLEMENTED="NOT_IMPLEMENTED",r.UNSUPPORTED_OPERATION="UNSUPPORTED_OPERATION",r.NETWORK_ERROR="NETWORK_ERROR",r.SERVER_ERROR="SERVER_ERROR",r.TIMEOUT="TIMEOUT",r.BUFFER_OVERRUN="BUFFER_OVERRUN",r.NUMERIC_FAULT="NUMERIC_FAULT",r.MISSING_NEW="MISSING_NEW",r.INVALID_ARGUMENT="INVALID_ARGUMENT",r.MISSING_ARGUMENT="MISSING_ARGUMENT",r.UNEXPECTED_ARGUMENT="UNEXPECTED_ARGUMENT",r.CALL_EXCEPTION="CALL_EXCEPTION",r.INSUFFICIENT_FUNDS="INSUFFICIENT_FUNDS",r.NONCE_EXPIRED="NONCE_EXPIRED",r.REPLACEMENT_UNDERPRICED="REPLACEMENT_UNDERPRICED",r.UNPREDICTABLE_GAS_LIMIT="UNPREDICTABLE_GAS_LIMIT",r.TRANSACTION_REPLACED="TRANSACTION_REPLACED",r.ACTION_REJECTED="ACTION_REJECTED"})(ro||(ro={}));const T6="0123456789abcdef";class Qr{constructor(t){Object.defineProperty(this,"version",{enumerable:!0,value:t,writable:!1})}_log(t,e){const n=t.toLowerCase();H0[n]==null&&this.throwArgumentError("invalid log level name","logLevel",t),!(R6>H0[n])&&console.log.apply(console,e)}debug(...t){this._log(Qr.levels.DEBUG,t)}info(...t){this._log(Qr.levels.INFO,t)}warn(...t){this._log(Qr.levels.WARNING,t)}makeError(t,e,n){if(P6)return this.makeError("censored error",e,{});e||(e=Qr.errors.UNKNOWN_ERROR),n||(n={});const s=[];Object.keys(n).forEach(p=>{const m=n[p];try{if(m instanceof Uint8Array){let v="";for(let _=0;_<m.length;_++)v+=T6[m[_]>>4],v+=T6[m[_]&15];s.push(p+"=Uint8Array(0x"+v+")")}else s.push(p+"="+JSON.stringify(m))}catch{s.push(p+"="+JSON.stringify(n[p].toString()))}}),s.push(`code=${e}`),s.push(`version=${this.version}`);const i=t;let c="";switch(e){case ro.NUMERIC_FAULT:{c="NUMERIC_FAULT";const p=t;switch(p){case"overflow":case"underflow":case"division-by-zero":c+="-"+p;break;case"negative-power":case"negative-width":c+="-unsupported";break;case"unbound-bitwise-result":c+="-unbound-result";break}break}case ro.CALL_EXCEPTION:case ro.INSUFFICIENT_FUNDS:case ro.MISSING_NEW:case ro.NONCE_EXPIRED:case ro.REPLACEMENT_UNDERPRICED:case ro.TRANSACTION_REPLACED:case ro.UNPREDICTABLE_GAS_LIMIT:c=e;break}c&&(t+=" [ See: https://links.ethers.org/v5-errors-"+c+" ]"),s.length&&(t+=" ("+s.join(", ")+")");const l=new Error(t);return l.reason=i,l.code=e,Object.keys(n).forEach(function(p){l[p]=n[p]}),l}throwError(t,e,n){throw this.makeError(t,e,n)}throwArgumentError(t,e,n){return this.throwError(t,Qr.errors.INVALID_ARGUMENT,{argument:e,value:n})}assert(t,e,n,s){t||this.throwError(e,n,s)}assertArgument(t,e,n,s){t||this.throwArgumentError(e,n,s)}checkNormalize(t){C6&&this.throwError("platform missing String.prototype.normalize",Qr.errors.UNSUPPORTED_OPERATION,{operation:"String.prototype.normalize",form:C6})}checkSafeUint53(t,e){typeof t=="number"&&(e==null&&(e="value not safe"),(t<0||t>=9007199254740991)&&this.throwError(e,Qr.errors.NUMERIC_FAULT,{operation:"checkSafeInteger",fault:"out-of-safe-range",value:t}),t%1&&this.throwError(e,Qr.errors.NUMERIC_FAULT,{operation:"checkSafeInteger",fault:"non-integer",value:t}))}checkArgumentCount(t,e,n){n?n=": "+n:n="",t<e&&this.throwError("missing argument"+n,Qr.errors.MISSING_ARGUMENT,{count:t,expectedCount:e}),t>e&&this.throwError("too many arguments"+n,Qr.errors.UNEXPECTED_ARGUMENT,{count:t,expectedCount:e})}checkNew(t,e){(t===Object||t==null)&&this.throwError("missing new",Qr.errors.MISSING_NEW,{name:e.name})}checkAbstract(t,e){t===e?this.throwError("cannot instantiate abstract class "+JSON.stringify(e.name)+" directly; use a sub-class",Qr.errors.UNSUPPORTED_OPERATION,{name:t.name,operation:"new"}):(t===Object||t==null)&&this.throwError("missing new",Qr.errors.MISSING_NEW,{name:e.name})}static globalLogger(){return hp||(hp=new Qr(wT)),hp}static setCensorship(t,e){if(!t&&e&&this.globalLogger().throwError("cannot permanently disable censorship",Qr.errors.UNSUPPORTED_OPERATION,{operation:"setCensorship"}),B6){if(!t)return;this.globalLogger().throwError("error censorship permanent",Qr.errors.UNSUPPORTED_OPERATION,{operation:"setCensorship"})}P6=!!t,B6=!!e}static setLogLevel(t){const e=H0[t.toLowerCase()];if(e==null){Qr.globalLogger().warn("invalid log level - "+t);return}R6=e}static from(t){return new Qr(t)}}Qr.errors=ro;Qr.levels=c2;const _T="bytes/5.7.0",lp=new Qr(_T);function MT(r){return!!r.toHexString}function V0(r){return r.slice||(r.slice=function(){const t=Array.prototype.slice.call(arguments);return V0(new Uint8Array(Array.prototype.slice.apply(r,t)))}),r}function L6(r){return typeof r=="number"&&r==r&&r%1===0}function ET(r){if(r==null)return!1;if(r.constructor===Uint8Array)return!0;if(typeof r=="string"||!L6(r.length)||r.length<0)return!1;for(let t=0;t<r.length;t++){const e=r[t];if(!L6(e)||e<0||e>=256)return!1}return!0}function AT(r,t){if(t||(t={}),typeof r=="number"){lp.checkSafeUint53(r,"invalid arrayify value");const e=[];for(;r;)e.unshift(r&255),r=parseInt(String(r/256));return e.length===0&&e.push(0),V0(new Uint8Array(e))}if(t.allowMissingPrefix&&typeof r=="string"&&r.substring(0,2)!=="0x"&&(r="0x"+r),MT(r)&&(r=r.toHexString()),ST(r)){let e=r.substring(2);e.length%2&&(t.hexPad==="left"?e="0"+e:t.hexPad==="right"?e+="0":lp.throwArgumentError("hex data is odd-length","value",r));const n=[];for(let s=0;s<e.length;s+=2)n.push(parseInt(e.substring(s,s+2),16));return V0(new Uint8Array(n))}return ET(r)?V0(new Uint8Array(r)):lp.throwArgumentError("invalid arrayify value","value",r)}function ST(r,t){return!(typeof r!="string"||!r.match(/^0x[0-9A-Fa-f]*$/)||t&&r.length!==2+2*t)}function kT(r){return"0x"+oC.sha256().update(AT(r)).digest("hex")}var dp={},nf={};Object.defineProperty(nf,"__esModule",{value:!0});nf.readBigUInt64LE=nf.readBigInt64LE=void 0;var IT=function(){return new Error("Attempt to access memory outside buffer bounds")},BT=function(r,t,e){return new Error('The "'+r+'" argument must be of type '+t+". Received "+e)},O6=function(r,t,e){return new Error('The value of "'+r+" is out of range. It must be "+t+". Received "+e)};function _g(r,t){if(typeof r!="number")throw BT(t,"number",r)}function i9(r,t){throw Math.floor(r)!==r?(_g(r,"offset"),O6("offset","an integer",r)):t<0?IT():O6("offset",">= 0 and <= "+t,r)}function PT(r,t){t===void 0&&(t=0),_g(t,"offset");var e=r[t],n=r[t+7];(e===void 0||n===void 0)&&i9(t,r.length-8);var s=r[t+4]+r[t+5]*Math.pow(2,8)+r[t+6]*Math.pow(2,16)+(n<<24);return(BigInt(s)<<BigInt(32))+BigInt(e+r[++t]*Math.pow(2,8)+r[++t]*Math.pow(2,16)+r[++t]*Math.pow(2,24))}nf.readBigInt64LE=PT;function RT(r,t){t===void 0&&(t=0),_g(t,"offset");var e=r[t],n=r[t+7];(e===void 0||n===void 0)&&i9(t,r.length-8);var s=e+r[++t]*Math.pow(2,8)+r[++t]*Math.pow(2,16)+r[++t]*Math.pow(2,24),i=r[++t]+r[++t]*Math.pow(2,8)+r[++t]*Math.pow(2,16)+n*Math.pow(2,24);return BigInt(s)+(BigInt(i)<<BigInt(32))}nf.readBigUInt64LE=RT;var Zf={},U6;function CT(){if(U6)return Zf;U6=1;var r=Re&&Re.__assign||function(){return r=Object.assign||function(i){for(var c,l=1,p=arguments.length;l<p;l++){c=arguments[l];for(var m in c)Object.prototype.hasOwnProperty.call(c,m)&&(i[m]=c[m])}return i},r.apply(this,arguments)},t=Re&&Re.__awaiter||function(i,c,l,p){function m(v){return v instanceof l?v:new l(function(_){_(v)})}return new(l||(l=Promise))(function(v,_){function E(A){try{x(p.next(A))}catch(B){_(B)}}function w(A){try{x(p.throw(A))}catch(B){_(B)}}function x(A){A.done?v(A.value):m(A.value).then(E,w)}x((p=p.apply(i,c||[])).next())})},e=Re&&Re.__generator||function(i,c){var l={label:0,sent:function(){if(v[0]&1)throw v[1];return v[1]},trys:[],ops:[]},p,m,v,_;return _={next:E(0),throw:E(1),return:E(2)},typeof Symbol=="function"&&(_[Symbol.iterator]=function(){return this}),_;function E(x){return function(A){return w([x,A])}}function w(x){if(p)throw new TypeError("Generator is already executing.");for(;l;)try{if(p=1,m&&(v=x[0]&2?m.return:x[0]?m.throw||((v=m.return)&&v.call(m),0):m.next)&&!(v=v.call(m,x[1])).done)return v;switch(m=0,v&&(x=[x[0]&2,v.value]),x[0]){case 0:case 1:v=x;break;case 4:return l.label++,{value:x[1],done:!1};case 5:l.label++,m=x[1],x=[0];continue;case 7:x=l.ops.pop(),l.trys.pop();continue;default:if(v=l.trys,!(v=v.length>0&&v[v.length-1])&&(x[0]===6||x[0]===2)){l=0;continue}if(x[0]===3&&(!v||x[1]>v[0]&&x[1]<v[3])){l.label=x[1];break}if(x[0]===6&&l.label<v[1]){l.label=v[1],v=x;break}if(v&&l.label<v[2]){l.label=v[2],l.ops.push(x);break}v[2]&&l.ops.pop(),l.trys.pop();continue}x=c.call(i,l)}catch(A){x=[6,A],m=0}finally{p=v=0}if(x[0]&5)throw x[1];return{value:x[0]?x[1]:void 0,done:!0}}};Object.defineProperty(Zf,"__esModule",{value:!0}),Zf.PythConnection=void 0;var n=Yg(),s=function(){function i(c,l,p,m){p===void 0&&(p="finalized"),this.productAccountKeyToProduct={},this.priceAccountKeyToProductAccountKey={},this.callbacks=[],this.connection=c,this.pythProgramKey=l,this.commitment=p,this.feedIds=m}return i.prototype.handleProductAccount=function(c,l,p){var m=n.parseProductData(l.data);this.productAccountKeyToProduct[c.toString()]={key:c,slot:p,accountInfo:r(r({},l),{data:m})},m.priceAccountKey&&(this.priceAccountKeyToProductAccountKey[m.priceAccountKey.toString()]=c.toString())},i.prototype.handlePriceAccount=function(c,l,p){var m=this.productAccountKeyToProduct[this.priceAccountKeyToProductAccountKey[c.toString()]];if(m===void 0)throw new Error("Got a price update for an unknown product. This is a bug in the library, please report it to the developers.");for(var v=n.parsePriceData(l.data,p),_={key:c,slot:p,accountInfo:r(r({},l),{data:v})},E=0,w=this.callbacks;E<w.length;E++){var x=w[E];x(m,_)}},i.prototype.handleAccount=function(c,l,p,m){var v=n.parseBaseData(l.data);if(v)switch(v.type){case n.AccountType.Mapping:break;case n.AccountType.Product:this.handleProductAccount(c,l,m);break;case n.AccountType.Price:p||this.handlePriceAccount(c,l,m);break;case n.AccountType.Test:case n.AccountType.Permission:break;default:throw new Error("Unknown account type: "+v.type+". Try upgrading pyth-client.")}},i.prototype.start=function(){return t(this,void 0,void 0,function(){var c,l,p,m,v,B,_,E,w,x,A,B,P=this;return e(this,function(R){switch(R.label){case 0:return[4,Promise.all([this.connection.getProgramAccounts(this.pythProgramKey,this.commitment),this.connection.getSlot(this.commitment)])];case 1:for(c=R.sent(),l=c[0],p=c[1],m=0,v=l;m<v.length;m++)B=v[m],this.handleAccount(B.pubkey,B.account,!0,p);if(this.feedIds)for(_=this.feedIds.map(function(C){return C.toString()}),l=l.filter(function(C){return _.includes(C.pubkey.toString())}),E=function(C){w.connection.onAccountChange(C.pubkey,function(O,z){P.handleAccount(C.pubkey,O,!1,z.slot)},w.commitment)},w=this,x=0,A=l;x<A.length;x++)B=A[x],E(B);else this.connection.onProgramAccountChange(this.pythProgramKey,function(C,O){P.handleAccount(C.accountId,C.accountInfo,!1,O.slot)},this.commitment);return[2]}})})},i.prototype.onPriceChange=function(c){this.callbacks.push(function(l,p){return c(l.accountInfo.data.product,p.accountInfo.data)})},i.prototype.onPriceChangeVerbose=function(c){this.callbacks.push(c)},i.prototype.stop=function(){return t(this,void 0,void 0,function(){return e(this,function(c){return this.callbacks=[],[2]})})},i}();return Zf.PythConnection=s,Zf}var Wf={},N6;function TT(){if(N6)return Wf;N6=1;var r=Re&&Re.__awaiter||function(s,i,c,l){function p(m){return m instanceof c?m:new c(function(v){v(m)})}return new(c||(c=Promise))(function(m,v){function _(x){try{w(l.next(x))}catch(A){v(A)}}function E(x){try{w(l.throw(x))}catch(A){v(A)}}function w(x){x.done?m(x.value):p(x.value).then(_,E)}w((l=l.apply(s,i||[])).next())})},t=Re&&Re.__generator||function(s,i){var c={label:0,sent:function(){if(m[0]&1)throw m[1];return m[1]},trys:[],ops:[]},l,p,m,v;return v={next:_(0),throw:_(1),return:_(2)},typeof Symbol=="function"&&(v[Symbol.iterator]=function(){return this}),v;function _(w){return function(x){return E([w,x])}}function E(w){if(l)throw new TypeError("Generator is already executing.");for(;c;)try{if(l=1,p&&(m=w[0]&2?p.return:w[0]?p.throw||((m=p.return)&&m.call(p),0):p.next)&&!(m=m.call(p,w[1])).done)return m;switch(p=0,m&&(w=[w[0]&2,m.value]),w[0]){case 0:case 1:m=w;break;case 4:return c.label++,{value:w[1],done:!1};case 5:c.label++,p=w[1],w=[0];continue;case 7:w=c.ops.pop(),c.trys.pop();continue;default:if(m=c.trys,!(m=m.length>0&&m[m.length-1])&&(w[0]===6||w[0]===2)){c=0;continue}if(w[0]===3&&(!m||w[1]>m[0]&&w[1]<m[3])){c.label=w[1];break}if(w[0]===6&&c.label<m[1]){c.label=m[1],m=w;break}if(m&&c.label<m[2]){c.label=m[2],c.ops.push(w);break}m[2]&&c.ops.pop(),c.trys.pop();continue}w=i.call(s,c)}catch(x){w=[6,x],p=0}finally{l=m=0}if(w[0]&5)throw w[1];return{value:w[0]?w[1]:void 0,done:!0}}};Object.defineProperty(Wf,"__esModule",{value:!0}),Wf.PythHttpClient=void 0;var e=Yg(),n=function(){function s(i,c,l){l===void 0&&(l="finalized"),this.connection=i,this.pythProgramKey=c,this.commitment=l}return s.prototype.getData=function(){return r(this,void 0,void 0,function(){var i,c,l,p,m,v,_,E,w,x,A,B,P;return t(this,function(R){switch(R.label){case 0:return i=new Set,c=new Set,l=new Set,p=new Map,m=new Map,v=new Array,[4,Promise.all([this.connection.getProgramAccounts(this.pythProgramKey,this.commitment),this.connection.getSlot(this.commitment)])];case 1:return _=R.sent(),E=_[0],w=_[1],x=new Array,A=new Map,E.forEach(function(C){var O=e.parseBaseData(C.account.data);if(O)switch(O.type){case e.AccountType.Mapping:break;case e.AccountType.Product:var z=e.parseProductData(C.account.data);A.set(C.pubkey.toBase58(),z.product),i.add(z.product.asset_type),c.add(z.product.symbol),l.add(z.product),p.set(z.product.symbol,z.product);break;case e.AccountType.Price:var H=e.parsePriceData(C.account.data,w);x.push(H);break;case e.AccountType.Test:break;case e.AccountType.Permission:B=e.parsePermissionData(C.account.data);break;default:throw new Error("Unknown account type: "+O.type+". Try upgrading pyth-client.")}}),x.forEach(function(C){var O=A.get(C.productAccountKey.toBase58());O&&(m.set(O.symbol,C),v.push(C))}),P={assetTypes:Array.from(i),symbols:Array.from(c),products:Array.from(l),productFromSymbol:p,productPrice:m,prices:v,permissionData:B},[2,P]}})})},s.prototype.getAssetPricesFromAccounts=function(i){return r(this,void 0,void 0,function(){var c,l,p,m,v,_,E,w;return t(this,function(x){switch(x.label){case 0:return c=[],[4,Promise.all([this.connection.getMultipleAccountsInfo(i,this.commitment),this.connection.getSlot(this.commitment)])];case 1:for(l=x.sent(),p=l[0],m=l[1],v=0;v<i.length;v++){if(_=p[v],!_)throw new Error("Could not get account info for account "+i[v].toBase58());if(E=e.parseBaseData(_.data),E===void 0||E.type!==e.AccountType.Price)throw new Error("Account "+i[v].toBase58()+" is not a price account");w=e.parsePriceData(_.data,m),c.push(w)}return[2,c]}})})},s}();return Wf.PythHttpClient=n,Wf}var da={},D6;function LT(){if(D6)return da;D6=1,Object.defineProperty(da,"__esModule",{value:!0}),da.getPythClusterApiUrl=da.getPythProgramKeyForCluster=void 0;var r=rg,t={"mainnet-beta":"FsJ3A3u2vn5cTVofAjvy6y5kwABJAqYWpe4975bi2epH",devnet:"gSbePebfvPy7tRqimPoVecS2UsBvYv46ynrzWocc92s","pythtest-crosschain":"gSbePebfvPy7tRqimPoVecS2UsBvYv46ynrzWocc92s",testnet:"8tfDNiaEyrV6Q1U4DEXrEigs9DoDtkugzFbybENEbCDz","pythtest-conformance":"8tfDNiaEyrV6Q1U4DEXrEigs9DoDtkugzFbybENEbCDz",pythnet:"FsJ3A3u2vn5cTVofAjvy6y5kwABJAqYWpe4975bi2epH",localnet:"gMYYig2utAxVoXnM9UhtTWrt8e7x2SVBZqsWZJeT5Gw"};function e(s){if(t[s]!==void 0)return new r.PublicKey(t[s]);throw new Error("Invalid Solana cluster name: "+s+". Valid options are: "+JSON.stringify(Object.keys(t)))}da.getPythProgramKeyForCluster=e;function n(s){return s==="pythtest-conformance"||s==="pythtest-crosschain"?"https://api.pythtest.pyth.network":s==="pythnet"?"https://pythnet.rpcpool.com":s==="localnet"?"http://localhost:8899":r.clusterApiUrl(s)}return da.getPythClusterApiUrl=n,da}var pp={},mp={},e0=sr.Buffer;function OT(r){if(r.length>=255)throw new TypeError("Alphabet too long");for(var t=new Uint8Array(256),e=0;e<t.length;e++)t[e]=255;for(var n=0;n<r.length;n++){var s=r.charAt(n),i=s.charCodeAt(0);if(t[i]!==255)throw new TypeError(s+" is ambiguous");t[i]=n}var c=r.length,l=r.charAt(0),p=Math.log(c)/Math.log(256),m=Math.log(256)/Math.log(c);function v(w){if((Array.isArray(w)||w instanceof Uint8Array)&&(w=e0.from(w)),!e0.isBuffer(w))throw new TypeError("Expected Buffer");if(w.length===0)return"";for(var x=0,A=0,B=0,P=w.length;B!==P&&w[B]===0;)B++,x++;for(var R=(P-B)*m+1>>>0,C=new Uint8Array(R);B!==P;){for(var O=w[B],z=0,H=R-1;(O!==0||z<A)&&H!==-1;H--,z++)O+=256*C[H]>>>0,C[H]=O%c>>>0,O=O/c>>>0;if(O!==0)throw new Error("Non-zero carry");A=z,B++}for(var tt=R-A;tt!==R&&C[tt]===0;)tt++;for(var nt=l.repeat(x);tt<R;++tt)nt+=r.charAt(C[tt]);return nt}function _(w){if(typeof w!="string")throw new TypeError("Expected String");if(w.length===0)return e0.alloc(0);for(var x=0,A=0,B=0;w[x]===l;)A++,x++;for(var P=(w.length-x)*p+1>>>0,R=new Uint8Array(P);w[x];){var C=t[w.charCodeAt(x)];if(C===255)return;for(var O=0,z=P-1;(C!==0||O<B)&&z!==-1;z--,O++)C+=c*R[z]>>>0,R[z]=C%256>>>0,C=C/256>>>0;if(C!==0)throw new Error("Non-zero carry");B=O,x++}for(var H=P-B;H!==P&&R[H]===0;)H++;var tt=e0.allocUnsafe(A+(P-H));tt.fill(0,0,A);for(var nt=A;H!==P;)tt[nt++]=R[H++];return tt}function E(w){var x=_(w);if(x)return x;throw new Error("Non-base"+c+" character")}return{encode:v,decodeUnsafe:_,decode:E}}var UT=OT,NT=UT,DT="123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz",zT=NT(DT);const Ou=Yv(zT);var Mg={exports:{}};const qT=/[\p{Lu}]/u,FT=/[\p{Ll}]/u,z6=/^[\p{Lu}](?![\p{Lu}])/gu,o9=/([\p{Alpha}\p{N}_]|$)/u,s9=/[_.\- ]+/,jT=new RegExp("^"+s9.source),q6=new RegExp(s9.source+o9.source,"gu"),F6=new RegExp("\\d+"+o9.source,"gu"),KT=(r,t,e)=>{let n=!1,s=!1,i=!1;for(let c=0;c<r.length;c++){const l=r[c];n&&qT.test(l)?(r=r.slice(0,c)+"-"+r.slice(c),n=!1,i=s,s=!0,c++):s&&i&&FT.test(l)?(r=r.slice(0,c-1)+"-"+r.slice(c-1),i=s,s=!1,n=!0):(n=t(l)===l&&e(l)!==l,i=s,s=e(l)===l&&t(l)!==l)}return r},$T=(r,t)=>(z6.lastIndex=0,r.replace(z6,e=>t(e))),HT=(r,t)=>(q6.lastIndex=0,F6.lastIndex=0,r.replace(q6,(e,n)=>t(n)).replace(F6,e=>t(e))),a9=(r,t)=>{if(!(typeof r=="string"||Array.isArray(r)))throw new TypeError("Expected the input to be `string | string[]`");if(t={pascalCase:!1,preserveConsecutiveUppercase:!1,...t},Array.isArray(r)?r=r.map(i=>i.trim()).filter(i=>i.length).join("-"):r=r.trim(),r.length===0)return"";const e=t.locale===!1?i=>i.toLowerCase():i=>i.toLocaleLowerCase(t.locale),n=t.locale===!1?i=>i.toUpperCase():i=>i.toLocaleUpperCase(t.locale);return r.length===1?t.pascalCase?n(r):e(r):(r!==e(r)&&(r=KT(r,e,n)),r=r.replace(jT,""),t.preserveConsecutiveUppercase?r=$T(r,e):r=e(r),t.pascalCase&&(r=n(r.charAt(0))+r.slice(1)),HT(r,n))};Mg.exports=a9;Mg.exports.default=a9;var Eg=Mg.exports;const Dr=Yv(Eg);var Ze={},Pe={};let Rr=class{constructor(t,e){if(!Number.isInteger(t))throw new TypeError("span must be an integer");this.span=t,this.property=e}makeDestinationObject(){return{}}decode(t,e){throw new Error("Layout is abstract")}encode(t,e,n){throw new Error("Layout is abstract")}getSpan(t,e){if(0>this.span)throw new RangeError("indeterminate span");return this.span}replicate(t){const e=Object.create(this.constructor.prototype);return Object.assign(e,this),e.property=t,e}fromArray(t){}};Pe.Layout=Rr;function Ag(r,t){return t.property?r+"["+t.property+"]":r}Pe.nameWithProperty=Ag;function VT(r,t){if(typeof r!="function")throw new TypeError("Class must be constructor");if(r.hasOwnProperty("layout_"))throw new Error("Class is already bound to a layout");if(!(t&&t instanceof Rr))throw new TypeError("layout must be a Layout");if(t.hasOwnProperty("boundConstructor_"))throw new Error("layout is already bound to a constructor");r.layout_=t,t.boundConstructor_=r,t.makeDestinationObject=()=>new r,Object.defineProperty(r.prototype,"encode",{value:function(e,n){return t.encode(this,e,n)},writable:!0}),Object.defineProperty(r,"decode",{value:function(e,n){return t.decode(e,n)},writable:!0})}Pe.bindConstructorLayout=VT;let ei=class extends Rr{isCount(){throw new Error("ExternalLayout is abstract")}};class u9 extends ei{constructor(t,e){if(t===void 0&&(t=1),!Number.isInteger(t)||0>=t)throw new TypeError("elementSpan must be a (positive) integer");super(-1,e),this.elementSpan=t}isCount(){return!0}decode(t,e){e===void 0&&(e=0);const n=t.length-e;return Math.floor(n/this.elementSpan)}encode(t,e,n){return 0}}let Sg=class extends ei{constructor(t,e,n){if(!(t instanceof Rr))throw new TypeError("layout must be a Layout");if(e===void 0)e=0;else if(!Number.isInteger(e))throw new TypeError("offset must be integer or undefined");super(t.span,n||t.property),this.layout=t,this.offset=e}isCount(){return this.layout instanceof Jo||this.layout instanceof Bs}decode(t,e){return e===void 0&&(e=0),this.layout.decode(t,e+this.offset)}encode(t,e,n){return n===void 0&&(n=0),this.layout.encode(t,e,n+this.offset)}},Jo=class extends Rr{constructor(t,e){if(super(t,e),6<this.span)throw new RangeError("span must not exceed 6 bytes")}decode(t,e){return e===void 0&&(e=0),t.readUIntLE(e,this.span)}encode(t,e,n){return n===void 0&&(n=0),e.writeUIntLE(t,n,this.span),this.span}},Bs=class extends Rr{constructor(t,e){if(super(t,e),6<this.span)throw new RangeError("span must not exceed 6 bytes")}decode(t,e){return e===void 0&&(e=0),t.readUIntBE(e,this.span)}encode(t,e,n){return n===void 0&&(n=0),e.writeUIntBE(t,n,this.span),this.span}};class su extends Rr{constructor(t,e){if(super(t,e),6<this.span)throw new RangeError("span must not exceed 6 bytes")}decode(t,e){return e===void 0&&(e=0),t.readIntLE(e,this.span)}encode(t,e,n){return n===void 0&&(n=0),e.writeIntLE(t,n,this.span),this.span}}class Ef extends Rr{constructor(t,e){if(super(t,e),6<this.span)throw new RangeError("span must not exceed 6 bytes")}decode(t,e){return e===void 0&&(e=0),t.readIntBE(e,this.span)}encode(t,e,n){return n===void 0&&(n=0),e.writeIntBE(t,n,this.span),this.span}}const h2=Math.pow(2,32);function ud(r){const t=Math.floor(r/h2),e=r-t*h2;return{hi32:t,lo32:e}}function fd(r,t){return r*h2+t}let ZT=class extends Rr{constructor(t){super(8,t)}decode(t,e){e===void 0&&(e=0);const n=t.readUInt32LE(e),s=t.readUInt32LE(e+4);return fd(s,n)}encode(t,e,n){n===void 0&&(n=0);const s=ud(t);return e.writeUInt32LE(s.lo32,n),e.writeUInt32LE(s.hi32,n+4),8}};class WT extends Rr{constructor(t){super(8,t)}decode(t,e){e===void 0&&(e=0);const n=t.readUInt32BE(e),s=t.readUInt32BE(e+4);return fd(n,s)}encode(t,e,n){n===void 0&&(n=0);const s=ud(t);return e.writeUInt32BE(s.hi32,n),e.writeUInt32BE(s.lo32,n+4),8}}let GT=class extends Rr{constructor(t){super(8,t)}decode(t,e){e===void 0&&(e=0);const n=t.readUInt32LE(e),s=t.readInt32LE(e+4);return fd(s,n)}encode(t,e,n){n===void 0&&(n=0);const s=ud(t);return e.writeUInt32LE(s.lo32,n),e.writeInt32LE(s.hi32,n+4),8}};class YT extends Rr{constructor(t){super(8,t)}decode(t,e){e===void 0&&(e=0);const n=t.readInt32BE(e),s=t.readUInt32BE(e+4);return fd(n,s)}encode(t,e,n){n===void 0&&(n=0);const s=ud(t);return e.writeInt32BE(s.hi32,n),e.writeUInt32BE(s.lo32,n+4),8}}class f9 extends Rr{constructor(t){super(4,t)}decode(t,e){return e===void 0&&(e=0),t.readFloatLE(e)}encode(t,e,n){return n===void 0&&(n=0),e.writeFloatLE(t,n),4}}class c9 extends Rr{constructor(t){super(4,t)}decode(t,e){return e===void 0&&(e=0),t.readFloatBE(e)}encode(t,e,n){return n===void 0&&(n=0),e.writeFloatBE(t,n),4}}class h9 extends Rr{constructor(t){super(8,t)}decode(t,e){return e===void 0&&(e=0),t.readDoubleLE(e)}encode(t,e,n){return n===void 0&&(n=0),e.writeDoubleLE(t,n),8}}class l9 extends Rr{constructor(t){super(8,t)}decode(t,e){return e===void 0&&(e=0),t.readDoubleBE(e)}encode(t,e,n){return n===void 0&&(n=0),e.writeDoubleBE(t,n),8}}class d9 extends Rr{constructor(t,e,n){if(!(t instanceof Rr))throw new TypeError("elementLayout must be a Layout");if(!(e instanceof ei&&e.isCount()||Number.isInteger(e)&&0<=e))throw new TypeError("count must be non-negative integer or an unsigned integer ExternalLayout");let s=-1;!(e instanceof ei)&&0<t.span&&(s=e*t.span),super(s,n),this.elementLayout=t,this.count=e}getSpan(t,e){if(0<=this.span)return this.span;e===void 0&&(e=0);let n=0,s=this.count;if(s instanceof ei&&(s=s.decode(t,e)),0<this.elementLayout.span)n=s*this.elementLayout.span;else{let i=0;for(;i<s;)n+=this.elementLayout.getSpan(t,e+n),++i}return n}decode(t,e){e===void 0&&(e=0);const n=[];let s=0,i=this.count;for(i instanceof ei&&(i=i.decode(t,e));s<i;)n.push(this.elementLayout.decode(t,e)),e+=this.elementLayout.getSpan(t,e),s+=1;return n}encode(t,e,n){n===void 0&&(n=0);const s=this.elementLayout,i=t.reduce((c,l)=>c+s.encode(l,e,n+c),0);return this.count instanceof ei&&this.count.encode(t.length,e,n),i}}let p9=class extends Rr{constructor(t,e,n){if(!(Array.isArray(t)&&t.reduce((i,c)=>i&&c instanceof Rr,!0)))throw new TypeError("fields must be array of Layout instances");typeof e=="boolean"&&n===void 0&&(n=e,e=void 0);for(const i of t)if(0>i.span&&i.property===void 0)throw new Error("fields cannot contain unnamed variable-length layout");let s=-1;try{s=t.reduce((i,c)=>i+c.getSpan(),0)}catch{}super(s,e),this.fields=t,this.decodePrefixes=!!n}getSpan(t,e){if(0<=this.span)return this.span;e===void 0&&(e=0);let n=0;try{n=this.fields.reduce((s,i)=>{const c=i.getSpan(t,e);return e+=c,s+c},0)}catch{throw new RangeError("indeterminate span")}return n}decode(t,e){e===void 0&&(e=0);const n=this.makeDestinationObject();for(const s of this.fields)if(s.property!==void 0&&(n[s.property]=s.decode(t,e)),e+=s.getSpan(t,e),this.decodePrefixes&&t.length===e)break;return n}encode(t,e,n){n===void 0&&(n=0);const s=n;let i=0,c=0;for(const l of this.fields){let p=l.span;if(c=0<p?p:0,l.property!==void 0){const m=t[l.property];m!==void 0&&(c=l.encode(m,e,n),0>p&&(p=l.getSpan(e,n)))}i=n,n+=p}return i+c-s}fromArray(t){const e=this.makeDestinationObject();for(const n of this.fields)n.property!==void 0&&0<t.length&&(e[n.property]=t.shift());return e}layoutFor(t){if(typeof t!="string")throw new TypeError("property must be string");for(const e of this.fields)if(e.property===t)return e}offsetOf(t){if(typeof t!="string")throw new TypeError("property must be string");let e=0;for(const n of this.fields){if(n.property===t)return e;0>n.span?e=-1:0<=e&&(e+=n.span)}}},kg=class{constructor(t){this.property=t}decode(){throw new Error("UnionDiscriminator is abstract")}encode(){throw new Error("UnionDiscriminator is abstract")}},fl=class extends kg{constructor(t,e){if(!(t instanceof ei&&t.isCount()))throw new TypeError("layout must be an unsigned integer ExternalLayout");super(e||t.property||"variant"),this.layout=t}decode(t,e){return this.layout.decode(t,e)}encode(t,e,n){return this.layout.encode(t,e,n)}},Ig=class extends Rr{constructor(t,e,n){const s=t instanceof Jo||t instanceof Bs;if(s)t=new fl(new Sg(t));else if(t instanceof ei&&t.isCount())t=new fl(t);else if(!(t instanceof kg))throw new TypeError("discr must be a UnionDiscriminator or an unsigned integer layout");if(e===void 0&&(e=null),!(e===null||e instanceof Rr))throw new TypeError("defaultLayout must be null or a Layout");if(e!==null){if(0>e.span)throw new Error("defaultLayout must have constant span");e.property===void 0&&(e=e.replicate("content"))}let i=-1;e&&(i=e.span,0<=i&&s&&(i+=t.layout.span)),super(i,n),this.discriminator=t,this.usesPrefixDiscriminator=s,this.defaultLayout=e,this.registry={};let c=this.defaultGetSourceVariant.bind(this);this.getSourceVariant=function(l){return c(l)},this.configGetSourceVariant=function(l){c=l.bind(this)}}getSpan(t,e){if(0<=this.span)return this.span;e===void 0&&(e=0);const n=this.getVariant(t,e);if(!n)throw new Error("unable to determine span for unrecognized variant");return n.getSpan(t,e)}defaultGetSourceVariant(t){if(t.hasOwnProperty(this.discriminator.property)){if(this.defaultLayout&&t.hasOwnProperty(this.defaultLayout.property))return;const e=this.registry[t[this.discriminator.property]];if(e&&(!e.layout||t.hasOwnProperty(e.property)))return e}else for(const e in this.registry){const n=this.registry[e];if(t.hasOwnProperty(n.property))return n}throw new Error("unable to infer src variant")}decode(t,e){e===void 0&&(e=0);let n;const s=this.discriminator,i=s.decode(t,e);let c=this.registry[i];if(c===void 0){let l=0;c=this.defaultLayout,this.usesPrefixDiscriminator&&(l=s.layout.span),n=this.makeDestinationObject(),n[s.property]=i,n[c.property]=this.defaultLayout.decode(t,e+l)}else n=c.decode(t,e);return n}encode(t,e,n){n===void 0&&(n=0);const s=this.getSourceVariant(t);if(s===void 0){const i=this.discriminator,c=this.defaultLayout;let l=0;return this.usesPrefixDiscriminator&&(l=i.layout.span),i.encode(t[i.property],e,n),l+c.encode(t[c.property],e,n+l)}return s.encode(t,e,n)}addVariant(t,e,n){const s=new m9(this,t,e,n);return this.registry[t]=s,s}getVariant(t,e){let n=t;return Zt.Buffer.isBuffer(t)&&(e===void 0&&(e=0),n=this.discriminator.decode(t,e)),this.registry[n]}},m9=class extends Rr{constructor(t,e,n,s){if(!(t instanceof Ig))throw new TypeError("union must be a Union");if(!Number.isInteger(e)||0>e)throw new TypeError("variant must be a (non-negative) integer");if(typeof n=="string"&&s===void 0&&(s=n,n=null),n){if(!(n instanceof Rr))throw new TypeError("layout must be a Layout");if(t.defaultLayout!==null&&0<=n.span&&n.span>t.defaultLayout.span)throw new Error("variant span exceeds span of containing union");if(typeof s!="string")throw new TypeError("variant must have a String property")}let i=t.span;0>t.span&&(i=n?n.span:0,0<=i&&t.usesPrefixDiscriminator&&(i+=t.discriminator.layout.span)),super(i,s),this.union=t,this.variant=e,this.layout=n||null}getSpan(t,e){if(0<=this.span)return this.span;e===void 0&&(e=0);let n=0;return this.union.usesPrefixDiscriminator&&(n=this.union.discriminator.layout.span),n+this.layout.getSpan(t,e+n)}decode(t,e){const n=this.makeDestinationObject();if(e===void 0&&(e=0),this!==this.union.getVariant(t,e))throw new Error("variant mismatch");let s=0;return this.union.usesPrefixDiscriminator&&(s=this.union.discriminator.layout.span),this.layout?n[this.property]=this.layout.decode(t,e+s):this.property?n[this.property]=!0:this.union.usesPrefixDiscriminator&&(n[this.union.discriminator.property]=this.variant),n}encode(t,e,n){n===void 0&&(n=0);let s=0;if(this.union.usesPrefixDiscriminator&&(s=this.union.discriminator.layout.span),this.layout&&!t.hasOwnProperty(this.property))throw new TypeError("variant lacks property "+this.property);this.union.discriminator.encode(this.variant,e,n);let i=s;if(this.layout&&(this.layout.encode(t[this.property],e,n+s),i+=this.layout.getSpan(e,n+s),0<=this.union.span&&i>this.union.span))throw new Error("encoded variant overruns containing union");return i}fromArray(t){if(this.layout)return this.layout.fromArray(t)}};function Mu(r){return 0>r&&(r+=4294967296),r}class Bg extends Rr{constructor(t,e,n){if(!(t instanceof Jo||t instanceof Bs))throw new TypeError("word must be a UInt or UIntBE layout");if(typeof e=="string"&&n===void 0&&(n=e,e=void 0),4<t.span)throw new RangeError("word cannot exceed 32 bits");super(t.span,n),this.word=t,this.msb=!!e,this.fields=[];let s=0;this._packedSetValue=function(i){return s=Mu(i),this},this._packedGetValue=function(){return s}}decode(t,e){const n=this.makeDestinationObject();e===void 0&&(e=0);const s=this.word.decode(t,e);this._packedSetValue(s);for(const i of this.fields)i.property!==void 0&&(n[i.property]=i.decode(s));return n}encode(t,e,n){n===void 0&&(n=0);const s=this.word.decode(e,n);this._packedSetValue(s);for(const i of this.fields)if(i.property!==void 0){const c=t[i.property];c!==void 0&&i.encode(c)}return this.word.encode(this._packedGetValue(),e,n)}addField(t,e){const n=new Ec(this,t,e);return this.fields.push(n),n}addBoolean(t){const e=new v9(this,t);return this.fields.push(e),e}fieldFor(t){if(typeof t!="string")throw new TypeError("property must be string");for(const e of this.fields)if(e.property===t)return e}}class Ec{constructor(t,e,n){if(!(t instanceof Bg))throw new TypeError("container must be a BitStructure");if(!Number.isInteger(e)||0>=e)throw new TypeError("bits must be positive integer");const s=8*t.span,i=t.fields.reduce((c,l)=>c+l.bits,0);if(e+i>s)throw new Error("bits too long for span remainder ("+(s-i)+" of "+s+" remain)");this.container=t,this.bits=e,this.valueMask=(1<<e)-1,e===32&&(this.valueMask=4294967295),this.start=i,this.container.msb&&(this.start=s-i-e),this.wordMask=Mu(this.valueMask<<this.start),this.property=n}decode(){const t=this.container._packedGetValue();return Mu(t&this.wordMask)>>>this.start}encode(t){if(!Number.isInteger(t)||t!==Mu(t&this.valueMask))throw new TypeError(Ag("BitField.encode",this)+" value must be integer not exceeding "+this.valueMask);const e=this.container._packedGetValue(),n=Mu(t<<this.start);this.container._packedSetValue(Mu(e&~this.wordMask)|n)}}let v9=class extends Ec{constructor(t,e){super(t,1,e)}decode(t,e){return!!Ec.prototype.decode.call(this,t,e)}encode(t){return typeof t=="boolean"&&(t=+t),Ec.prototype.encode.call(this,t)}},g9=class extends Rr{constructor(t,e){if(!(t instanceof ei&&t.isCount()||Number.isInteger(t)&&0<=t))throw new TypeError("length must be positive integer or an unsigned integer ExternalLayout");let n=-1;t instanceof ei||(n=t),super(n,e),this.length=t}getSpan(t,e){let n=this.span;return 0>n&&(n=this.length.decode(t,e)),n}decode(t,e){e===void 0&&(e=0);let n=this.span;return 0>n&&(n=this.length.decode(t,e)),t.slice(e,e+n)}encode(t,e,n){let s=this.length;if(this.length instanceof ei&&(s=t.length),!(Zt.Buffer.isBuffer(t)&&s===t.length))throw new TypeError(Ag("Blob.encode",this)+" requires (length "+s+") Buffer as src");if(n+s>e.length)throw new RangeError("encoding overruns Buffer");return e.write(t.toString("hex"),n,s,"hex"),this.length instanceof ei&&this.length.encode(s,e,n),s}};class y9 extends Rr{constructor(t){super(-1,t)}getSpan(t,e){if(!Zt.Buffer.isBuffer(t))throw new TypeError("b must be a Buffer");e===void 0&&(e=0);let n=e;for(;n<t.length&&t[n]!==0;)n+=1;return 1+n-e}decode(t,e,n){e===void 0&&(e=0);let s=this.getSpan(t,e);return t.slice(e,e+s-1).toString("utf-8")}encode(t,e,n){n===void 0&&(n=0),typeof t!="string"&&(t=t.toString());const s=new Zt.Buffer(t,"utf8"),i=s.length;if(n+i>e.length)throw new RangeError("encoding overruns Buffer");return s.copy(e,n),e[n+i]=0,i+1}}class b9 extends Rr{constructor(t,e){if(typeof t=="string"&&e===void 0&&(e=t,t=void 0),t===void 0)t=-1;else if(!Number.isInteger(t))throw new TypeError("maxSpan must be an integer");super(-1,e),this.maxSpan=t}getSpan(t,e){if(!Zt.Buffer.isBuffer(t))throw new TypeError("b must be a Buffer");return e===void 0&&(e=0),t.length-e}decode(t,e,n){e===void 0&&(e=0);let s=this.getSpan(t,e);if(0<=this.maxSpan&&this.maxSpan<s)throw new RangeError("text length exceeds maxSpan");return t.slice(e,e+s).toString("utf-8")}encode(t,e,n){n===void 0&&(n=0),typeof t!="string"&&(t=t.toString());const s=new Zt.Buffer(t,"utf8"),i=s.length;if(0<=this.maxSpan&&this.maxSpan<i)throw new RangeError("text length exceeds maxSpan");if(n+i>e.length)throw new RangeError("encoding overruns Buffer");return s.copy(e,n),i}}class w9 extends Rr{constructor(t,e){super(0,e),this.value=t}decode(t,e,n){return this.value}encode(t,e,n){return 0}}Pe.ExternalLayout=ei;Pe.GreedyCount=u9;Pe.OffsetLayout=Sg;Pe.UInt=Jo;Pe.UIntBE=Bs;Pe.Int=su;Pe.IntBE=Ef;Pe.Float=f9;Pe.FloatBE=c9;Pe.Double=h9;Pe.DoubleBE=l9;Pe.Sequence=d9;Pe.Structure=p9;Pe.UnionDiscriminator=kg;Pe.UnionLayoutDiscriminator=fl;Pe.Union=Ig;Pe.VariantLayout=m9;Pe.BitStructure=Bg;Pe.BitField=Ec;Pe.Boolean=v9;Pe.Blob=g9;Pe.CString=y9;Pe.UTF8=b9;Pe.Constant=w9;Pe.greedy=(r,t)=>new u9(r,t);Pe.offset=(r,t,e)=>new Sg(r,t,e);Pe.u8=r=>new Jo(1,r);Pe.u16=r=>new Jo(2,r);Pe.u24=r=>new Jo(3,r);Pe.u32=r=>new Jo(4,r);Pe.u40=r=>new Jo(5,r);Pe.u48=r=>new Jo(6,r);Pe.nu64=r=>new ZT(r);Pe.u16be=r=>new Bs(2,r);Pe.u24be=r=>new Bs(3,r);Pe.u32be=r=>new Bs(4,r);Pe.u40be=r=>new Bs(5,r);Pe.u48be=r=>new Bs(6,r);Pe.nu64be=r=>new WT(r);Pe.s8=r=>new su(1,r);Pe.s16=r=>new su(2,r);Pe.s24=r=>new su(3,r);Pe.s32=r=>new su(4,r);Pe.s40=r=>new su(5,r);Pe.s48=r=>new su(6,r);Pe.ns64=r=>new GT(r);Pe.s16be=r=>new Ef(2,r);Pe.s24be=r=>new Ef(3,r);Pe.s32be=r=>new Ef(4,r);Pe.s40be=r=>new Ef(5,r);Pe.s48be=r=>new Ef(6,r);Pe.ns64be=r=>new YT(r);Pe.f32=r=>new f9(r);Pe.f32be=r=>new c9(r);Pe.f64=r=>new h9(r);Pe.f64be=r=>new l9(r);Pe.struct=(r,t,e)=>new p9(r,t,e);Pe.bits=(r,t,e)=>new Bg(r,t,e);Pe.seq=(r,t,e)=>new d9(r,t,e);Pe.union=(r,t,e)=>new Ig(r,t,e);Pe.unionLayoutDiscriminator=(r,t)=>new fl(r,t);Pe.blob=(r,t)=>new g9(r,t);Pe.cstr=r=>new y9(r);Pe.utf8=(r,t)=>new b9(r,t);Pe.const=(r,t)=>new w9(r,t);(function(r){var t=Re&&Re.__importDefault||function(o){return o&&o.__esModule?o:{default:o}};Object.defineProperty(r,"__esModule",{value:!0}),r.map=r.array=r.rustEnum=r.str=r.vecU8=r.tagged=r.vec=r.bool=r.option=r.publicKey=r.i256=r.u256=r.i128=r.u128=r.i64=r.u64=r.struct=r.f64=r.f32=r.i32=r.u32=r.i16=r.u16=r.i8=r.u8=void 0;const e=Pe,n=rg,s=t(Kl);var i=Pe;Object.defineProperty(r,"u8",{enumerable:!0,get:function(){return i.u8}}),Object.defineProperty(r,"i8",{enumerable:!0,get:function(){return i.s8}}),Object.defineProperty(r,"u16",{enumerable:!0,get:function(){return i.u16}}),Object.defineProperty(r,"i16",{enumerable:!0,get:function(){return i.s16}}),Object.defineProperty(r,"u32",{enumerable:!0,get:function(){return i.u32}}),Object.defineProperty(r,"i32",{enumerable:!0,get:function(){return i.s32}}),Object.defineProperty(r,"f32",{enumerable:!0,get:function(){return i.f32}}),Object.defineProperty(r,"f64",{enumerable:!0,get:function(){return i.f64}}),Object.defineProperty(r,"struct",{enumerable:!0,get:function(){return i.struct}});class c extends e.Layout{constructor(a,f,h){super(a,h),this.blob=(0,e.blob)(a),this.signed=f}decode(a,f=0){const h=new s.default(this.blob.decode(a,f),10,"le");return this.signed?h.fromTwos(this.span*8).clone():h}encode(a,f,h=0){return this.signed&&(a=a.toTwos(this.span*8)),this.blob.encode(a.toArrayLike(Zt.Buffer,"le",this.span),f,h)}}function l(o){return new c(8,!1,o)}r.u64=l;function p(o){return new c(8,!0,o)}r.i64=p;function m(o){return new c(16,!1,o)}r.u128=m;function v(o){return new c(16,!0,o)}r.i128=v;function _(o){return new c(32,!1,o)}r.u256=_;function E(o){return new c(32,!0,o)}r.i256=E;class w extends e.Layout{constructor(a,f,h,g){super(a.span,g),this.layout=a,this.decoder=f,this.encoder=h}decode(a,f){return this.decoder(this.layout.decode(a,f))}encode(a,f,h){return this.layout.encode(this.encoder(a),f,h)}getSpan(a,f){return this.layout.getSpan(a,f)}}function x(o){return new w((0,e.blob)(32),a=>new n.PublicKey(a),a=>a.toBuffer(),o)}r.publicKey=x;class A extends e.Layout{constructor(a,f){super(-1,f),this.layout=a,this.discriminator=(0,e.u8)()}encode(a,f,h=0){return a==null?this.discriminator.encode(0,f,h):(this.discriminator.encode(1,f,h),this.layout.encode(a,f,h+1)+1)}decode(a,f=0){const h=this.discriminator.decode(a,f);if(h===0)return null;if(h===1)return this.layout.decode(a,f+1);throw new Error("Invalid option "+this.property)}getSpan(a,f=0){const h=this.discriminator.decode(a,f);if(h===0)return 1;if(h===1)return this.layout.getSpan(a,f+1)+1;throw new Error("Invalid option "+this.property)}}function B(o,a){return new A(o,a)}r.option=B;function P(o){return new w((0,e.u8)(),R,C,o)}r.bool=P;function R(o){if(o===0)return!1;if(o===1)return!0;throw new Error("Invalid bool: "+o)}function C(o){return o?1:0}function O(o,a){const f=(0,e.u32)("length"),h=(0,e.struct)([f,(0,e.seq)(o,(0,e.offset)(f,-f.span),"values")]);return new w(h,({values:g})=>g,g=>({values:g}),a)}r.vec=O;function z(o,a,f){const h=(0,e.struct)([l("tag"),a.replicate("data")]);function g({tag:S,data:I}){if(!S.eq(o))throw new Error("Invalid tag, expected: "+o.toString("hex")+", got: "+S.toString("hex"));return I}return new w(h,g,S=>({tag:o,data:S}),f)}r.tagged=z;function H(o){const a=(0,e.u32)("length"),f=(0,e.struct)([a,(0,e.blob)((0,e.offset)(a,-a.span),"data")]);return new w(f,({data:h})=>h,h=>({data:h}),o)}r.vecU8=H;function tt(o){return new w(H(),a=>a.toString("utf-8"),a=>Zt.Buffer.from(a,"utf-8"),o)}r.str=tt;function nt(o,a,f){const h=(0,e.union)(f??(0,e.u8)(),a);return o.forEach((g,S)=>h.addVariant(S,g,g.property)),h}r.rustEnum=nt;function G(o,a,f){const h=(0,e.struct)([(0,e.seq)(o,a,"values")]);return new w(h,({values:g})=>g,g=>({values:g}),f)}r.array=G;class M extends e.Layout{constructor(a,f,h){super(a.span+f.span,h),this.keyLayout=a,this.valueLayout=f}decode(a,f){f=f||0;const h=this.keyLayout.decode(a,f),g=this.valueLayout.decode(a,f+this.keyLayout.getSpan(a,f));return[h,g]}encode(a,f,h){h=h||0;const g=this.keyLayout.encode(a[0],f,h),S=this.valueLayout.encode(a[1],f,h+g);return g+S}getSpan(a,f){return this.keyLayout.getSpan(a,f)+this.valueLayout.getSpan(a,f)}}function d(o,a,f){const h=(0,e.u32)("length"),g=(0,e.struct)([h,(0,e.seq)(new M(o,a),(0,e.offset)(h,-h.span),"values")]);return new w(g,({values:S})=>new Map(S),S=>({values:Array.from(S.entries())}),f)}r.map=d})(Ze);/*! pako 2.1.0 https://github.com/nodeca/pako @license (MIT AND Zlib) */const XT=4,j6=0,K6=1,JT=2;function Af(r){let t=r.length;for(;--t>=0;)r[t]=0}const QT=0,x9=1,tL=2,eL=3,rL=258,Pg=29,kh=256,Dc=kh+1+Pg,Uu=30,Rg=19,_9=2*Dc+1,Ia=15,vp=16,nL=7,Cg=256,M9=16,E9=17,A9=18,l2=new Uint8Array([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0]),Z0=new Uint8Array([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13]),iL=new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7]),S9=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),oL=512,hs=new Array((Dc+2)*2);Af(hs);const Ac=new Array(Uu*2);Af(Ac);const zc=new Array(oL);Af(zc);const qc=new Array(rL-eL+1);Af(qc);const Tg=new Array(Pg);Af(Tg);const cl=new Array(Uu);Af(cl);function gp(r,t,e,n,s){this.static_tree=r,this.extra_bits=t,this.extra_base=e,this.elems=n,this.max_length=s,this.has_stree=r&&r.length}let k9,I9,B9;function yp(r,t){this.dyn_tree=r,this.max_code=0,this.stat_desc=t}const P9=r=>r<256?zc[r]:zc[256+(r>>>7)],Fc=(r,t)=>{r.pending_buf[r.pending++]=t&255,r.pending_buf[r.pending++]=t>>>8&255},oi=(r,t,e)=>{r.bi_valid>vp-e?(r.bi_buf|=t<<r.bi_valid&65535,Fc(r,r.bi_buf),r.bi_buf=t>>vp-r.bi_valid,r.bi_valid+=e-vp):(r.bi_buf|=t<<r.bi_valid&65535,r.bi_valid+=e)},Do=(r,t,e)=>{oi(r,e[t*2],e[t*2+1])},R9=(r,t)=>{let e=0;do e|=r&1,r>>>=1,e<<=1;while(--t>0);return e>>>1},sL=r=>{r.bi_valid===16?(Fc(r,r.bi_buf),r.bi_buf=0,r.bi_valid=0):r.bi_valid>=8&&(r.pending_buf[r.pending++]=r.bi_buf&255,r.bi_buf>>=8,r.bi_valid-=8)},aL=(r,t)=>{const e=t.dyn_tree,n=t.max_code,s=t.stat_desc.static_tree,i=t.stat_desc.has_stree,c=t.stat_desc.extra_bits,l=t.stat_desc.extra_base,p=t.stat_desc.max_length;let m,v,_,E,w,x,A=0;for(E=0;E<=Ia;E++)r.bl_count[E]=0;for(e[r.heap[r.heap_max]*2+1]=0,m=r.heap_max+1;m<_9;m++)v=r.heap[m],E=e[e[v*2+1]*2+1]+1,E>p&&(E=p,A++),e[v*2+1]=E,!(v>n)&&(r.bl_count[E]++,w=0,v>=l&&(w=c[v-l]),x=e[v*2],r.opt_len+=x*(E+w),i&&(r.static_len+=x*(s[v*2+1]+w)));if(A!==0){do{for(E=p-1;r.bl_count[E]===0;)E--;r.bl_count[E]--,r.bl_count[E+1]+=2,r.bl_count[p]--,A-=2}while(A>0);for(E=p;E!==0;E--)for(v=r.bl_count[E];v!==0;)_=r.heap[--m],!(_>n)&&(e[_*2+1]!==E&&(r.opt_len+=(E-e[_*2+1])*e[_*2],e[_*2+1]=E),v--)}},C9=(r,t,e)=>{const n=new Array(Ia+1);let s=0,i,c;for(i=1;i<=Ia;i++)s=s+e[i-1]<<1,n[i]=s;for(c=0;c<=t;c++){let l=r[c*2+1];l!==0&&(r[c*2]=R9(n[l]++,l))}},uL=()=>{let r,t,e,n,s;const i=new Array(Ia+1);for(e=0,n=0;n<Pg-1;n++)for(Tg[n]=e,r=0;r<1<<l2[n];r++)qc[e++]=n;for(qc[e-1]=n,s=0,n=0;n<16;n++)for(cl[n]=s,r=0;r<1<<Z0[n];r++)zc[s++]=n;for(s>>=7;n<Uu;n++)for(cl[n]=s<<7,r=0;r<1<<Z0[n]-7;r++)zc[256+s++]=n;for(t=0;t<=Ia;t++)i[t]=0;for(r=0;r<=143;)hs[r*2+1]=8,r++,i[8]++;for(;r<=255;)hs[r*2+1]=9,r++,i[9]++;for(;r<=279;)hs[r*2+1]=7,r++,i[7]++;for(;r<=287;)hs[r*2+1]=8,r++,i[8]++;for(C9(hs,Dc+1,i),r=0;r<Uu;r++)Ac[r*2+1]=5,Ac[r*2]=R9(r,5);k9=new gp(hs,l2,kh+1,Dc,Ia),I9=new gp(Ac,Z0,0,Uu,Ia),B9=new gp(new Array(0),iL,0,Rg,nL)},T9=r=>{let t;for(t=0;t<Dc;t++)r.dyn_ltree[t*2]=0;for(t=0;t<Uu;t++)r.dyn_dtree[t*2]=0;for(t=0;t<Rg;t++)r.bl_tree[t*2]=0;r.dyn_ltree[Cg*2]=1,r.opt_len=r.static_len=0,r.sym_next=r.matches=0},L9=r=>{r.bi_valid>8?Fc(r,r.bi_buf):r.bi_valid>0&&(r.pending_buf[r.pending++]=r.bi_buf),r.bi_buf=0,r.bi_valid=0},$6=(r,t,e,n)=>{const s=t*2,i=e*2;return r[s]<r[i]||r[s]===r[i]&&n[t]<=n[e]},bp=(r,t,e)=>{const n=r.heap[e];let s=e<<1;for(;s<=r.heap_len&&(s<r.heap_len&&$6(t,r.heap[s+1],r.heap[s],r.depth)&&s++,!$6(t,n,r.heap[s],r.depth));)r.heap[e]=r.heap[s],e=s,s<<=1;r.heap[e]=n},H6=(r,t,e)=>{let n,s,i=0,c,l;if(r.sym_next!==0)do n=r.pending_buf[r.sym_buf+i++]&255,n+=(r.pending_buf[r.sym_buf+i++]&255)<<8,s=r.pending_buf[r.sym_buf+i++],n===0?Do(r,s,t):(c=qc[s],Do(r,c+kh+1,t),l=l2[c],l!==0&&(s-=Tg[c],oi(r,s,l)),n--,c=P9(n),Do(r,c,e),l=Z0[c],l!==0&&(n-=cl[c],oi(r,n,l)));while(i<r.sym_next);Do(r,Cg,t)},d2=(r,t)=>{const e=t.dyn_tree,n=t.stat_desc.static_tree,s=t.stat_desc.has_stree,i=t.stat_desc.elems;let c,l,p=-1,m;for(r.heap_len=0,r.heap_max=_9,c=0;c<i;c++)e[c*2]!==0?(r.heap[++r.heap_len]=p=c,r.depth[c]=0):e[c*2+1]=0;for(;r.heap_len<2;)m=r.heap[++r.heap_len]=p<2?++p:0,e[m*2]=1,r.depth[m]=0,r.opt_len--,s&&(r.static_len-=n[m*2+1]);for(t.max_code=p,c=r.heap_len>>1;c>=1;c--)bp(r,e,c);m=i;do c=r.heap[1],r.heap[1]=r.heap[r.heap_len--],bp(r,e,1),l=r.heap[1],r.heap[--r.heap_max]=c,r.heap[--r.heap_max]=l,e[m*2]=e[c*2]+e[l*2],r.depth[m]=(r.depth[c]>=r.depth[l]?r.depth[c]:r.depth[l])+1,e[c*2+1]=e[l*2+1]=m,r.heap[1]=m++,bp(r,e,1);while(r.heap_len>=2);r.heap[--r.heap_max]=r.heap[1],aL(r,t),C9(e,p,r.bl_count)},V6=(r,t,e)=>{let n,s=-1,i,c=t[0*2+1],l=0,p=7,m=4;for(c===0&&(p=138,m=3),t[(e+1)*2+1]=65535,n=0;n<=e;n++)i=c,c=t[(n+1)*2+1],!(++l<p&&i===c)&&(l<m?r.bl_tree[i*2]+=l:i!==0?(i!==s&&r.bl_tree[i*2]++,r.bl_tree[M9*2]++):l<=10?r.bl_tree[E9*2]++:r.bl_tree[A9*2]++,l=0,s=i,c===0?(p=138,m=3):i===c?(p=6,m=3):(p=7,m=4))},Z6=(r,t,e)=>{let n,s=-1,i,c=t[0*2+1],l=0,p=7,m=4;for(c===0&&(p=138,m=3),n=0;n<=e;n++)if(i=c,c=t[(n+1)*2+1],!(++l<p&&i===c)){if(l<m)do Do(r,i,r.bl_tree);while(--l!==0);else i!==0?(i!==s&&(Do(r,i,r.bl_tree),l--),Do(r,M9,r.bl_tree),oi(r,l-3,2)):l<=10?(Do(r,E9,r.bl_tree),oi(r,l-3,3)):(Do(r,A9,r.bl_tree),oi(r,l-11,7));l=0,s=i,c===0?(p=138,m=3):i===c?(p=6,m=3):(p=7,m=4)}},fL=r=>{let t;for(V6(r,r.dyn_ltree,r.l_desc.max_code),V6(r,r.dyn_dtree,r.d_desc.max_code),d2(r,r.bl_desc),t=Rg-1;t>=3&&r.bl_tree[S9[t]*2+1]===0;t--);return r.opt_len+=3*(t+1)+5+5+4,t},cL=(r,t,e,n)=>{let s;for(oi(r,t-257,5),oi(r,e-1,5),oi(r,n-4,4),s=0;s<n;s++)oi(r,r.bl_tree[S9[s]*2+1],3);Z6(r,r.dyn_ltree,t-1),Z6(r,r.dyn_dtree,e-1)},hL=r=>{let t=4093624447,e;for(e=0;e<=31;e++,t>>>=1)if(t&1&&r.dyn_ltree[e*2]!==0)return j6;if(r.dyn_ltree[9*2]!==0||r.dyn_ltree[10*2]!==0||r.dyn_ltree[13*2]!==0)return K6;for(e=32;e<kh;e++)if(r.dyn_ltree[e*2]!==0)return K6;return j6};let W6=!1;const lL=r=>{W6||(uL(),W6=!0),r.l_desc=new yp(r.dyn_ltree,k9),r.d_desc=new yp(r.dyn_dtree,I9),r.bl_desc=new yp(r.bl_tree,B9),r.bi_buf=0,r.bi_valid=0,T9(r)},O9=(r,t,e,n)=>{oi(r,(QT<<1)+(n?1:0),3),L9(r),Fc(r,e),Fc(r,~e),e&&r.pending_buf.set(r.window.subarray(t,t+e),r.pending),r.pending+=e},dL=r=>{oi(r,x9<<1,3),Do(r,Cg,hs),sL(r)},pL=(r,t,e,n)=>{let s,i,c=0;r.level>0?(r.strm.data_type===JT&&(r.strm.data_type=hL(r)),d2(r,r.l_desc),d2(r,r.d_desc),c=fL(r),s=r.opt_len+3+7>>>3,i=r.static_len+3+7>>>3,i<=s&&(s=i)):s=i=e+5,e+4<=s&&t!==-1?O9(r,t,e,n):r.strategy===XT||i===s?(oi(r,(x9<<1)+(n?1:0),3),H6(r,hs,Ac)):(oi(r,(tL<<1)+(n?1:0),3),cL(r,r.l_desc.max_code+1,r.d_desc.max_code+1,c+1),H6(r,r.dyn_ltree,r.dyn_dtree)),T9(r),n&&L9(r)},mL=(r,t,e)=>(r.pending_buf[r.sym_buf+r.sym_next++]=t,r.pending_buf[r.sym_buf+r.sym_next++]=t>>8,r.pending_buf[r.sym_buf+r.sym_next++]=e,t===0?r.dyn_ltree[e*2]++:(r.matches++,t--,r.dyn_ltree[(qc[e]+kh+1)*2]++,r.dyn_dtree[P9(t)*2]++),r.sym_next===r.sym_end);var vL=lL,gL=O9,yL=pL,bL=mL,wL=dL,xL={_tr_init:vL,_tr_stored_block:gL,_tr_flush_block:yL,_tr_tally:bL,_tr_align:wL};const _L=(r,t,e,n)=>{let s=r&65535|0,i=r>>>16&65535|0,c=0;for(;e!==0;){c=e>2e3?2e3:e,e-=c;do s=s+t[n++]|0,i=i+s|0;while(--c);s%=65521,i%=65521}return s|i<<16|0};var jc=_L;const ML=()=>{let r,t=[];for(var e=0;e<256;e++){r=e;for(var n=0;n<8;n++)r=r&1?3988292384^r>>>1:r>>>1;t[e]=r}return t},EL=new Uint32Array(ML()),AL=(r,t,e,n)=>{const s=EL,i=n+e;r^=-1;for(let c=n;c<i;c++)r=r>>>8^s[(r^t[c])&255];return r^-1};var xn=AL,of={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"},Ih={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_MEM_ERROR:-4,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8};const{_tr_init:SL,_tr_stored_block:p2,_tr_flush_block:kL,_tr_tally:Gs,_tr_align:IL}=xL,{Z_NO_FLUSH:Ys,Z_PARTIAL_FLUSH:BL,Z_FULL_FLUSH:PL,Z_FINISH:qi,Z_BLOCK:G6,Z_OK:Pn,Z_STREAM_END:Y6,Z_STREAM_ERROR:jo,Z_DATA_ERROR:RL,Z_BUF_ERROR:wp,Z_DEFAULT_COMPRESSION:CL,Z_FILTERED:TL,Z_HUFFMAN_ONLY:r0,Z_RLE:LL,Z_FIXED:OL,Z_DEFAULT_STRATEGY:UL,Z_UNKNOWN:NL,Z_DEFLATED:cd}=Ih,DL=9,zL=15,qL=8,FL=29,jL=256,m2=jL+1+FL,KL=30,$L=19,HL=2*m2+1,VL=15,hr=3,$s=258,Ko=$s+hr+1,ZL=32,sf=42,Lg=57,v2=69,g2=73,y2=91,b2=103,Ba=113,xc=666,Xn=1,Sf=2,Ga=3,kf=4,WL=3,Pa=(r,t)=>(r.msg=of[t],t),X6=r=>r*2-(r>4?9:0),js=r=>{let t=r.length;for(;--t>=0;)r[t]=0},GL=r=>{let t,e,n,s=r.w_size;t=r.hash_size,n=t;do e=r.head[--n],r.head[n]=e>=s?e-s:0;while(--t);t=s,n=t;do e=r.prev[--n],r.prev[n]=e>=s?e-s:0;while(--t)};let YL=(r,t,e)=>(t<<r.hash_shift^e)&r.hash_mask,Xs=YL;const bi=r=>{const t=r.state;let e=t.pending;e>r.avail_out&&(e=r.avail_out),e!==0&&(r.output.set(t.pending_buf.subarray(t.pending_out,t.pending_out+e),r.next_out),r.next_out+=e,t.pending_out+=e,r.total_out+=e,r.avail_out-=e,t.pending-=e,t.pending===0&&(t.pending_out=0))},Ai=(r,t)=>{kL(r,r.block_start>=0?r.block_start:-1,r.strstart-r.block_start,t),r.block_start=r.strstart,bi(r.strm)},Er=(r,t)=>{r.pending_buf[r.pending++]=t},Gf=(r,t)=>{r.pending_buf[r.pending++]=t>>>8&255,r.pending_buf[r.pending++]=t&255},w2=(r,t,e,n)=>{let s=r.avail_in;return s>n&&(s=n),s===0?0:(r.avail_in-=s,t.set(r.input.subarray(r.next_in,r.next_in+s),e),r.state.wrap===1?r.adler=jc(r.adler,t,s,e):r.state.wrap===2&&(r.adler=xn(r.adler,t,s,e)),r.next_in+=s,r.total_in+=s,s)},U9=(r,t)=>{let e=r.max_chain_length,n=r.strstart,s,i,c=r.prev_length,l=r.nice_match;const p=r.strstart>r.w_size-Ko?r.strstart-(r.w_size-Ko):0,m=r.window,v=r.w_mask,_=r.prev,E=r.strstart+$s;let w=m[n+c-1],x=m[n+c];r.prev_length>=r.good_match&&(e>>=2),l>r.lookahead&&(l=r.lookahead);do if(s=t,!(m[s+c]!==x||m[s+c-1]!==w||m[s]!==m[n]||m[++s]!==m[n+1])){n+=2,s++;do;while(m[++n]===m[++s]&&m[++n]===m[++s]&&m[++n]===m[++s]&&m[++n]===m[++s]&&m[++n]===m[++s]&&m[++n]===m[++s]&&m[++n]===m[++s]&&m[++n]===m[++s]&&n<E);if(i=$s-(E-n),n=E-$s,i>c){if(r.match_start=t,c=i,i>=l)break;w=m[n+c-1],x=m[n+c]}}while((t=_[t&v])>p&&--e!==0);return c<=r.lookahead?c:r.lookahead},af=r=>{const t=r.w_size;let e,n,s;do{if(n=r.window_size-r.lookahead-r.strstart,r.strstart>=t+(t-Ko)&&(r.window.set(r.window.subarray(t,t+t-n),0),r.match_start-=t,r.strstart-=t,r.block_start-=t,r.insert>r.strstart&&(r.insert=r.strstart),GL(r),n+=t),r.strm.avail_in===0)break;if(e=w2(r.strm,r.window,r.strstart+r.lookahead,n),r.lookahead+=e,r.lookahead+r.insert>=hr)for(s=r.strstart-r.insert,r.ins_h=r.window[s],r.ins_h=Xs(r,r.ins_h,r.window[s+1]);r.insert&&(r.ins_h=Xs(r,r.ins_h,r.window[s+hr-1]),r.prev[s&r.w_mask]=r.head[r.ins_h],r.head[r.ins_h]=s,s++,r.insert--,!(r.lookahead+r.insert<hr)););}while(r.lookahead<Ko&&r.strm.avail_in!==0)},N9=(r,t)=>{let e=r.pending_buf_size-5>r.w_size?r.w_size:r.pending_buf_size-5,n,s,i,c=0,l=r.strm.avail_in;do{if(n=65535,i=r.bi_valid+42>>3,r.strm.avail_out<i||(i=r.strm.avail_out-i,s=r.strstart-r.block_start,n>s+r.strm.avail_in&&(n=s+r.strm.avail_in),n>i&&(n=i),n<e&&(n===0&&t!==qi||t===Ys||n!==s+r.strm.avail_in)))break;c=t===qi&&n===s+r.strm.avail_in?1:0,p2(r,0,0,c),r.pending_buf[r.pending-4]=n,r.pending_buf[r.pending-3]=n>>8,r.pending_buf[r.pending-2]=~n,r.pending_buf[r.pending-1]=~n>>8,bi(r.strm),s&&(s>n&&(s=n),r.strm.output.set(r.window.subarray(r.block_start,r.block_start+s),r.strm.next_out),r.strm.next_out+=s,r.strm.avail_out-=s,r.strm.total_out+=s,r.block_start+=s,n-=s),n&&(w2(r.strm,r.strm.output,r.strm.next_out,n),r.strm.next_out+=n,r.strm.avail_out-=n,r.strm.total_out+=n)}while(c===0);return l-=r.strm.avail_in,l&&(l>=r.w_size?(r.matches=2,r.window.set(r.strm.input.subarray(r.strm.next_in-r.w_size,r.strm.next_in),0),r.strstart=r.w_size,r.insert=r.strstart):(r.window_size-r.strstart<=l&&(r.strstart-=r.w_size,r.window.set(r.window.subarray(r.w_size,r.w_size+r.strstart),0),r.matches<2&&r.matches++,r.insert>r.strstart&&(r.insert=r.strstart)),r.window.set(r.strm.input.subarray(r.strm.next_in-l,r.strm.next_in),r.strstart),r.strstart+=l,r.insert+=l>r.w_size-r.insert?r.w_size-r.insert:l),r.block_start=r.strstart),r.high_water<r.strstart&&(r.high_water=r.strstart),c?kf:t!==Ys&&t!==qi&&r.strm.avail_in===0&&r.strstart===r.block_start?Sf:(i=r.window_size-r.strstart,r.strm.avail_in>i&&r.block_start>=r.w_size&&(r.block_start-=r.w_size,r.strstart-=r.w_size,r.window.set(r.window.subarray(r.w_size,r.w_size+r.strstart),0),r.matches<2&&r.matches++,i+=r.w_size,r.insert>r.strstart&&(r.insert=r.strstart)),i>r.strm.avail_in&&(i=r.strm.avail_in),i&&(w2(r.strm,r.window,r.strstart,i),r.strstart+=i,r.insert+=i>r.w_size-r.insert?r.w_size-r.insert:i),r.high_water<r.strstart&&(r.high_water=r.strstart),i=r.bi_valid+42>>3,i=r.pending_buf_size-i>65535?65535:r.pending_buf_size-i,e=i>r.w_size?r.w_size:i,s=r.strstart-r.block_start,(s>=e||(s||t===qi)&&t!==Ys&&r.strm.avail_in===0&&s<=i)&&(n=s>i?i:s,c=t===qi&&r.strm.avail_in===0&&n===s?1:0,p2(r,r.block_start,n,c),r.block_start+=n,bi(r.strm)),c?Ga:Xn)},xp=(r,t)=>{let e,n;for(;;){if(r.lookahead<Ko){if(af(r),r.lookahead<Ko&&t===Ys)return Xn;if(r.lookahead===0)break}if(e=0,r.lookahead>=hr&&(r.ins_h=Xs(r,r.ins_h,r.window[r.strstart+hr-1]),e=r.prev[r.strstart&r.w_mask]=r.head[r.ins_h],r.head[r.ins_h]=r.strstart),e!==0&&r.strstart-e<=r.w_size-Ko&&(r.match_length=U9(r,e)),r.match_length>=hr)if(n=Gs(r,r.strstart-r.match_start,r.match_length-hr),r.lookahead-=r.match_length,r.match_length<=r.max_lazy_match&&r.lookahead>=hr){r.match_length--;do r.strstart++,r.ins_h=Xs(r,r.ins_h,r.window[r.strstart+hr-1]),e=r.prev[r.strstart&r.w_mask]=r.head[r.ins_h],r.head[r.ins_h]=r.strstart;while(--r.match_length!==0);r.strstart++}else r.strstart+=r.match_length,r.match_length=0,r.ins_h=r.window[r.strstart],r.ins_h=Xs(r,r.ins_h,r.window[r.strstart+1]);else n=Gs(r,0,r.window[r.strstart]),r.lookahead--,r.strstart++;if(n&&(Ai(r,!1),r.strm.avail_out===0))return Xn}return r.insert=r.strstart<hr-1?r.strstart:hr-1,t===qi?(Ai(r,!0),r.strm.avail_out===0?Ga:kf):r.sym_next&&(Ai(r,!1),r.strm.avail_out===0)?Xn:Sf},pu=(r,t)=>{let e,n,s;for(;;){if(r.lookahead<Ko){if(af(r),r.lookahead<Ko&&t===Ys)return Xn;if(r.lookahead===0)break}if(e=0,r.lookahead>=hr&&(r.ins_h=Xs(r,r.ins_h,r.window[r.strstart+hr-1]),e=r.prev[r.strstart&r.w_mask]=r.head[r.ins_h],r.head[r.ins_h]=r.strstart),r.prev_length=r.match_length,r.prev_match=r.match_start,r.match_length=hr-1,e!==0&&r.prev_length<r.max_lazy_match&&r.strstart-e<=r.w_size-Ko&&(r.match_length=U9(r,e),r.match_length<=5&&(r.strategy===TL||r.match_length===hr&&r.strstart-r.match_start>4096)&&(r.match_length=hr-1)),r.prev_length>=hr&&r.match_length<=r.prev_length){s=r.strstart+r.lookahead-hr,n=Gs(r,r.strstart-1-r.prev_match,r.prev_length-hr),r.lookahead-=r.prev_length-1,r.prev_length-=2;do++r.strstart<=s&&(r.ins_h=Xs(r,r.ins_h,r.window[r.strstart+hr-1]),e=r.prev[r.strstart&r.w_mask]=r.head[r.ins_h],r.head[r.ins_h]=r.strstart);while(--r.prev_length!==0);if(r.match_available=0,r.match_length=hr-1,r.strstart++,n&&(Ai(r,!1),r.strm.avail_out===0))return Xn}else if(r.match_available){if(n=Gs(r,0,r.window[r.strstart-1]),n&&Ai(r,!1),r.strstart++,r.lookahead--,r.strm.avail_out===0)return Xn}else r.match_available=1,r.strstart++,r.lookahead--}return r.match_available&&(n=Gs(r,0,r.window[r.strstart-1]),r.match_available=0),r.insert=r.strstart<hr-1?r.strstart:hr-1,t===qi?(Ai(r,!0),r.strm.avail_out===0?Ga:kf):r.sym_next&&(Ai(r,!1),r.strm.avail_out===0)?Xn:Sf},XL=(r,t)=>{let e,n,s,i;const c=r.window;for(;;){if(r.lookahead<=$s){if(af(r),r.lookahead<=$s&&t===Ys)return Xn;if(r.lookahead===0)break}if(r.match_length=0,r.lookahead>=hr&&r.strstart>0&&(s=r.strstart-1,n=c[s],n===c[++s]&&n===c[++s]&&n===c[++s])){i=r.strstart+$s;do;while(n===c[++s]&&n===c[++s]&&n===c[++s]&&n===c[++s]&&n===c[++s]&&n===c[++s]&&n===c[++s]&&n===c[++s]&&s<i);r.match_length=$s-(i-s),r.match_length>r.lookahead&&(r.match_length=r.lookahead)}if(r.match_length>=hr?(e=Gs(r,1,r.match_length-hr),r.lookahead-=r.match_length,r.strstart+=r.match_length,r.match_length=0):(e=Gs(r,0,r.window[r.strstart]),r.lookahead--,r.strstart++),e&&(Ai(r,!1),r.strm.avail_out===0))return Xn}return r.insert=0,t===qi?(Ai(r,!0),r.strm.avail_out===0?Ga:kf):r.sym_next&&(Ai(r,!1),r.strm.avail_out===0)?Xn:Sf},JL=(r,t)=>{let e;for(;;){if(r.lookahead===0&&(af(r),r.lookahead===0)){if(t===Ys)return Xn;break}if(r.match_length=0,e=Gs(r,0,r.window[r.strstart]),r.lookahead--,r.strstart++,e&&(Ai(r,!1),r.strm.avail_out===0))return Xn}return r.insert=0,t===qi?(Ai(r,!0),r.strm.avail_out===0?Ga:kf):r.sym_next&&(Ai(r,!1),r.strm.avail_out===0)?Xn:Sf};function vo(r,t,e,n,s){this.good_length=r,this.max_lazy=t,this.nice_length=e,this.max_chain=n,this.func=s}const _c=[new vo(0,0,0,0,N9),new vo(4,4,8,4,xp),new vo(4,5,16,8,xp),new vo(4,6,32,32,xp),new vo(4,4,16,16,pu),new vo(8,16,32,32,pu),new vo(8,16,128,128,pu),new vo(8,32,128,256,pu),new vo(32,128,258,1024,pu),new vo(32,258,258,4096,pu)],QL=r=>{r.window_size=2*r.w_size,js(r.head),r.max_lazy_match=_c[r.level].max_lazy,r.good_match=_c[r.level].good_length,r.nice_match=_c[r.level].nice_length,r.max_chain_length=_c[r.level].max_chain,r.strstart=0,r.block_start=0,r.lookahead=0,r.insert=0,r.match_length=r.prev_length=hr-1,r.match_available=0,r.ins_h=0};function tO(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=cd,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new Uint16Array(HL*2),this.dyn_dtree=new Uint16Array((2*KL+1)*2),this.bl_tree=new Uint16Array((2*$L+1)*2),js(this.dyn_ltree),js(this.dyn_dtree),js(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new Uint16Array(VL+1),this.heap=new Uint16Array(2*m2+1),js(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new Uint16Array(2*m2+1),js(this.depth),this.sym_buf=0,this.lit_bufsize=0,this.sym_next=0,this.sym_end=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}const Bh=r=>{if(!r)return 1;const t=r.state;return!t||t.strm!==r||t.status!==sf&&t.status!==Lg&&t.status!==v2&&t.status!==g2&&t.status!==y2&&t.status!==b2&&t.status!==Ba&&t.status!==xc?1:0},D9=r=>{if(Bh(r))return Pa(r,jo);r.total_in=r.total_out=0,r.data_type=NL;const t=r.state;return t.pending=0,t.pending_out=0,t.wrap<0&&(t.wrap=-t.wrap),t.status=t.wrap===2?Lg:t.wrap?sf:Ba,r.adler=t.wrap===2?0:1,t.last_flush=-2,SL(t),Pn},z9=r=>{const t=D9(r);return t===Pn&&QL(r.state),t},eO=(r,t)=>Bh(r)||r.state.wrap!==2?jo:(r.state.gzhead=t,Pn),q9=(r,t,e,n,s,i)=>{if(!r)return jo;let c=1;if(t===CL&&(t=6),n<0?(c=0,n=-n):n>15&&(c=2,n-=16),s<1||s>DL||e!==cd||n<8||n>15||t<0||t>9||i<0||i>OL||n===8&&c!==1)return Pa(r,jo);n===8&&(n=9);const l=new tO;return r.state=l,l.strm=r,l.status=sf,l.wrap=c,l.gzhead=null,l.w_bits=n,l.w_size=1<<l.w_bits,l.w_mask=l.w_size-1,l.hash_bits=s+7,l.hash_size=1<<l.hash_bits,l.hash_mask=l.hash_size-1,l.hash_shift=~~((l.hash_bits+hr-1)/hr),l.window=new Uint8Array(l.w_size*2),l.head=new Uint16Array(l.hash_size),l.prev=new Uint16Array(l.w_size),l.lit_bufsize=1<<s+6,l.pending_buf_size=l.lit_bufsize*4,l.pending_buf=new Uint8Array(l.pending_buf_size),l.sym_buf=l.lit_bufsize,l.sym_end=(l.lit_bufsize-1)*3,l.level=t,l.strategy=i,l.method=e,z9(r)},rO=(r,t)=>q9(r,t,cd,zL,qL,UL),nO=(r,t)=>{if(Bh(r)||t>G6||t<0)return r?Pa(r,jo):jo;const e=r.state;if(!r.output||r.avail_in!==0&&!r.input||e.status===xc&&t!==qi)return Pa(r,r.avail_out===0?wp:jo);const n=e.last_flush;if(e.last_flush=t,e.pending!==0){if(bi(r),r.avail_out===0)return e.last_flush=-1,Pn}else if(r.avail_in===0&&X6(t)<=X6(n)&&t!==qi)return Pa(r,wp);if(e.status===xc&&r.avail_in!==0)return Pa(r,wp);if(e.status===sf&&e.wrap===0&&(e.status=Ba),e.status===sf){let s=cd+(e.w_bits-8<<4)<<8,i=-1;if(e.strategy>=r0||e.level<2?i=0:e.level<6?i=1:e.level===6?i=2:i=3,s|=i<<6,e.strstart!==0&&(s|=ZL),s+=31-s%31,Gf(e,s),e.strstart!==0&&(Gf(e,r.adler>>>16),Gf(e,r.adler&65535)),r.adler=1,e.status=Ba,bi(r),e.pending!==0)return e.last_flush=-1,Pn}if(e.status===Lg){if(r.adler=0,Er(e,31),Er(e,139),Er(e,8),e.gzhead)Er(e,(e.gzhead.text?1:0)+(e.gzhead.hcrc?2:0)+(e.gzhead.extra?4:0)+(e.gzhead.name?8:0)+(e.gzhead.comment?16:0)),Er(e,e.gzhead.time&255),Er(e,e.gzhead.time>>8&255),Er(e,e.gzhead.time>>16&255),Er(e,e.gzhead.time>>24&255),Er(e,e.level===9?2:e.strategy>=r0||e.level<2?4:0),Er(e,e.gzhead.os&255),e.gzhead.extra&&e.gzhead.extra.length&&(Er(e,e.gzhead.extra.length&255),Er(e,e.gzhead.extra.length>>8&255)),e.gzhead.hcrc&&(r.adler=xn(r.adler,e.pending_buf,e.pending,0)),e.gzindex=0,e.status=v2;else if(Er(e,0),Er(e,0),Er(e,0),Er(e,0),Er(e,0),Er(e,e.level===9?2:e.strategy>=r0||e.level<2?4:0),Er(e,WL),e.status=Ba,bi(r),e.pending!==0)return e.last_flush=-1,Pn}if(e.status===v2){if(e.gzhead.extra){let s=e.pending,i=(e.gzhead.extra.length&65535)-e.gzindex;for(;e.pending+i>e.pending_buf_size;){let l=e.pending_buf_size-e.pending;if(e.pending_buf.set(e.gzhead.extra.subarray(e.gzindex,e.gzindex+l),e.pending),e.pending=e.pending_buf_size,e.gzhead.hcrc&&e.pending>s&&(r.adler=xn(r.adler,e.pending_buf,e.pending-s,s)),e.gzindex+=l,bi(r),e.pending!==0)return e.last_flush=-1,Pn;s=0,i-=l}let c=new Uint8Array(e.gzhead.extra);e.pending_buf.set(c.subarray(e.gzindex,e.gzindex+i),e.pending),e.pending+=i,e.gzhead.hcrc&&e.pending>s&&(r.adler=xn(r.adler,e.pending_buf,e.pending-s,s)),e.gzindex=0}e.status=g2}if(e.status===g2){if(e.gzhead.name){let s=e.pending,i;do{if(e.pending===e.pending_buf_size){if(e.gzhead.hcrc&&e.pending>s&&(r.adler=xn(r.adler,e.pending_buf,e.pending-s,s)),bi(r),e.pending!==0)return e.last_flush=-1,Pn;s=0}e.gzindex<e.gzhead.name.length?i=e.gzhead.name.charCodeAt(e.gzindex++)&255:i=0,Er(e,i)}while(i!==0);e.gzhead.hcrc&&e.pending>s&&(r.adler=xn(r.adler,e.pending_buf,e.pending-s,s)),e.gzindex=0}e.status=y2}if(e.status===y2){if(e.gzhead.comment){let s=e.pending,i;do{if(e.pending===e.pending_buf_size){if(e.gzhead.hcrc&&e.pending>s&&(r.adler=xn(r.adler,e.pending_buf,e.pending-s,s)),bi(r),e.pending!==0)return e.last_flush=-1,Pn;s=0}e.gzindex<e.gzhead.comment.length?i=e.gzhead.comment.charCodeAt(e.gzindex++)&255:i=0,Er(e,i)}while(i!==0);e.gzhead.hcrc&&e.pending>s&&(r.adler=xn(r.adler,e.pending_buf,e.pending-s,s))}e.status=b2}if(e.status===b2){if(e.gzhead.hcrc){if(e.pending+2>e.pending_buf_size&&(bi(r),e.pending!==0))return e.last_flush=-1,Pn;Er(e,r.adler&255),Er(e,r.adler>>8&255),r.adler=0}if(e.status=Ba,bi(r),e.pending!==0)return e.last_flush=-1,Pn}if(r.avail_in!==0||e.lookahead!==0||t!==Ys&&e.status!==xc){let s=e.level===0?N9(e,t):e.strategy===r0?JL(e,t):e.strategy===LL?XL(e,t):_c[e.level].func(e,t);if((s===Ga||s===kf)&&(e.status=xc),s===Xn||s===Ga)return r.avail_out===0&&(e.last_flush=-1),Pn;if(s===Sf&&(t===BL?IL(e):t!==G6&&(p2(e,0,0,!1),t===PL&&(js(e.head),e.lookahead===0&&(e.strstart=0,e.block_start=0,e.insert=0))),bi(r),r.avail_out===0))return e.last_flush=-1,Pn}return t!==qi?Pn:e.wrap<=0?Y6:(e.wrap===2?(Er(e,r.adler&255),Er(e,r.adler>>8&255),Er(e,r.adler>>16&255),Er(e,r.adler>>24&255),Er(e,r.total_in&255),Er(e,r.total_in>>8&255),Er(e,r.total_in>>16&255),Er(e,r.total_in>>24&255)):(Gf(e,r.adler>>>16),Gf(e,r.adler&65535)),bi(r),e.wrap>0&&(e.wrap=-e.wrap),e.pending!==0?Pn:Y6)},iO=r=>{if(Bh(r))return jo;const t=r.state.status;return r.state=null,t===Ba?Pa(r,RL):Pn},oO=(r,t)=>{let e=t.length;if(Bh(r))return jo;const n=r.state,s=n.wrap;if(s===2||s===1&&n.status!==sf||n.lookahead)return jo;if(s===1&&(r.adler=jc(r.adler,t,e,0)),n.wrap=0,e>=n.w_size){s===0&&(js(n.head),n.strstart=0,n.block_start=0,n.insert=0);let p=new Uint8Array(n.w_size);p.set(t.subarray(e-n.w_size,e),0),t=p,e=n.w_size}const i=r.avail_in,c=r.next_in,l=r.input;for(r.avail_in=e,r.next_in=0,r.input=t,af(n);n.lookahead>=hr;){let p=n.strstart,m=n.lookahead-(hr-1);do n.ins_h=Xs(n,n.ins_h,n.window[p+hr-1]),n.prev[p&n.w_mask]=n.head[n.ins_h],n.head[n.ins_h]=p,p++;while(--m);n.strstart=p,n.lookahead=hr-1,af(n)}return n.strstart+=n.lookahead,n.block_start=n.strstart,n.insert=n.lookahead,n.lookahead=0,n.match_length=n.prev_length=hr-1,n.match_available=0,r.next_in=c,r.input=l,r.avail_in=i,n.wrap=s,Pn};var sO=rO,aO=q9,uO=z9,fO=D9,cO=eO,hO=nO,lO=iO,dO=oO,pO="pako deflate (from Nodeca project)",Sc={deflateInit:sO,deflateInit2:aO,deflateReset:uO,deflateResetKeep:fO,deflateSetHeader:cO,deflate:hO,deflateEnd:lO,deflateSetDictionary:dO,deflateInfo:pO};const mO=(r,t)=>Object.prototype.hasOwnProperty.call(r,t);var vO=function(r){const t=Array.prototype.slice.call(arguments,1);for(;t.length;){const e=t.shift();if(e){if(typeof e!="object")throw new TypeError(e+"must be non-object");for(const n in e)mO(e,n)&&(r[n]=e[n])}}return r},gO=r=>{let t=0;for(let n=0,s=r.length;n<s;n++)t+=r[n].length;const e=new Uint8Array(t);for(let n=0,s=0,i=r.length;n<i;n++){let c=r[n];e.set(c,s),s+=c.length}return e},hd={assign:vO,flattenChunks:gO};let F9=!0;try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{F9=!1}const Kc=new Uint8Array(256);for(let r=0;r<256;r++)Kc[r]=r>=252?6:r>=248?5:r>=240?4:r>=224?3:r>=192?2:1;Kc[254]=Kc[254]=1;var yO=r=>{if(typeof TextEncoder=="function"&&TextEncoder.prototype.encode)return new TextEncoder().encode(r);let t,e,n,s,i,c=r.length,l=0;for(s=0;s<c;s++)e=r.charCodeAt(s),(e&64512)===55296&&s+1<c&&(n=r.charCodeAt(s+1),(n&64512)===56320&&(e=65536+(e-55296<<10)+(n-56320),s++)),l+=e<128?1:e<2048?2:e<65536?3:4;for(t=new Uint8Array(l),i=0,s=0;i<l;s++)e=r.charCodeAt(s),(e&64512)===55296&&s+1<c&&(n=r.charCodeAt(s+1),(n&64512)===56320&&(e=65536+(e-55296<<10)+(n-56320),s++)),e<128?t[i++]=e:e<2048?(t[i++]=192|e>>>6,t[i++]=128|e&63):e<65536?(t[i++]=224|e>>>12,t[i++]=128|e>>>6&63,t[i++]=128|e&63):(t[i++]=240|e>>>18,t[i++]=128|e>>>12&63,t[i++]=128|e>>>6&63,t[i++]=128|e&63);return t};const bO=(r,t)=>{if(t<65534&&r.subarray&&F9)return String.fromCharCode.apply(null,r.length===t?r:r.subarray(0,t));let e="";for(let n=0;n<t;n++)e+=String.fromCharCode(r[n]);return e};var wO=(r,t)=>{const e=t||r.length;if(typeof TextDecoder=="function"&&TextDecoder.prototype.decode)return new TextDecoder().decode(r.subarray(0,t));let n,s;const i=new Array(e*2);for(s=0,n=0;n<e;){let c=r[n++];if(c<128){i[s++]=c;continue}let l=Kc[c];if(l>4){i[s++]=65533,n+=l-1;continue}for(c&=l===2?31:l===3?15:7;l>1&&n<e;)c=c<<6|r[n++]&63,l--;if(l>1){i[s++]=65533;continue}c<65536?i[s++]=c:(c-=65536,i[s++]=55296|c>>10&1023,i[s++]=56320|c&1023)}return bO(i,s)},xO=(r,t)=>{t=t||r.length,t>r.length&&(t=r.length);let e=t-1;for(;e>=0&&(r[e]&192)===128;)e--;return e<0||e===0?t:e+Kc[r[e]]>t?e:t},$c={string2buf:yO,buf2string:wO,utf8border:xO};function _O(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}var j9=_O;const K9=Object.prototype.toString,{Z_NO_FLUSH:MO,Z_SYNC_FLUSH:EO,Z_FULL_FLUSH:AO,Z_FINISH:SO,Z_OK:hl,Z_STREAM_END:kO,Z_DEFAULT_COMPRESSION:IO,Z_DEFAULT_STRATEGY:BO,Z_DEFLATED:PO}=Ih;function Og(r){this.options=hd.assign({level:IO,method:PO,chunkSize:16384,windowBits:15,memLevel:8,strategy:BO},r||{});let t=this.options;t.raw&&t.windowBits>0?t.windowBits=-t.windowBits:t.gzip&&t.windowBits>0&&t.windowBits<16&&(t.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new j9,this.strm.avail_out=0;let e=Sc.deflateInit2(this.strm,t.level,t.method,t.windowBits,t.memLevel,t.strategy);if(e!==hl)throw new Error(of[e]);if(t.header&&Sc.deflateSetHeader(this.strm,t.header),t.dictionary){let n;if(typeof t.dictionary=="string"?n=$c.string2buf(t.dictionary):K9.call(t.dictionary)==="[object ArrayBuffer]"?n=new Uint8Array(t.dictionary):n=t.dictionary,e=Sc.deflateSetDictionary(this.strm,n),e!==hl)throw new Error(of[e]);this._dict_set=!0}}Og.prototype.push=function(r,t){const e=this.strm,n=this.options.chunkSize;let s,i;if(this.ended)return!1;for(t===~~t?i=t:i=t===!0?SO:MO,typeof r=="string"?e.input=$c.string2buf(r):K9.call(r)==="[object ArrayBuffer]"?e.input=new Uint8Array(r):e.input=r,e.next_in=0,e.avail_in=e.input.length;;){if(e.avail_out===0&&(e.output=new Uint8Array(n),e.next_out=0,e.avail_out=n),(i===EO||i===AO)&&e.avail_out<=6){this.onData(e.output.subarray(0,e.next_out)),e.avail_out=0;continue}if(s=Sc.deflate(e,i),s===kO)return e.next_out>0&&this.onData(e.output.subarray(0,e.next_out)),s=Sc.deflateEnd(this.strm),this.onEnd(s),this.ended=!0,s===hl;if(e.avail_out===0){this.onData(e.output);continue}if(i>0&&e.next_out>0){this.onData(e.output.subarray(0,e.next_out)),e.avail_out=0;continue}if(e.avail_in===0)break}return!0};Og.prototype.onData=function(r){this.chunks.push(r)};Og.prototype.onEnd=function(r){r===hl&&(this.result=hd.flattenChunks(this.chunks)),this.chunks=[],this.err=r,this.msg=this.strm.msg};const n0=16209,RO=16191;var CO=function(t,e){let n,s,i,c,l,p,m,v,_,E,w,x,A,B,P,R,C,O,z,H,tt,nt,G,M;const d=t.state;n=t.next_in,G=t.input,s=n+(t.avail_in-5),i=t.next_out,M=t.output,c=i-(e-t.avail_out),l=i+(t.avail_out-257),p=d.dmax,m=d.wsize,v=d.whave,_=d.wnext,E=d.window,w=d.hold,x=d.bits,A=d.lencode,B=d.distcode,P=(1<<d.lenbits)-1,R=(1<<d.distbits)-1;t:do{x<15&&(w+=G[n++]<<x,x+=8,w+=G[n++]<<x,x+=8),C=A[w&P];e:for(;;){if(O=C>>>24,w>>>=O,x-=O,O=C>>>16&255,O===0)M[i++]=C&65535;else if(O&16){z=C&65535,O&=15,O&&(x<O&&(w+=G[n++]<<x,x+=8),z+=w&(1<<O)-1,w>>>=O,x-=O),x<15&&(w+=G[n++]<<x,x+=8,w+=G[n++]<<x,x+=8),C=B[w&R];r:for(;;){if(O=C>>>24,w>>>=O,x-=O,O=C>>>16&255,O&16){if(H=C&65535,O&=15,x<O&&(w+=G[n++]<<x,x+=8,x<O&&(w+=G[n++]<<x,x+=8)),H+=w&(1<<O)-1,H>p){t.msg="invalid distance too far back",d.mode=n0;break t}if(w>>>=O,x-=O,O=i-c,H>O){if(O=H-O,O>v&&d.sane){t.msg="invalid distance too far back",d.mode=n0;break t}if(tt=0,nt=E,_===0){if(tt+=m-O,O<z){z-=O;do M[i++]=E[tt++];while(--O);tt=i-H,nt=M}}else if(_<O){if(tt+=m+_-O,O-=_,O<z){z-=O;do M[i++]=E[tt++];while(--O);if(tt=0,_<z){O=_,z-=O;do M[i++]=E[tt++];while(--O);tt=i-H,nt=M}}}else if(tt+=_-O,O<z){z-=O;do M[i++]=E[tt++];while(--O);tt=i-H,nt=M}for(;z>2;)M[i++]=nt[tt++],M[i++]=nt[tt++],M[i++]=nt[tt++],z-=3;z&&(M[i++]=nt[tt++],z>1&&(M[i++]=nt[tt++]))}else{tt=i-H;do M[i++]=M[tt++],M[i++]=M[tt++],M[i++]=M[tt++],z-=3;while(z>2);z&&(M[i++]=M[tt++],z>1&&(M[i++]=M[tt++]))}}else if(O&64){t.msg="invalid distance code",d.mode=n0;break t}else{C=B[(C&65535)+(w&(1<<O)-1)];continue r}break}}else if(O&64)if(O&32){d.mode=RO;break t}else{t.msg="invalid literal/length code",d.mode=n0;break t}else{C=A[(C&65535)+(w&(1<<O)-1)];continue e}break}}while(n<s&&i<l);z=x>>3,n-=z,x-=z<<3,w&=(1<<x)-1,t.next_in=n,t.next_out=i,t.avail_in=n<s?5+(s-n):5-(n-s),t.avail_out=i<l?257+(l-i):257-(i-l),d.hold=w,d.bits=x};const mu=15,J6=852,Q6=592,t3=0,_p=1,e3=2,TO=new Uint16Array([3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0]),LO=new Uint8Array([16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78]),OO=new Uint16Array([1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0]),UO=new Uint8Array([16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64]),NO=(r,t,e,n,s,i,c,l)=>{const p=l.bits;let m=0,v=0,_=0,E=0,w=0,x=0,A=0,B=0,P=0,R=0,C,O,z,H,tt,nt=null,G;const M=new Uint16Array(mu+1),d=new Uint16Array(mu+1);let o=null,a,f,h;for(m=0;m<=mu;m++)M[m]=0;for(v=0;v<n;v++)M[t[e+v]]++;for(w=p,E=mu;E>=1&&M[E]===0;E--);if(w>E&&(w=E),E===0)return s[i++]=1<<24|64<<16|0,s[i++]=1<<24|64<<16|0,l.bits=1,0;for(_=1;_<E&&M[_]===0;_++);for(w<_&&(w=_),B=1,m=1;m<=mu;m++)if(B<<=1,B-=M[m],B<0)return-1;if(B>0&&(r===t3||E!==1))return-1;for(d[1]=0,m=1;m<mu;m++)d[m+1]=d[m]+M[m];for(v=0;v<n;v++)t[e+v]!==0&&(c[d[t[e+v]]++]=v);if(r===t3?(nt=o=c,G=20):r===_p?(nt=TO,o=LO,G=257):(nt=OO,o=UO,G=0),R=0,v=0,m=_,tt=i,x=w,A=0,z=-1,P=1<<w,H=P-1,r===_p&&P>J6||r===e3&&P>Q6)return 1;for(;;){a=m-A,c[v]+1<G?(f=0,h=c[v]):c[v]>=G?(f=o[c[v]-G],h=nt[c[v]-G]):(f=32+64,h=0),C=1<<m-A,O=1<<x,_=O;do O-=C,s[tt+(R>>A)+O]=a<<24|f<<16|h|0;while(O!==0);for(C=1<<m-1;R&C;)C>>=1;if(C!==0?(R&=C-1,R+=C):R=0,v++,--M[m]===0){if(m===E)break;m=t[e+c[v]]}if(m>w&&(R&H)!==z){for(A===0&&(A=w),tt+=_,x=m-A,B=1<<x;x+A<E&&(B-=M[x+A],!(B<=0));)x++,B<<=1;if(P+=1<<x,r===_p&&P>J6||r===e3&&P>Q6)return 1;z=R&H,s[z]=w<<24|x<<16|tt-i|0}}return R!==0&&(s[tt+R]=m-A<<24|64<<16|0),l.bits=w,0};var kc=NO;const DO=0,$9=1,H9=2,{Z_FINISH:r3,Z_BLOCK:zO,Z_TREES:i0,Z_OK:Ya,Z_STREAM_END:qO,Z_NEED_DICT:FO,Z_STREAM_ERROR:$i,Z_DATA_ERROR:V9,Z_MEM_ERROR:Z9,Z_BUF_ERROR:jO,Z_DEFLATED:n3}=Ih,ld=16180,i3=16181,o3=16182,s3=16183,a3=16184,u3=16185,f3=16186,c3=16187,h3=16188,l3=16189,ll=16190,es=16191,Mp=16192,d3=16193,Ep=16194,p3=16195,m3=16196,v3=16197,g3=16198,o0=16199,s0=16200,y3=16201,b3=16202,w3=16203,x3=16204,_3=16205,Ap=16206,M3=16207,E3=16208,qr=16209,W9=16210,G9=16211,KO=852,$O=592,HO=15,VO=HO,A3=r=>(r>>>24&255)+(r>>>8&65280)+((r&65280)<<8)+((r&255)<<24);function ZO(){this.strm=null,this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new Uint16Array(320),this.work=new Uint16Array(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}const au=r=>{if(!r)return 1;const t=r.state;return!t||t.strm!==r||t.mode<ld||t.mode>G9?1:0},Y9=r=>{if(au(r))return $i;const t=r.state;return r.total_in=r.total_out=t.total=0,r.msg="",t.wrap&&(r.adler=t.wrap&1),t.mode=ld,t.last=0,t.havedict=0,t.flags=-1,t.dmax=32768,t.head=null,t.hold=0,t.bits=0,t.lencode=t.lendyn=new Int32Array(KO),t.distcode=t.distdyn=new Int32Array($O),t.sane=1,t.back=-1,Ya},X9=r=>{if(au(r))return $i;const t=r.state;return t.wsize=0,t.whave=0,t.wnext=0,Y9(r)},J9=(r,t)=>{let e;if(au(r))return $i;const n=r.state;return t<0?(e=0,t=-t):(e=(t>>4)+5,t<48&&(t&=15)),t&&(t<8||t>15)?$i:(n.window!==null&&n.wbits!==t&&(n.window=null),n.wrap=e,n.wbits=t,X9(r))},Q9=(r,t)=>{if(!r)return $i;const e=new ZO;r.state=e,e.strm=r,e.window=null,e.mode=ld;const n=J9(r,t);return n!==Ya&&(r.state=null),n},WO=r=>Q9(r,VO);let S3=!0,Sp,kp;const GO=r=>{if(S3){Sp=new Int32Array(512),kp=new Int32Array(32);let t=0;for(;t<144;)r.lens[t++]=8;for(;t<256;)r.lens[t++]=9;for(;t<280;)r.lens[t++]=7;for(;t<288;)r.lens[t++]=8;for(kc($9,r.lens,0,288,Sp,0,r.work,{bits:9}),t=0;t<32;)r.lens[t++]=5;kc(H9,r.lens,0,32,kp,0,r.work,{bits:5}),S3=!1}r.lencode=Sp,r.lenbits=9,r.distcode=kp,r.distbits=5},tM=(r,t,e,n)=>{let s;const i=r.state;return i.window===null&&(i.wsize=1<<i.wbits,i.wnext=0,i.whave=0,i.window=new Uint8Array(i.wsize)),n>=i.wsize?(i.window.set(t.subarray(e-i.wsize,e),0),i.wnext=0,i.whave=i.wsize):(s=i.wsize-i.wnext,s>n&&(s=n),i.window.set(t.subarray(e-n,e-n+s),i.wnext),n-=s,n?(i.window.set(t.subarray(e-n,e),0),i.wnext=n,i.whave=i.wsize):(i.wnext+=s,i.wnext===i.wsize&&(i.wnext=0),i.whave<i.wsize&&(i.whave+=s))),0},YO=(r,t)=>{let e,n,s,i,c,l,p,m,v,_,E,w,x,A,B=0,P,R,C,O,z,H,tt,nt;const G=new Uint8Array(4);let M,d;const o=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]);if(au(r)||!r.output||!r.input&&r.avail_in!==0)return $i;e=r.state,e.mode===es&&(e.mode=Mp),c=r.next_out,s=r.output,p=r.avail_out,i=r.next_in,n=r.input,l=r.avail_in,m=e.hold,v=e.bits,_=l,E=p,nt=Ya;t:for(;;)switch(e.mode){case ld:if(e.wrap===0){e.mode=Mp;break}for(;v<16;){if(l===0)break t;l--,m+=n[i++]<<v,v+=8}if(e.wrap&2&&m===35615){e.wbits===0&&(e.wbits=15),e.check=0,G[0]=m&255,G[1]=m>>>8&255,e.check=xn(e.check,G,2,0),m=0,v=0,e.mode=i3;break}if(e.head&&(e.head.done=!1),!(e.wrap&1)||(((m&255)<<8)+(m>>8))%31){r.msg="incorrect header check",e.mode=qr;break}if((m&15)!==n3){r.msg="unknown compression method",e.mode=qr;break}if(m>>>=4,v-=4,tt=(m&15)+8,e.wbits===0&&(e.wbits=tt),tt>15||tt>e.wbits){r.msg="invalid window size",e.mode=qr;break}e.dmax=1<<e.wbits,e.flags=0,r.adler=e.check=1,e.mode=m&512?l3:es,m=0,v=0;break;case i3:for(;v<16;){if(l===0)break t;l--,m+=n[i++]<<v,v+=8}if(e.flags=m,(e.flags&255)!==n3){r.msg="unknown compression method",e.mode=qr;break}if(e.flags&57344){r.msg="unknown header flags set",e.mode=qr;break}e.head&&(e.head.text=m>>8&1),e.flags&512&&e.wrap&4&&(G[0]=m&255,G[1]=m>>>8&255,e.check=xn(e.check,G,2,0)),m=0,v=0,e.mode=o3;case o3:for(;v<32;){if(l===0)break t;l--,m+=n[i++]<<v,v+=8}e.head&&(e.head.time=m),e.flags&512&&e.wrap&4&&(G[0]=m&255,G[1]=m>>>8&255,G[2]=m>>>16&255,G[3]=m>>>24&255,e.check=xn(e.check,G,4,0)),m=0,v=0,e.mode=s3;case s3:for(;v<16;){if(l===0)break t;l--,m+=n[i++]<<v,v+=8}e.head&&(e.head.xflags=m&255,e.head.os=m>>8),e.flags&512&&e.wrap&4&&(G[0]=m&255,G[1]=m>>>8&255,e.check=xn(e.check,G,2,0)),m=0,v=0,e.mode=a3;case a3:if(e.flags&1024){for(;v<16;){if(l===0)break t;l--,m+=n[i++]<<v,v+=8}e.length=m,e.head&&(e.head.extra_len=m),e.flags&512&&e.wrap&4&&(G[0]=m&255,G[1]=m>>>8&255,e.check=xn(e.check,G,2,0)),m=0,v=0}else e.head&&(e.head.extra=null);e.mode=u3;case u3:if(e.flags&1024&&(w=e.length,w>l&&(w=l),w&&(e.head&&(tt=e.head.extra_len-e.length,e.head.extra||(e.head.extra=new Uint8Array(e.head.extra_len)),e.head.extra.set(n.subarray(i,i+w),tt)),e.flags&512&&e.wrap&4&&(e.check=xn(e.check,n,w,i)),l-=w,i+=w,e.length-=w),e.length))break t;e.length=0,e.mode=f3;case f3:if(e.flags&2048){if(l===0)break t;w=0;do tt=n[i+w++],e.head&&tt&&e.length<65536&&(e.head.name+=String.fromCharCode(tt));while(tt&&w<l);if(e.flags&512&&e.wrap&4&&(e.check=xn(e.check,n,w,i)),l-=w,i+=w,tt)break t}else e.head&&(e.head.name=null);e.length=0,e.mode=c3;case c3:if(e.flags&4096){if(l===0)break t;w=0;do tt=n[i+w++],e.head&&tt&&e.length<65536&&(e.head.comment+=String.fromCharCode(tt));while(tt&&w<l);if(e.flags&512&&e.wrap&4&&(e.check=xn(e.check,n,w,i)),l-=w,i+=w,tt)break t}else e.head&&(e.head.comment=null);e.mode=h3;case h3:if(e.flags&512){for(;v<16;){if(l===0)break t;l--,m+=n[i++]<<v,v+=8}if(e.wrap&4&&m!==(e.check&65535)){r.msg="header crc mismatch",e.mode=qr;break}m=0,v=0}e.head&&(e.head.hcrc=e.flags>>9&1,e.head.done=!0),r.adler=e.check=0,e.mode=es;break;case l3:for(;v<32;){if(l===0)break t;l--,m+=n[i++]<<v,v+=8}r.adler=e.check=A3(m),m=0,v=0,e.mode=ll;case ll:if(e.havedict===0)return r.next_out=c,r.avail_out=p,r.next_in=i,r.avail_in=l,e.hold=m,e.bits=v,FO;r.adler=e.check=1,e.mode=es;case es:if(t===zO||t===i0)break t;case Mp:if(e.last){m>>>=v&7,v-=v&7,e.mode=Ap;break}for(;v<3;){if(l===0)break t;l--,m+=n[i++]<<v,v+=8}switch(e.last=m&1,m>>>=1,v-=1,m&3){case 0:e.mode=d3;break;case 1:if(GO(e),e.mode=o0,t===i0){m>>>=2,v-=2;break t}break;case 2:e.mode=m3;break;case 3:r.msg="invalid block type",e.mode=qr}m>>>=2,v-=2;break;case d3:for(m>>>=v&7,v-=v&7;v<32;){if(l===0)break t;l--,m+=n[i++]<<v,v+=8}if((m&65535)!==(m>>>16^65535)){r.msg="invalid stored block lengths",e.mode=qr;break}if(e.length=m&65535,m=0,v=0,e.mode=Ep,t===i0)break t;case Ep:e.mode=p3;case p3:if(w=e.length,w){if(w>l&&(w=l),w>p&&(w=p),w===0)break t;s.set(n.subarray(i,i+w),c),l-=w,i+=w,p-=w,c+=w,e.length-=w;break}e.mode=es;break;case m3:for(;v<14;){if(l===0)break t;l--,m+=n[i++]<<v,v+=8}if(e.nlen=(m&31)+257,m>>>=5,v-=5,e.ndist=(m&31)+1,m>>>=5,v-=5,e.ncode=(m&15)+4,m>>>=4,v-=4,e.nlen>286||e.ndist>30){r.msg="too many length or distance symbols",e.mode=qr;break}e.have=0,e.mode=v3;case v3:for(;e.have<e.ncode;){for(;v<3;){if(l===0)break t;l--,m+=n[i++]<<v,v+=8}e.lens[o[e.have++]]=m&7,m>>>=3,v-=3}for(;e.have<19;)e.lens[o[e.have++]]=0;if(e.lencode=e.lendyn,e.lenbits=7,M={bits:e.lenbits},nt=kc(DO,e.lens,0,19,e.lencode,0,e.work,M),e.lenbits=M.bits,nt){r.msg="invalid code lengths set",e.mode=qr;break}e.have=0,e.mode=g3;case g3:for(;e.have<e.nlen+e.ndist;){for(;B=e.lencode[m&(1<<e.lenbits)-1],P=B>>>24,R=B>>>16&255,C=B&65535,!(P<=v);){if(l===0)break t;l--,m+=n[i++]<<v,v+=8}if(C<16)m>>>=P,v-=P,e.lens[e.have++]=C;else{if(C===16){for(d=P+2;v<d;){if(l===0)break t;l--,m+=n[i++]<<v,v+=8}if(m>>>=P,v-=P,e.have===0){r.msg="invalid bit length repeat",e.mode=qr;break}tt=e.lens[e.have-1],w=3+(m&3),m>>>=2,v-=2}else if(C===17){for(d=P+3;v<d;){if(l===0)break t;l--,m+=n[i++]<<v,v+=8}m>>>=P,v-=P,tt=0,w=3+(m&7),m>>>=3,v-=3}else{for(d=P+7;v<d;){if(l===0)break t;l--,m+=n[i++]<<v,v+=8}m>>>=P,v-=P,tt=0,w=11+(m&127),m>>>=7,v-=7}if(e.have+w>e.nlen+e.ndist){r.msg="invalid bit length repeat",e.mode=qr;break}for(;w--;)e.lens[e.have++]=tt}}if(e.mode===qr)break;if(e.lens[256]===0){r.msg="invalid code -- missing end-of-block",e.mode=qr;break}if(e.lenbits=9,M={bits:e.lenbits},nt=kc($9,e.lens,0,e.nlen,e.lencode,0,e.work,M),e.lenbits=M.bits,nt){r.msg="invalid literal/lengths set",e.mode=qr;break}if(e.distbits=6,e.distcode=e.distdyn,M={bits:e.distbits},nt=kc(H9,e.lens,e.nlen,e.ndist,e.distcode,0,e.work,M),e.distbits=M.bits,nt){r.msg="invalid distances set",e.mode=qr;break}if(e.mode=o0,t===i0)break t;case o0:e.mode=s0;case s0:if(l>=6&&p>=258){r.next_out=c,r.avail_out=p,r.next_in=i,r.avail_in=l,e.hold=m,e.bits=v,CO(r,E),c=r.next_out,s=r.output,p=r.avail_out,i=r.next_in,n=r.input,l=r.avail_in,m=e.hold,v=e.bits,e.mode===es&&(e.back=-1);break}for(e.back=0;B=e.lencode[m&(1<<e.lenbits)-1],P=B>>>24,R=B>>>16&255,C=B&65535,!(P<=v);){if(l===0)break t;l--,m+=n[i++]<<v,v+=8}if(R&&!(R&240)){for(O=P,z=R,H=C;B=e.lencode[H+((m&(1<<O+z)-1)>>O)],P=B>>>24,R=B>>>16&255,C=B&65535,!(O+P<=v);){if(l===0)break t;l--,m+=n[i++]<<v,v+=8}m>>>=O,v-=O,e.back+=O}if(m>>>=P,v-=P,e.back+=P,e.length=C,R===0){e.mode=_3;break}if(R&32){e.back=-1,e.mode=es;break}if(R&64){r.msg="invalid literal/length code",e.mode=qr;break}e.extra=R&15,e.mode=y3;case y3:if(e.extra){for(d=e.extra;v<d;){if(l===0)break t;l--,m+=n[i++]<<v,v+=8}e.length+=m&(1<<e.extra)-1,m>>>=e.extra,v-=e.extra,e.back+=e.extra}e.was=e.length,e.mode=b3;case b3:for(;B=e.distcode[m&(1<<e.distbits)-1],P=B>>>24,R=B>>>16&255,C=B&65535,!(P<=v);){if(l===0)break t;l--,m+=n[i++]<<v,v+=8}if(!(R&240)){for(O=P,z=R,H=C;B=e.distcode[H+((m&(1<<O+z)-1)>>O)],P=B>>>24,R=B>>>16&255,C=B&65535,!(O+P<=v);){if(l===0)break t;l--,m+=n[i++]<<v,v+=8}m>>>=O,v-=O,e.back+=O}if(m>>>=P,v-=P,e.back+=P,R&64){r.msg="invalid distance code",e.mode=qr;break}e.offset=C,e.extra=R&15,e.mode=w3;case w3:if(e.extra){for(d=e.extra;v<d;){if(l===0)break t;l--,m+=n[i++]<<v,v+=8}e.offset+=m&(1<<e.extra)-1,m>>>=e.extra,v-=e.extra,e.back+=e.extra}if(e.offset>e.dmax){r.msg="invalid distance too far back",e.mode=qr;break}e.mode=x3;case x3:if(p===0)break t;if(w=E-p,e.offset>w){if(w=e.offset-w,w>e.whave&&e.sane){r.msg="invalid distance too far back",e.mode=qr;break}w>e.wnext?(w-=e.wnext,x=e.wsize-w):x=e.wnext-w,w>e.length&&(w=e.length),A=e.window}else A=s,x=c-e.offset,w=e.length;w>p&&(w=p),p-=w,e.length-=w;do s[c++]=A[x++];while(--w);e.length===0&&(e.mode=s0);break;case _3:if(p===0)break t;s[c++]=e.length,p--,e.mode=s0;break;case Ap:if(e.wrap){for(;v<32;){if(l===0)break t;l--,m|=n[i++]<<v,v+=8}if(E-=p,r.total_out+=E,e.total+=E,e.wrap&4&&E&&(r.adler=e.check=e.flags?xn(e.check,s,E,c-E):jc(e.check,s,E,c-E)),E=p,e.wrap&4&&(e.flags?m:A3(m))!==e.check){r.msg="incorrect data check",e.mode=qr;break}m=0,v=0}e.mode=M3;case M3:if(e.wrap&&e.flags){for(;v<32;){if(l===0)break t;l--,m+=n[i++]<<v,v+=8}if(e.wrap&4&&m!==(e.total&4294967295)){r.msg="incorrect length check",e.mode=qr;break}m=0,v=0}e.mode=E3;case E3:nt=qO;break t;case qr:nt=V9;break t;case W9:return Z9;case G9:default:return $i}return r.next_out=c,r.avail_out=p,r.next_in=i,r.avail_in=l,e.hold=m,e.bits=v,(e.wsize||E!==r.avail_out&&e.mode<qr&&(e.mode<Ap||t!==r3))&&tM(r,r.output,r.next_out,E-r.avail_out),_-=r.avail_in,E-=r.avail_out,r.total_in+=_,r.total_out+=E,e.total+=E,e.wrap&4&&E&&(r.adler=e.check=e.flags?xn(e.check,s,E,r.next_out-E):jc(e.check,s,E,r.next_out-E)),r.data_type=e.bits+(e.last?64:0)+(e.mode===es?128:0)+(e.mode===o0||e.mode===Ep?256:0),(_===0&&E===0||t===r3)&&nt===Ya&&(nt=jO),nt},XO=r=>{if(au(r))return $i;let t=r.state;return t.window&&(t.window=null),r.state=null,Ya},JO=(r,t)=>{if(au(r))return $i;const e=r.state;return e.wrap&2?(e.head=t,t.done=!1,Ya):$i},QO=(r,t)=>{const e=t.length;let n,s,i;return au(r)||(n=r.state,n.wrap!==0&&n.mode!==ll)?$i:n.mode===ll&&(s=1,s=jc(s,t,e,0),s!==n.check)?V9:(i=tM(r,t,e,e),i?(n.mode=W9,Z9):(n.havedict=1,Ya))};var tU=X9,eU=J9,rU=Y9,nU=WO,iU=Q9,oU=YO,sU=XO,aU=JO,uU=QO,fU="pako inflate (from Nodeca project)",ls={inflateReset:tU,inflateReset2:eU,inflateResetKeep:rU,inflateInit:nU,inflateInit2:iU,inflate:oU,inflateEnd:sU,inflateGetHeader:aU,inflateSetDictionary:uU,inflateInfo:fU};function cU(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}var hU=cU;const eM=Object.prototype.toString,{Z_NO_FLUSH:lU,Z_FINISH:dU,Z_OK:Hc,Z_STREAM_END:Ip,Z_NEED_DICT:Bp,Z_STREAM_ERROR:pU,Z_DATA_ERROR:k3,Z_MEM_ERROR:mU}=Ih;function Ph(r){this.options=hd.assign({chunkSize:1024*64,windowBits:15,to:""},r||{});const t=this.options;t.raw&&t.windowBits>=0&&t.windowBits<16&&(t.windowBits=-t.windowBits,t.windowBits===0&&(t.windowBits=-15)),t.windowBits>=0&&t.windowBits<16&&!(r&&r.windowBits)&&(t.windowBits+=32),t.windowBits>15&&t.windowBits<48&&(t.windowBits&15||(t.windowBits|=15)),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new j9,this.strm.avail_out=0;let e=ls.inflateInit2(this.strm,t.windowBits);if(e!==Hc)throw new Error(of[e]);if(this.header=new hU,ls.inflateGetHeader(this.strm,this.header),t.dictionary&&(typeof t.dictionary=="string"?t.dictionary=$c.string2buf(t.dictionary):eM.call(t.dictionary)==="[object ArrayBuffer]"&&(t.dictionary=new Uint8Array(t.dictionary)),t.raw&&(e=ls.inflateSetDictionary(this.strm,t.dictionary),e!==Hc)))throw new Error(of[e])}Ph.prototype.push=function(r,t){const e=this.strm,n=this.options.chunkSize,s=this.options.dictionary;let i,c,l;if(this.ended)return!1;for(t===~~t?c=t:c=t===!0?dU:lU,eM.call(r)==="[object ArrayBuffer]"?e.input=new Uint8Array(r):e.input=r,e.next_in=0,e.avail_in=e.input.length;;){for(e.avail_out===0&&(e.output=new Uint8Array(n),e.next_out=0,e.avail_out=n),i=ls.inflate(e,c),i===Bp&&s&&(i=ls.inflateSetDictionary(e,s),i===Hc?i=ls.inflate(e,c):i===k3&&(i=Bp));e.avail_in>0&&i===Ip&&e.state.wrap>0&&r[e.next_in]!==0;)ls.inflateReset(e),i=ls.inflate(e,c);switch(i){case pU:case k3:case Bp:case mU:return this.onEnd(i),this.ended=!0,!1}if(l=e.avail_out,e.next_out&&(e.avail_out===0||i===Ip))if(this.options.to==="string"){let p=$c.utf8border(e.output,e.next_out),m=e.next_out-p,v=$c.buf2string(e.output,p);e.next_out=m,e.avail_out=n-m,m&&e.output.set(e.output.subarray(p,p+m),0),this.onData(v)}else this.onData(e.output.length===e.next_out?e.output:e.output.subarray(0,e.next_out));if(!(i===Hc&&l===0)){if(i===Ip)return i=ls.inflateEnd(this.strm),this.onEnd(i),this.ended=!0,!0;if(e.avail_in===0)break}}return!0};Ph.prototype.onData=function(r){this.chunks.push(r)};Ph.prototype.onEnd=function(r){r===Hc&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=hd.flattenChunks(this.chunks)),this.chunks=[],this.err=r,this.msg=this.strm.msg};function Ug(r,t){const e=new Ph(t);if(e.push(r),e.err)throw e.msg||of[e.err];return e.result}function vU(r,t){return t=t||{},t.raw=!0,Ug(r,t)}var gU=Ph,yU=Ug,bU=vU,wU=Ug,xU=Ih,_U={Inflate:gU,inflate:yU,inflateRaw:bU,ungzip:wU,constants:xU};const{Inflate:WW,inflate:MU,inflateRaw:GW,ungzip:YW}=_U;var EU=MU;function AU(r,t){return Array.apply(0,new Array(Math.ceil(r.length/t))).map((e,n)=>r.slice(n*t,(n+1)*t))}const Yf=r=>"version"in r;function SU(r){return r.reduce((t,e)=>t+e.toString(16).padStart(2,"0"),"0x")}function kU(r){r.indexOf("0x")===0&&(r=r.substr(2)),r.length%2===1&&(r="0"+r);let t=r.match(/.{2}/g);return t===null?yr.Buffer.from([]):yr.Buffer.from(t.map(e=>parseInt(e,16)))}var IU=Object.freeze({__proto__:null,encode:SU,decode:kU});function rM(r){return new TextDecoder("utf-8").decode(r)}function nM(r){return new TextEncoder().encode(r)}var BU=Object.freeze({__proto__:null,decode:rM,encode:nM});function x2(r){return Ou.encode(r)}function PU(r){return Ou.decode(r)}var RU=Object.freeze({__proto__:null,encode:x2,decode:PU});function CU(r){return s2(r)}function iM(r){return yr.Buffer.from(H7(r))}var TU=Object.freeze({__proto__:null,encode:CU,decode:iM}),LU=Object.freeze({__proto__:null,hex:IU,utf8:BU,bs58:RU,base64:TU});function oM(r){const t=new Map;return r.errors&&r.errors.forEach(e=>{var n;let s=(n=e.msg)!==null&&n!==void 0?n:e.name;t.set(e.code,s)}),t}function sM(r,...t){if(r.args.length!=t.length)throw new Error("Invalid argument length");const e={};let n=0;return r.args.forEach(s=>{e[s.name]=t[n],n+=1}),e}function Ng(r,t={}){r.forEach(e=>{if("accounts"in e)Ng(e.accounts,t[e.name]);else if(t[e.name]===void 0)throw new Error(`Invalid arguments: ${e.name} not provided.`)})}function si(r){return r instanceof Ne?r:new Ne(r)}class OU extends TypeError{constructor(t,e){let n;const{message:s,...i}=t,{path:c}=t,l=c.length===0?s:"At path: "+c.join(".")+" -- "+s;super(l),this.value=void 0,this.key=void 0,this.type=void 0,this.refinement=void 0,this.path=void 0,this.branch=void 0,this.failures=void 0,Object.assign(this,i),this.name=this.constructor.name,this.failures=()=>{var p;return(p=n)!=null?p:n=[t,...e()]}}}function UU(r){return Nu(r)&&typeof r[Symbol.iterator]=="function"}function Nu(r){return typeof r=="object"&&r!=null}function ra(r){return typeof r=="string"?JSON.stringify(r):""+r}function NU(r){const{done:t,value:e}=r.next();return t?void 0:e}function DU(r,t,e,n){if(r===!0)return;r===!1?r={}:typeof r=="string"&&(r={message:r});const{path:s,branch:i}=t,{type:c}=e,{refinement:l,message:p="Expected a value of type `"+c+"`"+(l?" with refinement `"+l+"`":"")+", but received: `"+ra(n)+"`"}=r;return{value:n,type:c,refinement:l,key:s[s.length-1],path:s,branch:i,...r,message:p}}function*I3(r,t,e,n){UU(r)||(r=[r]);for(const s of r){const i=DU(s,t,e,n);i&&(yield i)}}function*Dg(r,t,e){e===void 0&&(e={});const{path:n=[],branch:s=[r],coerce:i=!1,mask:c=!1}=e,l={path:n,branch:s};if(i&&(r=t.coercer(r,l),c&&t.type!=="type"&&Nu(t.schema)&&Nu(r)&&!Array.isArray(r)))for(const m in r)t.schema[m]===void 0&&delete r[m];let p=!0;for(const m of t.validator(r,l))p=!1,yield[m,void 0];for(let[m,v,_]of t.entries(r,l)){const E=Dg(v,_,{path:m===void 0?n:[...n,m],branch:m===void 0?s:[...s,v],coerce:i,mask:c});for(const w of E)w[0]?(p=!1,yield[w[0],void 0]):i&&(v=w[1],m===void 0?r=v:r instanceof Map?r.set(m,v):r instanceof Set?r.add(v):Nu(r)&&(r[m]=v))}if(p)for(const m of t.refiner(r,l))p=!1,yield[m,void 0];p&&(yield[void 0,r])}class aa{constructor(t){this.TYPE=void 0,this.type=void 0,this.schema=void 0,this.coercer=void 0,this.validator=void 0,this.refiner=void 0,this.entries=void 0;const{type:e,schema:n,validator:s,refiner:i,coercer:c=p=>p,entries:l=function*(){}}=t;this.type=e,this.schema=n,this.entries=l,this.coercer=c,s?this.validator=(p,m)=>{const v=s(p,m);return I3(v,m,this,p)}:this.validator=()=>[],i?this.refiner=(p,m)=>{const v=i(p,m);return I3(v,m,this,p)}:this.refiner=()=>[]}assert(t){return zU(t,this)}create(t){return zg(t,this)}is(t){return aM(t,this)}mask(t){return qU(t,this)}validate(t,e){return e===void 0&&(e={}),Rh(t,this,e)}}function zU(r,t){const e=Rh(r,t);if(e[0])throw e[0]}function zg(r,t){const e=Rh(r,t,{coerce:!0});if(e[0])throw e[0];return e[1]}function qU(r,t){const e=Rh(r,t,{coerce:!0,mask:!0});if(e[0])throw e[0];return e[1]}function aM(r,t){return!Rh(r,t)[0]}function Rh(r,t,e){e===void 0&&(e={});const n=Dg(r,t,e),s=NU(n);return s[0]?[new OU(s[0],function*(){for(const c of n)c[0]&&(yield c[0])}),void 0]:[void 0,s[1]]}function Ch(r,t){return new aa({type:r,schema:null,validator:t})}function FU(){return Ch("any",()=>!0)}function Pp(r){return new aa({type:"array",schema:r,*entries(t){if(r&&Array.isArray(t))for(const[e,n]of t.entries())yield[e,n,r]},coercer(t){return Array.isArray(t)?t.slice():t},validator(t){return Array.isArray(t)||"Expected an array value, but received: "+ra(t)}})}function jU(){return Ch("boolean",r=>typeof r=="boolean")}function B3(r){const t=ra(r),e=typeof r;return new aa({type:"literal",schema:e==="string"||e==="number"||e==="boolean"?r:null,validator(n){return n===r||"Expected the literal `"+t+"`, but received: "+ra(n)}})}function a0(r){return new aa({...r,validator:(t,e)=>t===null||r.validator(t,e),refiner:(t,e)=>t===null||r.refiner(t,e)})}function W0(){return Ch("number",r=>typeof r=="number"&&!isNaN(r)||"Expected a number, but received: "+ra(r))}function G0(r){return new aa({...r,validator:(t,e)=>t===void 0||r.validator(t,e),refiner:(t,e)=>t===void 0||r.refiner(t,e)})}function Ra(){return Ch("string",r=>typeof r=="string"||"Expected a string, but received: "+ra(r))}function Js(r){const t=Object.keys(r);return new aa({type:"type",schema:r,*entries(e){if(Nu(e))for(const n of t)yield[n,e[n],r[n]]},validator(e){return Nu(e)||"Expected an object, but received: "+ra(e)}})}function uM(r){const t=r.map(e=>e.type).join(" | ");return new aa({type:"union",schema:null,coercer(e,n){return(r.find(i=>{const[c]=i.validate(e,{coerce:!0});return!c})||qg()).coercer(e,n)},validator(e,n){const s=[];for(const i of r){const[...c]=Dg(e,i,n),[l]=c;if(l[0])for(const[p]of c)p&&s.push(p);else return[]}return["Expected the value to satisfy a union of `"+t+"`, but received: "+ra(e),...s]}})}function qg(){return Ch("unknown",()=>!0)}function KU(r,t,e){return new aa({...r,coercer:(n,s)=>aM(n,t)?r.coercer(e(n,s),s):r.coercer(n,s)})}async function $U(r,t,e,n){r=si(r),n||(n=Vc());const s=new Zl;if(s.add(new gh({programId:r,keys:t??[],data:e})),n.sendAndConfirm===void 0)throw new Error("This function requires 'Provider.sendAndConfirm' to be implemented.");return await n.sendAndConfirm(s,[])}const P3=99;async function HU(r,t,e){return(await Fg(r,t,e)).map(s=>s?{publicKey:s.publicKey,account:s.account}:null)}async function Fg(r,t,e){if(t.length<=P3)return await R3(r,t,e);{const n=AU(t,P3);return(await Promise.all(n.map(i=>R3(r,i,e)))).flat()}}async function R3(r,t,e){const n=e??r.commitment,{value:s,context:i}=await r.getMultipleAccountsInfoAndContext(t,n);return s.map((l,p)=>l===null?null:{publicKey:t[p],account:l,context:i})}async function fM(r,t,e,n,s){var i;e&&e.length>0&&t.sign(...e);const c=t._compile(),l=c.serialize(),m=t._serialize(l).toString("base64"),v={encoding:"base64",commitment:n??r.commitment};if(s){const x=(Array.isArray(s)?s:c.nonProgramIds()).map(A=>A.toBase58());v.accounts={encoding:"base64",addresses:x}}e&&(v.sigVerify=!0);const _=[m,v],E=await r._rpcRequest("simulateTransaction",_),w=zg(E,GU);if("error"in w){let x;if("data"in w.error&&(x=(i=w.error.data)===null||i===void 0?void 0:i.logs,x&&Array.isArray(x))){const A=`
    `,B=A+x.join(A);console.error(w.error.message,B)}throw new o2("failed to simulate transaction: "+w.error.message,x)}return w.result}function VU(r){return KU(cM(r),ZU,t=>"error"in t?t:{...t,result:zg(t.result,r)})}const ZU=cM(qg());function cM(r){return uM([Js({jsonrpc:B3("2.0"),id:Ra(),result:r}),Js({jsonrpc:B3("2.0"),id:Ra(),error:Js({code:qg(),message:Ra(),data:G0(FU())})})])}function WU(r){return VU(Js({context:Js({slot:W0()}),value:r}))}const GU=WU(Js({err:a0(uM([Js({}),Ra()])),logs:a0(Pp(Ra())),accounts:G0(a0(Pp(a0(Js({executable:jU(),owner:Ra(),lamports:W0(),data:Pp(Ra()),rentEpoch:G0(W0())}))))),unitsConsumed:G0(W0())}));var YU=Object.freeze({__proto__:null,invoke:$U,getMultipleAccounts:HU,getMultipleAccountsAndContext:Fg,simulateTransaction:fM});class hM{constructor(t,e,n){this.connection=t,this.wallet=e,this.opts=n,this.publicKey=e==null?void 0:e.publicKey}static defaultOptions(){return{preflightCommitment:"processed",commitment:"processed"}}static local(t,e){throw new Error("Provider local is not available on browser.")}static env(){throw new Error("Provider env is not available on browser.")}async sendAndConfirm(t,e,n){var s,i,c,l;if(n===void 0&&(n=this.opts),Yf(t))e&&t.sign(e);else if(t.feePayer=(s=t.feePayer)!==null&&s!==void 0?s:this.wallet.publicKey,t.recentBlockhash=(await this.connection.getLatestBlockhash(n.preflightCommitment)).blockhash,e)for(const m of e)t.partialSign(m);t=await this.wallet.signTransaction(t);const p=t.serialize();try{return await C3(this.connection,p,n)}catch(m){if(m instanceof _2){const v=x2(Yf(t)?((i=t.signatures)===null||i===void 0?void 0:i[0])||new Uint8Array:(c=t.signature)!==null&&c!==void 0?c:new Uint8Array),_=await this.connection.getTransaction(v,{commitment:"confirmed"});if(_){const E=(l=_.meta)===null||l===void 0?void 0:l.logMessages;throw E?new o2(m.message,E):m}else throw m}else throw m}}async sendAll(t,e){var n,s,i;e===void 0&&(e=this.opts);const c=(await this.connection.getLatestBlockhash(e.preflightCommitment)).blockhash;let l=t.map(v=>{var _,E;if(Yf(v.tx)){let w=v.tx;return v.signers&&w.sign(v.signers),w}else{let w=v.tx,x=(_=v.signers)!==null&&_!==void 0?_:[];return w.feePayer=(E=w.feePayer)!==null&&E!==void 0?E:this.wallet.publicKey,w.recentBlockhash=c,x.forEach(A=>{w.partialSign(A)}),w}});const p=await this.wallet.signAllTransactions(l),m=[];for(let v=0;v<l.length;v+=1){const _=p[v],E=_.serialize();try{m.push(await C3(this.connection,E,e))}catch(w){if(w instanceof _2){const x=x2(Yf(_)?((n=_.signatures)===null||n===void 0?void 0:n[0])||new Uint8Array:(s=_.signature)!==null&&s!==void 0?s:new Uint8Array),A=await this.connection.getTransaction(x,{commitment:"confirmed"});if(A){const B=(i=A.meta)===null||i===void 0?void 0:i.logMessages;throw B?new o2(w.message,B):w}else throw w}else throw w}}return m}async simulate(t,e,n,s){let i=(await this.connection.getLatestBlockhash(n??this.connection.commitment)).blockhash,c;if(Yf(t)?(e&&(t.sign(e),t=await this.wallet.signTransaction(t)),c=await this.connection.simulateTransaction(t,{commitment:n})):(t.feePayer=t.feePayer||this.wallet.publicKey,t.recentBlockhash=i,e&&(t=await this.wallet.signTransaction(t)),c=await fM(this.connection,t,e,n,s)),c.value.err)throw new XU(c.value);return c.value}}class XU extends Error{constructor(t,e){super(e),this.simulationResponse=t}}async function C3(r,t,e){const n=e&&{skipPreflight:e.skipPreflight,preflightCommitment:e.preflightCommitment||e.commitment},s=await r.sendRawTransaction(t,n),i=(await r.confirmTransaction(s,e&&e.commitment)).value;if(i.err)throw new _2(`Raw transaction ${s} failed (${JSON.stringify(i)})`);return s}class _2 extends Error{constructor(t){super(t)}}function JU(r){M2=r}function Vc(){return M2===null?hM.local():M2}let M2=null;const QU=new Set(["anchor-deprecated-state","debug-logs"]),lM=new Map;function tN(r){if(!QU.has(r))throw new Error("Invalid feature");lM.set(r,!0)}function jg(r){return lM.get(r)!==void 0}var eN=Object.freeze({__proto__:null,set:tN,isSet:jg});class Zc extends Error{constructor(t){super(t),this.name="IdlError"}}class If{constructor(t){this.stack=t}static parse(t){var e;const n=/^Program (\w*) invoke/,s=/^Program \w* success/,i=[];for(let c=0;c<t.length;c++){if(s.exec(t[c])){i.pop();continue}const l=(e=n.exec(t[c]))===null||e===void 0?void 0:e[1];l&&i.push(new Ne(l))}return new If(i)}}class Du extends Error{constructor(t,e,n,s,i,c){super(n.join(`
`).replace("Program log: ","")),this.errorLogs=n,this.logs=s,this.error={errorCode:t,errorMessage:e,comparedValues:c,origin:i},this._programErrorStack=If.parse(s)}static parse(t){if(!t)return null;const e=t.findIndex(E=>E.startsWith("Program log: AnchorError"));if(e===-1)return null;const n=t[e],s=[n];let i;if(e+1<t.length){if(t[e+1]==="Program log: Left:"){const E=/^Program log: (.*)$/,w=E.exec(t[e+2])[1],x=E.exec(t[e+4])[1];i=[new Ne(w),new Ne(x)],s.push(...t.slice(e+1,e+5))}else if(t[e+1].startsWith("Program log: Left:")){const E=/^Program log: (Left|Right): (.*)$/,w=E.exec(t[e+1])[2],x=E.exec(t[e+2])[2];s.push(...t.slice(e+1,e+3)),i=[w,x]}}const l=/^Program log: AnchorError occurred\. Error Code: (.*)\. Error Number: (\d*)\. Error Message: (.*)\./.exec(n),m=/^Program log: AnchorError thrown in (.*):(\d*)\. Error Code: (.*)\. Error Number: (\d*)\. Error Message: (.*)\./.exec(n),_=/^Program log: AnchorError caused by account: (.*)\. Error Code: (.*)\. Error Number: (\d*)\. Error Message: (.*)\./.exec(n);if(l){const[E,w,x]=l.slice(1,4),A={code:E,number:parseInt(w)};return new Du(A,x,s,t,void 0,i)}else if(m){const[E,w,x,A,B]=m.slice(1,6),P={code:x,number:parseInt(A)},R={file:E,line:parseInt(w)};return new Du(P,B,s,t,R,i)}else if(_){const[E,w,x,A]=_.slice(1,5),B=E,P={code:w,number:parseInt(x)};return new Du(P,A,s,t,B,i)}else return null}get program(){return this._programErrorStack.stack[this._programErrorStack.stack.length-1]}get programErrorStack(){return this._programErrorStack.stack}toString(){return this.message}}class Wc extends Error{constructor(t,e,n){super(),this.code=t,this.msg=e,this.logs=n,n&&(this._programErrorStack=If.parse(n))}static parse(t,e){const n=t.toString();let s;if(n.includes("custom program error:")){let l=n.split("custom program error: ");if(l.length!==2)return null;s=l[1]}else{const l=n.match(/"Custom":([0-9]+)}/g);if(!l||l.length>1)return null;s=l[0].match(/([0-9]+)/g)[0]}let i;try{i=parseInt(s)}catch{return null}let c=e.get(i);return c!==void 0?new Wc(i,c,t.logs):(c=dM.get(i),c!==void 0?new Wc(i,c,t.logs):null)}get program(){var t;return(t=this._programErrorStack)===null||t===void 0?void 0:t.stack[this._programErrorStack.stack.length-1]}get programErrorStack(){var t;return(t=this._programErrorStack)===null||t===void 0?void 0:t.stack}toString(){return this.msg}}function Kg(r,t){jg("debug-logs")&&console.log("Translating error:",r);const e=Du.parse(r.logs);if(e)return e;const n=Wc.parse(r,t);if(n)return n;if(r.logs){const s={get:function(i,c){return c==="programErrorStack"?i.programErrorStack.stack:c==="program"?i.programErrorStack.stack[r.programErrorStack.stack.length-1]:Reflect.get(...arguments)}};return r.programErrorStack=If.parse(r.logs),new Proxy(r,s)}return r}const ze={InstructionMissing:100,InstructionFallbackNotFound:101,InstructionDidNotDeserialize:102,InstructionDidNotSerialize:103,IdlInstructionStub:1e3,IdlInstructionInvalidProgram:1001,ConstraintMut:2e3,ConstraintHasOne:2001,ConstraintSigner:2002,ConstraintRaw:2003,ConstraintOwner:2004,ConstraintRentExempt:2005,ConstraintSeeds:2006,ConstraintExecutable:2007,ConstraintState:2008,ConstraintAssociated:2009,ConstraintAssociatedInit:2010,ConstraintClose:2011,ConstraintAddress:2012,ConstraintZero:2013,ConstraintTokenMint:2014,ConstraintTokenOwner:2015,ConstraintMintMintAuthority:2016,ConstraintMintFreezeAuthority:2017,ConstraintMintDecimals:2018,ConstraintSpace:2019,ConstraintAccountIsNone:2020,RequireViolated:2500,RequireEqViolated:2501,RequireKeysEqViolated:2502,RequireNeqViolated:2503,RequireKeysNeqViolated:2504,RequireGtViolated:2505,RequireGteViolated:2506,AccountDiscriminatorAlreadySet:3e3,AccountDiscriminatorNotFound:3001,AccountDiscriminatorMismatch:3002,AccountDidNotDeserialize:3003,AccountDidNotSerialize:3004,AccountNotEnoughKeys:3005,AccountNotMutable:3006,AccountOwnedByWrongProgram:3007,InvalidProgramId:3008,InvalidProgramExecutable:3009,AccountNotSigner:3010,AccountNotSystemOwned:3011,AccountNotInitialized:3012,AccountNotProgramData:3013,AccountNotAssociatedTokenAccount:3014,AccountSysvarMismatch:3015,AccountReallocExceedsLimit:3016,AccountDuplicateReallocs:3017,DeclaredProgramIdMismatch:4100,Deprecated:5e3},dM=new Map([[ze.InstructionMissing,"8 byte instruction identifier not provided"],[ze.InstructionFallbackNotFound,"Fallback functions are not supported"],[ze.InstructionDidNotDeserialize,"The program could not deserialize the given instruction"],[ze.InstructionDidNotSerialize,"The program could not serialize the given instruction"],[ze.IdlInstructionStub,"The program was compiled without idl instructions"],[ze.IdlInstructionInvalidProgram,"The transaction was given an invalid program for the IDL instruction"],[ze.ConstraintMut,"A mut constraint was violated"],[ze.ConstraintHasOne,"A has one constraint was violated"],[ze.ConstraintSigner,"A signer constraint was violated"],[ze.ConstraintRaw,"A raw constraint was violated"],[ze.ConstraintOwner,"An owner constraint was violated"],[ze.ConstraintRentExempt,"A rent exemption constraint was violated"],[ze.ConstraintSeeds,"A seeds constraint was violated"],[ze.ConstraintExecutable,"An executable constraint was violated"],[ze.ConstraintState,"Deprecated Error, feel free to replace with something else"],[ze.ConstraintAssociated,"An associated constraint was violated"],[ze.ConstraintAssociatedInit,"An associated init constraint was violated"],[ze.ConstraintClose,"A close constraint was violated"],[ze.ConstraintAddress,"An address constraint was violated"],[ze.ConstraintZero,"Expected zero account discriminant"],[ze.ConstraintTokenMint,"A token mint constraint was violated"],[ze.ConstraintTokenOwner,"A token owner constraint was violated"],[ze.ConstraintMintMintAuthority,"A mint mint authority constraint was violated"],[ze.ConstraintMintFreezeAuthority,"A mint freeze authority constraint was violated"],[ze.ConstraintMintDecimals,"A mint decimals constraint was violated"],[ze.ConstraintSpace,"A space constraint was violated"],[ze.ConstraintAccountIsNone,"A required account for the constraint is None"],[ze.RequireViolated,"A require expression was violated"],[ze.RequireEqViolated,"A require_eq expression was violated"],[ze.RequireKeysEqViolated,"A require_keys_eq expression was violated"],[ze.RequireNeqViolated,"A require_neq expression was violated"],[ze.RequireKeysNeqViolated,"A require_keys_neq expression was violated"],[ze.RequireGtViolated,"A require_gt expression was violated"],[ze.RequireGteViolated,"A require_gte expression was violated"],[ze.AccountDiscriminatorAlreadySet,"The account discriminator was already set on this account"],[ze.AccountDiscriminatorNotFound,"No 8 byte discriminator was found on the account"],[ze.AccountDiscriminatorMismatch,"8 byte discriminator did not match what was expected"],[ze.AccountDidNotDeserialize,"Failed to deserialize the account"],[ze.AccountDidNotSerialize,"Failed to serialize the account"],[ze.AccountNotEnoughKeys,"Not enough account keys given to the instruction"],[ze.AccountNotMutable,"The given account is not mutable"],[ze.AccountOwnedByWrongProgram,"The given account is owned by a different program than expected"],[ze.InvalidProgramId,"Program ID was not as expected"],[ze.InvalidProgramExecutable,"Program account is not executable"],[ze.AccountNotSigner,"The given account did not sign"],[ze.AccountNotSystemOwned,"The given account is not owned by the system program"],[ze.AccountNotInitialized,"The program expected this account to be already initialized"],[ze.AccountNotProgramData,"The given account is not a program data account"],[ze.AccountNotAssociatedTokenAccount,"The given account is not the associated token account"],[ze.AccountSysvarMismatch,"The given public key does not match the required sysvar"],[ze.AccountReallocExceedsLimit,"The account reallocation exceeds the MAX_PERMITTED_DATA_INCREASE limit"],[ze.AccountDuplicateReallocs,"The account was duplicated for more than one reallocation"],[ze.DeclaredProgramIdMismatch,"The declared program id does not match the actual program id"],[ze.Deprecated,"The API being used is deprecated and should no longer be used"]]);var E2=function(){return E2=Object.assign||function(t){for(var e,n=1,s=arguments.length;n<s;n++){e=arguments[n];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])}return t},E2.apply(this,arguments)},A2=function(){return A2=Object.assign||function(t){for(var e,n=1,s=arguments.length;n<s;n++){e=arguments[n];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])}return t},A2.apply(this,arguments)};function rN(r){return r.toLowerCase()}var nN=[/([a-z0-9])([A-Z])/g,/([A-Z])([A-Z][a-z])/g],iN=/[^A-Z0-9]+/gi;function oN(r,t){t===void 0&&(t={});for(var e=t.splitRegexp,n=e===void 0?nN:e,s=t.stripRegexp,i=s===void 0?iN:s,c=t.transform,l=c===void 0?rN:c,p=t.delimiter,m=p===void 0?" ":p,v=T3(T3(r,n,"$1\0$2"),i,"\0"),_=0,E=v.length;v.charAt(_)==="\0";)_++;for(;v.charAt(E-1)==="\0";)E--;return v.slice(_,E).split("\0").map(l).join(m)}function T3(r,t,e){return t instanceof RegExp?r.replace(t,e):t.reduce(function(n,s){return n.replace(s,e)},r)}function sN(r,t){return t===void 0&&(t={}),oN(r,A2({delimiter:"."},t))}function aN(r,t){return t===void 0&&(t={}),sN(r,E2({delimiter:"_"},t))}class wi{static fieldLayout(t,e){const n=t.name!==void 0?Dr(t.name):void 0;switch(t.type){case"bool":return Ze.bool(n);case"u8":return Ze.u8(n);case"i8":return Ze.i8(n);case"u16":return Ze.u16(n);case"i16":return Ze.i16(n);case"u32":return Ze.u32(n);case"i32":return Ze.i32(n);case"f32":return Ze.f32(n);case"u64":return Ze.u64(n);case"i64":return Ze.i64(n);case"f64":return Ze.f64(n);case"u128":return Ze.u128(n);case"i128":return Ze.i128(n);case"u256":return Ze.u256(n);case"i256":return Ze.i256(n);case"bytes":return Ze.vecU8(n);case"string":return Ze.str(n);case"publicKey":return Ze.publicKey(n);default:{if("vec"in t.type)return Ze.vec(wi.fieldLayout({name:void 0,type:t.type.vec},e),n);if("option"in t.type)return Ze.option(wi.fieldLayout({name:void 0,type:t.type.option},e),n);if("defined"in t.type){const s=t.type.defined;if(e===void 0)throw new Zc("User defined types not provided");const i=e.filter(c=>c.name===s);if(i.length!==1)throw new Zc(`Type not found: ${JSON.stringify(t)}`);return wi.typeDefLayout(i[0],e,n)}else if("array"in t.type){let s=t.type.array[0],i=t.type.array[1],c=wi.fieldLayout({name:void 0,type:s},e);return Ze.array(c,i,n)}else throw new Error(`Not yet implemented: ${t}`)}}}static typeDefLayout(t,e=[],n){if(t.type.kind==="struct"){const s=t.type.fields.map(i=>wi.fieldLayout(i,e));return Ze.struct(s,n)}else if(t.type.kind==="enum"){let s=t.type.variants.map(i=>{const c=Dr(i.name);if(i.fields===void 0)return Ze.struct([],c);const l=i.fields.map((p,m)=>p.hasOwnProperty("name")?wi.fieldLayout(p,e):wi.fieldLayout({type:p,name:m.toString()},e));return Ze.struct(l,c)});return n!==void 0?Ze.rustEnum(s).replicate(n):Ze.rustEnum(s,n)}else throw new Error(`Unknown type kint: ${t}`)}}const L3="global";class dd{constructor(t){this.idl=t,this.ixLayout=dd.parseIxLayout(t);const e=new Map;t.instructions.forEach(n=>{const s=O3(L3,n.name);e.set(Ou.encode(s),{layout:this.ixLayout.get(n.name),name:n.name})}),this.sighashLayouts=e}encode(t,e){return this._encode(L3,t,e)}_encode(t,e,n){const s=yr.Buffer.alloc(1e3),i=Dr(e),c=this.ixLayout.get(i);if(!c)throw new Error(`Unknown method: ${i}`);const l=c.encode(n,s),p=s.slice(0,l);return yr.Buffer.concat([O3(t,e),p])}static parseIxLayout(t){const e=t.instructions.map(n=>{let s=n.args.map(c=>{var l,p;return wi.fieldLayout(c,Array.from([...(l=t.accounts)!==null&&l!==void 0?l:[],...(p=t.types)!==null&&p!==void 0?p:[]]))});const i=Dr(n.name);return[i,Ze.struct(s,i)]});return new Map(e)}decode(t,e="hex"){typeof t=="string"&&(t=e==="hex"?yr.Buffer.from(t,"hex"):Ou.decode(t));let n=Ou.encode(t.slice(0,8)),s=t.slice(8);const i=this.sighashLayouts.get(n);return i?{data:i.layout.decode(s),name:i.name}:null}format(t,e){return ss.format(t,e,this.idl)}}class ss{static format(t,e,n){const s=n.instructions.filter(p=>t.name===p.name)[0];if(s===void 0)return console.error("Invalid instruction given"),null;const i=s.args.map(p=>({name:p.name,type:ss.formatIdlType(p.type),data:ss.formatIdlData(p,t.data[p.name],n.types)})),c=ss.flattenIdlAccounts(s.accounts),l=e.map((p,m)=>m<c.length?{name:c[m].name,...p}:{name:void 0,...p});return{args:i,accounts:l}}static formatIdlType(t){if(typeof t=="string")return t;if("vec"in t)return`Vec<${this.formatIdlType(t.vec)}>`;if("option"in t)return`Option<${this.formatIdlType(t.option)}>`;if("defined"in t)return t.defined;if("array"in t)return`Array<${t.array[0]}; ${t.array[1]}>`;throw new Error(`Unknown IDL type: ${t}`)}static formatIdlData(t,e,n){if(typeof t.type=="string")return e.toString();if(t.type.hasOwnProperty("vec"))return"["+e.map(s=>this.formatIdlData({name:"",type:t.type.vec},s)).join(", ")+"]";if(t.type.hasOwnProperty("option"))return e===null?"null":this.formatIdlData({name:"",type:t.type.option},e,n);if(t.type.hasOwnProperty("defined")){if(n===void 0)throw new Error("User defined types not provided");const s=n.filter(i=>i.name===t.type.defined);if(s.length!==1)throw new Error(`Type not found: ${t.type.defined}`);return ss.formatIdlDataDefined(s[0],e,n)}return"unknown"}static formatIdlDataDefined(t,e,n){if(t.type.kind==="struct"){const s=t.type;return"{ "+Object.keys(e).map(c=>{const l=s.fields.filter(p=>p.name===c)[0];if(l===void 0)throw new Error("Unable to find type");return c+": "+ss.formatIdlData(l,e[c],n)}).join(", ")+" }"}else{if(t.type.variants.length===0)return"{}";if(t.type.variants[0].name){const s=t.type.variants,i=Object.keys(e)[0],c=e[i],l=Object.keys(c).map(m=>{var v;const _=c[m],E=(v=s[i])===null||v===void 0?void 0:v.filter(w=>w.name===m)[0];if(E===void 0)throw new Error("Unable to find variant");return m+": "+ss.formatIdlData(E,_,n)}).join(", "),p=Dr(i,{pascalCase:!0});return l.length===0?p:`${p} { ${l} }`}else return"Tuple formatting not yet implemented"}}static flattenIdlAccounts(t,e){return t.map(n=>{const s=uN(n.name);if(n.hasOwnProperty("accounts")){const i=e?`${e} > ${s}`:s;return ss.flattenIdlAccounts(n.accounts,i)}else return{...n,name:e?`${e} > ${s}`:s}}).flat()}}function uN(r){const t=r.replace(/([A-Z])/g," $1");return t.charAt(0).toUpperCase()+t.slice(1)}function O3(r,t){let e=aN(t),n=`${r}:${e}`;return yr.Buffer.from(Vl(n).slice(0,8))}function $g(r,t){if(t.type.kind==="enum"){const e=t.type.variants.map(n=>n.fields?n.fields.map(s=>typeof s=="object"&&"name"in s?zu(r,s.type):zu(r,s)).reduce((s,i)=>s+i,0):0);return Math.max(...e)+1}return t.type.fields.map(e=>zu(r,e.type)).reduce((e,n)=>e+n,0)}function zu(r,t){var e,n;switch(t){case"bool":return 1;case"u8":return 1;case"i8":return 1;case"i16":return 2;case"u16":return 2;case"u32":return 4;case"i32":return 4;case"f32":return 4;case"u64":return 8;case"i64":return 8;case"f64":return 8;case"u128":return 16;case"i128":return 16;case"u256":return 32;case"i256":return 32;case"bytes":return 1;case"string":return 1;case"publicKey":return 32;default:if("vec"in t)return 1;if("option"in t)return 1+zu(r,t.option);if("coption"in t)return 4+zu(r,t.coption);if("defined"in t){const s=(n=(e=r.types)===null||e===void 0?void 0:e.filter(c=>c.name===t.defined))!==null&&n!==void 0?n:[];if(s.length!==1)throw new Zc(`Type not found: ${JSON.stringify(t)}`);let i=s[0];return $g(r,i)}if("array"in t){let s=t.array[0],i=t.array[1];return zu(r,s)*i}throw new Error(`Invalid type ${JSON.stringify(t)}`)}}const dl=8;function pM(r){return Zt.Buffer.from(Vl(r).slice(0,dl))}class Ca{constructor(t){if(t.accounts===void 0){this.accountLayouts=new Map;return}const e=t.accounts.map(n=>[n.name,wi.typeDefLayout(n,t.types)]);this.accountLayouts=new Map(e),this.idl=t}async encode(t,e){const n=yr.Buffer.alloc(1e3),s=this.accountLayouts.get(t);if(!s)throw new Error(`Unknown account: ${t}`);const i=s.encode(e,n);let c=n.slice(0,i),l=Ca.accountDiscriminator(t);return yr.Buffer.concat([l,c])}decode(t,e){if(Ca.accountDiscriminator(t).compare(e.slice(0,8)))throw new Error("Invalid account discriminator");return this.decodeUnchecked(t,e)}decodeAny(t){const e=t.slice(0,8),n=Array.from(this.accountLayouts.keys()).find(s=>Ca.accountDiscriminator(s).equals(e));if(!n)throw new Error("Account descriminator not found");return this.decodeUnchecked(n,t)}decodeUnchecked(t,e){const n=e.subarray(dl),s=this.accountLayouts.get(t);if(!s)throw new Error(`Unknown account: ${t}`);return s.decode(n)}memcmp(t,e){const n=Ca.accountDiscriminator(t);return{offset:0,bytes:Ou.encode(e?yr.Buffer.concat([n,e]):n)}}size(t){var e;return dl+((e=$g(this.idl,t))!==null&&e!==void 0?e:0)}static accountDiscriminator(t){const e=`account:${Dr(t,{pascalCase:!0,preserveConsecutiveUppercase:!0})}`;return pM(e)}}class mM{constructor(t){if(t.events===void 0){this.layouts=new Map;return}const e=t.events.map(n=>{let s={name:n.name,type:{kind:"struct",fields:n.fields.map(i=>({name:i.name,type:i.type}))}};return[n.name,wi.typeDefLayout(s,t.types)]});this.layouts=new Map(e),this.discriminators=new Map(t.events===void 0?[]:t.events.map(n=>[s2(vM(n.name)),n.name]))}decode(t){let e;try{e=yr.Buffer.from(H7(t))}catch{return null}const n=s2(e.slice(0,8)),s=this.discriminators.get(n);if(s===void 0)return null;const i=this.layouts.get(s);if(!i)throw new Error(`Unknown event: ${s}`);return{data:i.decode(e.slice(8)),name:s}}}function vM(r){return pM(`event:${r}`)}class fN{constructor(t){if(t.types===void 0){this.typeLayouts=new Map;return}const e=t.types.map(n=>[n.name,wi.typeDefLayout(n,t.types)]);this.typeLayouts=new Map(e),this.idl=t}encode(t,e){const n=yr.Buffer.alloc(1e3),s=this.typeLayouts.get(t);if(!s)throw new Error(`Unknown type: ${t}`);const i=s.encode(e,n);return n.slice(0,i)}decode(t,e){const n=this.typeLayouts.get(t);if(!n)throw new Error(`Unknown type: ${t}`);return n.decode(e)}}class Hg{constructor(t){this.instruction=new dd(t),this.accounts=new Ca(t),this.events=new mM(t),this.types=new fN(t)}}var cN=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof Zt.global<"u"?Zt.global:typeof self<"u"?self:{};function hN(r){return r&&r.__esModule&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r}class fi{constructor(t,e){if(!Number.isInteger(t))throw new TypeError("span must be an integer");this.span=t,this.property=e}makeDestinationObject(){return{}}decode(t,e){throw new Error("Layout is abstract")}encode(t,e,n){throw new Error("Layout is abstract")}getSpan(t,e){if(0>this.span)throw new RangeError("indeterminate span");return this.span}replicate(t){const e=Object.create(this.constructor.prototype);return Object.assign(e,this),e.property=t,e}fromArray(t){}}var pd=fi;function lN(r,t){return t.property?r+"["+t.property+"]":r}class Ta extends fi{isCount(){throw new Error("ExternalLayout is abstract")}}class gM extends Ta{constructor(t,e,n){if(!(t instanceof fi))throw new TypeError("layout must be a Layout");if(e===void 0)e=0;else if(!Number.isInteger(e))throw new TypeError("offset must be integer or undefined");super(t.span,n||t.property),this.layout=t,this.offset=e}isCount(){return this.layout instanceof md||this.layout instanceof yM}decode(t,e){return e===void 0&&(e=0),this.layout.decode(t,e+this.offset)}encode(t,e,n){return n===void 0&&(n=0),this.layout.encode(t,e,n+this.offset)}}class md extends fi{constructor(t,e){if(super(t,e),6<this.span)throw new RangeError("span must not exceed 6 bytes")}decode(t,e){return e===void 0&&(e=0),t.readUIntLE(e,this.span)}encode(t,e,n){return n===void 0&&(n=0),e.writeUIntLE(t,n,this.span),this.span}}class yM extends fi{constructor(t,e){if(super(t,e),6<this.span)throw new RangeError("span must not exceed 6 bytes")}decode(t,e){return e===void 0&&(e=0),t.readUIntBE(e,this.span)}encode(t,e,n){return n===void 0&&(n=0),e.writeUIntBE(t,n,this.span),this.span}}const S2=Math.pow(2,32);function bM(r){const t=Math.floor(r/S2),e=r-t*S2;return{hi32:t,lo32:e}}function wM(r,t){return r*S2+t}class dN extends fi{constructor(t){super(8,t)}decode(t,e){e===void 0&&(e=0);const n=t.readUInt32LE(e),s=t.readUInt32LE(e+4);return wM(s,n)}encode(t,e,n){n===void 0&&(n=0);const s=bM(t);return e.writeUInt32LE(s.lo32,n),e.writeUInt32LE(s.hi32,n+4),8}}class pN extends fi{constructor(t){super(8,t)}decode(t,e){e===void 0&&(e=0);const n=t.readUInt32LE(e),s=t.readInt32LE(e+4);return wM(s,n)}encode(t,e,n){n===void 0&&(n=0);const s=bM(t);return e.writeUInt32LE(s.lo32,n),e.writeInt32LE(s.hi32,n+4),8}}class mN extends fi{constructor(t,e,n){if(!(Array.isArray(t)&&t.reduce((i,c)=>i&&c instanceof fi,!0)))throw new TypeError("fields must be array of Layout instances");typeof e=="boolean"&&n===void 0&&(n=e,e=void 0);for(const i of t)if(0>i.span&&i.property===void 0)throw new Error("fields cannot contain unnamed variable-length layout");let s=-1;try{s=t.reduce((i,c)=>i+c.getSpan(),0)}catch{}super(s,e),this.fields=t,this.decodePrefixes=!!n}getSpan(t,e){if(0<=this.span)return this.span;e===void 0&&(e=0);let n=0;try{n=this.fields.reduce((s,i)=>{const c=i.getSpan(t,e);return e+=c,s+c},0)}catch{throw new RangeError("indeterminate span")}return n}decode(t,e){e===void 0&&(e=0);const n=this.makeDestinationObject();for(const s of this.fields)if(s.property!==void 0&&(n[s.property]=s.decode(t,e)),e+=s.getSpan(t,e),this.decodePrefixes&&t.length===e)break;return n}encode(t,e,n){n===void 0&&(n=0);const s=n;let i=0,c=0;for(const l of this.fields){let p=l.span;if(c=0<p?p:0,l.property!==void 0){const m=t[l.property];m!==void 0&&(c=l.encode(m,e,n),0>p&&(p=l.getSpan(e,n)))}i=n,n+=p}return i+c-s}fromArray(t){const e=this.makeDestinationObject();for(const n of this.fields)n.property!==void 0&&0<t.length&&(e[n.property]=t.shift());return e}layoutFor(t){if(typeof t!="string")throw new TypeError("property must be string");for(const e of this.fields)if(e.property===t)return e}offsetOf(t){if(typeof t!="string")throw new TypeError("property must be string");let e=0;for(const n of this.fields){if(n.property===t)return e;0>n.span?e=-1:0<=e&&(e+=n.span)}}}class xM{constructor(t){this.property=t}decode(){throw new Error("UnionDiscriminator is abstract")}encode(){throw new Error("UnionDiscriminator is abstract")}}class U3 extends xM{constructor(t,e){if(!(t instanceof Ta&&t.isCount()))throw new TypeError("layout must be an unsigned integer ExternalLayout");super(e||t.property||"variant"),this.layout=t}decode(t,e){return this.layout.decode(t,e)}encode(t,e,n){return this.layout.encode(t,e,n)}}class _M extends fi{constructor(t,e,n){const s=t instanceof md||t instanceof yM;if(s)t=new U3(new gM(t));else if(t instanceof Ta&&t.isCount())t=new U3(t);else if(!(t instanceof xM))throw new TypeError("discr must be a UnionDiscriminator or an unsigned integer layout");if(e===void 0&&(e=null),!(e===null||e instanceof fi))throw new TypeError("defaultLayout must be null or a Layout");if(e!==null){if(0>e.span)throw new Error("defaultLayout must have constant span");e.property===void 0&&(e=e.replicate("content"))}let i=-1;e&&(i=e.span,0<=i&&s&&(i+=t.layout.span)),super(i,n),this.discriminator=t,this.usesPrefixDiscriminator=s,this.defaultLayout=e,this.registry={};let c=this.defaultGetSourceVariant.bind(this);this.getSourceVariant=function(l){return c(l)},this.configGetSourceVariant=function(l){c=l.bind(this)}}getSpan(t,e){if(0<=this.span)return this.span;e===void 0&&(e=0);const n=this.getVariant(t,e);if(!n)throw new Error("unable to determine span for unrecognized variant");return n.getSpan(t,e)}defaultGetSourceVariant(t){if(t.hasOwnProperty(this.discriminator.property)){if(this.defaultLayout&&t.hasOwnProperty(this.defaultLayout.property))return;const e=this.registry[t[this.discriminator.property]];if(e&&(!e.layout||t.hasOwnProperty(e.property)))return e}else for(const e in this.registry){const n=this.registry[e];if(t.hasOwnProperty(n.property))return n}throw new Error("unable to infer src variant")}decode(t,e){e===void 0&&(e=0);let n;const s=this.discriminator,i=s.decode(t,e);let c=this.registry[i];if(c===void 0){let l=0;c=this.defaultLayout,this.usesPrefixDiscriminator&&(l=s.layout.span),n=this.makeDestinationObject(),n[s.property]=i,n[c.property]=this.defaultLayout.decode(t,e+l)}else n=c.decode(t,e);return n}encode(t,e,n){n===void 0&&(n=0);const s=this.getSourceVariant(t);if(s===void 0){const i=this.discriminator,c=this.defaultLayout;let l=0;return this.usesPrefixDiscriminator&&(l=i.layout.span),i.encode(t[i.property],e,n),l+c.encode(t[c.property],e,n+l)}return s.encode(t,e,n)}addVariant(t,e,n){const s=new vN(this,t,e,n);return this.registry[t]=s,s}getVariant(t,e){let n=t;return Zt.Buffer.isBuffer(t)&&(e===void 0&&(e=0),n=this.discriminator.decode(t,e)),this.registry[n]}}class vN extends fi{constructor(t,e,n,s){if(!(t instanceof _M))throw new TypeError("union must be a Union");if(!Number.isInteger(e)||0>e)throw new TypeError("variant must be a (non-negative) integer");if(typeof n=="string"&&s===void 0&&(s=n,n=null),n){if(!(n instanceof fi))throw new TypeError("layout must be a Layout");if(t.defaultLayout!==null&&0<=n.span&&n.span>t.defaultLayout.span)throw new Error("variant span exceeds span of containing union");if(typeof s!="string")throw new TypeError("variant must have a String property")}let i=t.span;0>t.span&&(i=n?n.span:0,0<=i&&t.usesPrefixDiscriminator&&(i+=t.discriminator.layout.span)),super(i,s),this.union=t,this.variant=e,this.layout=n||null}getSpan(t,e){if(0<=this.span)return this.span;e===void 0&&(e=0);let n=0;return this.union.usesPrefixDiscriminator&&(n=this.union.discriminator.layout.span),n+this.layout.getSpan(t,e+n)}decode(t,e){const n=this.makeDestinationObject();if(e===void 0&&(e=0),this!==this.union.getVariant(t,e))throw new Error("variant mismatch");let s=0;return this.union.usesPrefixDiscriminator&&(s=this.union.discriminator.layout.span),this.layout?n[this.property]=this.layout.decode(t,e+s):this.property?n[this.property]=!0:this.union.usesPrefixDiscriminator&&(n[this.union.discriminator.property]=this.variant),n}encode(t,e,n){n===void 0&&(n=0);let s=0;if(this.union.usesPrefixDiscriminator&&(s=this.union.discriminator.layout.span),this.layout&&!t.hasOwnProperty(this.property))throw new TypeError("variant lacks property "+this.property);this.union.discriminator.encode(this.variant,e,n);let i=s;if(this.layout&&(this.layout.encode(t[this.property],e,n+s),i+=this.layout.getSpan(e,n+s),0<=this.union.span&&i>this.union.span))throw new Error("encoded variant overruns containing union");return i}fromArray(t){if(this.layout)return this.layout.fromArray(t)}}class gN extends fi{constructor(t,e){if(!(t instanceof Ta&&t.isCount()||Number.isInteger(t)&&0<=t))throw new TypeError("length must be positive integer or an unsigned integer ExternalLayout");let n=-1;t instanceof Ta||(n=t),super(n,e),this.length=t}getSpan(t,e){let n=this.span;return 0>n&&(n=this.length.decode(t,e)),n}decode(t,e){e===void 0&&(e=0);let n=this.span;return 0>n&&(n=this.length.decode(t,e)),t.slice(e,e+n)}encode(t,e,n){let s=this.length;if(this.length instanceof Ta&&(s=t.length),!(Zt.Buffer.isBuffer(t)&&s===t.length))throw new TypeError(lN("Blob.encode",this)+" requires (length "+s+") Buffer as src");if(n+s>e.length)throw new RangeError("encoding overruns Buffer");return e.write(t.toString("hex"),n,s,"hex"),this.length instanceof Ta&&this.length.encode(s,e,n),s}}var yN=(r,t,e)=>new gM(r,t,e),bN=r=>new md(1,r),ms=r=>new md(4,r),wN=r=>new dN(r),ks=r=>new pN(r),vn=(r,t,e)=>new mN(r,t,e),MM=(r,t,e)=>new _M(r,t,e),Th=(r,t)=>new gN(r,t);class xN{constructor(t){}encode(t,e){switch(Dr(t)){case"createAccount":return MN(e);case"assign":return EN(e);case"transfer":return AN(e);case"createAccountWithSeed":return SN(e);case"advanceNonceAccount":return IN(e);case"withdrawNonceAccount":return BN(e);case"initializeNonceAccount":return kN(e);case"authorizeNonceAccount":return PN(e);case"allocate":return RN(e);case"allocateWithSeed":return CN(e);case"assignWithSeed":return TN(e);case"transferWithSeed":return LN(e);default:throw new Error(`Invalid instruction: ${t}`)}}encodeState(t,e){throw new Error("System does not have state")}}class _N extends pd{constructor(t){super(-1,t),this.property=t,this.layout=vn([ms("length"),ms("lengthPadding"),Th(yN(ms(),-8),"chars")],this.property)}encode(t,e,n=0){if(t==null)return this.layout.span;const s={chars:Zt.Buffer.from(t,"utf8")};return this.layout.encode(s,e,n)}decode(t,e=0){return this.layout.decode(t,e).chars.toString()}getSpan(t,e=0){return ms().span+ms().span+new Jv(new Uint8Array(t).slice(e,e+4),10,"le").toNumber()}}function vd(r){return new _N(r)}function Hi(r){return Th(32,r)}function MN({lamports:r,space:t,owner:e}){return Gi({createAccount:{lamports:r,space:t,owner:e.toBuffer()}})}function EN({owner:r}){return Gi({assign:{owner:r.toBuffer()}})}function AN({lamports:r}){return Gi({transfer:{lamports:r}})}function SN({base:r,seed:t,lamports:e,space:n,owner:s}){return Gi({createAccountWithSeed:{base:r.toBuffer(),seed:t,lamports:e,space:n,owner:s.toBuffer()}},An.getVariant(3).span+t.length)}function kN({authorized:r}){return Gi({initializeNonceAccount:{authorized:r.toBuffer()}})}function IN({authorized:r}){return Gi({advanceNonceAccount:{authorized:r.toBuffer()}})}function BN({lamports:r}){return Gi({withdrawNonceAccount:{lamports:r}})}function PN({authorized:r}){return Gi({authorizeNonceAccount:{authorized:r.toBuffer()}})}function RN({space:r}){return Gi({allocate:{space:r}})}function CN({base:r,seed:t,space:e,owner:n}){return Gi({allocateWithSeed:{base:r.toBuffer(),seed:t,space:e,owner:n.toBuffer()}},An.getVariant(9).span+t.length)}function TN({base:r,seed:t,owner:e}){return Gi({assignWithSeed:{base:r.toBuffer(),seed:t,owner:e.toBuffer()}},An.getVariant(10).span+t.length)}function LN({lamports:r,seed:t,owner:e}){return Gi({transferWithSeed:{lamports:r,seed:t,owner:e.toBuffer()}},An.getVariant(11).span+t.length)}const An=MM(ms("instruction"));An.addVariant(0,vn([ks("lamports"),ks("space"),Hi("owner")]),"createAccount");An.addVariant(1,vn([Hi("owner")]),"assign");An.addVariant(2,vn([ks("lamports")]),"transfer");An.addVariant(3,vn([Hi("base"),vd("seed"),ks("lamports"),ks("space"),Hi("owner")]),"createAccountWithSeed");An.addVariant(4,vn([Hi("authorized")]),"advanceNonceAccount");An.addVariant(5,vn([ks("lamports")]),"withdrawNonceAccount");An.addVariant(6,vn([Hi("authorized")]),"initializeNonceAccount");An.addVariant(7,vn([Hi("authorized")]),"authorizeNonceAccount");An.addVariant(8,vn([ks("space")]),"allocate");An.addVariant(9,vn([Hi("base"),vd("seed"),ks("space"),Hi("owner")]),"allocateWithSeed");An.addVariant(10,vn([Hi("base"),vd("seed"),Hi("owner")]),"assignWithSeed");An.addVariant(11,vn([ks("lamports"),vd("seed"),Hi("owner")]),"transferWithSeed");function Gi(r,t){const e=Zt.Buffer.alloc(t??ON),n=An.encode(r,e);return t===void 0?e.slice(0,n):e}const ON=Math.max(...Object.values(An.registry).map(r=>r.span));class UN{constructor(t){this.idl=t}async encode(t,e){switch(t){case"nonce":{const n=Zt.Buffer.alloc(wb),s=EM.encode(e,n);return n.slice(0,s)}default:throw new Error(`Invalid account name: ${t}`)}}decode(t,e){return this.decodeUnchecked(t,e)}decodeUnchecked(t,e){switch(t){case"nonce":return NN(e);default:throw new Error(`Invalid account name: ${t}`)}}memcmp(t,e){switch(t){case"nonce":return{dataSize:wb};default:throw new Error(`Invalid account name: ${t}`)}}size(t){var e;return(e=$g(this.idl,t))!==null&&e!==void 0?e:0}}function NN(r){return EM.decode(r)}class DN extends pd{constructor(t,e,n,s){super(t.span,s),this.layout=t,this.decoder=e,this.encoder=n}decode(t,e){return this.decoder(this.layout.decode(t,e))}encode(t,e,n){return this.layout.encode(this.encoder(t),e,n)}getSpan(t,e){return this.layout.getSpan(t,e)}}function N3(r){return new DN(Th(32),t=>new Ne(t),t=>t.toBuffer(),r)}const EM=vn([ms("version"),ms("state"),N3("authorizedPubkey"),N3("nonce"),vn([wN("lamportsPerSignature")],"feeCalculator")]);class zN{constructor(t){}decode(t){throw new Error("System program does not have events")}}class qN{constructor(t){}encode(t,e){throw new Error("System does not have user-defined types")}decode(t,e){throw new Error("System does not have user-defined types")}}class AM{constructor(t){this.instruction=new xN(t),this.accounts=new UN(t),this.events=new zN(t),this.types=new qN(t)}}function FN(r){return new TextDecoder().decode(Vl(r))}var jN=Object.freeze({__proto__:null,hash:FN});function KN(r,t,e){const n=yr.Buffer.concat([r.toBuffer(),yr.Buffer.from(t),e.toBuffer()]);return new Ne(Vl(n))}function SM(r,...t){let e=[yr.Buffer.from([97,110,99,104,111,114])];t.forEach(s=>{e.push(s instanceof yr.Buffer?s:si(s).toBuffer())});const[n]=Ne.findProgramAddressSync(e,si(r));return n}var $N=Object.freeze({__proto__:null,createWithSeedSync:KN,associated:SM});const Vg=new Ne("TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA"),Zg=new Ne("ATokenGPvbdGVxr1b2hvZbsiqW5xWH25efTNsLJA8knL");function HN({mint:r,owner:t}){return Ne.findProgramAddressSync([t.toBuffer(),Vg.toBuffer(),r.toBuffer()],Zg)[0]}var VN=Object.freeze({__proto__:null,TOKEN_PROGRAM_ID:Vg,ASSOCIATED_PROGRAM_ID:Zg,associatedAddress:HN}),k2={exports:{}};(function(r,t){var e=typeof self<"u"?self:cN,n=function(){function i(){this.fetch=!1,this.DOMException=e.DOMException}return i.prototype=e,new i}();(function(i){(function(c){var l={searchParams:"URLSearchParams"in i,iterable:"Symbol"in i&&"iterator"in Symbol,blob:"FileReader"in i&&"Blob"in i&&function(){try{return new Blob,!0}catch{return!1}}(),formData:"FormData"in i,arrayBuffer:"ArrayBuffer"in i};function p(f){return f&&DataView.prototype.isPrototypeOf(f)}if(l.arrayBuffer)var m=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],v=ArrayBuffer.isView||function(f){return f&&m.indexOf(Object.prototype.toString.call(f))>-1};function _(f){if(typeof f!="string"&&(f=String(f)),/[^a-z0-9\-#$%&'*+.^_`|~]/i.test(f))throw new TypeError("Invalid character in header field name");return f.toLowerCase()}function E(f){return typeof f!="string"&&(f=String(f)),f}function w(f){var h={next:function(){var g=f.shift();return{done:g===void 0,value:g}}};return l.iterable&&(h[Symbol.iterator]=function(){return h}),h}function x(f){this.map={},f instanceof x?f.forEach(function(h,g){this.append(g,h)},this):Array.isArray(f)?f.forEach(function(h){this.append(h[0],h[1])},this):f&&Object.getOwnPropertyNames(f).forEach(function(h){this.append(h,f[h])},this)}x.prototype.append=function(f,h){f=_(f),h=E(h);var g=this.map[f];this.map[f]=g?g+", "+h:h},x.prototype.delete=function(f){delete this.map[_(f)]},x.prototype.get=function(f){return f=_(f),this.has(f)?this.map[f]:null},x.prototype.has=function(f){return this.map.hasOwnProperty(_(f))},x.prototype.set=function(f,h){this.map[_(f)]=E(h)},x.prototype.forEach=function(f,h){for(var g in this.map)this.map.hasOwnProperty(g)&&f.call(h,this.map[g],g,this)},x.prototype.keys=function(){var f=[];return this.forEach(function(h,g){f.push(g)}),w(f)},x.prototype.values=function(){var f=[];return this.forEach(function(h){f.push(h)}),w(f)},x.prototype.entries=function(){var f=[];return this.forEach(function(h,g){f.push([g,h])}),w(f)},l.iterable&&(x.prototype[Symbol.iterator]=x.prototype.entries);function A(f){if(f.bodyUsed)return Promise.reject(new TypeError("Already read"));f.bodyUsed=!0}function B(f){return new Promise(function(h,g){f.onload=function(){h(f.result)},f.onerror=function(){g(f.error)}})}function P(f){var h=new FileReader,g=B(h);return h.readAsArrayBuffer(f),g}function R(f){var h=new FileReader,g=B(h);return h.readAsText(f),g}function C(f){for(var h=new Uint8Array(f),g=new Array(h.length),S=0;S<h.length;S++)g[S]=String.fromCharCode(h[S]);return g.join("")}function O(f){if(f.slice)return f.slice(0);var h=new Uint8Array(f.byteLength);return h.set(new Uint8Array(f)),h.buffer}function z(){return this.bodyUsed=!1,this._initBody=function(f){this._bodyInit=f,f?typeof f=="string"?this._bodyText=f:l.blob&&Blob.prototype.isPrototypeOf(f)?this._bodyBlob=f:l.formData&&FormData.prototype.isPrototypeOf(f)?this._bodyFormData=f:l.searchParams&&URLSearchParams.prototype.isPrototypeOf(f)?this._bodyText=f.toString():l.arrayBuffer&&l.blob&&p(f)?(this._bodyArrayBuffer=O(f.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer])):l.arrayBuffer&&(ArrayBuffer.prototype.isPrototypeOf(f)||v(f))?this._bodyArrayBuffer=O(f):this._bodyText=f=Object.prototype.toString.call(f):this._bodyText="",this.headers.get("content-type")||(typeof f=="string"?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):l.searchParams&&URLSearchParams.prototype.isPrototypeOf(f)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},l.blob&&(this.blob=function(){var f=A(this);if(f)return f;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))},this.arrayBuffer=function(){return this._bodyArrayBuffer?A(this)||Promise.resolve(this._bodyArrayBuffer):this.blob().then(P)}),this.text=function(){var f=A(this);if(f)return f;if(this._bodyBlob)return R(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(C(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},l.formData&&(this.formData=function(){return this.text().then(G)}),this.json=function(){return this.text().then(JSON.parse)},this}var H=["DELETE","GET","HEAD","OPTIONS","POST","PUT"];function tt(f){var h=f.toUpperCase();return H.indexOf(h)>-1?h:f}function nt(f,h){h=h||{};var g=h.body;if(f instanceof nt){if(f.bodyUsed)throw new TypeError("Already read");this.url=f.url,this.credentials=f.credentials,h.headers||(this.headers=new x(f.headers)),this.method=f.method,this.mode=f.mode,this.signal=f.signal,!g&&f._bodyInit!=null&&(g=f._bodyInit,f.bodyUsed=!0)}else this.url=String(f);if(this.credentials=h.credentials||this.credentials||"same-origin",(h.headers||!this.headers)&&(this.headers=new x(h.headers)),this.method=tt(h.method||this.method||"GET"),this.mode=h.mode||this.mode||null,this.signal=h.signal||this.signal,this.referrer=null,(this.method==="GET"||this.method==="HEAD")&&g)throw new TypeError("Body not allowed for GET or HEAD requests");this._initBody(g)}nt.prototype.clone=function(){return new nt(this,{body:this._bodyInit})};function G(f){var h=new FormData;return f.trim().split("&").forEach(function(g){if(g){var S=g.split("="),I=S.shift().replace(/\+/g," "),y=S.join("=").replace(/\+/g," ");h.append(decodeURIComponent(I),decodeURIComponent(y))}}),h}function M(f){var h=new x,g=f.replace(/\r?\n[\t ]+/g," ");return g.split(/\r?\n/).forEach(function(S){var I=S.split(":"),y=I.shift().trim();if(y){var u=I.join(":").trim();h.append(y,u)}}),h}z.call(nt.prototype);function d(f,h){h||(h={}),this.type="default",this.status=h.status===void 0?200:h.status,this.ok=this.status>=200&&this.status<300,this.statusText="statusText"in h?h.statusText:"OK",this.headers=new x(h.headers),this.url=h.url||"",this._initBody(f)}z.call(d.prototype),d.prototype.clone=function(){return new d(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new x(this.headers),url:this.url})},d.error=function(){var f=new d(null,{status:0,statusText:""});return f.type="error",f};var o=[301,302,303,307,308];d.redirect=function(f,h){if(o.indexOf(h)===-1)throw new RangeError("Invalid status code");return new d(null,{status:h,headers:{location:f}})},c.DOMException=i.DOMException;try{new c.DOMException}catch{c.DOMException=function(h,g){this.message=h,this.name=g;var S=Error(h);this.stack=S.stack},c.DOMException.prototype=Object.create(Error.prototype),c.DOMException.prototype.constructor=c.DOMException}function a(f,h){return new Promise(function(g,S){var I=new nt(f,h);if(I.signal&&I.signal.aborted)return S(new c.DOMException("Aborted","AbortError"));var y=new XMLHttpRequest;function u(){y.abort()}y.onload=function(){var b={status:y.status,statusText:y.statusText,headers:M(y.getAllResponseHeaders()||"")};b.url="responseURL"in y?y.responseURL:b.headers.get("X-Request-URL");var D="response"in y?y.response:y.responseText;g(new d(D,b))},y.onerror=function(){S(new TypeError("Network request failed"))},y.ontimeout=function(){S(new TypeError("Network request failed"))},y.onabort=function(){S(new c.DOMException("Aborted","AbortError"))},y.open(I.method,I.url,!0),I.credentials==="include"?y.withCredentials=!0:I.credentials==="omit"&&(y.withCredentials=!1),"responseType"in y&&l.blob&&(y.responseType="blob"),I.headers.forEach(function(b,D){y.setRequestHeader(D,b)}),I.signal&&(I.signal.addEventListener("abort",u),y.onreadystatechange=function(){y.readyState===4&&I.signal.removeEventListener("abort",u)}),y.send(typeof I._bodyInit>"u"?null:I._bodyInit)})}return a.polyfill=!0,i.fetch||(i.fetch=a,i.Headers=x,i.Request=nt,i.Response=d),c.Headers=x,c.Request=nt,c.Response=d,c.fetch=a,Object.defineProperty(c,"__esModule",{value:!0}),c})({})})(n),n.fetch.ponyfill=!0,delete n.fetch.polyfill;var s=n;t=s.fetch,t.default=s.fetch,t.fetch=s.fetch,t.Headers=s.Headers,t.Request=s.Request,t.Response=s.Response,r.exports=t})(k2,k2.exports);var ZN=hN(k2.exports);async function WN(r,t,e=5){const n=`https://api.apr.dev/api/v0/program/${t.toString()}/latest?limit=${e}`,[s,i]=await Promise.all([kM(r,t),ZN(n)]),c=(await i.json()).filter(p=>!p.aborted&&p.state==="Built"&&p.verified==="Verified");if(c.length===0)return null;const l=c[0];return s.slot.toNumber()!==l.verified_slot?null:l}async function kM(r,t){const e=await r.getAccountInfo(t);if(e===null)throw new Error("program account not found");const{program:n}=I2(e.data),s=await r.getAccountInfo(n.programdataAddress);if(s===null)throw new Error("program data account not found");const{programData:i}=I2(s.data);return i}const GN=Ze.rustEnum([Ze.struct([],"uninitialized"),Ze.struct([Ze.option(Ze.publicKey(),"authorityAddress")],"buffer"),Ze.struct([Ze.publicKey("programdataAddress")],"program"),Ze.struct([Ze.u64("slot"),Ze.option(Ze.publicKey(),"upgradeAuthorityAddress")],"programData")],void 0,Ze.u32());function I2(r){return GN.decode(r)}var YN=Object.freeze({__proto__:null,verifiedBuild:WN,fetchData:kM,decodeUpgradeableLoaderState:I2}),XN=Object.freeze({__proto__:null,sha256:jN,rpc:YU,publicKey:$N,bytes:LU,token:VN,features:eN,registry:YN});function JN(r){return"accounts"in r}async function QN(r){const t=(await Ne.findProgramAddress([],r))[0];return await Ne.createWithSeed(t,tD(),r)}function tD(){return"anchor:idl"}const eD=Ze.struct([Ze.publicKey("authority"),Ze.vecU8("data")]);function rD(r){return eD.decode(r)}function Lh(r,t){var e,n;let s={};const i=r.args?r.args.length:0;if(t.length>i){if(t.length!==i+1)throw new Error(`provided too many arguments ${t} to instruction ${r==null?void 0:r.name} expecting: ${(n=(e=r.args)===null||e===void 0?void 0:e.map(c=>c.name))!==null&&n!==void 0?n:[]}`);s=t.pop()}return[t,s]}class pl{static build(t,e,n){if(t.name==="_inner")throw new Zc("the _inner name is reserved");const s=(...i)=>{const[c,l]=Lh(t,[...i]);Ng(t.accounts,l.accounts),nD(t,...i);const p=s.accounts(l.accounts);return l.remainingAccounts!==void 0&&p.push(...l.remainingAccounts),jg("debug-logs")&&console.log("Outgoing account metas:",p),new gh({keys:p,programId:n,data:e(t.name,sM(t,...c))})};return s.accounts=i=>pl.accountsArray(i,t.accounts,n,t.name),s}static accountsArray(t,e,n,s){return t?e.map(i=>{if(("accounts"in i?i.accounts:void 0)!==void 0){const l=t[i.name];return pl.accountsArray(l,i.accounts,n,s).flat()}else{const l=i;let p;try{p=si(t[i.name])}catch{throw new Error(`Wrong input type for account "${i.name}" in the instruction accounts object${s!==void 0?' for instruction "'+s+'"':""}. Expected PublicKey or string.`)}const m=l.isOptional&&p.equals(n),v=l.isMut&&!m,_=l.isSigner&&!m;return{pubkey:p,isWritable:v,isSigner:_}}}).flat():[]}}function nD(r,...t){}class iD{static build(t,e){return(...s)=>{var i,c,l;const[,p]=Lh(t,[...s]),m=new Zl;if(p.preInstructions&&p.instructions)throw new Error("instructions is deprecated, use preInstructions");return(i=p.preInstructions)===null||i===void 0||i.forEach(v=>m.add(v)),(c=p.instructions)===null||c===void 0||c.forEach(v=>m.add(v)),m.add(e(...s)),(l=p.postInstructions)===null||l===void 0||l.forEach(v=>m.add(v)),m}}}class oD{static build(t,e,n,s){return async(...c)=>{var l;const p=e(...c),[,m]=Lh(t,[...c]);if(s.sendAndConfirm===void 0)throw new Error("This function requires 'Provider.sendAndConfirm' to be implemented.");try{return await s.sendAndConfirm(p,(l=m.signers)!==null&&l!==void 0?l:[],m.options)}catch(v){throw Kg(v,n)}}}}class sD{static build(t,e,n,s){var i;const c={};return(i=t.accounts)===null||i===void 0||i.forEach(l=>{const p=Dr(l.name);c[p]=new IM(t,l,n,s,e)}),c}}class IM{get size(){return this._size}get programId(){return this._programId}get provider(){return this._provider}get coder(){return this._coder}get idlAccount(){return this._idlAccount}constructor(t,e,n,s,i){this._idlAccount=e,this._programId=n,this._provider=s??Vc(),this._coder=i??new Hg(t),this._size=this._coder.accounts.size(e)}async fetchNullable(t,e){const{data:n}=await this.fetchNullableAndContext(t,e);return n}async fetchNullableAndContext(t,e){const n=await this.getAccountInfoAndContext(t,e),{value:s,context:i}=n;return{data:s&&s.data.length!==0?this._coder.accounts.decode(this._idlAccount.name,s.data):null,context:i}}async fetch(t,e){const{data:n}=await this.fetchNullableAndContext(t,e);if(n===null)throw new Error(`Account does not exist or has no data ${t.toString()}`);return n}async fetchAndContext(t,e){const{data:n,context:s}=await this.fetchNullableAndContext(t,e);if(n===null)throw new Error(`Account does not exist ${t.toString()}`);return{data:n,context:s}}async fetchMultiple(t,e){return(await this.fetchMultipleAndContext(t,e)).map(s=>s?s.data:null)}async fetchMultipleAndContext(t,e){return(await Fg(this._provider.connection,t.map(s=>si(s)),e)).map(s=>{if(s==null)return null;const{account:i,context:c}=s;return{data:this._coder.accounts.decode(this._idlAccount.name,i.data),context:c}})}async all(t){const e=this.coder.accounts.memcmp(this._idlAccount.name,t instanceof Zt.Buffer?t:void 0),n=[];return(e==null?void 0:e.offset)!=null&&(e==null?void 0:e.bytes)!=null&&n.push({memcmp:{offset:e.offset,bytes:e.bytes}}),(e==null?void 0:e.dataSize)!=null&&n.push({dataSize:e.dataSize}),(await this._provider.connection.getProgramAccounts(this._programId,{commitment:this._provider.connection.commitment,filters:[...n,...Array.isArray(t)?t:[]]})).map(({pubkey:i,account:c})=>({publicKey:i,account:this._coder.accounts.decode(this._idlAccount.name,c.data)}))}subscribe(t,e){const n=Xf.get(t.toString());if(n)return n.ee;const s=new hI;t=si(t);const i=this._provider.connection.onAccountChange(t,c=>{const l=this._coder.accounts.decode(this._idlAccount.name,c.data);s.emit("change",l)},e);return Xf.set(t.toString(),{ee:s,listener:i}),s}async unsubscribe(t){let e=Xf.get(t.toString());if(!e){console.warn("Address is not subscribed");return}Xf&&await this._provider.connection.removeAccountChangeListener(e.listener).then(()=>{Xf.delete(t.toString())}).catch(console.error)}async createInstruction(t,e){const n=this.size;if(this._provider.publicKey===void 0)throw new Error("This function requires the Provider interface implementor to have a 'publicKey' field.");return Hl.createAccount({fromPubkey:this._provider.publicKey,newAccountPubkey:t.publicKey,space:e??n,lamports:await this._provider.connection.getMinimumBalanceForRentExemption(e??n),programId:this._programId})}async associated(...t){const e=await this.associatedAddress(...t);return await this.fetch(e)}async associatedAddress(...t){return await SM(this._programId,...t)}async getAccountInfo(t,e){return await this._provider.connection.getAccountInfo(si(t),e)}async getAccountInfoAndContext(t,e){return await this._provider.connection.getAccountInfoAndContext(si(t),e)}}const Xf=new Map,B2="Program log: ",BM="Program data: ",aD=B2.length,uD=BM.length;class PM{constructor(t,e,n){this._programId=t,this._provider=e,this._eventParser=new Wg(t,n),this._eventCallbacks=new Map,this._eventListeners=new Map,this._listenerIdCount=0}addEventListener(t,e){var n;let s=this._listenerIdCount;return this._listenerIdCount+=1,this._eventListeners.has(t)||this._eventListeners.set(t,[]),this._eventListeners.set(t,((n=this._eventListeners.get(t))!==null&&n!==void 0?n:[]).concat(s)),this._eventCallbacks.set(s,[t,e]),this._onLogsSubscriptionId!==void 0||(this._onLogsSubscriptionId=this._provider.connection.onLogs(this._programId,(i,c)=>{if(!i.err)for(const l of this._eventParser.parseLogs(i.logs)){const p=this._eventListeners.get(l.name);p&&p.forEach(m=>{const v=this._eventCallbacks.get(m);if(v){const[,_]=v;_(l.data,c.slot,i.signature)}})}})),s}async removeEventListener(t){const e=this._eventCallbacks.get(t);if(!e)throw new Error(`Event listener ${t} doesn't exist!`);const[n]=e;let s=this._eventListeners.get(n);if(!s)throw new Error(`Event listeners don't exist for ${n}!`);if(this._eventCallbacks.delete(t),s=s.filter(i=>i!==t),this._eventListeners.set(n,s),s.length===0&&this._eventListeners.delete(n),this._eventCallbacks.size===0){if(this._eventListeners.size!==0)throw new Error(`Expected event listeners size to be 0 but got ${this._eventListeners.size}`);this._onLogsSubscriptionId!==void 0&&(await this._provider.connection.removeOnLogsListener(this._onLogsSubscriptionId),this._onLogsSubscriptionId=void 0)}}}class Wg{constructor(t,e){this.coder=e,this.programId=t}*parseLogs(t,e=!1){const n=new cD(t),s=new fD;let i=n.next();for(;i!==null;){let[c,l,p]=this.handleLog(s,i,e);c&&(yield c),l&&s.push(l),p&&s.pop(),i=n.next()}}handleLog(t,e,n){return t.stack.length>0&&t.program()===this.programId.toString()?this.handleProgramLog(e,n):[null,...this.handleSystemLog(e)]}handleProgramLog(t,e){if(t.startsWith(B2)||t.startsWith(BM)){const n=t.startsWith(B2)?t.slice(aD):t.slice(uD),s=this.coder.events.decode(n);if(e&&s===null)throw new Error(`Unable to decode event ${n}`);return[s,null,!1]}else return[null,...this.handleSystemLog(t)]}handleSystemLog(t){const e=t.split(":")[0];return e.match(/^Program (.*) success/g)!==null?[null,!0]:e.startsWith(`Program ${this.programId.toString()} invoke`)?[this.programId.toString(),!1]:e.includes("invoke")?["cpi",!1]:[null,!1]}}class fD{constructor(){this.stack=[]}program(){if(!this.stack.length)throw new Error("Expected the stack to have elements");return this.stack[this.stack.length-1]}push(t){this.stack.push(t)}pop(){if(!this.stack.length)throw new Error("Expected the stack to have elements");this.stack.pop()}}class cD{constructor(t){this.logs=t}next(){if(this.logs.length===0)return null;let t=this.logs[0];return this.logs=this.logs.slice(1),t}}class hD{static build(t,e,n,s,i,c,l){return async(...m)=>{var v;const _=e(...m),[,E]=Lh(t,[...m]);let w;if(s.simulate===void 0)throw new Error("This function requires 'Provider.simulate' to be implemented.");try{w=await s.simulate(_,E.signers,(v=E.options)===null||v===void 0?void 0:v.commitment)}catch(B){throw Kg(B,n)}if(w===void 0)throw new Error("Unable to simulate transaction");const x=w.logs;if(!x)throw new Error("Simulated logs not found");const A=[];if(l.events){let B=new Wg(c,i);for(const P of B.parseLogs(x))A.push(P)}return{events:A,raw:x}}}}function Rp(r){return new RM(Th(8),t=>Gg.fromBuffer(t),t=>t.toBuffer(),r)}function u0(r){return new RM(Th(32),t=>new Ne(t),t=>t.toBuffer(),r)}function Cp(r,t){return new lD(r,t)}class RM extends pd{constructor(t,e,n,s){super(t.span,s),this.layout=t,this.decoder=e,this.encoder=n}decode(t,e){return this.decoder(this.layout.decode(t,e))}encode(t,e,n){return this.layout.encode(this.encoder(t),e,n)}getSpan(t,e){return this.layout.getSpan(t,e)}}class lD extends pd{constructor(t,e){super(-1,e),this.layout=t,this.discriminator=ms()}encode(t,e,n=0){return t==null?this.layout.span+this.discriminator.encode(0,e,n):(this.discriminator.encode(1,e,n),this.layout.encode(t,e,n+4)+4)}decode(t,e=0){const n=this.discriminator.decode(t,e);if(n===0)return null;if(n===1)return this.layout.decode(t,e+4);throw new Error("Invalid coption "+this.layout.property)}getSpan(t,e=0){return this.layout.getSpan(t,e+4)+4}}class Gg extends Jv{toBuffer(){const t=super.toArray().reverse(),e=Zt.Buffer.from(t);if(e.length===8)return e;if(e.length>=8)throw new Error("u64 too large");const n=Zt.Buffer.alloc(8);return e.copy(n),n}static fromBuffer(t){if(t.length!==8)throw new Error(`Invalid buffer length: ${t.length}`);return new Gg([...t].reverse().map(e=>`00${e.toString(16)}`.slice(-2)).join(""),16)}}const dD=vn([u0("mint"),u0("owner"),Rp("amount"),Cp(u0(),"delegate"),(r=>{const t=MM(bN("discriminator"),null,r);return t.addVariant(0,vn([]),"uninitialized"),t.addVariant(1,vn([]),"initialized"),t.addVariant(2,vn([]),"frozen"),t})("state"),Cp(Rp(),"isNative"),Rp("delegatedAmount"),Cp(u0(),"closeAuthority")]);function pD(r){return dD.decode(r)}class Gc{constructor(t,e,n,s,i,c,l,p){this._accounts=e,this._provider=n,this._programId=s,this._idlIx=i,this._idlTypes=l,this._customResolver=p,this._args=t,this._accountStore=new mD(n,c,this._programId)}args(t){this._args=t}async resolve(){for(await this.resolveConst(this._idlIx.accounts),this._resolveEventCpi(this._idlIx.accounts);await this.resolvePdas(this._idlIx.accounts)+await this.resolveRelations(this._idlIx.accounts)+await this.resolveCustom()>0;);}async resolveCustom(){if(this._customResolver){const{accounts:t,resolved:e}=await this._customResolver({args:this._args,accounts:this._accounts,provider:this._provider,programId:this._programId,idlIx:this._idlIx});return this._accounts=t,e}return 0}resolveOptionalsHelper(t,e){const n={};for(const s of e){const i=s.name,c=t[i];c!==void 0&&(TM(c)?JN(s)?n[i]=this.resolveOptionalsHelper(c,s.accounts):n[i]=LM(c,!0):c!==null?n[i]=si(c):s.isOptional&&(n[i]=this._programId))}return n}resolveOptionals(t){Object.assign(this._accounts,this.resolveOptionalsHelper(t,this._idlIx.accounts))}get(t){const e=t.reduce((n,s)=>n&&n[s],this._accounts);if(e&&e.toBase58)return e}set(t,e){let n=this._accounts;t.forEach((s,i)=>{i==t.length-1&&(n[s]=e),n[s]=n[s]||{},n=n[s]})}async resolveConst(t,e=[]){for(let n=0;n<t.length;n+=1){const s=t[n],i=s.accounts;i&&await this.resolveConst(i,[...e,Dr(s.name)]);const c=s,l=Dr(s.name);if(c.isSigner&&!this.get([...e,l])){if(this._provider.wallet===void 0)throw new Error("This function requires the Provider interface implementor to have a 'wallet' field.");this.set([...e,l],this._provider.wallet.publicKey)}Reflect.has(Gc.CONST_ACCOUNTS,l)&&!this.get([...e,l])&&this.set([...e,l],Gc.CONST_ACCOUNTS[l])}}_resolveEventCpi(t,e=[]){for(const n in t){const s=t[n],i=s.accounts;i&&this._resolveEventCpi(i,[...e,Dr(s.name)]);const c=+n+1;if(c===t.length)return;const l=Dr(t[n].name),p=Dr(t[c].name);if(l==="eventAuthority"&&p==="program"){const m=[...e,l],v=[...e,p];this.get(m)||this.set(m,Ne.findProgramAddressSync([Zt.Buffer.from("__event_authority")],this._programId)[0]),this.get(v)||this.set(v,this._programId);return}}}async resolvePdas(t,e=[]){let n=0;for(let s=0;s<t.length;s+=1){const i=t[s],c=i.accounts;c&&(n+=await this.resolvePdas(c,[...e,Dr(i.name)]));const l=i,p=Dr(i.name);l.pda&&l.pda.seeds.length>0&&!this.get([...e,p])&&await this.autoPopulatePda(l,e)&&(n+=1)}return n}async resolveRelations(t,e=[]){let n=0;for(let s=0;s<t.length;s+=1){const i=t[s],c=i.accounts;c&&(n+=await this.resolveRelations(c,[...e,Dr(i.name)]));const l=i.relations||[],p=Dr(i.name),m=[...e,p],v=this.get(m);if(v){const _=l.filter(E=>!this.get([...e,Dr(E)]));if(n+=_.length,_.length>0){const E=await this._accountStore.fetchAccount({publicKey:v});await Promise.all(_.map(async w=>{const x=Dr(w);return this.set([...e,x],E[x]),E[x]}))}}}return n}async autoPopulatePda(t,e=[]){if(!t.pda||!t.pda.seeds)throw new Error("Must have seeds");const n=await Promise.all(t.pda.seeds.map(c=>this.toBuffer(c,e)));if(n.some(c=>typeof c>"u"))return;const s=await this.parseProgramId(t,e);if(!s)return;const[i]=await Ne.findProgramAddress(n,s);this.set([...e,Dr(t.name)],i)}async parseProgramId(t,e=[]){var n;if(!(!((n=t.pda)===null||n===void 0)&&n.programId))return this._programId;switch(t.pda.programId.kind){case"const":return new Ne(this.toBufferConst(t.pda.programId.value));case"arg":return this.argValue(t.pda.programId);case"account":return await this.accountValue(t.pda.programId,e);default:throw new Error(`Unexpected program seed kind: ${t.pda.programId.kind}`)}}async toBuffer(t,e=[]){switch(t.kind){case"const":return this.toBufferConst(t);case"arg":return await this.toBufferArg(t);case"account":return await this.toBufferAccount(t,e);default:throw new Error(`Unexpected seed kind: ${t.kind}`)}}getType(t,e=[]){if(e.length>0&&t.defined){const n=this._idlTypes.find(c=>c.name===t.defined);if(!n)throw new Error(`Cannot find type ${t.defined}`);const i=n.type.fields.find(c=>c.name===e[0]);return this.getType(i.type,e.slice(1))}return t}toBufferConst(t){return this.toBufferValue(this.getType(t.type,(t.path||"").split(".").slice(1)),t.value)}async toBufferArg(t){const e=this.argValue(t);if(!(typeof e>"u"))return this.toBufferValue(this.getType(t.type,(t.path||"").split(".").slice(1)),e)}argValue(t){const e=t.path.split("."),n=Dr(e[0]),s=this._idlIx.args.findIndex(i=>i.name===n);if(s===-1)throw new Error(`Unable to find argument for seed: ${n}`);return e.slice(1).reduce((i,c)=>(i||{})[c],this._args[s])}async toBufferAccount(t,e=[]){const n=await this.accountValue(t,e);if(n)return this.toBufferValue(t.type,n)}async accountValue(t,e=[]){const n=t.path.split("."),s=n[0],i=this.get([...e,Dr(s)]);if(i===null)throw new Error("fieldPubkey is null");if(n.length===1)return i;const c=await this._accountStore.fetchAccount({publicKey:i,name:t.account});return this.parseAccountValue(c,n.slice(1))}parseAccountValue(t,e){let n;for(;e.length>0;)n=t[Dr(e[0])],e=e.slice(1);return n}toBufferValue(t,e){switch(t){case"u8":return Zt.Buffer.from([e]);case"u16":let n=Zt.Buffer.alloc(2);return n.writeUInt16LE(e),n;case"u32":let s=Zt.Buffer.alloc(4);return s.writeUInt32LE(e),s;case"u64":let i=Zt.Buffer.alloc(8);return i.writeBigUInt64LE(BigInt(e)),i;case"string":return Zt.Buffer.from(nM(e));case"publicKey":return e.toBuffer();default:if(t.array)return Zt.Buffer.from(e);throw new Error(`Unexpected seed type: ${t}`)}}}Gc.CONST_ACCOUNTS={associatedTokenProgram:Zg,rent:fI,systemProgram:Hl.programId,tokenProgram:Vg,clock:cI};class mD{constructor(t,e,n){this._provider=t,this._programId=n,this._cache=new Map,this._idls={},this._idls[n.toBase58()]=e}async ensureIdl(t){if(!this._idls[t.toBase58()]){const e=await Xa.fetchIdl(t,this._provider);if(e){const n=new Xa(e,t,this._provider);this._idls[t.toBase58()]=n.account}}return this._idls[t.toBase58()]}async fetchAccount({publicKey:t,name:e,programId:n=this._programId}){const s=t.toString();if(!this._cache.has(s))if(e==="TokenAccount"){const i=await this._provider.connection.getAccountInfo(t);if(i===null)throw new Error(`invalid account info for ${s}`);const c=pD(i.data);this._cache.set(s,c)}else if(e){const i=await this.ensureIdl(n);if(i){const c=i[Dr(e)];if(c){const l=await c.fetch(t);this._cache.set(s,l)}}}else{const i=await this._provider.connection.getAccountInfo(t);if(i===null)throw new Error(`invalid account info for ${s}`);const c=i.data,l=await this.ensureIdl(i.owner);if(l){const p=Object.values(l)[0];if(!p)throw new Error("No accounts for this program");const m=p.coder.accounts.decodeAny(c);this._cache.set(s,m)}}return this._cache.get(s)}}class CM{static build(t,e,n,s,i,c,l,p,m,v,_){return(...E)=>new vD(E,s,i,c,l,p,t,e,n,m,v,_)}}function TM(r){return typeof r=="object"&&r!==null&&!("_bn"in r)}function LM(r,t){const e={};for(const n in r){const s=r[n];if(s===null){if(t)throw new Error("Failed to resolve optionals due to IDL type mismatch with input accounts!");continue}e[n]=TM(s)?LM(s,!0):si(s)}return e}class vD{constructor(t,e,n,s,i,c,l,p,m,v,_,E){this._ixFn=e,this._txFn=n,this._rpcFn=s,this._simulateFn=i,this._viewFn=c,this._programId=p,this._accounts={},this._remainingAccounts=[],this._signers=[],this._preInstructions=[],this._postInstructions=[],this._autoResolveAccounts=!0,this._args=t,this._accountsResolver=new Gc(t,this._accounts,l,p,m,v,_,E)}args(t){this._args=t,this._accountsResolver.args(t)}async pubkeys(){return this._autoResolveAccounts&&await this._accountsResolver.resolve(),this._accounts}accounts(t){return this._autoResolveAccounts=!0,this._accountsResolver.resolveOptionals(t),this}accountsStrict(t){return this._autoResolveAccounts=!1,this._accountsResolver.resolveOptionals(t),this}signers(t){return this._signers=this._signers.concat(t),this}remainingAccounts(t){return this._remainingAccounts=this._remainingAccounts.concat(t),this}preInstructions(t){return this._preInstructions=this._preInstructions.concat(t),this}postInstructions(t){return this._postInstructions=this._postInstructions.concat(t),this}async rpc(t){return this._autoResolveAccounts&&await this._accountsResolver.resolve(),this._rpcFn(...this._args,{accounts:this._accounts,signers:this._signers,remainingAccounts:this._remainingAccounts,preInstructions:this._preInstructions,postInstructions:this._postInstructions,options:t})}async rpcAndKeys(t){return{pubkeys:await this.pubkeys(),signature:await this.rpc(t)}}async view(t){if(this._autoResolveAccounts&&await this._accountsResolver.resolve(),!this._viewFn)throw new Error("Method does not support views");return this._viewFn(...this._args,{accounts:this._accounts,signers:this._signers,remainingAccounts:this._remainingAccounts,preInstructions:this._preInstructions,postInstructions:this._postInstructions,options:t})}async simulate(t){return this._autoResolveAccounts&&await this._accountsResolver.resolve(),this._simulateFn(...this._args,{accounts:this._accounts,signers:this._signers,remainingAccounts:this._remainingAccounts,preInstructions:this._preInstructions,postInstructions:this._postInstructions,options:t})}async instruction(){return this._autoResolveAccounts&&await this._accountsResolver.resolve(),this._ixFn(...this._args,{accounts:this._accounts,signers:this._signers,remainingAccounts:this._remainingAccounts,preInstructions:this._preInstructions,postInstructions:this._postInstructions})}async prepare(){return{instruction:await this.instruction(),pubkeys:await this.pubkeys(),signers:await this._signers}}async transaction(){return this._autoResolveAccounts&&await this._accountsResolver.resolve(),this._txFn(...this._args,{accounts:this._accounts,signers:this._signers,remainingAccounts:this._remainingAccounts,preInstructions:this._preInstructions,postInstructions:this._postInstructions})}}class gD{static build(t,e,n,s){const i=e.accounts.find(p=>p.isMut),c=!!e.returns;return i||!c?void 0:async(...p)=>{var m,v;let _=await n(...p);const E=`Program return: ${t} `;let w=_.raw.find(P=>P.startsWith(E));if(!w)throw new Error("View expected return log");let x=iM(w.slice(E.length)),A=e.returns;if(!A)throw new Error("View expected return type");return wi.fieldLayout({type:A},Array.from([...(m=s.accounts)!==null&&m!==void 0?m:[],...(v=s.types)!==null&&v!==void 0?v:[]])).decode(x)}}}class yD{static build(t,e,n,s,i){const c={},l={},p={},m={},v={},_={},E=oM(t),w=t.accounts?sD.build(t,e,n,s):{};return t.instructions.forEach(x=>{const A=pl.build(x,(H,tt)=>e.instruction.encode(H,tt),n),B=iD.build(x,A),P=oD.build(x,B,E,s),R=hD.build(x,B,E,s,e,n,t),C=gD.build(n,x,R,t),O=CM.build(s,n,x,A,B,P,R,C,w,t.types||[],i&&i(x)),z=Dr(x.name);l[z]=A,p[z]=B,c[z]=P,m[z]=R,v[z]=O,C&&(_[z]=C)}),[c,l,p,w,m,v,_]}}class Xa{get programId(){return this._programId}get idl(){return this._idl}get coder(){return this._coder}get provider(){return this._provider}constructor(t,e,n,s,i){e=si(e),n||(n=Vc()),this._idl=t,this._provider=n,this._programId=e,this._coder=s??new Hg(t),this._events=new PM(this._programId,n,this._coder);const[c,l,p,m,v,_,E]=yD.build(t,this._coder,e,n,i??(()=>{}));this.rpc=c,this.instruction=l,this.transaction=p,this.account=m,this.simulate=v,this.methods=_,this.views=E}static async at(t,e){const n=si(t),s=await Xa.fetchIdl(n,e);if(!s)throw new Error(`IDL not found for program: ${t.toString()}`);return new Xa(s,n,e)}static async fetchIdl(t,e){e=e??Vc();const n=si(t),s=await QN(n),i=await e.connection.getAccountInfo(s);if(!i)return null;let c=rD(i.data.slice(8));const l=EU(c.data);return JSON.parse(rM(l))}addEventListener(t,e){return this._events.addEventListener(t,e)}async removeEventListener(t){return await this._events.removeEventListener(t)}}const bD=new Ne("11111111111111111111111111111111");function wD(r){return new Xa(OM,bD,r,xD())}function xD(){return new AM(OM)}const OM={version:"0.1.0",name:"system_program",instructions:[{name:"createAccount",accounts:[{name:"from",isMut:!0,isSigner:!0},{name:"to",isMut:!0,isSigner:!0}],args:[{name:"lamports",type:"u64"},{name:"space",type:"u64"},{name:"owner",type:"publicKey"}]},{name:"assign",accounts:[{name:"pubkey",isMut:!0,isSigner:!0}],args:[{name:"owner",type:"publicKey"}]},{name:"transfer",accounts:[{name:"from",isMut:!0,isSigner:!0},{name:"to",isMut:!0,isSigner:!1}],args:[{name:"lamports",type:"u64"}]},{name:"createAccountWithSeed",accounts:[{name:"from",isMut:!0,isSigner:!0},{name:"to",isMut:!0,isSigner:!1},{name:"base",isMut:!1,isSigner:!0}],args:[{name:"base",type:"publicKey"},{name:"seed",type:"string"},{name:"lamports",type:"u64"},{name:"space",type:"u64"},{name:"owner",type:"publicKey"}]},{name:"advanceNonceAccount",accounts:[{name:"nonce",isMut:!0,isSigner:!1},{name:"recentBlockhashes",isMut:!1,isSigner:!1},{name:"authorized",isMut:!1,isSigner:!0}],args:[{name:"authorized",type:"publicKey"}]},{name:"withdrawNonceAccount",accounts:[{name:"nonce",isMut:!0,isSigner:!1},{name:"to",isMut:!0,isSigner:!1},{name:"recentBlockhashes",isMut:!1,isSigner:!1},{name:"rent",isMut:!1,isSigner:!1},{name:"authorized",isMut:!1,isSigner:!0}],args:[{name:"lamports",type:"u64"}]},{name:"initializeNonceAccount",accounts:[{name:"nonce",isMut:!0,isSigner:!0},{name:"recentBlockhashes",isMut:!1,isSigner:!1},{name:"rent",isMut:!1,isSigner:!1}],args:[{name:"authorized",type:"publicKey"}]},{name:"authorizeNonceAccount",accounts:[{name:"nonce",isMut:!0,isSigner:!1},{name:"authorized",isMut:!1,isSigner:!0}],args:[{name:"authorized",type:"publicKey"}]},{name:"allocate",accounts:[{name:"pubkey",isMut:!0,isSigner:!0}],args:[{name:"space",type:"u64"}]},{name:"allocateWithSeed",accounts:[{name:"account",isMut:!0,isSigner:!1},{name:"base",isMut:!1,isSigner:!0}],args:[{name:"base",type:"publicKey"},{name:"seed",type:"string"},{name:"space",type:"u64"},{name:"owner",type:"publicKey"}]},{name:"assignWithSeed",accounts:[{name:"account",isMut:!0,isSigner:!1},{name:"base",isMut:!1,isSigner:!0}],args:[{name:"base",type:"publicKey"},{name:"seed",type:"string"},{name:"owner",type:"publicKey"}]},{name:"transferWithSeed",accounts:[{name:"from",isMut:!0,isSigner:!1},{name:"base",isMut:!1,isSigner:!0},{name:"to",isMut:!0,isSigner:!1}],args:[{name:"lamports",type:"u64"},{name:"seed",type:"string"},{name:"owner",type:"publicKey"}]}],accounts:[{name:"nonce",type:{kind:"struct",fields:[{name:"version",type:"u32"},{name:"state",type:"u32"},{name:"authorizedPubkey",type:"publicKey"},{name:"nonce",type:"publicKey"},{name:"feeCalculator",type:{defined:"FeeCalculator"}}]}}],types:[{name:"FeeCalculator",type:{kind:"struct",fields:[{name:"lamportsPerSignature",type:"u64"}]}}]};class _D{static system(t){return wD(t)}}const MD=Object.freeze(Object.defineProperty({__proto__:null,AccountClient:IM,AnchorError:Du,AnchorProvider:hM,BN:Jv,BorshAccountsCoder:Ca,BorshCoder:Hg,BorshEventCoder:mM,BorshInstructionCoder:dd,DISCRIMINATOR_SIZE:dl,EventManager:PM,EventParser:Wg,IdlError:Zc,LangErrorCode:ze,LangErrorMessage:dM,MethodsBuilderFactory:CM,Native:_D,Program:Xa,ProgramError:Wc,ProgramErrorStack:If,SystemCoder:AM,eventDiscriminator:vM,getProvider:Vc,parseIdlErrors:oM,setProvider:JU,splitArgsAndCtx:Lh,toInstruction:sM,translateAddress:si,translateError:Kg,utils:XN,validateAccounts:Ng,web3:K7},Symbol.toStringTag,{value:"Module"})),UM=j7(MD);var Jf={},Qf={},D3;function ED(){if(D3)return Qf;D3=1,Object.defineProperty(Qf,"__esModule",{value:!0}),Qf.PythOracleEventCoder=void 0;var r=function(){function t(){}return t.prototype.decode=function(e){throw new Error("Pyth oracle program does not have events")},t}();return Qf.PythOracleEventCoder=r,Qf}var tc={},z3;function AD(){if(z3)return tc;z3=1;var r=Re&&Re.__awaiter||function(n,s,i,c){function l(p){return p instanceof i?p:new i(function(m){m(p)})}return new(i||(i=Promise))(function(p,m){function v(w){try{E(c.next(w))}catch(x){m(x)}}function _(w){try{E(c.throw(w))}catch(x){m(x)}}function E(w){w.done?p(w.value):l(w.value).then(v,_)}E((c=c.apply(n,s||[])).next())})},t=Re&&Re.__generator||function(n,s){var i={label:0,sent:function(){if(p[0]&1)throw p[1];return p[1]},trys:[],ops:[]},c,l,p,m;return m={next:v(0),throw:v(1),return:v(2)},typeof Symbol=="function"&&(m[Symbol.iterator]=function(){return this}),m;function v(E){return function(w){return _([E,w])}}function _(E){if(c)throw new TypeError("Generator is already executing.");for(;i;)try{if(c=1,l&&(p=E[0]&2?l.return:E[0]?l.throw||((p=l.return)&&p.call(l),0):l.next)&&!(p=p.call(l,E[1])).done)return p;switch(l=0,p&&(E=[E[0]&2,p.value]),E[0]){case 0:case 1:p=E;break;case 4:return i.label++,{value:E[1],done:!1};case 5:i.label++,l=E[1],E=[0];continue;case 7:E=i.ops.pop(),i.trys.pop();continue;default:if(p=i.trys,!(p=p.length>0&&p[p.length-1])&&(E[0]===6||E[0]===2)){i=0;continue}if(E[0]===3&&(!p||E[1]>p[0]&&E[1]<p[3])){i.label=E[1];break}if(E[0]===6&&i.label<p[1]){i.label=p[1],p=E;break}if(p&&i.label<p[2]){i.label=p[2],i.ops.push(E);break}p[2]&&i.ops.pop(),i.trys.pop();continue}E=s.call(n,i)}catch(w){E=[6,w],l=0}finally{c=p=0}if(E[0]&5)throw E[1];return{value:E[0]?E[1]:void 0,done:!0}}};Object.defineProperty(tc,"__esModule",{value:!0}),tc.PythOracleAccountCoder=void 0;var e=function(){function n(s){this.idl=s}return n.prototype.encode=function(s,i){return r(this,void 0,void 0,function(){return t(this,function(c){throw new Error("Not implemented")})})},n.prototype.decode=function(s,i){throw new Error("Not implemented")},n.prototype.decodeUnchecked=function(s,i){throw new Error("Not implemented")},n.prototype.memcmp=function(s,i){throw new Error("Not implemented")},n.prototype.size=function(s){return 0},n}();return tc.PythOracleAccountCoder=e,tc}var ec={},rc={},q3;function SD(){if(q3)return rc;q3=1;var r=Re&&Re.__createBinding||(Object.create?function(p,m,v,_){_===void 0&&(_=v),Object.defineProperty(p,_,{enumerable:!0,get:function(){return m[v]}})}:function(p,m,v,_){_===void 0&&(_=v),p[_]=m[v]}),t=Re&&Re.__setModuleDefault||(Object.create?function(p,m){Object.defineProperty(p,"default",{enumerable:!0,value:m})}:function(p,m){p.default=m}),e=Re&&Re.__importStar||function(p){if(p&&p.__esModule)return p;var m={};if(p!=null)for(var v in p)v!=="default"&&Object.prototype.hasOwnProperty.call(p,v)&&r(m,p,v);return t(m,p),m},n=Re&&Re.__importDefault||function(p){return p&&p.__esModule?p:{default:p}};Object.defineProperty(rc,"__esModule",{value:!0}),rc.IdlCoder=void 0;var s=n(Eg),i=e(Ze),c=UM,l=function(){function p(){}return p.fieldLayout=function(m,v){var _=m.name!==void 0?s.default(m.name):void 0;switch(m.type){case"bool":return i.bool(_);case"u8":return i.u8(_);case"i8":return i.i8(_);case"u16":return i.u16(_);case"i16":return i.i16(_);case"u32":return i.u32(_);case"i32":return i.i32(_);case"f32":return i.f32(_);case"u64":return i.u64(_);case"i64":return i.i64(_);case"f64":return i.f64(_);case"u128":return i.u128(_);case"i128":return i.i128(_);case"u256":return i.u256(_);case"i256":return i.i256(_);case"bytes":return i.vecU8(_);case"string":return i.str(_);case"publicKey":return i.publicKey(_);default:{if("vec"in m.type)return i.vec(p.fieldLayout({name:void 0,type:m.type.vec},v),_);if("option"in m.type)return i.option(p.fieldLayout({name:void 0,type:m.type.option},v),_);if("defined"in m.type){var E=m.type.defined;if(v===void 0)throw new c.IdlError("User defined types not provided");var w=v.filter(function(P){return P.name===E});if(w.length!==1)throw new c.IdlError("Type not found: "+JSON.stringify(m));return p.typeDefLayout(w[0],v,_)}else if("array"in m.type){var x=m.type.array[0],A=m.type.array[1],B=p.fieldLayout({name:void 0,type:x},v);return i.array(B,A,_)}else throw new Error("Not yet implemented: "+m)}}},p.typeDefLayout=function(m,v,_){if(v===void 0&&(v=[]),m.type.kind==="struct"){var E=m.type.fields.map(function(x){var A=p.fieldLayout(x,v);return A});return i.struct(E,_)}else if(m.type.kind==="enum"){var w=m.type.variants.map(function(x){var A=s.default(x.name);if(x.fields===void 0)return i.struct([],A);var B=x.fields.map(function(P,R){return P.hasOwnProperty("name")?p.fieldLayout(P,v):p.fieldLayout({type:P,name:R.toString()},v)});return i.struct(B,A)});return _!==void 0?i.rustEnum(w).replicate(_):i.rustEnum(w,_)}else throw new Error("Unknown type kint: "+m)},p}();return rc.IdlCoder=l,rc}var F3;function kD(){if(F3)return ec;F3=1;var r=Re&&Re.__createBinding||(Object.create?function(E,w,x,A){A===void 0&&(A=x),Object.defineProperty(E,A,{enumerable:!0,get:function(){return w[x]}})}:function(E,w,x,A){A===void 0&&(A=x),E[A]=w[x]}),t=Re&&Re.__setModuleDefault||(Object.create?function(E,w){Object.defineProperty(E,"default",{enumerable:!0,value:w})}:function(E,w){E.default=w}),e=Re&&Re.__importStar||function(E){if(E&&E.__esModule)return E;var w={};if(E!=null)for(var x in E)x!=="default"&&Object.prototype.hasOwnProperty.call(E,x)&&r(w,E,x);return t(w,E),w},n=Re&&Re.__spreadArray||function(E,w){for(var x=0,A=w.length,B=E.length;x<A;x++,B++)E[B]=w[x];return E},s=Re&&Re.__importDefault||function(E){return E&&E.__esModule?E:{default:E}};Object.defineProperty(ec,"__esModule",{value:!0}),ec.PythOracleInstructionCoder=void 0;var i=s(lI),c=yr,l=s(Eg),p=e(Ze),m=SD(),v=464,_=function(){function E(w){var x=this;this.idl=w,this.ixLayout=E.parseIxLayout(w);var A=new Map,B=new Map;w.instructions.forEach(function(P){var R=P,C;if(R.discriminant)A.set(i.default.encode(c.Buffer.from(R.discriminant.value)),{layout:x.ixLayout.get(R.name),name:R.name}),B.set(R.name,c.Buffer.from(R.discriminant.value)),C=R.discriminant.value.length;else throw new Error("All instructions must have a discriminator");if(x.discriminatorLength&&x.discriminatorLength!==C)throw new Error("All instructions must have the same discriminator length");x.discriminatorLength=C}),this.discriminatorLayouts=A,this.ixDiscriminator=B}return E.prototype.encodeState=function(w,x){return this.encode(w,x)},E.prototype.encode=function(w,x){var A=c.Buffer.alloc(1e3),B=l.default(w),P=this.ixLayout.get(B),R=this.ixDiscriminator.get(B);if(!P||!R)throw new Error("Unknown method: "+B);if(B==="updProduct"||B==="addProduct"){for(var C=0,O=0,z=Object.keys(x.productMetadata);O<z.length;O++){var H=z[O];C+=A.subarray(C).writeInt8(H.length),C+=A.subarray(C).write(H),C+=A.subarray(C).writeInt8(x.productMetadata[H].length),C+=A.subarray(C).write(x.productMetadata[H])}if(C>v)throw new Error("The metadata is too long");var tt=A.subarray(0,C);return c.Buffer.concat([R,tt])}else{var nt=P.encode(x,A),tt=A.subarray(0,nt);return c.Buffer.concat([R,tt])}},E.parseIxLayout=function(w){var x=w.instructions.map(function(A){var B=A.args.map(function(R){var C,O;return m.IdlCoder.fieldLayout(R,Array.from(n(n([],(C=w.accounts)!==null&&C!==void 0?C:[]),(O=w.types)!==null&&O!==void 0?O:[])))}),P=l.default(A.name);return[P,p.struct(B,P)]});return new Map(x)},E.prototype.decode=function(w,x){x===void 0&&(x="hex"),typeof w=="string"&&(w=x==="hex"?c.Buffer.from(w,"hex"):c.Buffer.from(i.default.decode(w)));var A=i.default.encode(w.subarray(0,this.discriminatorLength)),B=w.subarray(this.discriminatorLength),P=this.discriminatorLayouts.get(A);if(!P)return null;if(P.name==="updProduct"||P.name==="addProduct"){for(var R={},C=0;C<B.length;){var O=B[C];if(C++,O){var z=B.slice(C,C+O).toString();C+=O;var H=B[C];C++;var tt=B.slice(C,C+H).toString();C+=H,R[z]=tt}}return{data:R,name:P.name}}else return{data:P.layout.decode(B),name:P.name}},E}();return ec.PythOracleInstructionCoder=_,ec}var nc={},j3;function ID(){if(j3)return nc;j3=1,Object.defineProperty(nc,"__esModule",{value:!0}),nc.PythOracleStateCoder=void 0;var r=function(){function t(){}return t.prototype.encode=function(e,n){throw new Error("Not implemented")},t.prototype.decode=function(e){throw new Error("Not implemented")},t}();return nc.PythOracleStateCoder=r,nc}var ic={},K3;function BD(){if(K3)return ic;K3=1,Object.defineProperty(ic,"__esModule",{value:!0}),ic.PythOracleTypesCoder=void 0;var r=function(){function t(){}return t.prototype.encode=function(e,n){throw new Error("Not implemented")},t.prototype.decode=function(e,n){throw new Error("Not implemented")},t}();return ic.PythOracleTypesCoder=r,ic}var $3;function PD(){if($3)return Jf;$3=1,Object.defineProperty(Jf,"__esModule",{value:!0}),Jf.PythOracleCoder=void 0;var r=ED(),t=AD(),e=kD(),n=ID(),s=BD(),i=function(){function c(l){this.accounts=new t.PythOracleAccountCoder(l),this.events=new r.PythOracleEventCoder,this.instruction=new e.PythOracleInstructionCoder(l),this.state=new n.PythOracleStateCoder,this.types=new s.PythOracleTypesCoder}return c}();return Jf.PythOracleCoder=i,Jf}const RD="2.20.0",CD="pyth_oracle",TD=[{name:"initMapping",discriminant:{value:[2,0,0,0,0,0,0,0]},accounts:[{name:"fundingAccount",isMut:!0,isSigner:!0},{name:"freshMappingAccount",isMut:!0,isSigner:!1},{name:"permissionsAccount",isMut:!1,isSigner:!1,pda:{seeds:[{kind:"const",type:"string",value:"permissions"}]}}],args:[]},{name:"addMapping",discriminant:{value:[2,0,0,0,1,0,0,0]},accounts:[{name:"fundingAccount",isMut:!0,isSigner:!0},{name:"curMapping",isMut:!0,isSigner:!1},{name:"nextMapping",isMut:!0,isSigner:!1},{name:"permissionsAccount",isMut:!1,isSigner:!1,pda:{seeds:[{kind:"const",type:"string",value:"permissions"}]}}],args:[]},{name:"addProduct",discriminant:{value:[2,0,0,0,2,0,0,0]},accounts:[{name:"fundingAccount",isMut:!0,isSigner:!0},{name:"tailMappingAccount",isMut:!0,isSigner:!1},{name:"productAccount",isMut:!0,isSigner:!1},{name:"permissionsAccount",isMut:!1,isSigner:!1,pda:{seeds:[{kind:"const",type:"string",value:"permissions"}]}}],args:[{name:"productMetadata",type:{defined:"ProductMetadata"}}]},{name:"updProduct",discriminant:{value:[2,0,0,0,3,0,0,0]},accounts:[{name:"fundingAccount",isMut:!0,isSigner:!0},{name:"productAccount",isMut:!0,isSigner:!1},{name:"permissionsAccount",isMut:!1,isSigner:!1,pda:{seeds:[{kind:"const",type:"string",value:"permissions"}]}}],args:[{name:"productMetadata",type:{defined:"ProductMetadata"}}]},{name:"addPrice",discriminant:{value:[2,0,0,0,4,0,0,0]},accounts:[{name:"fundingAccount",isMut:!0,isSigner:!0},{name:"productAccount",isMut:!0,isSigner:!1},{name:"priceAccount",isMut:!0,isSigner:!1},{name:"permissionsAccount",isMut:!1,isSigner:!1,pda:{seeds:[{kind:"const",type:"string",value:"permissions"}]}}],args:[{name:"expo",type:"i32"},{name:"pType",type:"u32"}]},{name:"addPublisher",discriminant:{value:[2,0,0,0,5,0,0,0]},accounts:[{name:"fundingAccount",isMut:!0,isSigner:!0},{name:"priceAccount",isMut:!0,isSigner:!1},{name:"permissionsAccount",isMut:!1,isSigner:!1,pda:{seeds:[{kind:"const",type:"string",value:"permissions"}]}}],args:[{name:"pub",type:"publicKey"}]},{name:"delPublisher",discriminant:{value:[2,0,0,0,6,0,0,0]},accounts:[{name:"fundingAccount",isMut:!0,isSigner:!0},{name:"priceAccount",isMut:!0,isSigner:!1},{name:"permissionsAccount",isMut:!1,isSigner:!1,pda:{seeds:[{kind:"const",type:"string",value:"permissions"}]}}],args:[{name:"pub",type:"publicKey"}]},{name:"updPrice",discriminant:{value:[2,0,0,0,7,0,0,0]},accounts:[{name:"fundingAccount",isMut:!0,isSigner:!0},{name:"priceAccount",isMut:!0,isSigner:!1},{name:"clock",isMut:!1,isSigner:!1}],args:[{name:"status",type:"u32"},{name:"unused",type:"u32"},{name:"price",type:"i64"},{name:"conf",type:"u64"},{name:"pubSlot",type:"u64"}]},{name:"aggPrice",discriminant:{value:[2,0,0,0,8,0,0,0]},accounts:[{name:"fundingAccount",isMut:!0,isSigner:!0},{name:"priceAccount",isMut:!0,isSigner:!1},{name:"clock",isMut:!1,isSigner:!1}],args:[{name:"status",type:"u32"},{name:"unused",type:"u32"},{name:"price",type:"i64"},{name:"conf",type:"u64"},{name:"pubSlot",type:"u64"}]},{name:"setExponent",discriminant:{value:[2,0,0,0,9,0,0,0]},accounts:[{name:"fundingAccount",isMut:!0,isSigner:!0},{name:"priceAccount",isMut:!0,isSigner:!1},{name:"permissionsAccount",isMut:!1,isSigner:!1,pda:{seeds:[{kind:"const",type:"string",value:"permissions"}]}}],args:[{name:"expo",type:"i32"},{name:"pType",type:"u32"}]},{name:"setMinPub",discriminant:{value:[2,0,0,0,12,0,0,0]},accounts:[{name:"fundingAccount",isMut:!0,isSigner:!0},{name:"priceAccount",isMut:!0,isSigner:!1},{name:"permissionsAccount",isMut:!1,isSigner:!1,pda:{seeds:[{kind:"const",type:"string",value:"permissions"}]}}],args:[{name:"minPub",type:"u8"},{name:"unused",type:{array:["u8",3]}}]},{name:"updPriceNoFailOnError",discriminant:{value:[2,0,0,0,13,0,0,0]},accounts:[{name:"fundingAccount",isMut:!0,isSigner:!0},{name:"priceAccount",isMut:!0,isSigner:!1},{name:"clock",isMut:!1,isSigner:!1}],args:[{name:"status",type:"u32"},{name:"unused",type:"u32"},{name:"price",type:"i64"},{name:"conf",type:"u64"},{name:"pubSlot",type:"u64"}]},{name:"delPrice",discriminant:{value:[2,0,0,0,15,0,0,0]},accounts:[{name:"fundingAccount",isMut:!0,isSigner:!0},{name:"productAccount",isMut:!0,isSigner:!1},{name:"priceAccount",isMut:!0,isSigner:!1},{name:"permissionsAccount",isMut:!1,isSigner:!1,pda:{seeds:[{kind:"const",type:"string",value:"permissions"}]}}],args:[]},{name:"delProduct",discriminant:{value:[2,0,0,0,16,0,0,0]},accounts:[{name:"fundingAccount",isMut:!0,isSigner:!0},{name:"mappingAccount",isMut:!0,isSigner:!1},{name:"productAccount",isMut:!0,isSigner:!1},{name:"permissionsAccount",isMut:!1,isSigner:!1,pda:{seeds:[{kind:"const",type:"string",value:"permissions"}]}}],args:[]},{name:"updPermissions",discriminant:{value:[2,0,0,0,17,0,0,0]},accounts:[{name:"upgradeAuthority",isMut:!0,isSigner:!0},{name:"programDataAccount",isMut:!1,isSigner:!1},{name:"permissionsAccount",isMut:!0,isSigner:!1,pda:{seeds:[{kind:"const",type:"string",value:"permissions"}]}},{name:"systemProgram",isMut:!1,isSigner:!1}],args:[{name:"masterAuthority",type:"publicKey"},{name:"dataCurationAuthority",type:"publicKey"},{name:"securityAuthority",type:"publicKey"}]}],LD=[{name:"ProductMetadata",type:{kind:"struct",fields:[]}}],H3={version:RD,name:CD,instructions:TD,types:LD};var V3;function OD(){return V3||(V3=1,function(r){var t=Re&&Re.__importDefault||function(p){return p&&p.__esModule?p:{default:p}};Object.defineProperty(r,"__esModule",{value:!0}),r.pythIdl=r.pythOracleCoder=r.pythOracleProgram=void 0;var e=UM,n=PD(),s=t(H3);function i(p,m){return new e.Program(s.default,p,m,new n.PythOracleCoder(s.default))}r.pythOracleProgram=i;function c(){return new n.PythOracleCoder(s.default)}r.pythOracleCoder=c;var l=H3;Object.defineProperty(r,"pythIdl",{enumerable:!0,get:function(){return t(l).default}})}(mp)),mp}var Z3;function UD(){return Z3||(Z3=1,function(r){var t=Re&&Re.__createBinding||(Object.create?function(n,s,i,c){c===void 0&&(c=i),Object.defineProperty(n,c,{enumerable:!0,get:function(){return s[i]}})}:function(n,s,i,c){c===void 0&&(c=i),n[c]=s[i]}),e=Re&&Re.__exportStar||function(n,s){for(var i in n)i!=="default"&&!Object.prototype.hasOwnProperty.call(s,i)&&t(s,n,i)};Object.defineProperty(r,"__esModule",{value:!0}),e(OD(),r)}(pp)),pp}var W3;function Yg(){return W3||(W3=1,function(r){Object.defineProperty(r,"__esModule",{value:!0}),r.pythIdl=r.pythOracleCoder=r.pythOracleProgram=r.getPythClusterApiUrl=r.getPythProgramKeyForCluster=r.PythHttpClient=r.PythConnection=r.parsePermissionData=r.parsePriceData=r.parseProductData=r.parseMappingData=r.parseBaseData=r.AccountType=r.DeriveType=r.PriceType=r.CorpAction=r.PriceStatus=r.MAX_SLOT_DIFFERENCE=r.Version=r.Version2=r.Magic=void 0;var t=rg,e=yr,n=nf;r.Magic=2712847316,r.Version2=2,r.Version=r.Version2,r.MAX_SLOT_DIFFERENCE=25;var s;(function(R){R[R.Unknown=0]="Unknown",R[R.Trading=1]="Trading",R[R.Halted=2]="Halted",R[R.Auction=3]="Auction",R[R.Ignored=4]="Ignored"})(s=r.PriceStatus||(r.PriceStatus={})),function(R){R[R.NoCorpAct=0]="NoCorpAct"}(r.CorpAction||(r.CorpAction={})),function(R){R[R.Unknown=0]="Unknown",R[R.Price=1]="Price"}(r.PriceType||(r.PriceType={})),function(R){R[R.Unknown=0]="Unknown",R[R.Volatility=1]="Volatility"}(r.DeriveType||(r.DeriveType={})),function(R){R[R.Unknown=0]="Unknown",R[R.Mapping=1]="Mapping",R[R.Product=2]="Product",R[R.Price=3]="Price",R[R.Test=4]="Test",R[R.Permission=5]="Permission"}(r.AccountType||(r.AccountType={}));var i=e.Buffer.alloc(32),c=function(R){return R.equals(i)?null:new t.PublicKey(R)};function l(R){if(!(R.byteLength<4)){var C=R.readUInt32LE(0);if(C===r.Magic){var O=R.readUInt32LE(4),z=R.readUInt32LE(8),H=R.readUInt32LE(12);return{magic:C,version:O,type:z,size:H}}else return}}r.parseBaseData=l;var p=function(R){for(var C=R.readUInt32LE(0),O=R.readUInt32LE(4),z=R.readUInt32LE(8),H=R.readUInt32LE(12),tt=R.readUInt32LE(16),nt=c(R.slice(24,56)),G=56,M=[],d=0;d<tt;d++){var o=R.slice(G,G+32),a=new t.PublicKey(o);G+=32,M.push(a)}return{magic:C,version:O,type:z,size:H,nextMappingAccount:nt,productAccountKeys:M}};r.parseMappingData=p;var m=function(R){var C=R.readUInt32LE(0),O=R.readUInt32LE(4),z=R.readUInt32LE(8),H=R.readUInt32LE(12),tt=R.slice(16,48),nt=c(tt),G={};nt&&(G.price_account=nt.toBase58());for(var M=48;M<H;){var d=R[M];if(M++,d){var o=R.slice(M,M+d).toString();M+=d;var a=R[M];M++;var f=R.slice(M,M+a).toString();M+=a,G[o]=f}}return{magic:C,version:O,type:z,size:H,priceAccountKey:nt,product:G}};r.parseProductData=m;var v=function(R,C){var O=n.readBigInt64LE(R,0),z=Number(O)*Math.pow(10,C),H=n.readBigInt64LE(R,8),tt=n.readBigInt64LE(R,16);return{valueComponent:O,value:z,numerator:H,denominator:tt}},_=function(R,C){var O=n.readBigInt64LE(R,0),z=Number(O)*Math.pow(10,C),H=n.readBigUInt64LE(R,8),tt=Number(H)*Math.pow(10,C),nt=R.readUInt32LE(16),G=R.readUInt32LE(20),M=Number(n.readBigUInt64LE(R,24));return{priceComponent:O,price:z,confidenceComponent:H,confidence:tt,status:nt,corporateAction:G,publishSlot:M}},E=function(R,C){var O=R.readUInt32LE(0),z=R.readUInt32LE(4),H=R.readUInt32LE(8),tt=R.readUInt32LE(12),nt=R.readUInt32LE(16),G=R.readInt32LE(20),M=R.readUInt32LE(24),d=R.readUInt32LE(28),o=n.readBigUInt64LE(R,32),a=n.readBigUInt64LE(R,40),f=v(R.slice(48,72),G),h=v(R.slice(72,96),G),g=n.readBigInt64LE(R,96),S=R.readUInt8(104),I=R.readInt8(105),y=R.readInt16LE(106),u=R.readInt32LE(108),b=new t.PublicKey(R.slice(112,144)),D=c(R.slice(144,176)),Z=n.readBigUInt64LE(R,176),F=n.readBigInt64LE(R,184),q=Number(F)*Math.pow(10,G),it=n.readBigUInt64LE(R,192),at=Number(it)*Math.pow(10,G),Bt=n.readBigInt64LE(R,200),yt=_(R.slice(208,240),G),pt=yt.status;C&&pt===s.Trading&&C-yt.publishSlot>r.MAX_SLOT_DIFFERENCE&&(pt=s.Unknown);var Ft,lt;pt===s.Trading&&(Ft=yt.price,lt=yt.confidence);for(var ct=[],Tt=240;ct.length<M;){var kt=new t.PublicKey(R.slice(Tt,Tt+32));Tt+=32;var k=_(R.slice(Tt,Tt+32),G);Tt+=32;var T=_(R.slice(Tt,Tt+32),G);Tt+=32,ct.push({publisher:kt,aggregate:k,latest:T})}return{magic:O,version:z,type:H,size:tt,priceType:nt,exponent:G,numComponentPrices:M,numQuoters:d,lastSlot:o,validSlot:a,emaPrice:f,emaConfidence:h,timestamp:g,minPublishers:S,drv2:I,drv3:y,drv4:u,productAccountKey:b,nextPriceAccountKey:D,previousSlot:Z,previousPriceComponent:F,previousPrice:q,previousConfidenceComponent:it,previousConfidence:at,previousTimestamp:Bt,aggregate:yt,priceComponents:ct,price:Ft,confidence:lt,status:pt}};r.parsePriceData=E;var w=function(R){var C=R.readUInt32LE(0),O=R.readUInt32LE(4),z=R.readUInt32LE(8),H=R.readUInt32LE(12),tt=new t.PublicKey(R.slice(16,48)),nt=new t.PublicKey(R.slice(48,80)),G=new t.PublicKey(R.slice(80,112));return{magic:C,version:O,type:z,size:H,masterAuthority:tt,dataCurationAuthority:nt,securityAuthority:G}};r.parsePermissionData=w;var x=CT();Object.defineProperty(r,"PythConnection",{enumerable:!0,get:function(){return x.PythConnection}});var A=TT();Object.defineProperty(r,"PythHttpClient",{enumerable:!0,get:function(){return A.PythHttpClient}});var B=LT();Object.defineProperty(r,"getPythProgramKeyForCluster",{enumerable:!0,get:function(){return B.getPythProgramKeyForCluster}}),Object.defineProperty(r,"getPythClusterApiUrl",{enumerable:!0,get:function(){return B.getPythClusterApiUrl}});var P=UD();Object.defineProperty(r,"pythOracleProgram",{enumerable:!0,get:function(){return P.pythOracleProgram}}),Object.defineProperty(r,"pythOracleCoder",{enumerable:!0,get:function(){return P.pythOracleCoder}}),Object.defineProperty(r,"pythIdl",{enumerable:!0,get:function(){return P.pythIdl}})}(dp)),dp}var ND=Yg(),Ps={},Bf={};Object.defineProperty(Bf,"__esModule",{value:!0});Bf.createBitArray=DD;Bf.fromBits=qD;Bf.toBits=zD;function DD(r){return new Uint8Array(r)}function NM(r,t,e,n,s){var i=(1<<n)-1,c=0,l=0,p=0;if(r.forEach(function(m){for(c=(c<<t)+m,l+=t;l>=n;)l-=n,e[p]=c>>l&i,p+=1}),s)l>0&&(e[p]=c<<n-l&i);else{if(l>=t)throw new Error("Excessive padding: ".concat(l," (max ").concat(t-1," allowed)"));if(c%(1<<l)!==0)throw new Error("Non-zero padding")}}function zD(r,t,e){if(t>8||t<1)throw new RangeError("Invalid bits per element; 1 to 8 expected");return NM(r,8,e,t,!0),e}function qD(r,t,e){if(t>8||t<1)throw new RangeError("Invalid bits per element; 1 to 8 expected");return NM(r,t,e,8,!1),e}var mo={};Object.defineProperty(mo,"__esModule",{value:!0});mo.CHECKSUM_LENGTH=void 0;mo.createChecksum=$D;mo.decode=jM;mo.decodeWithPrefix=VD;mo.detectCase=ZD;mo.encode=HD;mo.expandPrefix=FM;mo.verifyChecksum=KD;var DM=Bf,P2="qpzry9x8gf2tvdw0s3jn54khce6mua7l",zM=734539939,G3=33,Y3=126,R2=6;mo.CHECKSUM_LENGTH=R2;var FD=function(){for(var r=new Map,t=0;t<P2.length;t+=1)r.set(P2[t],t);return r}(),jD=[996825010,642813549,513874426,1027748829,705979059];function qM(r){return r.reduce(function(t,e){var n=t>>25,s=(t&33554431)<<5^e;return jD.reduce(function(i,c,l){return n>>l&1?i^c:i},s)},1)}function FM(r,t){for(var e=0;e<r.length;e+=1){var n=r.charCodeAt(e);t[e]=n>>5,t[e+r.length+1]=n&31}t[r.length]=0}function KD(r){switch(qM(r)){case 1:return"bech32";case zM:return"bech32m";default:return}}function $D(r,t){var e;switch(t){case"bech32":e=1;break;case"bech32m":e=zM;break;default:throw Error("Invalid encoding value: ".concat(t,"; expected bech32 or bech32m"))}for(var n=qM(r)^e,s=0;s<R2;s+=1){var i=5*(5-s);r[r.length-R2+s]=n>>i&31}}function HD(r){return r.reduce(function(t,e){return t+P2[e]},"")}function jM(r,t){for(var e=t||(0,DM.createBitArray)(r.length),n=0;n<r.length;n+=1){var s=FD.get(r[n]);if(s===void 0)throw new Error("Invalid char in message: ".concat(r[n]));e[n]=s}return e}function VD(r,t){var e=t.length+2*r.length+1,n=(0,DM.createBitArray)(e);return FM(r,n.subarray(0,2*r.length+1)),jM(t,n.subarray(2*r.length+1)),n}function ZD(r){for(var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"message",e=!1,n=!1,s=0;s<r.length;s+=1){var i=r.charCodeAt(s);if(i<G3||i>Y3)throw new TypeError("Invalid char in ".concat(t,": ").concat(i,"; ")+"should be in ASCII range ".concat(G3,"-").concat(Y3));n=n||i>=65&&i<=90,e=e||i>=97&&i<=122}if(e&&n)throw new TypeError("Mixed-case ".concat(t));return n?"upper":e?"lower":null}Object.defineProperty(Ps,"__esModule",{value:!0});Ps.BitcoinAddress=void 0;Ps.decode=XD;Ps.decodeTo5BitArray=ty;Ps.encode=YD;Ps.encode5BitArray=Qg;Ps.from5BitArray=Jg;Ps.to5BitArray=Xg;var Yc=Bf,Di=mo;function WD(r,t){if(!(r instanceof t))throw new TypeError("Cannot call a class as a function")}function X3(r,t){for(var e=0;e<t.length;e++){var n=t[e];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(r,n.key,n)}}function GD(r,t,e){return t&&X3(r.prototype,t),e&&X3(r,e),Object.defineProperty(r,"prototype",{writable:!1}),r}var ml=90;function Xg(r,t){var e=Math.ceil(r.length*8/5),n=t||(0,Yc.createBitArray)(e);return(0,Yc.toBits)(r,5,n)}function Jg(r,t){var e=Math.floor(r.length*5/8),n=t||new Uint8Array(e);return(0,Yc.fromBits)(r,5,n)}function Qg(r,t){var e,n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"bech32",s=2*r.length+1+t.length+Di.CHECKSUM_LENGTH;if(s-r.length>ml)throw new Error("Message to be produced is too long (max ".concat(ml," supported)"));var i=(e=(0,Di.detectCase)(r,"prefix"))!==null&&e!==void 0?e:"lower",c=(0,Yc.createBitArray)(s);(0,Di.expandPrefix)(r.toLowerCase(),c.subarray(0,2*r.length+1));var l=c.subarray(2*r.length+1,c.length-Di.CHECKSUM_LENGTH);l.set(t),(0,Di.createChecksum)(c,n);var p=(0,Di.encode)(c.subarray(2*r.length+1));return i==="upper"&&(p=p.toUpperCase()),"".concat(r,"1").concat(p)}function YD(r,t){var e=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"bech32";return Qg(r,Xg(t),e)}function ty(r){if(r.length>ml)throw new TypeError("Message too long; max ".concat(ml," expected"));(0,Di.detectCase)(r);var t=r.toLowerCase(),e=t.lastIndexOf("1");if(e<0)throw new Error('No separator char ("1") found');if(e>r.length-Di.CHECKSUM_LENGTH-1)throw new Error("Data part of the message too short (at least ".concat(Di.CHECKSUM_LENGTH," chars expected)"));var n=t.substring(0,e),s=(0,Di.decodeWithPrefix)(n,t.substring(e+1)),i=(0,Di.verifyChecksum)(s);if(i===void 0)throw new Error("Invalid checksum");return{prefix:n,encoding:i,data:s.subarray(2*n.length+1,s.length-Di.CHECKSUM_LENGTH)}}function XD(r){var t=ty(r),e=t.prefix,n=t.encoding,s=t.data;return{prefix:e,encoding:n,data:Jg(s)}}var JD=function(){function r(t,e,n){if(WD(this,r),t!=="bc"&&t!=="tb")throw new Error('Invalid human-readable prefix, "bc" or "tb" expected');if(e<0||e>16)throw new RangeError("Invalid scriptVersion, value in range [0, 16] expected");if(n.length<2||n.length>40)throw new RangeError("Invalid script length: expected 2 to 40 bytes");if(e===0&&n.length!==20&&n.length!==32)throw new Error("Invalid v0 script length: expected 20 or 32 bytes");this.prefix=t,this.scriptVersion=e,this.data=n}return GD(r,[{key:"type",value:function(){if(this.scriptVersion===0)switch(this.data.length){case 20:return"p2wpkh";case 32:return"p2wsh";default:return}}},{key:"encode",value:function(){var e=Math.ceil(this.data.length*8/5),n=(0,Yc.createBitArray)(e+1);n[0]=this.scriptVersion,Xg(this.data,n.subarray(1));var s=this.scriptVersion===0?"bech32":"bech32m";return Qg(this.prefix,n,s)}}],[{key:"decode",value:function(e){var n=ty(e),s=n.prefix,i=n.data,c=n.encoding;if(s!=="bc"&&s!=="tb")throw new Error('Invalid human-readable prefix, "bc" or "tb" expected');var l=i[0];if(l===0&&c!=="bech32")throw Error("Unexpected encoding ".concat(c," used for version 0 script"));if(l>0&&c!=="bech32m")throw Error("Unexpected encoding ".concat(c," used for version ").concat(l," script"));return new this(s,l,Jg(i.subarray(1)))}}]),r}();Ps.BitcoinAddress=JD;var QD={exports:{}};(function(r){(function(t){var e=function(K){var Y,V=new Float64Array(16);if(K)for(Y=0;Y<K.length;Y++)V[Y]=K[Y];return V},n=function(){throw new Error("no PRNG")},s=new Uint8Array(16),i=new Uint8Array(32);i[0]=9;var c=e(),l=e([1]),p=e([56129,1]),m=e([30883,4953,19914,30187,55467,16705,2637,112,59544,30585,16505,36039,65139,11119,27886,20995]),v=e([61785,9906,39828,60374,45398,33411,5274,224,53552,61171,33010,6542,64743,22239,55772,9222]),_=e([54554,36645,11616,51542,42930,38181,51040,26924,56412,64982,57905,49316,21502,52590,14035,8553]),E=e([26200,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214]),w=e([41136,18958,6951,50414,58488,44335,6150,12099,55207,15867,153,11085,57099,20417,9344,11139]);function x(K,Y,V,U){K[Y]=V>>24&255,K[Y+1]=V>>16&255,K[Y+2]=V>>8&255,K[Y+3]=V&255,K[Y+4]=U>>24&255,K[Y+5]=U>>16&255,K[Y+6]=U>>8&255,K[Y+7]=U&255}function A(K,Y,V,U,W){var et,dt=0;for(et=0;et<W;et++)dt|=K[Y+et]^V[U+et];return(1&dt-1>>>8)-1}function B(K,Y,V,U){return A(K,Y,V,U,16)}function P(K,Y,V,U){return A(K,Y,V,U,32)}function R(K,Y,V,U){for(var W=U[0]&255|(U[1]&255)<<8|(U[2]&255)<<16|(U[3]&255)<<24,et=V[0]&255|(V[1]&255)<<8|(V[2]&255)<<16|(V[3]&255)<<24,dt=V[4]&255|(V[5]&255)<<8|(V[6]&255)<<16|(V[7]&255)<<24,ut=V[8]&255|(V[9]&255)<<8|(V[10]&255)<<16|(V[11]&255)<<24,ht=V[12]&255|(V[13]&255)<<8|(V[14]&255)<<16|(V[15]&255)<<24,zt=U[4]&255|(U[5]&255)<<8|(U[6]&255)<<16|(U[7]&255)<<24,Wt=Y[0]&255|(Y[1]&255)<<8|(Y[2]&255)<<16|(Y[3]&255)<<24,ye=Y[4]&255|(Y[5]&255)<<8|(Y[6]&255)<<16|(Y[7]&255)<<24,Yt=Y[8]&255|(Y[9]&255)<<8|(Y[10]&255)<<16|(Y[11]&255)<<24,pe=Y[12]&255|(Y[13]&255)<<8|(Y[14]&255)<<16|(Y[15]&255)<<24,ve=U[8]&255|(U[9]&255)<<8|(U[10]&255)<<16|(U[11]&255)<<24,ge=V[16]&255|(V[17]&255)<<8|(V[18]&255)<<16|(V[19]&255)<<24,ie=V[20]&255|(V[21]&255)<<8|(V[22]&255)<<16|(V[23]&255)<<24,ue=V[24]&255|(V[25]&255)<<8|(V[26]&255)<<16|(V[27]&255)<<24,fe=V[28]&255|(V[29]&255)<<8|(V[30]&255)<<16|(V[31]&255)<<24,ce=U[12]&255|(U[13]&255)<<8|(U[14]&255)<<16|(U[15]&255)<<24,Kt=W,oe=et,Jt=dt,le=ut,ae=ht,ne=zt,Ot=Wt,Nt=ye,he=Yt,ee=pe,re=ve,me=ge,Fe=ie,Ge=ue,Xe=fe,Ye=ce,bt,ir=0;ir<20;ir+=2)bt=Kt+Fe|0,ae^=bt<<7|bt>>>32-7,bt=ae+Kt|0,he^=bt<<9|bt>>>32-9,bt=he+ae|0,Fe^=bt<<13|bt>>>32-13,bt=Fe+he|0,Kt^=bt<<18|bt>>>32-18,bt=ne+oe|0,ee^=bt<<7|bt>>>32-7,bt=ee+ne|0,Ge^=bt<<9|bt>>>32-9,bt=Ge+ee|0,oe^=bt<<13|bt>>>32-13,bt=oe+Ge|0,ne^=bt<<18|bt>>>32-18,bt=re+Ot|0,Xe^=bt<<7|bt>>>32-7,bt=Xe+re|0,Jt^=bt<<9|bt>>>32-9,bt=Jt+Xe|0,Ot^=bt<<13|bt>>>32-13,bt=Ot+Jt|0,re^=bt<<18|bt>>>32-18,bt=Ye+me|0,le^=bt<<7|bt>>>32-7,bt=le+Ye|0,Nt^=bt<<9|bt>>>32-9,bt=Nt+le|0,me^=bt<<13|bt>>>32-13,bt=me+Nt|0,Ye^=bt<<18|bt>>>32-18,bt=Kt+le|0,oe^=bt<<7|bt>>>32-7,bt=oe+Kt|0,Jt^=bt<<9|bt>>>32-9,bt=Jt+oe|0,le^=bt<<13|bt>>>32-13,bt=le+Jt|0,Kt^=bt<<18|bt>>>32-18,bt=ne+ae|0,Ot^=bt<<7|bt>>>32-7,bt=Ot+ne|0,Nt^=bt<<9|bt>>>32-9,bt=Nt+Ot|0,ae^=bt<<13|bt>>>32-13,bt=ae+Nt|0,ne^=bt<<18|bt>>>32-18,bt=re+ee|0,me^=bt<<7|bt>>>32-7,bt=me+re|0,he^=bt<<9|bt>>>32-9,bt=he+me|0,ee^=bt<<13|bt>>>32-13,bt=ee+he|0,re^=bt<<18|bt>>>32-18,bt=Ye+Xe|0,Fe^=bt<<7|bt>>>32-7,bt=Fe+Ye|0,Ge^=bt<<9|bt>>>32-9,bt=Ge+Fe|0,Xe^=bt<<13|bt>>>32-13,bt=Xe+Ge|0,Ye^=bt<<18|bt>>>32-18;Kt=Kt+W|0,oe=oe+et|0,Jt=Jt+dt|0,le=le+ut|0,ae=ae+ht|0,ne=ne+zt|0,Ot=Ot+Wt|0,Nt=Nt+ye|0,he=he+Yt|0,ee=ee+pe|0,re=re+ve|0,me=me+ge|0,Fe=Fe+ie|0,Ge=Ge+ue|0,Xe=Xe+fe|0,Ye=Ye+ce|0,K[0]=Kt>>>0&255,K[1]=Kt>>>8&255,K[2]=Kt>>>16&255,K[3]=Kt>>>24&255,K[4]=oe>>>0&255,K[5]=oe>>>8&255,K[6]=oe>>>16&255,K[7]=oe>>>24&255,K[8]=Jt>>>0&255,K[9]=Jt>>>8&255,K[10]=Jt>>>16&255,K[11]=Jt>>>24&255,K[12]=le>>>0&255,K[13]=le>>>8&255,K[14]=le>>>16&255,K[15]=le>>>24&255,K[16]=ae>>>0&255,K[17]=ae>>>8&255,K[18]=ae>>>16&255,K[19]=ae>>>24&255,K[20]=ne>>>0&255,K[21]=ne>>>8&255,K[22]=ne>>>16&255,K[23]=ne>>>24&255,K[24]=Ot>>>0&255,K[25]=Ot>>>8&255,K[26]=Ot>>>16&255,K[27]=Ot>>>24&255,K[28]=Nt>>>0&255,K[29]=Nt>>>8&255,K[30]=Nt>>>16&255,K[31]=Nt>>>24&255,K[32]=he>>>0&255,K[33]=he>>>8&255,K[34]=he>>>16&255,K[35]=he>>>24&255,K[36]=ee>>>0&255,K[37]=ee>>>8&255,K[38]=ee>>>16&255,K[39]=ee>>>24&255,K[40]=re>>>0&255,K[41]=re>>>8&255,K[42]=re>>>16&255,K[43]=re>>>24&255,K[44]=me>>>0&255,K[45]=me>>>8&255,K[46]=me>>>16&255,K[47]=me>>>24&255,K[48]=Fe>>>0&255,K[49]=Fe>>>8&255,K[50]=Fe>>>16&255,K[51]=Fe>>>24&255,K[52]=Ge>>>0&255,K[53]=Ge>>>8&255,K[54]=Ge>>>16&255,K[55]=Ge>>>24&255,K[56]=Xe>>>0&255,K[57]=Xe>>>8&255,K[58]=Xe>>>16&255,K[59]=Xe>>>24&255,K[60]=Ye>>>0&255,K[61]=Ye>>>8&255,K[62]=Ye>>>16&255,K[63]=Ye>>>24&255}function C(K,Y,V,U){for(var W=U[0]&255|(U[1]&255)<<8|(U[2]&255)<<16|(U[3]&255)<<24,et=V[0]&255|(V[1]&255)<<8|(V[2]&255)<<16|(V[3]&255)<<24,dt=V[4]&255|(V[5]&255)<<8|(V[6]&255)<<16|(V[7]&255)<<24,ut=V[8]&255|(V[9]&255)<<8|(V[10]&255)<<16|(V[11]&255)<<24,ht=V[12]&255|(V[13]&255)<<8|(V[14]&255)<<16|(V[15]&255)<<24,zt=U[4]&255|(U[5]&255)<<8|(U[6]&255)<<16|(U[7]&255)<<24,Wt=Y[0]&255|(Y[1]&255)<<8|(Y[2]&255)<<16|(Y[3]&255)<<24,ye=Y[4]&255|(Y[5]&255)<<8|(Y[6]&255)<<16|(Y[7]&255)<<24,Yt=Y[8]&255|(Y[9]&255)<<8|(Y[10]&255)<<16|(Y[11]&255)<<24,pe=Y[12]&255|(Y[13]&255)<<8|(Y[14]&255)<<16|(Y[15]&255)<<24,ve=U[8]&255|(U[9]&255)<<8|(U[10]&255)<<16|(U[11]&255)<<24,ge=V[16]&255|(V[17]&255)<<8|(V[18]&255)<<16|(V[19]&255)<<24,ie=V[20]&255|(V[21]&255)<<8|(V[22]&255)<<16|(V[23]&255)<<24,ue=V[24]&255|(V[25]&255)<<8|(V[26]&255)<<16|(V[27]&255)<<24,fe=V[28]&255|(V[29]&255)<<8|(V[30]&255)<<16|(V[31]&255)<<24,ce=U[12]&255|(U[13]&255)<<8|(U[14]&255)<<16|(U[15]&255)<<24,Kt=W,oe=et,Jt=dt,le=ut,ae=ht,ne=zt,Ot=Wt,Nt=ye,he=Yt,ee=pe,re=ve,me=ge,Fe=ie,Ge=ue,Xe=fe,Ye=ce,bt,ir=0;ir<20;ir+=2)bt=Kt+Fe|0,ae^=bt<<7|bt>>>32-7,bt=ae+Kt|0,he^=bt<<9|bt>>>32-9,bt=he+ae|0,Fe^=bt<<13|bt>>>32-13,bt=Fe+he|0,Kt^=bt<<18|bt>>>32-18,bt=ne+oe|0,ee^=bt<<7|bt>>>32-7,bt=ee+ne|0,Ge^=bt<<9|bt>>>32-9,bt=Ge+ee|0,oe^=bt<<13|bt>>>32-13,bt=oe+Ge|0,ne^=bt<<18|bt>>>32-18,bt=re+Ot|0,Xe^=bt<<7|bt>>>32-7,bt=Xe+re|0,Jt^=bt<<9|bt>>>32-9,bt=Jt+Xe|0,Ot^=bt<<13|bt>>>32-13,bt=Ot+Jt|0,re^=bt<<18|bt>>>32-18,bt=Ye+me|0,le^=bt<<7|bt>>>32-7,bt=le+Ye|0,Nt^=bt<<9|bt>>>32-9,bt=Nt+le|0,me^=bt<<13|bt>>>32-13,bt=me+Nt|0,Ye^=bt<<18|bt>>>32-18,bt=Kt+le|0,oe^=bt<<7|bt>>>32-7,bt=oe+Kt|0,Jt^=bt<<9|bt>>>32-9,bt=Jt+oe|0,le^=bt<<13|bt>>>32-13,bt=le+Jt|0,Kt^=bt<<18|bt>>>32-18,bt=ne+ae|0,Ot^=bt<<7|bt>>>32-7,bt=Ot+ne|0,Nt^=bt<<9|bt>>>32-9,bt=Nt+Ot|0,ae^=bt<<13|bt>>>32-13,bt=ae+Nt|0,ne^=bt<<18|bt>>>32-18,bt=re+ee|0,me^=bt<<7|bt>>>32-7,bt=me+re|0,he^=bt<<9|bt>>>32-9,bt=he+me|0,ee^=bt<<13|bt>>>32-13,bt=ee+he|0,re^=bt<<18|bt>>>32-18,bt=Ye+Xe|0,Fe^=bt<<7|bt>>>32-7,bt=Fe+Ye|0,Ge^=bt<<9|bt>>>32-9,bt=Ge+Fe|0,Xe^=bt<<13|bt>>>32-13,bt=Xe+Ge|0,Ye^=bt<<18|bt>>>32-18;K[0]=Kt>>>0&255,K[1]=Kt>>>8&255,K[2]=Kt>>>16&255,K[3]=Kt>>>24&255,K[4]=ne>>>0&255,K[5]=ne>>>8&255,K[6]=ne>>>16&255,K[7]=ne>>>24&255,K[8]=re>>>0&255,K[9]=re>>>8&255,K[10]=re>>>16&255,K[11]=re>>>24&255,K[12]=Ye>>>0&255,K[13]=Ye>>>8&255,K[14]=Ye>>>16&255,K[15]=Ye>>>24&255,K[16]=Ot>>>0&255,K[17]=Ot>>>8&255,K[18]=Ot>>>16&255,K[19]=Ot>>>24&255,K[20]=Nt>>>0&255,K[21]=Nt>>>8&255,K[22]=Nt>>>16&255,K[23]=Nt>>>24&255,K[24]=he>>>0&255,K[25]=he>>>8&255,K[26]=he>>>16&255,K[27]=he>>>24&255,K[28]=ee>>>0&255,K[29]=ee>>>8&255,K[30]=ee>>>16&255,K[31]=ee>>>24&255}function O(K,Y,V,U){R(K,Y,V,U)}function z(K,Y,V,U){C(K,Y,V,U)}var H=new Uint8Array([101,120,112,97,110,100,32,51,50,45,98,121,116,101,32,107]);function tt(K,Y,V,U,W,et,dt){var ut=new Uint8Array(16),ht=new Uint8Array(64),zt,Wt;for(Wt=0;Wt<16;Wt++)ut[Wt]=0;for(Wt=0;Wt<8;Wt++)ut[Wt]=et[Wt];for(;W>=64;){for(O(ht,ut,dt,H),Wt=0;Wt<64;Wt++)K[Y+Wt]=V[U+Wt]^ht[Wt];for(zt=1,Wt=8;Wt<16;Wt++)zt=zt+(ut[Wt]&255)|0,ut[Wt]=zt&255,zt>>>=8;W-=64,Y+=64,U+=64}if(W>0)for(O(ht,ut,dt,H),Wt=0;Wt<W;Wt++)K[Y+Wt]=V[U+Wt]^ht[Wt];return 0}function nt(K,Y,V,U,W){var et=new Uint8Array(16),dt=new Uint8Array(64),ut,ht;for(ht=0;ht<16;ht++)et[ht]=0;for(ht=0;ht<8;ht++)et[ht]=U[ht];for(;V>=64;){for(O(dt,et,W,H),ht=0;ht<64;ht++)K[Y+ht]=dt[ht];for(ut=1,ht=8;ht<16;ht++)ut=ut+(et[ht]&255)|0,et[ht]=ut&255,ut>>>=8;V-=64,Y+=64}if(V>0)for(O(dt,et,W,H),ht=0;ht<V;ht++)K[Y+ht]=dt[ht];return 0}function G(K,Y,V,U,W){var et=new Uint8Array(32);z(et,U,W,H);for(var dt=new Uint8Array(8),ut=0;ut<8;ut++)dt[ut]=U[ut+16];return nt(K,Y,V,dt,et)}function M(K,Y,V,U,W,et,dt){var ut=new Uint8Array(32);z(ut,et,dt,H);for(var ht=new Uint8Array(8),zt=0;zt<8;zt++)ht[zt]=et[zt+16];return tt(K,Y,V,U,W,ht,ut)}var d=function(K){this.buffer=new Uint8Array(16),this.r=new Uint16Array(10),this.h=new Uint16Array(10),this.pad=new Uint16Array(8),this.leftover=0,this.fin=0;var Y,V,U,W,et,dt,ut,ht;Y=K[0]&255|(K[1]&255)<<8,this.r[0]=Y&8191,V=K[2]&255|(K[3]&255)<<8,this.r[1]=(Y>>>13|V<<3)&8191,U=K[4]&255|(K[5]&255)<<8,this.r[2]=(V>>>10|U<<6)&7939,W=K[6]&255|(K[7]&255)<<8,this.r[3]=(U>>>7|W<<9)&8191,et=K[8]&255|(K[9]&255)<<8,this.r[4]=(W>>>4|et<<12)&255,this.r[5]=et>>>1&8190,dt=K[10]&255|(K[11]&255)<<8,this.r[6]=(et>>>14|dt<<2)&8191,ut=K[12]&255|(K[13]&255)<<8,this.r[7]=(dt>>>11|ut<<5)&8065,ht=K[14]&255|(K[15]&255)<<8,this.r[8]=(ut>>>8|ht<<8)&8191,this.r[9]=ht>>>5&127,this.pad[0]=K[16]&255|(K[17]&255)<<8,this.pad[1]=K[18]&255|(K[19]&255)<<8,this.pad[2]=K[20]&255|(K[21]&255)<<8,this.pad[3]=K[22]&255|(K[23]&255)<<8,this.pad[4]=K[24]&255|(K[25]&255)<<8,this.pad[5]=K[26]&255|(K[27]&255)<<8,this.pad[6]=K[28]&255|(K[29]&255)<<8,this.pad[7]=K[30]&255|(K[31]&255)<<8};d.prototype.blocks=function(K,Y,V){for(var U=this.fin?0:2048,W,et,dt,ut,ht,zt,Wt,ye,Yt,pe,ve,ge,ie,ue,fe,ce,Kt,oe,Jt,le=this.h[0],ae=this.h[1],ne=this.h[2],Ot=this.h[3],Nt=this.h[4],he=this.h[5],ee=this.h[6],re=this.h[7],me=this.h[8],Fe=this.h[9],Ge=this.r[0],Xe=this.r[1],Ye=this.r[2],bt=this.r[3],ir=this.r[4],mr=this.r[5],vr=this.r[6],Qe=this.r[7],dr=this.r[8],pr=this.r[9];V>=16;)W=K[Y+0]&255|(K[Y+1]&255)<<8,le+=W&8191,et=K[Y+2]&255|(K[Y+3]&255)<<8,ae+=(W>>>13|et<<3)&8191,dt=K[Y+4]&255|(K[Y+5]&255)<<8,ne+=(et>>>10|dt<<6)&8191,ut=K[Y+6]&255|(K[Y+7]&255)<<8,Ot+=(dt>>>7|ut<<9)&8191,ht=K[Y+8]&255|(K[Y+9]&255)<<8,Nt+=(ut>>>4|ht<<12)&8191,he+=ht>>>1&8191,zt=K[Y+10]&255|(K[Y+11]&255)<<8,ee+=(ht>>>14|zt<<2)&8191,Wt=K[Y+12]&255|(K[Y+13]&255)<<8,re+=(zt>>>11|Wt<<5)&8191,ye=K[Y+14]&255|(K[Y+15]&255)<<8,me+=(Wt>>>8|ye<<8)&8191,Fe+=ye>>>5|U,Yt=0,pe=Yt,pe+=le*Ge,pe+=ae*(5*pr),pe+=ne*(5*dr),pe+=Ot*(5*Qe),pe+=Nt*(5*vr),Yt=pe>>>13,pe&=8191,pe+=he*(5*mr),pe+=ee*(5*ir),pe+=re*(5*bt),pe+=me*(5*Ye),pe+=Fe*(5*Xe),Yt+=pe>>>13,pe&=8191,ve=Yt,ve+=le*Xe,ve+=ae*Ge,ve+=ne*(5*pr),ve+=Ot*(5*dr),ve+=Nt*(5*Qe),Yt=ve>>>13,ve&=8191,ve+=he*(5*vr),ve+=ee*(5*mr),ve+=re*(5*ir),ve+=me*(5*bt),ve+=Fe*(5*Ye),Yt+=ve>>>13,ve&=8191,ge=Yt,ge+=le*Ye,ge+=ae*Xe,ge+=ne*Ge,ge+=Ot*(5*pr),ge+=Nt*(5*dr),Yt=ge>>>13,ge&=8191,ge+=he*(5*Qe),ge+=ee*(5*vr),ge+=re*(5*mr),ge+=me*(5*ir),ge+=Fe*(5*bt),Yt+=ge>>>13,ge&=8191,ie=Yt,ie+=le*bt,ie+=ae*Ye,ie+=ne*Xe,ie+=Ot*Ge,ie+=Nt*(5*pr),Yt=ie>>>13,ie&=8191,ie+=he*(5*dr),ie+=ee*(5*Qe),ie+=re*(5*vr),ie+=me*(5*mr),ie+=Fe*(5*ir),Yt+=ie>>>13,ie&=8191,ue=Yt,ue+=le*ir,ue+=ae*bt,ue+=ne*Ye,ue+=Ot*Xe,ue+=Nt*Ge,Yt=ue>>>13,ue&=8191,ue+=he*(5*pr),ue+=ee*(5*dr),ue+=re*(5*Qe),ue+=me*(5*vr),ue+=Fe*(5*mr),Yt+=ue>>>13,ue&=8191,fe=Yt,fe+=le*mr,fe+=ae*ir,fe+=ne*bt,fe+=Ot*Ye,fe+=Nt*Xe,Yt=fe>>>13,fe&=8191,fe+=he*Ge,fe+=ee*(5*pr),fe+=re*(5*dr),fe+=me*(5*Qe),fe+=Fe*(5*vr),Yt+=fe>>>13,fe&=8191,ce=Yt,ce+=le*vr,ce+=ae*mr,ce+=ne*ir,ce+=Ot*bt,ce+=Nt*Ye,Yt=ce>>>13,ce&=8191,ce+=he*Xe,ce+=ee*Ge,ce+=re*(5*pr),ce+=me*(5*dr),ce+=Fe*(5*Qe),Yt+=ce>>>13,ce&=8191,Kt=Yt,Kt+=le*Qe,Kt+=ae*vr,Kt+=ne*mr,Kt+=Ot*ir,Kt+=Nt*bt,Yt=Kt>>>13,Kt&=8191,Kt+=he*Ye,Kt+=ee*Xe,Kt+=re*Ge,Kt+=me*(5*pr),Kt+=Fe*(5*dr),Yt+=Kt>>>13,Kt&=8191,oe=Yt,oe+=le*dr,oe+=ae*Qe,oe+=ne*vr,oe+=Ot*mr,oe+=Nt*ir,Yt=oe>>>13,oe&=8191,oe+=he*bt,oe+=ee*Ye,oe+=re*Xe,oe+=me*Ge,oe+=Fe*(5*pr),Yt+=oe>>>13,oe&=8191,Jt=Yt,Jt+=le*pr,Jt+=ae*dr,Jt+=ne*Qe,Jt+=Ot*vr,Jt+=Nt*mr,Yt=Jt>>>13,Jt&=8191,Jt+=he*ir,Jt+=ee*bt,Jt+=re*Ye,Jt+=me*Xe,Jt+=Fe*Ge,Yt+=Jt>>>13,Jt&=8191,Yt=(Yt<<2)+Yt|0,Yt=Yt+pe|0,pe=Yt&8191,Yt=Yt>>>13,ve+=Yt,le=pe,ae=ve,ne=ge,Ot=ie,Nt=ue,he=fe,ee=ce,re=Kt,me=oe,Fe=Jt,Y+=16,V-=16;this.h[0]=le,this.h[1]=ae,this.h[2]=ne,this.h[3]=Ot,this.h[4]=Nt,this.h[5]=he,this.h[6]=ee,this.h[7]=re,this.h[8]=me,this.h[9]=Fe},d.prototype.finish=function(K,Y){var V=new Uint16Array(10),U,W,et,dt;if(this.leftover){for(dt=this.leftover,this.buffer[dt++]=1;dt<16;dt++)this.buffer[dt]=0;this.fin=1,this.blocks(this.buffer,0,16)}for(U=this.h[1]>>>13,this.h[1]&=8191,dt=2;dt<10;dt++)this.h[dt]+=U,U=this.h[dt]>>>13,this.h[dt]&=8191;for(this.h[0]+=U*5,U=this.h[0]>>>13,this.h[0]&=8191,this.h[1]+=U,U=this.h[1]>>>13,this.h[1]&=8191,this.h[2]+=U,V[0]=this.h[0]+5,U=V[0]>>>13,V[0]&=8191,dt=1;dt<10;dt++)V[dt]=this.h[dt]+U,U=V[dt]>>>13,V[dt]&=8191;for(V[9]-=8192,W=(U^1)-1,dt=0;dt<10;dt++)V[dt]&=W;for(W=~W,dt=0;dt<10;dt++)this.h[dt]=this.h[dt]&W|V[dt];for(this.h[0]=(this.h[0]|this.h[1]<<13)&65535,this.h[1]=(this.h[1]>>>3|this.h[2]<<10)&65535,this.h[2]=(this.h[2]>>>6|this.h[3]<<7)&65535,this.h[3]=(this.h[3]>>>9|this.h[4]<<4)&65535,this.h[4]=(this.h[4]>>>12|this.h[5]<<1|this.h[6]<<14)&65535,this.h[5]=(this.h[6]>>>2|this.h[7]<<11)&65535,this.h[6]=(this.h[7]>>>5|this.h[8]<<8)&65535,this.h[7]=(this.h[8]>>>8|this.h[9]<<5)&65535,et=this.h[0]+this.pad[0],this.h[0]=et&65535,dt=1;dt<8;dt++)et=(this.h[dt]+this.pad[dt]|0)+(et>>>16)|0,this.h[dt]=et&65535;K[Y+0]=this.h[0]>>>0&255,K[Y+1]=this.h[0]>>>8&255,K[Y+2]=this.h[1]>>>0&255,K[Y+3]=this.h[1]>>>8&255,K[Y+4]=this.h[2]>>>0&255,K[Y+5]=this.h[2]>>>8&255,K[Y+6]=this.h[3]>>>0&255,K[Y+7]=this.h[3]>>>8&255,K[Y+8]=this.h[4]>>>0&255,K[Y+9]=this.h[4]>>>8&255,K[Y+10]=this.h[5]>>>0&255,K[Y+11]=this.h[5]>>>8&255,K[Y+12]=this.h[6]>>>0&255,K[Y+13]=this.h[6]>>>8&255,K[Y+14]=this.h[7]>>>0&255,K[Y+15]=this.h[7]>>>8&255},d.prototype.update=function(K,Y,V){var U,W;if(this.leftover){for(W=16-this.leftover,W>V&&(W=V),U=0;U<W;U++)this.buffer[this.leftover+U]=K[Y+U];if(V-=W,Y+=W,this.leftover+=W,this.leftover<16)return;this.blocks(this.buffer,0,16),this.leftover=0}if(V>=16&&(W=V-V%16,this.blocks(K,Y,W),Y+=W,V-=W),V){for(U=0;U<V;U++)this.buffer[this.leftover+U]=K[Y+U];this.leftover+=V}};function o(K,Y,V,U,W,et){var dt=new d(et);return dt.update(V,U,W),dt.finish(K,Y),0}function a(K,Y,V,U,W,et){var dt=new Uint8Array(16);return o(dt,0,V,U,W,et),B(K,Y,dt,0)}function f(K,Y,V,U,W){var et;if(V<32)return-1;for(M(K,0,Y,0,V,U,W),o(K,16,K,32,V-32,K),et=0;et<16;et++)K[et]=0;return 0}function h(K,Y,V,U,W){var et,dt=new Uint8Array(32);if(V<32||(G(dt,0,32,U,W),a(Y,16,Y,32,V-32,dt)!==0))return-1;for(M(K,0,Y,0,V,U,W),et=0;et<32;et++)K[et]=0;return 0}function g(K,Y){var V;for(V=0;V<16;V++)K[V]=Y[V]|0}function S(K){var Y,V,U=1;for(Y=0;Y<16;Y++)V=K[Y]+U+65535,U=Math.floor(V/65536),K[Y]=V-U*65536;K[0]+=U-1+37*(U-1)}function I(K,Y,V){for(var U,W=~(V-1),et=0;et<16;et++)U=W&(K[et]^Y[et]),K[et]^=U,Y[et]^=U}function y(K,Y){var V,U,W,et=e(),dt=e();for(V=0;V<16;V++)dt[V]=Y[V];for(S(dt),S(dt),S(dt),U=0;U<2;U++){for(et[0]=dt[0]-65517,V=1;V<15;V++)et[V]=dt[V]-65535-(et[V-1]>>16&1),et[V-1]&=65535;et[15]=dt[15]-32767-(et[14]>>16&1),W=et[15]>>16&1,et[14]&=65535,I(dt,et,1-W)}for(V=0;V<16;V++)K[2*V]=dt[V]&255,K[2*V+1]=dt[V]>>8}function u(K,Y){var V=new Uint8Array(32),U=new Uint8Array(32);return y(V,K),y(U,Y),P(V,0,U,0)}function b(K){var Y=new Uint8Array(32);return y(Y,K),Y[0]&1}function D(K,Y){var V;for(V=0;V<16;V++)K[V]=Y[2*V]+(Y[2*V+1]<<8);K[15]&=32767}function Z(K,Y,V){for(var U=0;U<16;U++)K[U]=Y[U]+V[U]}function F(K,Y,V){for(var U=0;U<16;U++)K[U]=Y[U]-V[U]}function q(K,Y,V){var U,W,et=0,dt=0,ut=0,ht=0,zt=0,Wt=0,ye=0,Yt=0,pe=0,ve=0,ge=0,ie=0,ue=0,fe=0,ce=0,Kt=0,oe=0,Jt=0,le=0,ae=0,ne=0,Ot=0,Nt=0,he=0,ee=0,re=0,me=0,Fe=0,Ge=0,Xe=0,Ye=0,bt=V[0],ir=V[1],mr=V[2],vr=V[3],Qe=V[4],dr=V[5],pr=V[6],on=V[7],Pr=V[8],Yr=V[9],Xr=V[10],Jr=V[11],ln=V[12],Un=V[13],Nn=V[14],Dn=V[15];U=Y[0],et+=U*bt,dt+=U*ir,ut+=U*mr,ht+=U*vr,zt+=U*Qe,Wt+=U*dr,ye+=U*pr,Yt+=U*on,pe+=U*Pr,ve+=U*Yr,ge+=U*Xr,ie+=U*Jr,ue+=U*ln,fe+=U*Un,ce+=U*Nn,Kt+=U*Dn,U=Y[1],dt+=U*bt,ut+=U*ir,ht+=U*mr,zt+=U*vr,Wt+=U*Qe,ye+=U*dr,Yt+=U*pr,pe+=U*on,ve+=U*Pr,ge+=U*Yr,ie+=U*Xr,ue+=U*Jr,fe+=U*ln,ce+=U*Un,Kt+=U*Nn,oe+=U*Dn,U=Y[2],ut+=U*bt,ht+=U*ir,zt+=U*mr,Wt+=U*vr,ye+=U*Qe,Yt+=U*dr,pe+=U*pr,ve+=U*on,ge+=U*Pr,ie+=U*Yr,ue+=U*Xr,fe+=U*Jr,ce+=U*ln,Kt+=U*Un,oe+=U*Nn,Jt+=U*Dn,U=Y[3],ht+=U*bt,zt+=U*ir,Wt+=U*mr,ye+=U*vr,Yt+=U*Qe,pe+=U*dr,ve+=U*pr,ge+=U*on,ie+=U*Pr,ue+=U*Yr,fe+=U*Xr,ce+=U*Jr,Kt+=U*ln,oe+=U*Un,Jt+=U*Nn,le+=U*Dn,U=Y[4],zt+=U*bt,Wt+=U*ir,ye+=U*mr,Yt+=U*vr,pe+=U*Qe,ve+=U*dr,ge+=U*pr,ie+=U*on,ue+=U*Pr,fe+=U*Yr,ce+=U*Xr,Kt+=U*Jr,oe+=U*ln,Jt+=U*Un,le+=U*Nn,ae+=U*Dn,U=Y[5],Wt+=U*bt,ye+=U*ir,Yt+=U*mr,pe+=U*vr,ve+=U*Qe,ge+=U*dr,ie+=U*pr,ue+=U*on,fe+=U*Pr,ce+=U*Yr,Kt+=U*Xr,oe+=U*Jr,Jt+=U*ln,le+=U*Un,ae+=U*Nn,ne+=U*Dn,U=Y[6],ye+=U*bt,Yt+=U*ir,pe+=U*mr,ve+=U*vr,ge+=U*Qe,ie+=U*dr,ue+=U*pr,fe+=U*on,ce+=U*Pr,Kt+=U*Yr,oe+=U*Xr,Jt+=U*Jr,le+=U*ln,ae+=U*Un,ne+=U*Nn,Ot+=U*Dn,U=Y[7],Yt+=U*bt,pe+=U*ir,ve+=U*mr,ge+=U*vr,ie+=U*Qe,ue+=U*dr,fe+=U*pr,ce+=U*on,Kt+=U*Pr,oe+=U*Yr,Jt+=U*Xr,le+=U*Jr,ae+=U*ln,ne+=U*Un,Ot+=U*Nn,Nt+=U*Dn,U=Y[8],pe+=U*bt,ve+=U*ir,ge+=U*mr,ie+=U*vr,ue+=U*Qe,fe+=U*dr,ce+=U*pr,Kt+=U*on,oe+=U*Pr,Jt+=U*Yr,le+=U*Xr,ae+=U*Jr,ne+=U*ln,Ot+=U*Un,Nt+=U*Nn,he+=U*Dn,U=Y[9],ve+=U*bt,ge+=U*ir,ie+=U*mr,ue+=U*vr,fe+=U*Qe,ce+=U*dr,Kt+=U*pr,oe+=U*on,Jt+=U*Pr,le+=U*Yr,ae+=U*Xr,ne+=U*Jr,Ot+=U*ln,Nt+=U*Un,he+=U*Nn,ee+=U*Dn,U=Y[10],ge+=U*bt,ie+=U*ir,ue+=U*mr,fe+=U*vr,ce+=U*Qe,Kt+=U*dr,oe+=U*pr,Jt+=U*on,le+=U*Pr,ae+=U*Yr,ne+=U*Xr,Ot+=U*Jr,Nt+=U*ln,he+=U*Un,ee+=U*Nn,re+=U*Dn,U=Y[11],ie+=U*bt,ue+=U*ir,fe+=U*mr,ce+=U*vr,Kt+=U*Qe,oe+=U*dr,Jt+=U*pr,le+=U*on,ae+=U*Pr,ne+=U*Yr,Ot+=U*Xr,Nt+=U*Jr,he+=U*ln,ee+=U*Un,re+=U*Nn,me+=U*Dn,U=Y[12],ue+=U*bt,fe+=U*ir,ce+=U*mr,Kt+=U*vr,oe+=U*Qe,Jt+=U*dr,le+=U*pr,ae+=U*on,ne+=U*Pr,Ot+=U*Yr,Nt+=U*Xr,he+=U*Jr,ee+=U*ln,re+=U*Un,me+=U*Nn,Fe+=U*Dn,U=Y[13],fe+=U*bt,ce+=U*ir,Kt+=U*mr,oe+=U*vr,Jt+=U*Qe,le+=U*dr,ae+=U*pr,ne+=U*on,Ot+=U*Pr,Nt+=U*Yr,he+=U*Xr,ee+=U*Jr,re+=U*ln,me+=U*Un,Fe+=U*Nn,Ge+=U*Dn,U=Y[14],ce+=U*bt,Kt+=U*ir,oe+=U*mr,Jt+=U*vr,le+=U*Qe,ae+=U*dr,ne+=U*pr,Ot+=U*on,Nt+=U*Pr,he+=U*Yr,ee+=U*Xr,re+=U*Jr,me+=U*ln,Fe+=U*Un,Ge+=U*Nn,Xe+=U*Dn,U=Y[15],Kt+=U*bt,oe+=U*ir,Jt+=U*mr,le+=U*vr,ae+=U*Qe,ne+=U*dr,Ot+=U*pr,Nt+=U*on,he+=U*Pr,ee+=U*Yr,re+=U*Xr,me+=U*Jr,Fe+=U*ln,Ge+=U*Un,Xe+=U*Nn,Ye+=U*Dn,et+=38*oe,dt+=38*Jt,ut+=38*le,ht+=38*ae,zt+=38*ne,Wt+=38*Ot,ye+=38*Nt,Yt+=38*he,pe+=38*ee,ve+=38*re,ge+=38*me,ie+=38*Fe,ue+=38*Ge,fe+=38*Xe,ce+=38*Ye,W=1,U=et+W+65535,W=Math.floor(U/65536),et=U-W*65536,U=dt+W+65535,W=Math.floor(U/65536),dt=U-W*65536,U=ut+W+65535,W=Math.floor(U/65536),ut=U-W*65536,U=ht+W+65535,W=Math.floor(U/65536),ht=U-W*65536,U=zt+W+65535,W=Math.floor(U/65536),zt=U-W*65536,U=Wt+W+65535,W=Math.floor(U/65536),Wt=U-W*65536,U=ye+W+65535,W=Math.floor(U/65536),ye=U-W*65536,U=Yt+W+65535,W=Math.floor(U/65536),Yt=U-W*65536,U=pe+W+65535,W=Math.floor(U/65536),pe=U-W*65536,U=ve+W+65535,W=Math.floor(U/65536),ve=U-W*65536,U=ge+W+65535,W=Math.floor(U/65536),ge=U-W*65536,U=ie+W+65535,W=Math.floor(U/65536),ie=U-W*65536,U=ue+W+65535,W=Math.floor(U/65536),ue=U-W*65536,U=fe+W+65535,W=Math.floor(U/65536),fe=U-W*65536,U=ce+W+65535,W=Math.floor(U/65536),ce=U-W*65536,U=Kt+W+65535,W=Math.floor(U/65536),Kt=U-W*65536,et+=W-1+37*(W-1),W=1,U=et+W+65535,W=Math.floor(U/65536),et=U-W*65536,U=dt+W+65535,W=Math.floor(U/65536),dt=U-W*65536,U=ut+W+65535,W=Math.floor(U/65536),ut=U-W*65536,U=ht+W+65535,W=Math.floor(U/65536),ht=U-W*65536,U=zt+W+65535,W=Math.floor(U/65536),zt=U-W*65536,U=Wt+W+65535,W=Math.floor(U/65536),Wt=U-W*65536,U=ye+W+65535,W=Math.floor(U/65536),ye=U-W*65536,U=Yt+W+65535,W=Math.floor(U/65536),Yt=U-W*65536,U=pe+W+65535,W=Math.floor(U/65536),pe=U-W*65536,U=ve+W+65535,W=Math.floor(U/65536),ve=U-W*65536,U=ge+W+65535,W=Math.floor(U/65536),ge=U-W*65536,U=ie+W+65535,W=Math.floor(U/65536),ie=U-W*65536,U=ue+W+65535,W=Math.floor(U/65536),ue=U-W*65536,U=fe+W+65535,W=Math.floor(U/65536),fe=U-W*65536,U=ce+W+65535,W=Math.floor(U/65536),ce=U-W*65536,U=Kt+W+65535,W=Math.floor(U/65536),Kt=U-W*65536,et+=W-1+37*(W-1),K[0]=et,K[1]=dt,K[2]=ut,K[3]=ht,K[4]=zt,K[5]=Wt,K[6]=ye,K[7]=Yt,K[8]=pe,K[9]=ve,K[10]=ge,K[11]=ie,K[12]=ue,K[13]=fe,K[14]=ce,K[15]=Kt}function it(K,Y){q(K,Y,Y)}function at(K,Y){var V=e(),U;for(U=0;U<16;U++)V[U]=Y[U];for(U=253;U>=0;U--)it(V,V),U!==2&&U!==4&&q(V,V,Y);for(U=0;U<16;U++)K[U]=V[U]}function Bt(K,Y){var V=e(),U;for(U=0;U<16;U++)V[U]=Y[U];for(U=250;U>=0;U--)it(V,V),U!==1&&q(V,V,Y);for(U=0;U<16;U++)K[U]=V[U]}function yt(K,Y,V){var U=new Uint8Array(32),W=new Float64Array(80),et,dt,ut=e(),ht=e(),zt=e(),Wt=e(),ye=e(),Yt=e();for(dt=0;dt<31;dt++)U[dt]=Y[dt];for(U[31]=Y[31]&127|64,U[0]&=248,D(W,V),dt=0;dt<16;dt++)ht[dt]=W[dt],Wt[dt]=ut[dt]=zt[dt]=0;for(ut[0]=Wt[0]=1,dt=254;dt>=0;--dt)et=U[dt>>>3]>>>(dt&7)&1,I(ut,ht,et),I(zt,Wt,et),Z(ye,ut,zt),F(ut,ut,zt),Z(zt,ht,Wt),F(ht,ht,Wt),it(Wt,ye),it(Yt,ut),q(ut,zt,ut),q(zt,ht,ye),Z(ye,ut,zt),F(ut,ut,zt),it(ht,ut),F(zt,Wt,Yt),q(ut,zt,p),Z(ut,ut,Wt),q(zt,zt,ut),q(ut,Wt,Yt),q(Wt,ht,W),it(ht,ye),I(ut,ht,et),I(zt,Wt,et);for(dt=0;dt<16;dt++)W[dt+16]=ut[dt],W[dt+32]=zt[dt],W[dt+48]=ht[dt],W[dt+64]=Wt[dt];var pe=W.subarray(32),ve=W.subarray(16);return at(pe,pe),q(ve,ve,pe),y(K,ve),0}function pt(K,Y){return yt(K,Y,i)}function Ft(K,Y){return n(Y,32),pt(K,Y)}function lt(K,Y,V){var U=new Uint8Array(32);return yt(U,V,Y),z(K,s,U,H)}var ct=f,Tt=h;function kt(K,Y,V,U,W,et){var dt=new Uint8Array(32);return lt(dt,W,et),ct(K,Y,V,U,dt)}function k(K,Y,V,U,W,et){var dt=new Uint8Array(32);return lt(dt,W,et),Tt(K,Y,V,U,dt)}var T=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591];function L(K,Y,V,U){for(var W=new Int32Array(16),et=new Int32Array(16),dt,ut,ht,zt,Wt,ye,Yt,pe,ve,ge,ie,ue,fe,ce,Kt,oe,Jt,le,ae,ne,Ot,Nt,he,ee,re,me,Fe=K[0],Ge=K[1],Xe=K[2],Ye=K[3],bt=K[4],ir=K[5],mr=K[6],vr=K[7],Qe=Y[0],dr=Y[1],pr=Y[2],on=Y[3],Pr=Y[4],Yr=Y[5],Xr=Y[6],Jr=Y[7],ln=0;U>=128;){for(ae=0;ae<16;ae++)ne=8*ae+ln,W[ae]=V[ne+0]<<24|V[ne+1]<<16|V[ne+2]<<8|V[ne+3],et[ae]=V[ne+4]<<24|V[ne+5]<<16|V[ne+6]<<8|V[ne+7];for(ae=0;ae<80;ae++)if(dt=Fe,ut=Ge,ht=Xe,zt=Ye,Wt=bt,ye=ir,Yt=mr,pe=vr,ve=Qe,ge=dr,ie=pr,ue=on,fe=Pr,ce=Yr,Kt=Xr,oe=Jr,Ot=vr,Nt=Jr,he=Nt&65535,ee=Nt>>>16,re=Ot&65535,me=Ot>>>16,Ot=(bt>>>14|Pr<<32-14)^(bt>>>18|Pr<<32-18)^(Pr>>>41-32|bt<<32-(41-32)),Nt=(Pr>>>14|bt<<32-14)^(Pr>>>18|bt<<32-18)^(bt>>>41-32|Pr<<32-(41-32)),he+=Nt&65535,ee+=Nt>>>16,re+=Ot&65535,me+=Ot>>>16,Ot=bt&ir^~bt&mr,Nt=Pr&Yr^~Pr&Xr,he+=Nt&65535,ee+=Nt>>>16,re+=Ot&65535,me+=Ot>>>16,Ot=T[ae*2],Nt=T[ae*2+1],he+=Nt&65535,ee+=Nt>>>16,re+=Ot&65535,me+=Ot>>>16,Ot=W[ae%16],Nt=et[ae%16],he+=Nt&65535,ee+=Nt>>>16,re+=Ot&65535,me+=Ot>>>16,ee+=he>>>16,re+=ee>>>16,me+=re>>>16,Jt=re&65535|me<<16,le=he&65535|ee<<16,Ot=Jt,Nt=le,he=Nt&65535,ee=Nt>>>16,re=Ot&65535,me=Ot>>>16,Ot=(Fe>>>28|Qe<<32-28)^(Qe>>>34-32|Fe<<32-(34-32))^(Qe>>>39-32|Fe<<32-(39-32)),Nt=(Qe>>>28|Fe<<32-28)^(Fe>>>34-32|Qe<<32-(34-32))^(Fe>>>39-32|Qe<<32-(39-32)),he+=Nt&65535,ee+=Nt>>>16,re+=Ot&65535,me+=Ot>>>16,Ot=Fe&Ge^Fe&Xe^Ge&Xe,Nt=Qe&dr^Qe&pr^dr&pr,he+=Nt&65535,ee+=Nt>>>16,re+=Ot&65535,me+=Ot>>>16,ee+=he>>>16,re+=ee>>>16,me+=re>>>16,pe=re&65535|me<<16,oe=he&65535|ee<<16,Ot=zt,Nt=ue,he=Nt&65535,ee=Nt>>>16,re=Ot&65535,me=Ot>>>16,Ot=Jt,Nt=le,he+=Nt&65535,ee+=Nt>>>16,re+=Ot&65535,me+=Ot>>>16,ee+=he>>>16,re+=ee>>>16,me+=re>>>16,zt=re&65535|me<<16,ue=he&65535|ee<<16,Ge=dt,Xe=ut,Ye=ht,bt=zt,ir=Wt,mr=ye,vr=Yt,Fe=pe,dr=ve,pr=ge,on=ie,Pr=ue,Yr=fe,Xr=ce,Jr=Kt,Qe=oe,ae%16===15)for(ne=0;ne<16;ne++)Ot=W[ne],Nt=et[ne],he=Nt&65535,ee=Nt>>>16,re=Ot&65535,me=Ot>>>16,Ot=W[(ne+9)%16],Nt=et[(ne+9)%16],he+=Nt&65535,ee+=Nt>>>16,re+=Ot&65535,me+=Ot>>>16,Jt=W[(ne+1)%16],le=et[(ne+1)%16],Ot=(Jt>>>1|le<<32-1)^(Jt>>>8|le<<32-8)^Jt>>>7,Nt=(le>>>1|Jt<<32-1)^(le>>>8|Jt<<32-8)^(le>>>7|Jt<<32-7),he+=Nt&65535,ee+=Nt>>>16,re+=Ot&65535,me+=Ot>>>16,Jt=W[(ne+14)%16],le=et[(ne+14)%16],Ot=(Jt>>>19|le<<32-19)^(le>>>61-32|Jt<<32-(61-32))^Jt>>>6,Nt=(le>>>19|Jt<<32-19)^(Jt>>>61-32|le<<32-(61-32))^(le>>>6|Jt<<32-6),he+=Nt&65535,ee+=Nt>>>16,re+=Ot&65535,me+=Ot>>>16,ee+=he>>>16,re+=ee>>>16,me+=re>>>16,W[ne]=re&65535|me<<16,et[ne]=he&65535|ee<<16;Ot=Fe,Nt=Qe,he=Nt&65535,ee=Nt>>>16,re=Ot&65535,me=Ot>>>16,Ot=K[0],Nt=Y[0],he+=Nt&65535,ee+=Nt>>>16,re+=Ot&65535,me+=Ot>>>16,ee+=he>>>16,re+=ee>>>16,me+=re>>>16,K[0]=Fe=re&65535|me<<16,Y[0]=Qe=he&65535|ee<<16,Ot=Ge,Nt=dr,he=Nt&65535,ee=Nt>>>16,re=Ot&65535,me=Ot>>>16,Ot=K[1],Nt=Y[1],he+=Nt&65535,ee+=Nt>>>16,re+=Ot&65535,me+=Ot>>>16,ee+=he>>>16,re+=ee>>>16,me+=re>>>16,K[1]=Ge=re&65535|me<<16,Y[1]=dr=he&65535|ee<<16,Ot=Xe,Nt=pr,he=Nt&65535,ee=Nt>>>16,re=Ot&65535,me=Ot>>>16,Ot=K[2],Nt=Y[2],he+=Nt&65535,ee+=Nt>>>16,re+=Ot&65535,me+=Ot>>>16,ee+=he>>>16,re+=ee>>>16,me+=re>>>16,K[2]=Xe=re&65535|me<<16,Y[2]=pr=he&65535|ee<<16,Ot=Ye,Nt=on,he=Nt&65535,ee=Nt>>>16,re=Ot&65535,me=Ot>>>16,Ot=K[3],Nt=Y[3],he+=Nt&65535,ee+=Nt>>>16,re+=Ot&65535,me+=Ot>>>16,ee+=he>>>16,re+=ee>>>16,me+=re>>>16,K[3]=Ye=re&65535|me<<16,Y[3]=on=he&65535|ee<<16,Ot=bt,Nt=Pr,he=Nt&65535,ee=Nt>>>16,re=Ot&65535,me=Ot>>>16,Ot=K[4],Nt=Y[4],he+=Nt&65535,ee+=Nt>>>16,re+=Ot&65535,me+=Ot>>>16,ee+=he>>>16,re+=ee>>>16,me+=re>>>16,K[4]=bt=re&65535|me<<16,Y[4]=Pr=he&65535|ee<<16,Ot=ir,Nt=Yr,he=Nt&65535,ee=Nt>>>16,re=Ot&65535,me=Ot>>>16,Ot=K[5],Nt=Y[5],he+=Nt&65535,ee+=Nt>>>16,re+=Ot&65535,me+=Ot>>>16,ee+=he>>>16,re+=ee>>>16,me+=re>>>16,K[5]=ir=re&65535|me<<16,Y[5]=Yr=he&65535|ee<<16,Ot=mr,Nt=Xr,he=Nt&65535,ee=Nt>>>16,re=Ot&65535,me=Ot>>>16,Ot=K[6],Nt=Y[6],he+=Nt&65535,ee+=Nt>>>16,re+=Ot&65535,me+=Ot>>>16,ee+=he>>>16,re+=ee>>>16,me+=re>>>16,K[6]=mr=re&65535|me<<16,Y[6]=Xr=he&65535|ee<<16,Ot=vr,Nt=Jr,he=Nt&65535,ee=Nt>>>16,re=Ot&65535,me=Ot>>>16,Ot=K[7],Nt=Y[7],he+=Nt&65535,ee+=Nt>>>16,re+=Ot&65535,me+=Ot>>>16,ee+=he>>>16,re+=ee>>>16,me+=re>>>16,K[7]=vr=re&65535|me<<16,Y[7]=Jr=he&65535|ee<<16,ln+=128,U-=128}return U}function j(K,Y,V){var U=new Int32Array(8),W=new Int32Array(8),et=new Uint8Array(256),dt,ut=V;for(U[0]=1779033703,U[1]=3144134277,U[2]=1013904242,U[3]=2773480762,U[4]=1359893119,U[5]=2600822924,U[6]=528734635,U[7]=1541459225,W[0]=4089235720,W[1]=2227873595,W[2]=4271175723,W[3]=1595750129,W[4]=2917565137,W[5]=725511199,W[6]=4215389547,W[7]=327033209,L(U,W,Y,V),V%=128,dt=0;dt<V;dt++)et[dt]=Y[ut-V+dt];for(et[V]=128,V=256-128*(V<112?1:0),et[V-9]=0,x(et,V-8,ut/536870912|0,ut<<3),L(U,W,et,V),dt=0;dt<8;dt++)x(K,8*dt,U[dt],W[dt]);return 0}function rt(K,Y){var V=e(),U=e(),W=e(),et=e(),dt=e(),ut=e(),ht=e(),zt=e(),Wt=e();F(V,K[1],K[0]),F(Wt,Y[1],Y[0]),q(V,V,Wt),Z(U,K[0],K[1]),Z(Wt,Y[0],Y[1]),q(U,U,Wt),q(W,K[3],Y[3]),q(W,W,v),q(et,K[2],Y[2]),Z(et,et,et),F(dt,U,V),F(ut,et,W),Z(ht,et,W),Z(zt,U,V),q(K[0],dt,ut),q(K[1],zt,ht),q(K[2],ht,ut),q(K[3],dt,zt)}function Q(K,Y,V){var U;for(U=0;U<4;U++)I(K[U],Y[U],V)}function ot(K,Y){var V=e(),U=e(),W=e();at(W,Y[2]),q(V,Y[0],W),q(U,Y[1],W),y(K,U),K[31]^=b(V)<<7}function qt(K,Y,V){var U,W;for(g(K[0],c),g(K[1],l),g(K[2],l),g(K[3],c),W=255;W>=0;--W)U=V[W/8|0]>>(W&7)&1,Q(K,Y,U),rt(Y,K),rt(K,K),Q(K,Y,U)}function It(K,Y){var V=[e(),e(),e(),e()];g(V[0],_),g(V[1],E),g(V[2],l),q(V[3],_,E),qt(K,V,Y)}function xt(K,Y,V){var U=new Uint8Array(64),W=[e(),e(),e(),e()],et;for(V||n(Y,32),j(U,Y,32),U[0]&=248,U[31]&=127,U[31]|=64,It(W,U),ot(K,W),et=0;et<32;et++)Y[et+32]=K[et];return 0}var Qt=new Float64Array([237,211,245,92,26,99,18,88,214,156,247,162,222,249,222,20,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,16]);function Ct(K,Y){var V,U,W,et;for(U=63;U>=32;--U){for(V=0,W=U-32,et=U-12;W<et;++W)Y[W]+=V-16*Y[U]*Qt[W-(U-32)],V=Math.floor((Y[W]+128)/256),Y[W]-=V*256;Y[W]+=V,Y[U]=0}for(V=0,W=0;W<32;W++)Y[W]+=V-(Y[31]>>4)*Qt[W],V=Y[W]>>8,Y[W]&=255;for(W=0;W<32;W++)Y[W]-=V*Qt[W];for(U=0;U<32;U++)Y[U+1]+=Y[U]>>8,K[U]=Y[U]&255}function Dt(K){var Y=new Float64Array(64),V;for(V=0;V<64;V++)Y[V]=K[V];for(V=0;V<64;V++)K[V]=0;Ct(K,Y)}function Se(K,Y,V,U){var W=new Uint8Array(64),et=new Uint8Array(64),dt=new Uint8Array(64),ut,ht,zt=new Float64Array(64),Wt=[e(),e(),e(),e()];j(W,U,32),W[0]&=248,W[31]&=127,W[31]|=64;var ye=V+64;for(ut=0;ut<V;ut++)K[64+ut]=Y[ut];for(ut=0;ut<32;ut++)K[32+ut]=W[32+ut];for(j(dt,K.subarray(32),V+32),Dt(dt),It(Wt,dt),ot(K,Wt),ut=32;ut<64;ut++)K[ut]=U[ut];for(j(et,K,V+64),Dt(et),ut=0;ut<64;ut++)zt[ut]=0;for(ut=0;ut<32;ut++)zt[ut]=dt[ut];for(ut=0;ut<32;ut++)for(ht=0;ht<32;ht++)zt[ut+ht]+=et[ut]*W[ht];return Ct(K.subarray(32),zt),ye}function te(K,Y){var V=e(),U=e(),W=e(),et=e(),dt=e(),ut=e(),ht=e();return g(K[2],l),D(K[1],Y),it(W,K[1]),q(et,W,m),F(W,W,K[2]),Z(et,K[2],et),it(dt,et),it(ut,dt),q(ht,ut,dt),q(V,ht,W),q(V,V,et),Bt(V,V),q(V,V,W),q(V,V,et),q(V,V,et),q(K[0],V,et),it(U,K[0]),q(U,U,et),u(U,W)&&q(K[0],K[0],w),it(U,K[0]),q(U,U,et),u(U,W)?-1:(b(K[0])===Y[31]>>7&&F(K[0],c,K[0]),q(K[3],K[0],K[1]),0)}function Ut(K,Y,V,U){var W,et=new Uint8Array(32),dt=new Uint8Array(64),ut=[e(),e(),e(),e()],ht=[e(),e(),e(),e()];if(V<64||te(ht,U))return-1;for(W=0;W<V;W++)K[W]=Y[W];for(W=0;W<32;W++)K[W+32]=U[W];if(j(dt,K,V),Dt(dt),qt(ut,ht,dt),It(ht,Y.subarray(32)),rt(ut,ht),ot(et,ut),V-=64,P(Y,0,et,0)){for(W=0;W<V;W++)K[W]=0;return-1}for(W=0;W<V;W++)K[W]=Y[W+64];return V}var Te=32,J=24,X=32,st=16,N=32,$=32,gt=32,ft=32,mt=32,vt=J,At=X,_t=st,Gt=64,Rt=32,wt=64,se=32,Lt=64;t.lowlevel={crypto_core_hsalsa20:z,crypto_stream_xor:M,crypto_stream:G,crypto_stream_salsa20_xor:tt,crypto_stream_salsa20:nt,crypto_onetimeauth:o,crypto_onetimeauth_verify:a,crypto_verify_16:B,crypto_verify_32:P,crypto_secretbox:f,crypto_secretbox_open:h,crypto_scalarmult:yt,crypto_scalarmult_base:pt,crypto_box_beforenm:lt,crypto_box_afternm:ct,crypto_box:kt,crypto_box_open:k,crypto_box_keypair:Ft,crypto_hash:j,crypto_sign:Se,crypto_sign_keypair:xt,crypto_sign_open:Ut,crypto_secretbox_KEYBYTES:Te,crypto_secretbox_NONCEBYTES:J,crypto_secretbox_ZEROBYTES:X,crypto_secretbox_BOXZEROBYTES:st,crypto_scalarmult_BYTES:N,crypto_scalarmult_SCALARBYTES:$,crypto_box_PUBLICKEYBYTES:gt,crypto_box_SECRETKEYBYTES:ft,crypto_box_BEFORENMBYTES:mt,crypto_box_NONCEBYTES:vt,crypto_box_ZEROBYTES:At,crypto_box_BOXZEROBYTES:_t,crypto_sign_BYTES:Gt,crypto_sign_PUBLICKEYBYTES:Rt,crypto_sign_SECRETKEYBYTES:wt,crypto_sign_SEEDBYTES:se,crypto_hash_BYTES:Lt,gf:e,D:m,L:Qt,pack25519:y,unpack25519:D,M:q,A:Z,S:it,Z:F,pow2523:Bt,add:rt,set25519:g,modL:Ct,scalarmult:qt,scalarbase:It};function Et(K,Y){if(K.length!==Te)throw new Error("bad key size");if(Y.length!==J)throw new Error("bad nonce size")}function de(K,Y){if(K.length!==gt)throw new Error("bad public key size");if(Y.length!==ft)throw new Error("bad secret key size")}function Pt(){for(var K=0;K<arguments.length;K++)if(!(arguments[K]instanceof Uint8Array))throw new TypeError("unexpected type, use Uint8Array")}function Mt(K){for(var Y=0;Y<K.length;Y++)K[Y]=0}t.randomBytes=function(K){var Y=new Uint8Array(K);return n(Y,K),Y},t.secretbox=function(K,Y,V){Pt(K,Y,V),Et(V,Y);for(var U=new Uint8Array(X+K.length),W=new Uint8Array(U.length),et=0;et<K.length;et++)U[et+X]=K[et];return f(W,U,U.length,Y,V),W.subarray(st)},t.secretbox.open=function(K,Y,V){Pt(K,Y,V),Et(V,Y);for(var U=new Uint8Array(st+K.length),W=new Uint8Array(U.length),et=0;et<K.length;et++)U[et+st]=K[et];return U.length<32||h(W,U,U.length,Y,V)!==0?null:W.subarray(X)},t.secretbox.keyLength=Te,t.secretbox.nonceLength=J,t.secretbox.overheadLength=st,t.scalarMult=function(K,Y){if(Pt(K,Y),K.length!==$)throw new Error("bad n size");if(Y.length!==N)throw new Error("bad p size");var V=new Uint8Array(N);return yt(V,K,Y),V},t.scalarMult.base=function(K){if(Pt(K),K.length!==$)throw new Error("bad n size");var Y=new Uint8Array(N);return pt(Y,K),Y},t.scalarMult.scalarLength=$,t.scalarMult.groupElementLength=N,t.box=function(K,Y,V,U){var W=t.box.before(V,U);return t.secretbox(K,Y,W)},t.box.before=function(K,Y){Pt(K,Y),de(K,Y);var V=new Uint8Array(mt);return lt(V,K,Y),V},t.box.after=t.secretbox,t.box.open=function(K,Y,V,U){var W=t.box.before(V,U);return t.secretbox.open(K,Y,W)},t.box.open.after=t.secretbox.open,t.box.keyPair=function(){var K=new Uint8Array(gt),Y=new Uint8Array(ft);return Ft(K,Y),{publicKey:K,secretKey:Y}},t.box.keyPair.fromSecretKey=function(K){if(Pt(K),K.length!==ft)throw new Error("bad secret key size");var Y=new Uint8Array(gt);return pt(Y,K),{publicKey:Y,secretKey:new Uint8Array(K)}},t.box.publicKeyLength=gt,t.box.secretKeyLength=ft,t.box.sharedKeyLength=mt,t.box.nonceLength=vt,t.box.overheadLength=t.secretbox.overheadLength,t.sign=function(K,Y){if(Pt(K,Y),Y.length!==wt)throw new Error("bad secret key size");var V=new Uint8Array(Gt+K.length);return Se(V,K,K.length,Y),V},t.sign.open=function(K,Y){if(Pt(K,Y),Y.length!==Rt)throw new Error("bad public key size");var V=new Uint8Array(K.length),U=Ut(V,K,K.length,Y);if(U<0)return null;for(var W=new Uint8Array(U),et=0;et<W.length;et++)W[et]=V[et];return W},t.sign.detached=function(K,Y){for(var V=t.sign(K,Y),U=new Uint8Array(Gt),W=0;W<U.length;W++)U[W]=V[W];return U},t.sign.detached.verify=function(K,Y,V){if(Pt(K,Y,V),Y.length!==Gt)throw new Error("bad signature size");if(V.length!==Rt)throw new Error("bad public key size");var U=new Uint8Array(Gt+K.length),W=new Uint8Array(Gt+K.length),et;for(et=0;et<Gt;et++)U[et]=Y[et];for(et=0;et<K.length;et++)U[et+Gt]=K[et];return Ut(W,U,U.length,V)>=0},t.sign.keyPair=function(){var K=new Uint8Array(Rt),Y=new Uint8Array(wt);return xt(K,Y),{publicKey:K,secretKey:Y}},t.sign.keyPair.fromSecretKey=function(K){if(Pt(K),K.length!==wt)throw new Error("bad secret key size");for(var Y=new Uint8Array(Rt),V=0;V<Y.length;V++)Y[V]=K[32+V];return{publicKey:Y,secretKey:new Uint8Array(K)}},t.sign.keyPair.fromSeed=function(K){if(Pt(K),K.length!==se)throw new Error("bad seed size");for(var Y=new Uint8Array(Rt),V=new Uint8Array(wt),U=0;U<32;U++)V[U]=K[U];return xt(Y,V,!0),{publicKey:Y,secretKey:V}},t.sign.publicKeyLength=Rt,t.sign.secretKeyLength=wt,t.sign.seedLength=se,t.sign.signatureLength=Gt,t.hash=function(K){Pt(K);var Y=new Uint8Array(Lt);return j(Y,K,K.length),Y},t.hash.hashLength=Lt,t.verify=function(K,Y){return Pt(K,Y),K.length===0||Y.length===0||K.length!==Y.length?!1:A(K,0,Y,0,K.length)===0},t.setPRNG=function(K){n=K},function(){var K=typeof self<"u"?self.crypto||self.msCrypto:null;if(K&&K.getRandomValues){var Y=65536;t.setPRNG(function(V,U){var W,et=new Uint8Array(U);for(W=0;W<U;W+=Y)K.getRandomValues(et.subarray(W,W+Math.min(U-W,Y)));for(W=0;W<U;W++)V[W]=et[W];Mt(et)})}else typeof gI<"u"&&(K=e9(),K&&K.randomBytes&&t.setPRNG(function(V,U){var W,et=K.randomBytes(U);for(W=0;W<U;W++)V[W]=et[W];Mt(et)}))}()})(r.exports?r.exports:self.nacl=self.nacl||{})})(QD);var tz={exports:{}};(function(r){(function(t){const e="(0?\\d+|0x[a-f0-9]+)",n={fourOctet:new RegExp(`^${e}\\.${e}\\.${e}\\.${e}$`,"i"),threeOctet:new RegExp(`^${e}\\.${e}\\.${e}$`,"i"),twoOctet:new RegExp(`^${e}\\.${e}$`,"i"),longValue:new RegExp(`^${e}$`,"i")},s=new RegExp("^0[0-7]+$","i"),i=new RegExp("^0x[a-f0-9]+$","i"),c="%[0-9a-z]{1,}",l="(?:[0-9a-f]+::?)+",p={zoneIndex:new RegExp(c,"i"),native:new RegExp(`^(::)?(${l})?([0-9a-f]+)?(::)?(${c})?$`,"i"),deprecatedTransitional:new RegExp(`^(?:::)(${e}\\.${e}\\.${e}\\.${e}(${c})?)$`,"i"),transitional:new RegExp(`^((?:${l})|(?:::)(?:${l})?)${e}\\.${e}\\.${e}\\.${e}(${c})?$`,"i")};function m(x,A){if(x.indexOf("::")!==x.lastIndexOf("::"))return null;let B=0,P=-1,R=(x.match(p.zoneIndex)||[])[0],C,O;for(R&&(R=R.substring(1),x=x.replace(/%.+$/,""));(P=x.indexOf(":",P+1))>=0;)B++;if(x.substr(0,2)==="::"&&B--,x.substr(-2,2)==="::"&&B--,B>A)return null;for(O=A-B,C=":";O--;)C+="0:";return x=x.replace("::",C),x[0]===":"&&(x=x.slice(1)),x[x.length-1]===":"&&(x=x.slice(0,-1)),A=function(){const z=x.split(":"),H=[];for(let tt=0;tt<z.length;tt++)H.push(parseInt(z[tt],16));return H}(),{parts:A,zoneId:R}}function v(x,A,B,P){if(x.length!==A.length)throw new Error("ipaddr: cannot match CIDR for objects with different lengths");let R=0,C;for(;P>0;){if(C=B-P,C<0&&(C=0),x[R]>>C!==A[R]>>C)return!1;P-=B,R+=1}return!0}function _(x){if(i.test(x))return parseInt(x,16);if(x[0]==="0"&&!isNaN(parseInt(x[1],10))){if(s.test(x))return parseInt(x,8);throw new Error(`ipaddr: cannot parse ${x} as octal`)}return parseInt(x,10)}function E(x,A){for(;x.length<A;)x=`0${x}`;return x}const w={};w.IPv4=function(){function x(A){if(A.length!==4)throw new Error("ipaddr: ipv4 octet count should be 4");let B,P;for(B=0;B<A.length;B++)if(P=A[B],!(0<=P&&P<=255))throw new Error("ipaddr: ipv4 octet should fit in 8 bits");this.octets=A}return x.prototype.SpecialRanges={unspecified:[[new x([0,0,0,0]),8]],broadcast:[[new x([255,255,255,255]),32]],multicast:[[new x([224,0,0,0]),4]],linkLocal:[[new x([169,254,0,0]),16]],loopback:[[new x([127,0,0,0]),8]],carrierGradeNat:[[new x([100,64,0,0]),10]],private:[[new x([10,0,0,0]),8],[new x([172,16,0,0]),12],[new x([192,168,0,0]),16]],reserved:[[new x([192,0,0,0]),24],[new x([192,0,2,0]),24],[new x([192,88,99,0]),24],[new x([198,18,0,0]),15],[new x([198,51,100,0]),24],[new x([203,0,113,0]),24],[new x([240,0,0,0]),4]]},x.prototype.kind=function(){return"ipv4"},x.prototype.match=function(A,B){let P;if(B===void 0&&(P=A,A=P[0],B=P[1]),A.kind()!=="ipv4")throw new Error("ipaddr: cannot match ipv4 address with non-ipv4 one");return v(this.octets,A.octets,8,B)},x.prototype.prefixLengthFromSubnetMask=function(){let A=0,B=!1;const P={0:8,128:7,192:6,224:5,240:4,248:3,252:2,254:1,255:0};let R,C,O;for(R=3;R>=0;R-=1)if(C=this.octets[R],C in P){if(O=P[C],B&&O!==0)return null;O!==8&&(B=!0),A+=O}else return null;return 32-A},x.prototype.range=function(){return w.subnetMatch(this,this.SpecialRanges)},x.prototype.toByteArray=function(){return this.octets.slice(0)},x.prototype.toIPv4MappedAddress=function(){return w.IPv6.parse(`::ffff:${this.toString()}`)},x.prototype.toNormalizedString=function(){return this.toString()},x.prototype.toString=function(){return this.octets.join(".")},x}(),w.IPv4.broadcastAddressFromCIDR=function(x){try{const A=this.parseCIDR(x),B=A[0].toByteArray(),P=this.subnetMaskFromPrefixLength(A[1]).toByteArray(),R=[];let C=0;for(;C<4;)R.push(parseInt(B[C],10)|parseInt(P[C],10)^255),C++;return new this(R)}catch{throw new Error("ipaddr: the address does not have IPv4 CIDR format")}},w.IPv4.isIPv4=function(x){return this.parser(x)!==null},w.IPv4.isValid=function(x){try{return new this(this.parser(x)),!0}catch{return!1}},w.IPv4.isValidFourPartDecimal=function(x){return!!(w.IPv4.isValid(x)&&x.match(/^(0|[1-9]\d*)(\.(0|[1-9]\d*)){3}$/))},w.IPv4.networkAddressFromCIDR=function(x){let A,B,P,R,C;try{for(A=this.parseCIDR(x),P=A[0].toByteArray(),C=this.subnetMaskFromPrefixLength(A[1]).toByteArray(),R=[],B=0;B<4;)R.push(parseInt(P[B],10)&parseInt(C[B],10)),B++;return new this(R)}catch{throw new Error("ipaddr: the address does not have IPv4 CIDR format")}},w.IPv4.parse=function(x){const A=this.parser(x);if(A===null)throw new Error("ipaddr: string is not formatted like an IPv4 Address");return new this(A)},w.IPv4.parseCIDR=function(x){let A;if(A=x.match(/^(.+)\/(\d+)$/)){const B=parseInt(A[2]);if(B>=0&&B<=32){const P=[this.parse(A[1]),B];return Object.defineProperty(P,"toString",{value:function(){return this.join("/")}}),P}}throw new Error("ipaddr: string is not formatted like an IPv4 CIDR range")},w.IPv4.parser=function(x){let A,B,P;if(A=x.match(n.fourOctet))return function(){const R=A.slice(1,6),C=[];for(let O=0;O<R.length;O++)B=R[O],C.push(_(B));return C}();if(A=x.match(n.longValue)){if(P=_(A[1]),P>4294967295||P<0)throw new Error("ipaddr: address outside defined range");return function(){const R=[];let C;for(C=0;C<=24;C+=8)R.push(P>>C&255);return R}().reverse()}else return(A=x.match(n.twoOctet))?function(){const R=A.slice(1,4),C=[];if(P=_(R[1]),P>16777215||P<0)throw new Error("ipaddr: address outside defined range");return C.push(_(R[0])),C.push(P>>16&255),C.push(P>>8&255),C.push(P&255),C}():(A=x.match(n.threeOctet))?function(){const R=A.slice(1,5),C=[];if(P=_(R[2]),P>65535||P<0)throw new Error("ipaddr: address outside defined range");return C.push(_(R[0])),C.push(_(R[1])),C.push(P>>8&255),C.push(P&255),C}():null},w.IPv4.subnetMaskFromPrefixLength=function(x){if(x=parseInt(x),x<0||x>32)throw new Error("ipaddr: invalid IPv4 prefix length");const A=[0,0,0,0];let B=0;const P=Math.floor(x/8);for(;B<P;)A[B]=255,B++;return P<4&&(A[P]=Math.pow(2,x%8)-1<<8-x%8),new this(A)},w.IPv6=function(){function x(A,B){let P,R;if(A.length===16)for(this.parts=[],P=0;P<=14;P+=2)this.parts.push(A[P]<<8|A[P+1]);else if(A.length===8)this.parts=A;else throw new Error("ipaddr: ipv6 part count should be 8 or 16");for(P=0;P<this.parts.length;P++)if(R=this.parts[P],!(0<=R&&R<=65535))throw new Error("ipaddr: ipv6 part should fit in 16 bits");B&&(this.zoneId=B)}return x.prototype.SpecialRanges={unspecified:[new x([0,0,0,0,0,0,0,0]),128],linkLocal:[new x([65152,0,0,0,0,0,0,0]),10],multicast:[new x([65280,0,0,0,0,0,0,0]),8],loopback:[new x([0,0,0,0,0,0,0,1]),128],uniqueLocal:[new x([64512,0,0,0,0,0,0,0]),7],ipv4Mapped:[new x([0,0,0,0,0,65535,0,0]),96],rfc6145:[new x([0,0,0,0,65535,0,0,0]),96],rfc6052:[new x([100,65435,0,0,0,0,0,0]),96],"6to4":[new x([8194,0,0,0,0,0,0,0]),16],teredo:[new x([8193,0,0,0,0,0,0,0]),32],reserved:[[new x([8193,3512,0,0,0,0,0,0]),32]],benchmarking:[new x([8193,2,0,0,0,0,0,0]),48],amt:[new x([8193,3,0,0,0,0,0,0]),32],as112v6:[new x([8193,4,274,0,0,0,0,0]),48],deprecated:[new x([8193,16,0,0,0,0,0,0]),28],orchid2:[new x([8193,32,0,0,0,0,0,0]),28]},x.prototype.isIPv4MappedAddress=function(){return this.range()==="ipv4Mapped"},x.prototype.kind=function(){return"ipv6"},x.prototype.match=function(A,B){let P;if(B===void 0&&(P=A,A=P[0],B=P[1]),A.kind()!=="ipv6")throw new Error("ipaddr: cannot match ipv6 address with non-ipv6 one");return v(this.parts,A.parts,16,B)},x.prototype.prefixLengthFromSubnetMask=function(){let A=0,B=!1;const P={0:16,32768:15,49152:14,57344:13,61440:12,63488:11,64512:10,65024:9,65280:8,65408:7,65472:6,65504:5,65520:4,65528:3,65532:2,65534:1,65535:0};let R,C;for(let O=7;O>=0;O-=1)if(R=this.parts[O],R in P){if(C=P[R],B&&C!==0)return null;C!==16&&(B=!0),A+=C}else return null;return 128-A},x.prototype.range=function(){return w.subnetMatch(this,this.SpecialRanges)},x.prototype.toByteArray=function(){let A;const B=[],P=this.parts;for(let R=0;R<P.length;R++)A=P[R],B.push(A>>8),B.push(A&255);return B},x.prototype.toFixedLengthString=function(){const A=(function(){const P=[];for(let R=0;R<this.parts.length;R++)P.push(E(this.parts[R].toString(16),4));return P}).call(this).join(":");let B="";return this.zoneId&&(B=`%${this.zoneId}`),A+B},x.prototype.toIPv4Address=function(){if(!this.isIPv4MappedAddress())throw new Error("ipaddr: trying to convert a generic ipv6 address to ipv4");const A=this.parts.slice(-2),B=A[0],P=A[1];return new w.IPv4([B>>8,B&255,P>>8,P&255])},x.prototype.toNormalizedString=function(){const A=(function(){const P=[];for(let R=0;R<this.parts.length;R++)P.push(this.parts[R].toString(16));return P}).call(this).join(":");let B="";return this.zoneId&&(B=`%${this.zoneId}`),A+B},x.prototype.toRFC5952String=function(){const A=/((^|:)(0(:|$)){2,})/g,B=this.toNormalizedString();let P=0,R=-1,C;for(;C=A.exec(B);)C[0].length>R&&(P=C.index,R=C[0].length);return R<0?B:`${B.substring(0,P)}::${B.substring(P+R)}`},x.prototype.toString=function(){return this.toRFC5952String()},x}(),w.IPv6.broadcastAddressFromCIDR=function(x){try{const A=this.parseCIDR(x),B=A[0].toByteArray(),P=this.subnetMaskFromPrefixLength(A[1]).toByteArray(),R=[];let C=0;for(;C<16;)R.push(parseInt(B[C],10)|parseInt(P[C],10)^255),C++;return new this(R)}catch(A){throw new Error(`ipaddr: the address does not have IPv6 CIDR format (${A})`)}},w.IPv6.isIPv6=function(x){return this.parser(x)!==null},w.IPv6.isValid=function(x){if(typeof x=="string"&&x.indexOf(":")===-1)return!1;try{const A=this.parser(x);return new this(A.parts,A.zoneId),!0}catch{return!1}},w.IPv6.networkAddressFromCIDR=function(x){let A,B,P,R,C;try{for(A=this.parseCIDR(x),P=A[0].toByteArray(),C=this.subnetMaskFromPrefixLength(A[1]).toByteArray(),R=[],B=0;B<16;)R.push(parseInt(P[B],10)&parseInt(C[B],10)),B++;return new this(R)}catch(O){throw new Error(`ipaddr: the address does not have IPv6 CIDR format (${O})`)}},w.IPv6.parse=function(x){const A=this.parser(x);if(A.parts===null)throw new Error("ipaddr: string is not formatted like an IPv6 Address");return new this(A.parts,A.zoneId)},w.IPv6.parseCIDR=function(x){let A,B,P;if((B=x.match(/^(.+)\/(\d+)$/))&&(A=parseInt(B[2]),A>=0&&A<=128))return P=[this.parse(B[1]),A],Object.defineProperty(P,"toString",{value:function(){return this.join("/")}}),P;throw new Error("ipaddr: string is not formatted like an IPv6 CIDR range")},w.IPv6.parser=function(x){let A,B,P,R,C,O;if(P=x.match(p.deprecatedTransitional))return this.parser(`::ffff:${P[1]}`);if(p.native.test(x))return m(x,8);if((P=x.match(p.transitional))&&(O=P[6]||"",A=m(P[1].slice(0,-1)+O,6),A.parts)){for(C=[parseInt(P[2]),parseInt(P[3]),parseInt(P[4]),parseInt(P[5])],B=0;B<C.length;B++)if(R=C[B],!(0<=R&&R<=255))return null;return A.parts.push(C[0]<<8|C[1]),A.parts.push(C[2]<<8|C[3]),{parts:A.parts,zoneId:A.zoneId}}return null},w.IPv6.subnetMaskFromPrefixLength=function(x){if(x=parseInt(x),x<0||x>128)throw new Error("ipaddr: invalid IPv6 prefix length");const A=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];let B=0;const P=Math.floor(x/8);for(;B<P;)A[B]=255,B++;return P<16&&(A[P]=Math.pow(2,x%8)-1<<8-x%8),new this(A)},w.fromByteArray=function(x){const A=x.length;if(A===4)return new w.IPv4(x);if(A===16)return new w.IPv6(x);throw new Error("ipaddr: the binary input is neither an IPv6 nor IPv4 address")},w.isValid=function(x){return w.IPv6.isValid(x)||w.IPv4.isValid(x)},w.parse=function(x){if(w.IPv6.isValid(x))return w.IPv6.parse(x);if(w.IPv4.isValid(x))return w.IPv4.parse(x);throw new Error("ipaddr: the address has neither IPv6 nor IPv4 format")},w.parseCIDR=function(x){try{return w.IPv6.parseCIDR(x)}catch{try{return w.IPv4.parseCIDR(x)}catch{throw new Error("ipaddr: the address has neither IPv6 nor IPv4 CIDR format")}}},w.process=function(x){const A=this.parse(x);return A.kind()==="ipv6"&&A.isIPv4MappedAddress()?A.toIPv4Address():A},w.subnetMatch=function(x,A,B){let P,R,C,O;B==null&&(B="unicast");for(R in A)if(Object.prototype.hasOwnProperty.call(A,R)){for(C=A[R],C[0]&&!(C[0]instanceof Array)&&(C=[C]),P=0;P<C.length;P++)if(O=C[P],x.kind()===O[0].kind()&&x.match.apply(x,O))return R}return B},r.exports?r.exports=w:t.ipaddr=w})(Re)})(tz);var C2;(function(r){r.SymbolNotFound="SymbolNotFound",r.InvalidSubdomain="InvalidSubdomain",r.FavouriteDomainNotFound="FavouriteDomainNotFound",r.MissingParentOwner="MissingParentOwner",r.U32Overflow="U32Overflow",r.InvalidBufferLength="InvalidBufferLength",r.U64Overflow="U64Overflow",r.NoRecordData="NoRecordData",r.InvalidRecordData="InvalidRecordData",r.UnsupportedRecord="UnsupportedRecord",r.InvalidEvmAddress="InvalidEvmAddress",r.InvalidInjectiveAddress="InvalidInjectiveAddress",r.InvalidARecord="InvalidARecord",r.InvalidAAAARecord="InvalidAAAARecord",r.InvalidRecordInput="InvalidRecordInput",r.InvalidSignature="InvalidSignature",r.AccountDoesNotExist="AccountDoesNotExist",r.MultipleRegistries="MultipleRegistries",r.InvalidReverseTwitter="InvalidReverseTwitter",r.NoAccountData="NoAccountData",r.InvalidInput="InvalidInput",r.InvalidDomain="InvalidDomain",r.InvalidCustomBg="InvalidCustomBackground"})(C2||(C2={}));let ez=class KM extends Error{constructor(t,e){super(e),this.name="SNSError",this.type=t,Error.captureStackTrace&&Error.captureStackTrace(this,KM)}};new Ne("nftD3vbNkNqfj2Sd3HZwbpw4BxxKWr4AjGb9X38JeZk");yr.Buffer.from("tokenized_name");var J3;(function(r){r[r.Uninitialized=0]="Uninitialized",r[r.CentralState=1]="CentralState",r[r.ActiveRecord=2]="ActiveRecord",r[r.InactiveRecord=3]="InactiveRecord"})(J3||(J3={}));const rz=new Ne("namesLPneVptA9Z5rqUDD9tMTWEJwofgaYwp8cawRkX"),nz="SPL Name Service",$M=new Ne("58PwtjSDuFHuUkYjH9BYnnQKHfwo9reZhC2zMJv9JPkx");new Ne("jCebN34bUfdeUYJT13J1yG16XWQpt5PDx6Mse9GUqhR");new Ne("ETp9eKXVv1dWwHSpsXRUuXHmw24PwRkttCGVgpZEY9zF");new Ne("AUoZ3YAhV3b2rZeEH93UMZHXUZcTramBvb4d9YEVySkc");new Ne("33m47vH6Eav6jr5Ry86XjhRft2jRBLDnDgPSHoquXi2Z");new Ne("FvPH7PrVrLGKPfqaf3xJodFTjZriqrAXXLTVWEorTFBi");new Ne("4YcexoW3r78zz16J2aqmukBLRwGq6rAvWzJpkYAXqebv");new Ne("DmSyHDSM9eSLyvoLsPvDr5fRRFZ7Bfr3h3ULvWpgQaq7");new Ne("EPjFWdd5AufqSSqeM2qN1xzybapC8G4wEGGkZwyTDt1v");new Ne("3ogYncmMM5CmytsGCqKHydmXmKUZ6sGWvizkzqwT7zb1"),new Ne("DM1jJCkZZEwY5tmWbgvKRxsDFzXCdbfrYCCH1CtwguEs"),new Ne("ADCp4QXFajHrhy4f43pD6GJFtQLkdBY2mjS9DfCk7tNW"),new Ne("2XTgjw8yi1E3Etgj4CUyRD7Zk49gynH2U9gA5N2MY4NP"),new Ne("5oDWj8vr3vbcq9JZTtwXqrkCMZggMsDzNietvbr1BNfe"),new Ne("8kJqxAbqbPLGLMgB6FhLcnw2SiUEavx2aEGM3WQGhtJF"),new Ne("HemvJzwxvVpWBjPETpaseAH395WAxb2G73MeUfjVkK1u");new Ne("AHtgzX45WTKfkPG53L6WYhGEXwQkN1BVknET3sVsLL8J");new Ne("GcWEQ9K78FV7LEHteFVciYApERk5YvQuFDQPk1yYJVXi");new Ne("BPeXUQDqGbzxeK1LJby6ugvCBuo7kRSEUkjD726mUVsz");new Ne("72aLKvXeV4aansAQtxKymeXDevT5ed6sCuz9iN62ugPT");new Ne("metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s");const iz=r=>{const t=nz+r,e=kT(yr.Buffer.from(t,"utf8")).slice(2);return yr.Buffer.from(e,"hex")},oz=(r,t,e)=>{const n=[r];t?n.push(t.toBuffer()):n.push(yr.Buffer.alloc(32)),e?n.push(e.toBuffer()):n.push(yr.Buffer.alloc(32));const[s]=Ne.findProgramAddressSync(n,rz);return s},vu=(r,t=$M)=>{let e=iz(r);return{pubkey:oz(e,void 0,t),hashed:e}},T2=(r,t=!1)=>{r.endsWith(".sol")&&(r=r.slice(0,-4));const e=r.split(".");if(e.length===2){const n=yr.Buffer.from([t?1:0]).toString().concat(e[0]),{pubkey:s}=vu(e[1]);return{...vu(n,s),isSub:!0,parent:s}}if(e.length===3&&t){const{pubkey:n}=vu(e[2]),{pubkey:s}=vu("\0".concat(e[1]),n),i=yr.Buffer.from([1]).toString();return{...vu(i.concat(e[0]),s),isSub:!0,parent:n,isSubRecord:!0}}if(e.length>=3)throw new ez(C2.InvalidInput);return{...vu(r,$M),isSub:!1,parent:void 0}};var as;(function(r){r.IPFS="IPFS",r.ARWV="ARWV",r.SOL="SOL",r.ETH="ETH",r.BTC="BTC",r.LTC="LTC",r.DOGE="DOGE",r.Email="email",r.Url="url",r.Discord="discord",r.Github="github",r.Reddit="reddit",r.Twitter="twitter",r.Telegram="telegram",r.Pic="pic",r.SHDW="SHDW",r.POINT="POINT",r.BSC="BSC",r.Injective="INJ",r.Backpack="backpack",r.A="A",r.AAAA="AAAA",r.CNAME="CNAME",r.TXT="TXT",r.Background="background"})(as||(as={}));as.SOL,as.ETH,as.BSC,as.Injective,as.A,as.AAAA,as.Background;new Ne("85iDfUvr3HJyLM2zcq5BXSiDvUWfw6cSE1FfNBo8Ap29");var Q3;(function(r){r.DegenPoet1="DegenPoet#1",r.Rgb0x001="rgb0x00#1"})(Q3||(Q3={}));new Ne("ART5dr4bDic2sQVZoFheEmUxwQq5VGSx9he7JxHcXNQD");new Ne("CSWvuDHXExVGEMR9kP8xYAHuNjXogeRck9Cnr312CC9g");const sz=["-","_"],az=()=>{const r=Math.floor(2*Math.random());return sz[r]},HM=(r,t=4)=>{const e=[];for(let n=0;n<t;n++)e.push(r+az()+Math.floor(100*Math.random()));return[...new Set(e)]},L2=async(r,t)=>{const e=t.map(s=>T2(s).pubkey),n=await(r==null?void 0:r.getMultipleAccountsInfo(e));return n?t.map((s,i)=>{var c;return{domain:s,available:!((c=n[i])!=null&&c.data)}}):[]},uz=({connection:r,domain:t})=>yg(async()=>{if(!t||!r)return[];const e=t.split(".");if(e.length===2){const n=e[1],s=T2(t).pubkey,i=await(r==null?void 0:r.getAccountInfo(s)),c=HM(n,10),l=await L2(r,c);if(i!=null&&i.data)return[{domain:t,available:!i.data},...l];{const p=T2(n).pubkey,m=await(r==null?void 0:r.getAccountInfo(p));return[{domain:n,available:!(m!=null&&m.data)},...l]}}return L2(r,[t])},[!!r,t]),fz=({connection:r,domain:t})=>yg(async()=>{if(!t||t==="")return[];if(t.split(".").length===2)return[];const e=await(await fetch(`https://sns-api.bonfida.com/v2/suggestion/search/${t}`)).json();if(!e||e.length<5){if(!r)return[];const n=HM(t,10);return L2(r,n)}return e.map(n=>({domain:n,available:!0}))},[t,!!r]),cz=r=>xe.createElement("svg",{fill:"none",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",...r},xe.createElement("path",{fill:"currentColor",fillRule:"evenodd",d:"M16.56 3.06a3.092 3.092 0 0 0-.56.206c-.266.13-.398.244-1.17 1.008l-.87.86.184.343c1.138 2.12 2.165 3.161 4.24 4.3l.476.261.823-.822c.478-.477.879-.913.955-1.039.337-.556.438-1.178.288-1.772-.149-.588-.273-.758-1.342-1.838-1.043-1.054-1.36-1.307-1.816-1.448a2.668 2.668 0 0 0-1.208-.059M9.873 9.233c-3.16 3.169-3.114 3.117-3.29 3.667-.068.213-.583 3.732-.583 3.986C6 17.435 6.565 18 7.114 18c.254 0 3.773-.515 3.986-.583.55-.176.498-.13 3.667-3.29l2.986-2.979-.478-.274c-1.888-1.082-3.003-2.19-4.104-4.081l-.319-.547-2.979 2.987M3.394 19.601c-.284.15-.426.445-.376.779.035.236.278.518.497.579.201.056 16.769.056 16.97 0 .219-.061.462-.343.497-.579.051-.339-.094-.633-.384-.781-.153-.078-.272-.079-8.606-.077-8.276.001-8.455.003-8.598.079"})),VM=r=>xe.createElement("svg",{fill:"none",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",...r},xe.createElement("path",{fill:"currentColor",d:"M19.748 9.058a.75.75 0 0 0-1.496-.116l1.496.116Zm-1.464 9.249.748.057-.748-.057Zm-12.568 0-.748.057.748-.057Zm.032-9.365a.75.75 0 1 0-1.496.116l1.496-.116ZM20.67 7.674a.75.75 0 0 0 .658-1.348l-.658 1.348Zm-18-1.348a.75.75 0 1 0 .658 1.348L2.67 6.326ZM9.25 5a.75.75 0 0 0 1.5 0h-1.5Zm4 0a.75.75 0 0 0 1.5 0h-1.5Zm-2.5 6a.75.75 0 0 0-1.5 0h1.5Zm-1.5 6a.75.75 0 0 0 1.5 0h-1.5Zm5.5-6a.75.75 0 0 0-1.5 0h1.5Zm-1.5 6a.75.75 0 0 0 1.5 0h-1.5Zm5.002-8.058-.716 9.307 1.496.115.716-9.306-1.496-.116ZM14.296 21.25H9.704v1.5h4.592v-1.5Zm-7.832-3-.716-9.308-1.496.116.716 9.306 1.496-.115Zm3.24 3a3.25 3.25 0 0 1-3.24-3l-1.496.114a4.75 4.75 0 0 0 4.736 4.386v-1.5Zm7.832-3a3.25 3.25 0 0 1-3.24 3v1.5a4.75 4.75 0 0 0 4.736-4.386l-1.496-.115ZM12 5.75c3.204 0 6.18.71 8.671 1.924l.658-1.348C18.624 5.008 15.423 4.25 12 4.25v1.5ZM3.329 7.674C5.82 6.46 8.796 5.75 12 5.75v-1.5c-3.423 0-6.624.758-9.329 2.076l.658 1.348ZM10.75 5V4h-1.5v1h1.5Zm2.5-1v1h1.5V4h-1.5ZM12 2.75c.69 0 1.25.56 1.25 1.25h1.5A2.75 2.75 0 0 0 12 1.25v1.5ZM10.75 4c0-.69.56-1.25 1.25-1.25v-1.5A2.75 2.75 0 0 0 9.25 4h1.5Zm-1.5 7v6h1.5v-6h-1.5Zm4 0v6h1.5v-6h-1.5Z"})),ZM=r=>xe.createElement("svg",{fill:"none",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",...r},xe.createElement("path",{stroke:"currentColor",strokeLinejoin:"round",strokeWidth:1.5,d:"M22 7a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v10a4 4 0 0 0 4 4h12a4 4 0 0 0 4-4V7Z"}),xe.createElement("path",{stroke:"currentColor",strokeLinejoin:"round",strokeWidth:1.5,d:"M8 12a3 3 0 0 0-3-3H2v6h3a3 3 0 0 0 3-3Z"})),hz=r=>xe.createElement("svg",{fill:"none",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",...r},xe.createElement("path",{fill:"currentColor",d:"M2.587 9.25a.75.75 0 1 0 0 1.5v-1.5Zm18.826 1.5a.75.75 0 0 0 0-1.5v1.5ZM18.035 6v.75V6Zm3.882 4.808.735.15-.735-.15Zm-19.834 0 .735-.15-.735.15ZM5.965 6v-.75V6ZM7.6 22v-.75.75Zm-3.882-3.192.735-.15-.735.15ZM16.4 22v.75V22Zm3.882-3.192-.735-.15.735.15ZM8 13.25a.75.75 0 0 0 0 1.5v-1.5Zm8 1.5a.75.75 0 0 0 0-1.5v1.5Zm-7 2.5a.75.75 0 0 0 0 1.5v-1.5Zm6 1.5a.75.75 0 0 0 0-1.5v1.5ZM9.6 2.45a.75.75 0 1 0-1.2-.9l1.2.9Zm-4.2 3.1a.75.75 0 1 0 1.2.9l-1.2-.9Zm10.2-4a.75.75 0 1 0-1.2.9l1.2-.9Zm1.8 4.9a.75.75 0 1 0 1.2-.9l-1.2.9Zm-1 14.8H7.6v1.5h8.8v-1.5ZM4.453 18.658l-1.635-8-1.47.3 1.635 8 1.47-.3ZM5.965 6.75h12.07v-1.5H5.965v1.5Zm15.217 3.908-1.635 8 1.47.3 1.635-8-1.47-.3Zm-18.595.092h18.826v-1.5H2.587v1.5Zm15.448-4c2.028 0 3.56 1.883 3.147 3.908l1.47.3c.6-2.938-1.623-5.708-4.617-5.708v1.5ZM2.818 10.658C2.404 8.633 3.938 6.75 5.965 6.75v-1.5c-2.994 0-5.217 2.77-4.617 5.708l1.47-.3ZM7.6 21.25a3.222 3.222 0 0 1-3.147-2.592l-1.47.3c.45 2.203 2.375 3.792 4.617 3.792v-1.5Zm8.8 1.5c2.242 0 4.167-1.589 4.617-3.792l-1.47-.3A3.223 3.223 0 0 1 16.4 21.25v1.5Zm-8.4-8h8v-1.5H8v1.5Zm1 4h6v-1.5H9v1.5Zm-.6-17.2-3 4 1.2.9 3-4-1.2-.9Zm6 .9 3 4 1.2-.9-3-4-1.2.9Z"})),lz=r=>xe.createElement("svg",{fill:"none",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",...r},xe.createElement("path",{fill:"currentColor",d:"M5.469 12.414a.75.75 0 0 0-.938 1.172l.938-1.172Zm3.057 3.407-.468.586.468-.586Zm2.736-.224-.557-.501.557.501Zm8.296-8.095a.75.75 0 1 0-1.116-1.004l1.116 1.004ZM4.53 13.586l3.527 2.82.937-1.17-3.526-2.822-.938 1.172Zm7.289 2.513 7.738-8.597-1.116-1.004-7.737 8.598 1.115 1.003Zm-3.762.308a2.75 2.75 0 0 0 3.762-.308l-1.115-1.003a1.25 1.25 0 0 1-1.71.14l-.937 1.17Z"})),WM=r=>xe.createElement("svg",{fill:"none",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",...r},xe.createElement("path",{fill:"currentColor",fillRule:"evenodd",d:"M11.12 2.039c-2.479.248-4.706 1.323-6.359 3.068a9.985 9.985 0 0 0-1.624 11.516 9.432 9.432 0 0 0 1.801 2.438c.992.99 2.1 1.728 3.334 2.217 3.362 1.332 7.041.802 9.928-1.433.437-.338 1.307-1.208 1.645-1.645C21.256 16.378 22 14.236 22 12c0-4.568-3.158-8.613-7.57-9.697-.984-.241-2.402-.355-3.31-.264m1.285 5.342c.08.051.188.162.24.246.091.146.095.184.095.88v.726l-.121.172c-.166.236-.346.334-.619.334s-.453-.098-.619-.334l-.121-.172v-.726c0-.691.005-.734.093-.876.233-.375.691-.484 1.052-.25m-.113 3.433c.155.065.375.305.417.457.017.06.031 1.201.031 2.536v2.426l-.121.172c-.166.237-.346.334-.619.334s-.453-.097-.619-.334l-.121-.172v-2.426c0-1.335.014-2.476.031-2.536.041-.147.259-.39.408-.455a.881.881 0 0 1 .593-.002"})),GM=r=>xe.createElement("svg",{fill:"none",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",...r},xe.createElement("path",{fill:"currentColor",d:"M16.773 8.288a.75.75 0 0 0-1.06-1.061l1.06 1.06Zm-9.546 7.424a.75.75 0 0 0 1.06 1.061l-1.06-1.06Zm8.485 1.06a.75.75 0 1 0 1.06-1.06l-1.06 1.06ZM8.288 7.228a.75.75 0 0 0-1.061 1.06l1.06-1.06Zm7.424 0-8.485 8.485 1.06 1.061 8.486-8.485-1.06-1.061Zm1.06 8.485L8.289 7.227l-1.061 1.06 8.485 8.486 1.06-1.06Z"})),dz=r=>xe.createElement("svg",{fill:"none",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",...r},xe.createElement("path",{fill:"currentColor",d:"m18.63 21.422.53-.53-.53.53Zm2.792-2.793.53-.53-.53.53Zm-1.392-2.452a.75.75 0 0 0-1.06 1.06l1.06-1.06Zm-2.792 2.793a.75.75 0 0 0-1.06 1.06l1.06-1.06ZM2.75 10.5a7.75 7.75 0 0 1 7.75-7.75v-1.5a9.25 9.25 0 0 0-9.25 9.25h1.5Zm7.75-7.75a7.75 7.75 0 0 1 7.75 7.75h1.5a9.25 9.25 0 0 0-9.25-9.25v1.5Zm7.75 7.75a7.75 7.75 0 0 1-7.75 7.75v1.5a9.25 9.25 0 0 0 9.25-9.25h-1.5Zm-7.75 7.75a7.75 7.75 0 0 1-7.75-7.75h-1.5a9.25 9.25 0 0 0 9.25 9.25v-1.5Zm10.391 2.641a1.224 1.224 0 0 1-1.731 0l-1.061 1.061a2.725 2.725 0 0 0 3.853 0l-1.06-1.06Zm0-1.731a1.224 1.224 0 0 1 0 1.731l1.061 1.061a2.725 2.725 0 0 0 0-3.853l-1.06 1.06Zm-1.921-1.922 1.921 1.922 1.061-1.061-1.922-1.922-1.06 1.06Zm.19 3.653-1.922-1.921-1.06 1.06 1.92 1.922 1.062-1.06Z"})),pz=r=>xe.createElement("svg",{fill:"none",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",...r},xe.createElement("path",{fill:"currentColor",d:"M16.625 3.987a.75.75 0 1 0 .75-1.298l-.75 1.298Zm5.448 4.25a.75.75 0 1 0-1.405.526l1.405-.526ZM7.469 9.414a.75.75 0 1 0-.938 1.172l.938-1.172Zm3.057 3.407-.468.586.468-.586Zm2.736-.224-.557-.501.557.501Zm8.296-8.095a.75.75 0 1 0-1.116-1.004l1.116 1.004ZM21.25 12A9.25 9.25 0 0 1 12 21.25v1.5c5.937 0 10.75-4.813 10.75-10.75h-1.5ZM12 21.25A9.25 9.25 0 0 1 2.75 12h-1.5c0 5.937 4.813 10.75 10.75 10.75v-1.5ZM2.75 12A9.25 9.25 0 0 1 12 2.75v-1.5C6.063 1.25 1.25 6.063 1.25 12h1.5ZM12 2.75c1.686 0 3.265.45 4.625 1.237l.75-1.298A10.704 10.704 0 0 0 12 1.25v1.5Zm8.668 6.013A9.228 9.228 0 0 1 21.25 12h1.5c0-1.322-.24-2.59-.677-3.763l-1.405.526ZM6.53 10.586l3.527 2.82.937-1.17-3.526-2.822-.938 1.172Zm7.289 2.513 7.738-8.597-1.116-1.004-7.737 8.598 1.115 1.003Zm-3.762.308a2.75 2.75 0 0 0 3.762-.308l-1.115-1.003a1.25 1.25 0 0 1-1.71.14l-.937 1.17Z"})),mz=r=>xe.createElement("svg",{fill:"none",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",...r},xe.createElement("path",{stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"m10 8-4 4m0 0 4 4m-4-4h12"})),vz=r=>xe.createElement("svg",{fill:"none",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",...r},xe.createElement("circle",{cx:12,cy:7,r:1,fill:"currentColor"}),xe.createElement("path",{fill:"currentColor",d:"M11 9.25a.75.75 0 0 0 0 1.5v-1.5Zm1 .75h.75a.75.75 0 0 0-.75-.75V10Zm-.75 7a.75.75 0 0 0 1.5 0h-1.5Zm10-5A9.25 9.25 0 0 1 12 21.25v1.5c5.937 0 10.75-4.813 10.75-10.75h-1.5ZM12 21.25A9.25 9.25 0 0 1 2.75 12h-1.5c0 5.937 4.813 10.75 10.75 10.75v-1.5ZM2.75 12A9.25 9.25 0 0 1 12 2.75v-1.5C6.063 1.25 1.25 6.063 1.25 12h1.5ZM12 2.75A9.25 9.25 0 0 1 21.25 12h1.5c0-5.937-4.813-10.75-10.75-10.75v1.5Zm-1 8h1v-1.5h-1v1.5Zm.25-.75v7h1.5v-7h-1.5Z"})),gz=r=>St.jsx("svg",{width:r.width||20,height:r.height||20,viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg",...r,children:St.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M5.29279 7.29302C5.48031 7.10555 5.73462 7.00023 5.99979 7.00023C6.26495 7.00023 6.51926 7.10555 6.70679 7.29302L9.99979 10.586L13.2928 7.29302C13.385 7.19751 13.4954 7.12133 13.6174 7.06892C13.7394 7.01651 13.8706 6.98892 14.0034 6.98777C14.1362 6.98662 14.2678 7.01192 14.3907 7.0622C14.5136 7.11248 14.6253 7.18673 14.7192 7.28062C14.8131 7.37452 14.8873 7.48617 14.9376 7.60907C14.9879 7.73196 15.0132 7.86364 15.012 7.99642C15.0109 8.1292 14.9833 8.26042 14.9309 8.38242C14.8785 8.50443 14.8023 8.61477 14.7068 8.70702L10.7068 12.707C10.5193 12.8945 10.265 12.9998 9.99979 12.9998C9.73462 12.9998 9.48031 12.8945 9.29279 12.707L5.29279 8.70702C5.10532 8.51949 5 8.26518 5 8.00002C5 7.73486 5.10532 7.48055 5.29279 7.29302Z",fill:"currentColor"})}),yz=r=>St.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"18",height:"18",fill:"none",viewBox:"0 0 18 18",...r,children:St.jsx("path",{stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",d:"M7.5 4.5h-3A1.5 1.5 0 0 0 3 6v7.5A1.5 1.5 0 0 0 4.5 15H12a1.5 1.5 0 0 0 1.5-1.5v-3m-3-7.5H15m0 0v4.5M15 3l-7.5 7.5"})}),bz=r=>St.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",...r,children:St.jsx("path",{fill:"currentColor",d:"M19.27 5.33C17.94 4.71 16.5 4.26 15 4a.09.09 0 0 0-.07.03c-.18.33-.39.76-.53 1.09a16.09 16.09 0 0 0-4.8 0c-.14-.34-.35-.76-.54-1.09-.01-.02-.04-.03-.07-.03-1.5.26-2.93.71-4.27 1.33-.01 0-.02.01-.03.02-2.72 4.07-3.47 8.03-3.1 11.95 0 .02.01.04.03.05 1.8 1.32 3.53 2.12 5.24 2.65.03.01.06 0 .07-.02.4-.55.76-1.13 1.07-1.74.02-.04 0-.08-.04-.09-.57-.22-1.11-.48-1.64-.78-.04-.02-.04-.08-.01-.11.11-.08.22-.17.33-.25.02-.02.05-.02.07-.01 3.44 1.57 7.15 1.57 10.55 0 .02-.01.05-.01.07.01.11.09.22.17.33.26.04.03.04.09-.01.11-.52.31-1.07.56-1.64.78-.04.01-.05.06-.04.09.32.61.68 1.19 1.07 1.74.03.01.06.02.09.01 1.72-.53 3.45-1.33 5.25-2.65.02-.01.03-.03.03-.05.44-4.53-.73-8.46-3.1-11.95-.01-.01-.02-.02-.04-.02ZM8.52 14.91c-1.03 0-1.89-.95-1.89-2.12 0-1.17.84-2.12 1.89-2.12 1.06 0 1.9.96 1.89 2.12 0 1.17-.84 2.12-1.89 2.12Zm6.97 0c-1.03 0-1.89-.95-1.89-2.12 0-1.17.84-2.12 1.89-2.12 1.06 0 1.9.96 1.89 2.12 0 1.17-.83 2.12-1.89 2.12Z"})}),wz=({type:r="text",value:t,className:e,errorMessage:n,...s}={})=>{const i=xe.useRef(null);return St.jsxs("div",{className:sn("flex-grow",r==="search"&&"relative"),children:[St.jsx("input",{...s,ref:i,value:t,className:sn("w-full h-full px-3 py-4 text-sm border border-opacity-25 rounded-xl border-field-border dark:border-interactive-border bg-background-secondary text-ellipsis",e,r==="search"&&"pr-8"),type:r==="search"?"text":r}),r==="search"&&t&&St.jsx("button",{type:"button",className:"absolute p-1 top-3 right-1","aria-label":"Clear",tabIndex:0,onClick:()=>{i.current&&(i.current.value="")},children:St.jsx(GM,{width:24,height:24})}),n&&St.jsx("p",{className:"absolute top-[calc(100%+4px)] text-error font-medium tracking-widest pl-3 text-xs animate-[fade-in_300ms_ease-out]",children:n})]})};var $e=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof Zt.global<"u"?Zt.global:typeof self<"u"?self:{};function Yi(r){return r&&r.__esModule&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r}function Oh(r){if(r.__esModule)return r;var t=r.default;if(typeof t=="function"){var e=function n(){return this instanceof n?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};e.prototype=t.prototype}else e={};return Object.defineProperty(e,"__esModule",{value:!0}),Object.keys(r).forEach(function(n){var s=Object.getOwnPropertyDescriptor(r,n);Object.defineProperty(e,n,s.get?s:{enumerable:!0,get:function(){return r[n]}})}),e}for(var Ae={},O2={byteLength:function(r){var t=e5(r),e=t[0],n=t[1];return 3*(e+n)/4-n}},YM=O2.toByteArray=function(r){var t,e,n=e5(r),s=n[0],i=n[1],c=new xz(function(m,v,_){return 3*(v+_)/4-_}(0,s,i)),l=0,p=i>0?s-4:s;for(e=0;e<p;e+=4)t=Li[r.charCodeAt(e)]<<18|Li[r.charCodeAt(e+1)]<<12|Li[r.charCodeAt(e+2)]<<6|Li[r.charCodeAt(e+3)],c[l++]=t>>16&255,c[l++]=t>>8&255,c[l++]=255&t;return i===2&&(t=Li[r.charCodeAt(e)]<<2|Li[r.charCodeAt(e+1)]>>4,c[l++]=255&t),i===1&&(t=Li[r.charCodeAt(e)]<<10|Li[r.charCodeAt(e+1)]<<4|Li[r.charCodeAt(e+2)]>>2,c[l++]=t>>8&255,c[l++]=255&t),c},U2=O2.fromByteArray=function(r){for(var t,e=r.length,n=e%3,s=[],i=16383,c=0,l=e-n;c<l;c+=i)s.push(_z(r,c,c+i>l?l:c+i));return n===1?(t=r[e-1],s.push(To[t>>2]+To[t<<4&63]+"==")):n===2&&(t=(r[e-2]<<8)+r[e-1],s.push(To[t>>10]+To[t>>4&63]+To[t<<2&63]+"=")),s.join("")},To=[],Li=[],xz=typeof Uint8Array<"u"?Uint8Array:Array,t5="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",gu=0;gu<64;++gu)To[gu]=t5[gu],Li[t5.charCodeAt(gu)]=gu;function e5(r){var t=r.length;if(t%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var e=r.indexOf("=");return e===-1&&(e=t),[e,e===t?0:4-e%4]}function _z(r,t,e){for(var n,s,i=[],c=t;c<e;c+=3)n=(r[c]<<16&16711680)+(r[c+1]<<8&65280)+(255&r[c+2]),i.push(To[(s=n)>>18&63]+To[s>>12&63]+To[s>>6&63]+To[63&s]);return i.join("")}Li["-".charCodeAt(0)]=62,Li["_".charCodeAt(0)]=63;var Tp={};/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */function vl(r){if(!Number.isSafeInteger(r)||r<0)throw new Error(`Wrong positive integer: ${r}`)}function ey(r,...t){if(!(r instanceof Uint8Array))throw new Error("Expected Uint8Array");if(t.length>0&&!t.includes(r.length))throw new Error(`Expected Uint8Array of length ${t}, not of length=${r.length}`)}function uf(r,t=!0){if(r.destroyed)throw new Error("Hash instance has been destroyed");if(t&&r.finished)throw new Error("Hash#digest() has already been called")}function XM(r,t){ey(r);const e=t.outputLen;if(r.length<e)throw new Error(`digestInto() expects output buffer of length at least ${e}`)}Tp.read=function(r,t,e,n,s){var i,c,l=8*s-n-1,p=(1<<l)-1,m=p>>1,v=-7,_=e?s-1:0,E=e?-1:1,w=r[t+_];for(_+=E,i=w&(1<<-v)-1,w>>=-v,v+=l;v>0;i=256*i+r[t+_],_+=E,v-=8);for(c=i&(1<<-v)-1,i>>=-v,v+=n;v>0;c=256*c+r[t+_],_+=E,v-=8);if(i===0)i=1-m;else{if(i===p)return c?NaN:1/0*(w?-1:1);c+=Math.pow(2,n),i-=m}return(w?-1:1)*c*Math.pow(2,i-n)},Tp.write=function(r,t,e,n,s,i){var c,l,p,m=8*i-s-1,v=(1<<m)-1,_=v>>1,E=s===23?Math.pow(2,-24)-Math.pow(2,-77):0,w=n?0:i-1,x=n?1:-1,A=t<0||t===0&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(l=isNaN(t)?1:0,c=v):(c=Math.floor(Math.log(t)/Math.LN2),t*(p=Math.pow(2,-c))<1&&(c--,p*=2),(t+=c+_>=1?E/p:E*Math.pow(2,1-_))*p>=2&&(c++,p/=2),c+_>=v?(l=0,c=v):c+_>=1?(l=(t*p-1)*Math.pow(2,s),c+=_):(l=t*Math.pow(2,_-1)*Math.pow(2,s),c=0));s>=8;r[e+w]=255&l,w+=x,l/=256,s-=8);for(c=c<<s|l,m+=s;m>0;r[e+w]=255&c,w+=x,c/=256,m-=8);r[e+w-x]|=128*A},function(r){const t=O2,e=Tp,n=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null;r.Buffer=c,r.SlowBuffer=function(k){return+k!=k&&(k=0),c.alloc(+k)},r.INSPECT_MAX_BYTES=50;const s=2147483647;function i(k){if(k>s)throw new RangeError('The value "'+k+'" is invalid for option "size"');const T=new Uint8Array(k);return Object.setPrototypeOf(T,c.prototype),T}function c(k,T,L){if(typeof k=="number"){if(typeof T=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return m(k)}return l(k,T,L)}function l(k,T,L){if(typeof k=="string")return function(Q,ot){if(typeof ot=="string"&&ot!==""||(ot="utf8"),!c.isEncoding(ot))throw new TypeError("Unknown encoding: "+ot);const qt=0|w(Q,ot);let It=i(qt);const xt=It.write(Q,ot);return xt!==qt&&(It=It.slice(0,xt)),It}(k,T);if(ArrayBuffer.isView(k))return function(Q){if(Ft(Q,Uint8Array)){const ot=new Uint8Array(Q);return _(ot.buffer,ot.byteOffset,ot.byteLength)}return v(Q)}(k);if(k==null)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof k);if(Ft(k,ArrayBuffer)||k&&Ft(k.buffer,ArrayBuffer)||typeof SharedArrayBuffer<"u"&&(Ft(k,SharedArrayBuffer)||k&&Ft(k.buffer,SharedArrayBuffer)))return _(k,T,L);if(typeof k=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');const j=k.valueOf&&k.valueOf();if(j!=null&&j!==k)return c.from(j,T,L);const rt=function(Q){if(c.isBuffer(Q)){const ot=0|E(Q.length),qt=i(ot);return qt.length===0||Q.copy(qt,0,0,ot),qt}if(Q.length!==void 0)return typeof Q.length!="number"||lt(Q.length)?i(0):v(Q);if(Q.type==="Buffer"&&Array.isArray(Q.data))return v(Q.data)}(k);if(rt)return rt;if(typeof Symbol<"u"&&Symbol.toPrimitive!=null&&typeof k[Symbol.toPrimitive]=="function")return c.from(k[Symbol.toPrimitive]("string"),T,L);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof k)}function p(k){if(typeof k!="number")throw new TypeError('"size" argument must be of type number');if(k<0)throw new RangeError('The value "'+k+'" is invalid for option "size"')}function m(k){return p(k),i(k<0?0:0|E(k))}function v(k){const T=k.length<0?0:0|E(k.length),L=i(T);for(let j=0;j<T;j+=1)L[j]=255&k[j];return L}function _(k,T,L){if(T<0||k.byteLength<T)throw new RangeError('"offset" is outside of buffer bounds');if(k.byteLength<T+(L||0))throw new RangeError('"length" is outside of buffer bounds');let j;return j=T===void 0&&L===void 0?new Uint8Array(k):L===void 0?new Uint8Array(k,T):new Uint8Array(k,T,L),Object.setPrototypeOf(j,c.prototype),j}function E(k){if(k>=s)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+s.toString(16)+" bytes");return 0|k}function w(k,T){if(c.isBuffer(k))return k.length;if(ArrayBuffer.isView(k)||Ft(k,ArrayBuffer))return k.byteLength;if(typeof k!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof k);const L=k.length,j=arguments.length>2&&arguments[2]===!0;if(!j&&L===0)return 0;let rt=!1;for(;;)switch(T){case"ascii":case"latin1":case"binary":return L;case"utf8":case"utf-8":return Bt(k).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*L;case"hex":return L>>>1;case"base64":return yt(k).length;default:if(rt)return j?-1:Bt(k).length;T=(""+T).toLowerCase(),rt=!0}}function x(k,T,L){let j=!1;if((T===void 0||T<0)&&(T=0),T>this.length||((L===void 0||L>this.length)&&(L=this.length),L<=0)||(L>>>=0)<=(T>>>=0))return"";for(k||(k="utf8");;)switch(k){case"hex":return o(this,T,L);case"utf8":case"utf-8":return nt(this,T,L);case"ascii":return M(this,T,L);case"latin1":case"binary":return d(this,T,L);case"base64":return tt(this,T,L);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return a(this,T,L);default:if(j)throw new TypeError("Unknown encoding: "+k);k=(k+"").toLowerCase(),j=!0}}function A(k,T,L){const j=k[T];k[T]=k[L],k[L]=j}function B(k,T,L,j,rt){if(k.length===0)return-1;if(typeof L=="string"?(j=L,L=0):L>2147483647?L=2147483647:L<-2147483648&&(L=-2147483648),lt(L=+L)&&(L=rt?0:k.length-1),L<0&&(L=k.length+L),L>=k.length){if(rt)return-1;L=k.length-1}else if(L<0){if(!rt)return-1;L=0}if(typeof T=="string"&&(T=c.from(T,j)),c.isBuffer(T))return T.length===0?-1:P(k,T,L,j,rt);if(typeof T=="number")return T&=255,typeof Uint8Array.prototype.indexOf=="function"?rt?Uint8Array.prototype.indexOf.call(k,T,L):Uint8Array.prototype.lastIndexOf.call(k,T,L):P(k,[T],L,j,rt);throw new TypeError("val must be string, number or Buffer")}function P(k,T,L,j,rt){let Q,ot=1,qt=k.length,It=T.length;if(j!==void 0&&((j=String(j).toLowerCase())==="ucs2"||j==="ucs-2"||j==="utf16le"||j==="utf-16le")){if(k.length<2||T.length<2)return-1;ot=2,qt/=2,It/=2,L/=2}function xt(Qt,Ct){return ot===1?Qt[Ct]:Qt.readUInt16BE(Ct*ot)}if(rt){let Qt=-1;for(Q=L;Q<qt;Q++)if(xt(k,Q)===xt(T,Qt===-1?0:Q-Qt)){if(Qt===-1&&(Qt=Q),Q-Qt+1===It)return Qt*ot}else Qt!==-1&&(Q-=Q-Qt),Qt=-1}else for(L+It>qt&&(L=qt-It),Q=L;Q>=0;Q--){let Qt=!0;for(let Ct=0;Ct<It;Ct++)if(xt(k,Q+Ct)!==xt(T,Ct)){Qt=!1;break}if(Qt)return Q}return-1}function R(k,T,L,j){L=Number(L)||0;const rt=k.length-L;j?(j=Number(j))>rt&&(j=rt):j=rt;const Q=T.length;let ot;for(j>Q/2&&(j=Q/2),ot=0;ot<j;++ot){const qt=parseInt(T.substr(2*ot,2),16);if(lt(qt))return ot;k[L+ot]=qt}return ot}function C(k,T,L,j){return pt(Bt(T,k.length-L),k,L,j)}function O(k,T,L,j){return pt(function(rt){const Q=[];for(let ot=0;ot<rt.length;++ot)Q.push(255&rt.charCodeAt(ot));return Q}(T),k,L,j)}function z(k,T,L,j){return pt(yt(T),k,L,j)}function H(k,T,L,j){return pt(function(rt,Q){let ot,qt,It;const xt=[];for(let Qt=0;Qt<rt.length&&!((Q-=2)<0);++Qt)ot=rt.charCodeAt(Qt),qt=ot>>8,It=ot%256,xt.push(It),xt.push(qt);return xt}(T,k.length-L),k,L,j)}function tt(k,T,L){return T===0&&L===k.length?t.fromByteArray(k):t.fromByteArray(k.slice(T,L))}function nt(k,T,L){L=Math.min(k.length,L);const j=[];let rt=T;for(;rt<L;){const Q=k[rt];let ot=null,qt=Q>239?4:Q>223?3:Q>191?2:1;if(rt+qt<=L){let It,xt,Qt,Ct;switch(qt){case 1:Q<128&&(ot=Q);break;case 2:It=k[rt+1],(192&It)==128&&(Ct=(31&Q)<<6|63&It,Ct>127&&(ot=Ct));break;case 3:It=k[rt+1],xt=k[rt+2],(192&It)==128&&(192&xt)==128&&(Ct=(15&Q)<<12|(63&It)<<6|63&xt,Ct>2047&&(Ct<55296||Ct>57343)&&(ot=Ct));break;case 4:It=k[rt+1],xt=k[rt+2],Qt=k[rt+3],(192&It)==128&&(192&xt)==128&&(192&Qt)==128&&(Ct=(15&Q)<<18|(63&It)<<12|(63&xt)<<6|63&Qt,Ct>65535&&Ct<1114112&&(ot=Ct))}}ot===null?(ot=65533,qt=1):ot>65535&&(ot-=65536,j.push(ot>>>10&1023|55296),ot=56320|1023&ot),j.push(ot),rt+=qt}return function(Q){const ot=Q.length;if(ot<=G)return String.fromCharCode.apply(String,Q);let qt="",It=0;for(;It<ot;)qt+=String.fromCharCode.apply(String,Q.slice(It,It+=G));return qt}(j)}r.kMaxLength=s,c.TYPED_ARRAY_SUPPORT=function(){try{const k=new Uint8Array(1),T={foo:function(){return 42}};return Object.setPrototypeOf(T,Uint8Array.prototype),Object.setPrototypeOf(k,T),k.foo()===42}catch{return!1}}(),c.TYPED_ARRAY_SUPPORT||typeof console>"u"||typeof console.error!="function"||console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support."),Object.defineProperty(c.prototype,"parent",{enumerable:!0,get:function(){if(c.isBuffer(this))return this.buffer}}),Object.defineProperty(c.prototype,"offset",{enumerable:!0,get:function(){if(c.isBuffer(this))return this.byteOffset}}),c.poolSize=8192,c.from=function(k,T,L){return l(k,T,L)},Object.setPrototypeOf(c.prototype,Uint8Array.prototype),Object.setPrototypeOf(c,Uint8Array),c.alloc=function(k,T,L){return function(j,rt,Q){return p(j),j<=0?i(j):rt!==void 0?typeof Q=="string"?i(j).fill(rt,Q):i(j).fill(rt):i(j)}(k,T,L)},c.allocUnsafe=function(k){return m(k)},c.allocUnsafeSlow=function(k){return m(k)},c.isBuffer=function(k){return k!=null&&k._isBuffer===!0&&k!==c.prototype},c.compare=function(k,T){if(Ft(k,Uint8Array)&&(k=c.from(k,k.offset,k.byteLength)),Ft(T,Uint8Array)&&(T=c.from(T,T.offset,T.byteLength)),!c.isBuffer(k)||!c.isBuffer(T))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(k===T)return 0;let L=k.length,j=T.length;for(let rt=0,Q=Math.min(L,j);rt<Q;++rt)if(k[rt]!==T[rt]){L=k[rt],j=T[rt];break}return L<j?-1:j<L?1:0},c.isEncoding=function(k){switch(String(k).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},c.concat=function(k,T){if(!Array.isArray(k))throw new TypeError('"list" argument must be an Array of Buffers');if(k.length===0)return c.alloc(0);let L;if(T===void 0)for(T=0,L=0;L<k.length;++L)T+=k[L].length;const j=c.allocUnsafe(T);let rt=0;for(L=0;L<k.length;++L){let Q=k[L];if(Ft(Q,Uint8Array))rt+Q.length>j.length?(c.isBuffer(Q)||(Q=c.from(Q)),Q.copy(j,rt)):Uint8Array.prototype.set.call(j,Q,rt);else{if(!c.isBuffer(Q))throw new TypeError('"list" argument must be an Array of Buffers');Q.copy(j,rt)}rt+=Q.length}return j},c.byteLength=w,c.prototype._isBuffer=!0,c.prototype.swap16=function(){const k=this.length;if(k%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(let T=0;T<k;T+=2)A(this,T,T+1);return this},c.prototype.swap32=function(){const k=this.length;if(k%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(let T=0;T<k;T+=4)A(this,T,T+3),A(this,T+1,T+2);return this},c.prototype.swap64=function(){const k=this.length;if(k%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(let T=0;T<k;T+=8)A(this,T,T+7),A(this,T+1,T+6),A(this,T+2,T+5),A(this,T+3,T+4);return this},c.prototype.toString=function(){const k=this.length;return k===0?"":arguments.length===0?nt(this,0,k):x.apply(this,arguments)},c.prototype.toLocaleString=c.prototype.toString,c.prototype.equals=function(k){if(!c.isBuffer(k))throw new TypeError("Argument must be a Buffer");return this===k||c.compare(this,k)===0},c.prototype.inspect=function(){let k="";const T=r.INSPECT_MAX_BYTES;return k=this.toString("hex",0,T).replace(/(.{2})/g,"$1 ").trim(),this.length>T&&(k+=" ... "),"<Buffer "+k+">"},n&&(c.prototype[n]=c.prototype.inspect),c.prototype.compare=function(k,T,L,j,rt){if(Ft(k,Uint8Array)&&(k=c.from(k,k.offset,k.byteLength)),!c.isBuffer(k))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof k);if(T===void 0&&(T=0),L===void 0&&(L=k?k.length:0),j===void 0&&(j=0),rt===void 0&&(rt=this.length),T<0||L>k.length||j<0||rt>this.length)throw new RangeError("out of range index");if(j>=rt&&T>=L)return 0;if(j>=rt)return-1;if(T>=L)return 1;if(this===k)return 0;let Q=(rt>>>=0)-(j>>>=0),ot=(L>>>=0)-(T>>>=0);const qt=Math.min(Q,ot),It=this.slice(j,rt),xt=k.slice(T,L);for(let Qt=0;Qt<qt;++Qt)if(It[Qt]!==xt[Qt]){Q=It[Qt],ot=xt[Qt];break}return Q<ot?-1:ot<Q?1:0},c.prototype.includes=function(k,T,L){return this.indexOf(k,T,L)!==-1},c.prototype.indexOf=function(k,T,L){return B(this,k,T,L,!0)},c.prototype.lastIndexOf=function(k,T,L){return B(this,k,T,L,!1)},c.prototype.write=function(k,T,L,j){if(T===void 0)j="utf8",L=this.length,T=0;else if(L===void 0&&typeof T=="string")j=T,L=this.length,T=0;else{if(!isFinite(T))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");T>>>=0,isFinite(L)?(L>>>=0,j===void 0&&(j="utf8")):(j=L,L=void 0)}const rt=this.length-T;if((L===void 0||L>rt)&&(L=rt),k.length>0&&(L<0||T<0)||T>this.length)throw new RangeError("Attempt to write outside buffer bounds");j||(j="utf8");let Q=!1;for(;;)switch(j){case"hex":return R(this,k,T,L);case"utf8":case"utf-8":return C(this,k,T,L);case"ascii":case"latin1":case"binary":return O(this,k,T,L);case"base64":return z(this,k,T,L);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return H(this,k,T,L);default:if(Q)throw new TypeError("Unknown encoding: "+j);j=(""+j).toLowerCase(),Q=!0}},c.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};const G=4096;function M(k,T,L){let j="";L=Math.min(k.length,L);for(let rt=T;rt<L;++rt)j+=String.fromCharCode(127&k[rt]);return j}function d(k,T,L){let j="";L=Math.min(k.length,L);for(let rt=T;rt<L;++rt)j+=String.fromCharCode(k[rt]);return j}function o(k,T,L){const j=k.length;(!T||T<0)&&(T=0),(!L||L<0||L>j)&&(L=j);let rt="";for(let Q=T;Q<L;++Q)rt+=ct[k[Q]];return rt}function a(k,T,L){const j=k.slice(T,L);let rt="";for(let Q=0;Q<j.length-1;Q+=2)rt+=String.fromCharCode(j[Q]+256*j[Q+1]);return rt}function f(k,T,L){if(k%1!=0||k<0)throw new RangeError("offset is not uint");if(k+T>L)throw new RangeError("Trying to access beyond buffer length")}function h(k,T,L,j,rt,Q){if(!c.isBuffer(k))throw new TypeError('"buffer" argument must be a Buffer instance');if(T>rt||T<Q)throw new RangeError('"value" argument is out of bounds');if(L+j>k.length)throw new RangeError("Index out of range")}function g(k,T,L,j,rt){F(T,j,rt,k,L,7);let Q=Number(T&BigInt(4294967295));k[L++]=Q,Q>>=8,k[L++]=Q,Q>>=8,k[L++]=Q,Q>>=8,k[L++]=Q;let ot=Number(T>>BigInt(32)&BigInt(4294967295));return k[L++]=ot,ot>>=8,k[L++]=ot,ot>>=8,k[L++]=ot,ot>>=8,k[L++]=ot,L}function S(k,T,L,j,rt){F(T,j,rt,k,L,7);let Q=Number(T&BigInt(4294967295));k[L+7]=Q,Q>>=8,k[L+6]=Q,Q>>=8,k[L+5]=Q,Q>>=8,k[L+4]=Q;let ot=Number(T>>BigInt(32)&BigInt(4294967295));return k[L+3]=ot,ot>>=8,k[L+2]=ot,ot>>=8,k[L+1]=ot,ot>>=8,k[L]=ot,L+8}function I(k,T,L,j,rt,Q){if(L+j>k.length)throw new RangeError("Index out of range");if(L<0)throw new RangeError("Index out of range")}function y(k,T,L,j,rt){return T=+T,L>>>=0,rt||I(k,0,L,4),e.write(k,T,L,j,23,4),L+4}function u(k,T,L,j,rt){return T=+T,L>>>=0,rt||I(k,0,L,8),e.write(k,T,L,j,52,8),L+8}c.prototype.slice=function(k,T){const L=this.length;(k=~~k)<0?(k+=L)<0&&(k=0):k>L&&(k=L),(T=T===void 0?L:~~T)<0?(T+=L)<0&&(T=0):T>L&&(T=L),T<k&&(T=k);const j=this.subarray(k,T);return Object.setPrototypeOf(j,c.prototype),j},c.prototype.readUintLE=c.prototype.readUIntLE=function(k,T,L){k>>>=0,T>>>=0,L||f(k,T,this.length);let j=this[k],rt=1,Q=0;for(;++Q<T&&(rt*=256);)j+=this[k+Q]*rt;return j},c.prototype.readUintBE=c.prototype.readUIntBE=function(k,T,L){k>>>=0,T>>>=0,L||f(k,T,this.length);let j=this[k+--T],rt=1;for(;T>0&&(rt*=256);)j+=this[k+--T]*rt;return j},c.prototype.readUint8=c.prototype.readUInt8=function(k,T){return k>>>=0,T||f(k,1,this.length),this[k]},c.prototype.readUint16LE=c.prototype.readUInt16LE=function(k,T){return k>>>=0,T||f(k,2,this.length),this[k]|this[k+1]<<8},c.prototype.readUint16BE=c.prototype.readUInt16BE=function(k,T){return k>>>=0,T||f(k,2,this.length),this[k]<<8|this[k+1]},c.prototype.readUint32LE=c.prototype.readUInt32LE=function(k,T){return k>>>=0,T||f(k,4,this.length),(this[k]|this[k+1]<<8|this[k+2]<<16)+16777216*this[k+3]},c.prototype.readUint32BE=c.prototype.readUInt32BE=function(k,T){return k>>>=0,T||f(k,4,this.length),16777216*this[k]+(this[k+1]<<16|this[k+2]<<8|this[k+3])},c.prototype.readBigUInt64LE=Tt(function(k){q(k>>>=0,"offset");const T=this[k],L=this[k+7];T!==void 0&&L!==void 0||it(k,this.length-8);const j=T+256*this[++k]+65536*this[++k]+this[++k]*2**24,rt=this[++k]+256*this[++k]+65536*this[++k]+L*2**24;return BigInt(j)+(BigInt(rt)<<BigInt(32))}),c.prototype.readBigUInt64BE=Tt(function(k){q(k>>>=0,"offset");const T=this[k],L=this[k+7];T!==void 0&&L!==void 0||it(k,this.length-8);const j=T*2**24+65536*this[++k]+256*this[++k]+this[++k],rt=this[++k]*2**24+65536*this[++k]+256*this[++k]+L;return(BigInt(j)<<BigInt(32))+BigInt(rt)}),c.prototype.readIntLE=function(k,T,L){k>>>=0,T>>>=0,L||f(k,T,this.length);let j=this[k],rt=1,Q=0;for(;++Q<T&&(rt*=256);)j+=this[k+Q]*rt;return rt*=128,j>=rt&&(j-=Math.pow(2,8*T)),j},c.prototype.readIntBE=function(k,T,L){k>>>=0,T>>>=0,L||f(k,T,this.length);let j=T,rt=1,Q=this[k+--j];for(;j>0&&(rt*=256);)Q+=this[k+--j]*rt;return rt*=128,Q>=rt&&(Q-=Math.pow(2,8*T)),Q},c.prototype.readInt8=function(k,T){return k>>>=0,T||f(k,1,this.length),128&this[k]?-1*(255-this[k]+1):this[k]},c.prototype.readInt16LE=function(k,T){k>>>=0,T||f(k,2,this.length);const L=this[k]|this[k+1]<<8;return 32768&L?4294901760|L:L},c.prototype.readInt16BE=function(k,T){k>>>=0,T||f(k,2,this.length);const L=this[k+1]|this[k]<<8;return 32768&L?4294901760|L:L},c.prototype.readInt32LE=function(k,T){return k>>>=0,T||f(k,4,this.length),this[k]|this[k+1]<<8|this[k+2]<<16|this[k+3]<<24},c.prototype.readInt32BE=function(k,T){return k>>>=0,T||f(k,4,this.length),this[k]<<24|this[k+1]<<16|this[k+2]<<8|this[k+3]},c.prototype.readBigInt64LE=Tt(function(k){q(k>>>=0,"offset");const T=this[k],L=this[k+7];T!==void 0&&L!==void 0||it(k,this.length-8);const j=this[k+4]+256*this[k+5]+65536*this[k+6]+(L<<24);return(BigInt(j)<<BigInt(32))+BigInt(T+256*this[++k]+65536*this[++k]+this[++k]*2**24)}),c.prototype.readBigInt64BE=Tt(function(k){q(k>>>=0,"offset");const T=this[k],L=this[k+7];T!==void 0&&L!==void 0||it(k,this.length-8);const j=(T<<24)+65536*this[++k]+256*this[++k]+this[++k];return(BigInt(j)<<BigInt(32))+BigInt(this[++k]*2**24+65536*this[++k]+256*this[++k]+L)}),c.prototype.readFloatLE=function(k,T){return k>>>=0,T||f(k,4,this.length),e.read(this,k,!0,23,4)},c.prototype.readFloatBE=function(k,T){return k>>>=0,T||f(k,4,this.length),e.read(this,k,!1,23,4)},c.prototype.readDoubleLE=function(k,T){return k>>>=0,T||f(k,8,this.length),e.read(this,k,!0,52,8)},c.prototype.readDoubleBE=function(k,T){return k>>>=0,T||f(k,8,this.length),e.read(this,k,!1,52,8)},c.prototype.writeUintLE=c.prototype.writeUIntLE=function(k,T,L,j){k=+k,T>>>=0,L>>>=0,!j&&h(this,k,T,L,Math.pow(2,8*L)-1,0);let rt=1,Q=0;for(this[T]=255&k;++Q<L&&(rt*=256);)this[T+Q]=k/rt&255;return T+L},c.prototype.writeUintBE=c.prototype.writeUIntBE=function(k,T,L,j){k=+k,T>>>=0,L>>>=0,!j&&h(this,k,T,L,Math.pow(2,8*L)-1,0);let rt=L-1,Q=1;for(this[T+rt]=255&k;--rt>=0&&(Q*=256);)this[T+rt]=k/Q&255;return T+L},c.prototype.writeUint8=c.prototype.writeUInt8=function(k,T,L){return k=+k,T>>>=0,L||h(this,k,T,1,255,0),this[T]=255&k,T+1},c.prototype.writeUint16LE=c.prototype.writeUInt16LE=function(k,T,L){return k=+k,T>>>=0,L||h(this,k,T,2,65535,0),this[T]=255&k,this[T+1]=k>>>8,T+2},c.prototype.writeUint16BE=c.prototype.writeUInt16BE=function(k,T,L){return k=+k,T>>>=0,L||h(this,k,T,2,65535,0),this[T]=k>>>8,this[T+1]=255&k,T+2},c.prototype.writeUint32LE=c.prototype.writeUInt32LE=function(k,T,L){return k=+k,T>>>=0,L||h(this,k,T,4,4294967295,0),this[T+3]=k>>>24,this[T+2]=k>>>16,this[T+1]=k>>>8,this[T]=255&k,T+4},c.prototype.writeUint32BE=c.prototype.writeUInt32BE=function(k,T,L){return k=+k,T>>>=0,L||h(this,k,T,4,4294967295,0),this[T]=k>>>24,this[T+1]=k>>>16,this[T+2]=k>>>8,this[T+3]=255&k,T+4},c.prototype.writeBigUInt64LE=Tt(function(k,T=0){return g(this,k,T,BigInt(0),BigInt("0xffffffffffffffff"))}),c.prototype.writeBigUInt64BE=Tt(function(k,T=0){return S(this,k,T,BigInt(0),BigInt("0xffffffffffffffff"))}),c.prototype.writeIntLE=function(k,T,L,j){if(k=+k,T>>>=0,!j){const qt=Math.pow(2,8*L-1);h(this,k,T,L,qt-1,-qt)}let rt=0,Q=1,ot=0;for(this[T]=255&k;++rt<L&&(Q*=256);)k<0&&ot===0&&this[T+rt-1]!==0&&(ot=1),this[T+rt]=(k/Q>>0)-ot&255;return T+L},c.prototype.writeIntBE=function(k,T,L,j){if(k=+k,T>>>=0,!j){const qt=Math.pow(2,8*L-1);h(this,k,T,L,qt-1,-qt)}let rt=L-1,Q=1,ot=0;for(this[T+rt]=255&k;--rt>=0&&(Q*=256);)k<0&&ot===0&&this[T+rt+1]!==0&&(ot=1),this[T+rt]=(k/Q>>0)-ot&255;return T+L},c.prototype.writeInt8=function(k,T,L){return k=+k,T>>>=0,L||h(this,k,T,1,127,-128),k<0&&(k=255+k+1),this[T]=255&k,T+1},c.prototype.writeInt16LE=function(k,T,L){return k=+k,T>>>=0,L||h(this,k,T,2,32767,-32768),this[T]=255&k,this[T+1]=k>>>8,T+2},c.prototype.writeInt16BE=function(k,T,L){return k=+k,T>>>=0,L||h(this,k,T,2,32767,-32768),this[T]=k>>>8,this[T+1]=255&k,T+2},c.prototype.writeInt32LE=function(k,T,L){return k=+k,T>>>=0,L||h(this,k,T,4,2147483647,-2147483648),this[T]=255&k,this[T+1]=k>>>8,this[T+2]=k>>>16,this[T+3]=k>>>24,T+4},c.prototype.writeInt32BE=function(k,T,L){return k=+k,T>>>=0,L||h(this,k,T,4,2147483647,-2147483648),k<0&&(k=4294967295+k+1),this[T]=k>>>24,this[T+1]=k>>>16,this[T+2]=k>>>8,this[T+3]=255&k,T+4},c.prototype.writeBigInt64LE=Tt(function(k,T=0){return g(this,k,T,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),c.prototype.writeBigInt64BE=Tt(function(k,T=0){return S(this,k,T,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),c.prototype.writeFloatLE=function(k,T,L){return y(this,k,T,!0,L)},c.prototype.writeFloatBE=function(k,T,L){return y(this,k,T,!1,L)},c.prototype.writeDoubleLE=function(k,T,L){return u(this,k,T,!0,L)},c.prototype.writeDoubleBE=function(k,T,L){return u(this,k,T,!1,L)},c.prototype.copy=function(k,T,L,j){if(!c.isBuffer(k))throw new TypeError("argument should be a Buffer");if(L||(L=0),j||j===0||(j=this.length),T>=k.length&&(T=k.length),T||(T=0),j>0&&j<L&&(j=L),j===L||k.length===0||this.length===0)return 0;if(T<0)throw new RangeError("targetStart out of bounds");if(L<0||L>=this.length)throw new RangeError("Index out of range");if(j<0)throw new RangeError("sourceEnd out of bounds");j>this.length&&(j=this.length),k.length-T<j-L&&(j=k.length-T+L);const rt=j-L;return this===k&&typeof Uint8Array.prototype.copyWithin=="function"?this.copyWithin(T,L,j):Uint8Array.prototype.set.call(k,this.subarray(L,j),T),rt},c.prototype.fill=function(k,T,L,j){if(typeof k=="string"){if(typeof T=="string"?(j=T,T=0,L=this.length):typeof L=="string"&&(j=L,L=this.length),j!==void 0&&typeof j!="string")throw new TypeError("encoding must be a string");if(typeof j=="string"&&!c.isEncoding(j))throw new TypeError("Unknown encoding: "+j);if(k.length===1){const Q=k.charCodeAt(0);(j==="utf8"&&Q<128||j==="latin1")&&(k=Q)}}else typeof k=="number"?k&=255:typeof k=="boolean"&&(k=Number(k));if(T<0||this.length<T||this.length<L)throw new RangeError("Out of range index");if(L<=T)return this;let rt;if(T>>>=0,L=L===void 0?this.length:L>>>0,k||(k=0),typeof k=="number")for(rt=T;rt<L;++rt)this[rt]=k;else{const Q=c.isBuffer(k)?k:c.from(k,j),ot=Q.length;if(ot===0)throw new TypeError('The value "'+k+'" is invalid for argument "value"');for(rt=0;rt<L-T;++rt)this[rt+T]=Q[rt%ot]}return this};const b={};function D(k,T,L){b[k]=class extends L{constructor(){super(),Object.defineProperty(this,"message",{value:T.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${k}]`,this.stack,delete this.name}get code(){return k}set code(j){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:j,writable:!0})}toString(){return`${this.name} [${k}]: ${this.message}`}}}function Z(k){let T="",L=k.length;const j=k[0]==="-"?1:0;for(;L>=j+4;L-=3)T=`_${k.slice(L-3,L)}${T}`;return`${k.slice(0,L)}${T}`}function F(k,T,L,j,rt,Q){if(k>L||k<T){const ot=typeof T=="bigint"?"n":"";let qt;throw qt=Q>3?T===0||T===BigInt(0)?`>= 0${ot} and < 2${ot} ** ${8*(Q+1)}${ot}`:`>= -(2${ot} ** ${8*(Q+1)-1}${ot}) and < 2 ** ${8*(Q+1)-1}${ot}`:`>= ${T}${ot} and <= ${L}${ot}`,new b.ERR_OUT_OF_RANGE("value",qt,k)}(function(ot,qt,It){q(qt,"offset"),ot[qt]!==void 0&&ot[qt+It]!==void 0||it(qt,ot.length-(It+1))})(j,rt,Q)}function q(k,T){if(typeof k!="number")throw new b.ERR_INVALID_ARG_TYPE(T,"number",k)}function it(k,T,L){throw Math.floor(k)!==k?(q(k,L),new b.ERR_OUT_OF_RANGE(L||"offset","an integer",k)):T<0?new b.ERR_BUFFER_OUT_OF_BOUNDS:new b.ERR_OUT_OF_RANGE(L||"offset",`>= ${L?1:0} and <= ${T}`,k)}D("ERR_BUFFER_OUT_OF_BOUNDS",function(k){return k?`${k} is outside of buffer bounds`:"Attempt to access memory outside buffer bounds"},RangeError),D("ERR_INVALID_ARG_TYPE",function(k,T){return`The "${k}" argument must be of type number. Received type ${typeof T}`},TypeError),D("ERR_OUT_OF_RANGE",function(k,T,L){let j=`The value of "${k}" is out of range.`,rt=L;return Number.isInteger(L)&&Math.abs(L)>2**32?rt=Z(String(L)):typeof L=="bigint"&&(rt=String(L),(L>BigInt(2)**BigInt(32)||L<-(BigInt(2)**BigInt(32)))&&(rt=Z(rt)),rt+="n"),j+=` It must be ${T}. Received ${rt}`,j},RangeError);const at=/[^+/0-9A-Za-z-_]/g;function Bt(k,T){let L;T=T||1/0;const j=k.length;let rt=null;const Q=[];for(let ot=0;ot<j;++ot){if(L=k.charCodeAt(ot),L>55295&&L<57344){if(!rt){if(L>56319){(T-=3)>-1&&Q.push(239,191,189);continue}if(ot+1===j){(T-=3)>-1&&Q.push(239,191,189);continue}rt=L;continue}if(L<56320){(T-=3)>-1&&Q.push(239,191,189),rt=L;continue}L=65536+(rt-55296<<10|L-56320)}else rt&&(T-=3)>-1&&Q.push(239,191,189);if(rt=null,L<128){if((T-=1)<0)break;Q.push(L)}else if(L<2048){if((T-=2)<0)break;Q.push(L>>6|192,63&L|128)}else if(L<65536){if((T-=3)<0)break;Q.push(L>>12|224,L>>6&63|128,63&L|128)}else{if(!(L<1114112))throw new Error("Invalid code point");if((T-=4)<0)break;Q.push(L>>18|240,L>>12&63|128,L>>6&63|128,63&L|128)}}return Q}function yt(k){return t.toByteArray(function(T){if((T=(T=T.split("=")[0]).trim().replace(at,"")).length<2)return"";for(;T.length%4!=0;)T+="=";return T}(k))}function pt(k,T,L,j){let rt;for(rt=0;rt<j&&!(rt+L>=T.length||rt>=k.length);++rt)T[rt+L]=k[rt];return rt}function Ft(k,T){return k instanceof T||k!=null&&k.constructor!=null&&k.constructor.name!=null&&k.constructor.name===T.name}function lt(k){return k!=k}const ct=function(){const k="0123456789abcdef",T=new Array(256);for(let L=0;L<16;++L){const j=16*L;for(let rt=0;rt<16;++rt)T[j+rt]=k[L]+k[rt]}return T}();function Tt(k){return typeof BigInt>"u"?kt:k}function kt(){throw new Error("BigInt not supported")}}(Ae);const Lp=typeof globalThis=="object"&&"crypto"in globalThis?globalThis.crypto:void 0,JM=r=>r instanceof Uint8Array,Op=r=>new DataView(r.buffer,r.byteOffset,r.byteLength),go=(r,t)=>r<<32-t|r>>>t;/*! noble-hashes - MIT License (c) 2022 Paul Miller (paulmillr.com) */if(new Uint8Array(new Uint32Array([287454020]).buffer)[0]!==68)throw new Error("Non little-endian hardware is not supported");function Mz(r){if(typeof r!="string")throw new Error("utf8ToBytes expected string, got "+typeof r);return new Uint8Array(new TextEncoder().encode(r))}function gd(r){if(typeof r=="string"&&(r=Mz(r)),!JM(r))throw new Error("expected Uint8Array, got "+typeof r);return r}function Ez(...r){const t=new Uint8Array(r.reduce((n,s)=>n+s.length,0));let e=0;return r.forEach(n=>{if(!JM(n))throw new Error("Uint8Array expected");t.set(n,e),e+=n.length}),t}let ry=class{clone(){return this._cloneInto()}};function ny(r){const t=n=>r().update(gd(n)).digest(),e=r();return t.outputLen=e.outputLen,t.blockLen=e.blockLen,t.create=()=>r(),t}function QM(r=32){if(Lp&&typeof Lp.getRandomValues=="function")return Lp.getRandomValues(new Uint8Array(r));throw new Error("crypto.getRandomValues must be defined")}let tE=class extends ry{constructor(t,e,n,s){super(),this.blockLen=t,this.outputLen=e,this.padOffset=n,this.isLE=s,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(t),this.view=Op(this.buffer)}update(t){uf(this);const{view:e,buffer:n,blockLen:s}=this,i=(t=gd(t)).length;for(let c=0;c<i;){const l=Math.min(s-this.pos,i-c);if(l!==s)n.set(t.subarray(c,c+l),this.pos),this.pos+=l,c+=l,this.pos===s&&(this.process(e,0),this.pos=0);else{const p=Op(t);for(;s<=i-c;c+=s)this.process(p,c)}}return this.length+=t.length,this.roundClean(),this}digestInto(t){uf(this),XM(t,this),this.finished=!0;const{buffer:e,view:n,blockLen:s,isLE:i}=this;let{pos:c}=this;e[c++]=128,this.buffer.subarray(c).fill(0),this.padOffset>s-c&&(this.process(n,0),c=0);for(let _=c;_<s;_++)e[_]=0;(function(_,E,w,x){if(typeof _.setBigUint64=="function")return _.setBigUint64(E,w,x);const A=BigInt(32),B=BigInt(4294967295),P=Number(w>>A&B),R=Number(w&B),C=x?4:0,O=x?0:4;_.setUint32(E+C,P,x),_.setUint32(E+O,R,x)})(n,s-8,BigInt(8*this.length),i),this.process(n,0);const l=Op(t),p=this.outputLen;if(p%4)throw new Error("_sha2: outputLen should be aligned to 32bit");const m=p/4,v=this.get();if(m>v.length)throw new Error("_sha2: outputLen bigger than state");for(let _=0;_<m;_++)l.setUint32(4*_,v[_],i)}digest(){const{buffer:t,outputLen:e}=this;this.digestInto(t);const n=t.slice(0,e);return this.destroy(),n}_cloneInto(t){t||(t=new this.constructor),t.set(...this.get());const{blockLen:e,buffer:n,length:s,finished:i,destroyed:c,pos:l}=this;return t.length=s,t.pos=l,t.finished=i,t.destroyed=c,s%e&&t.buffer.set(n),t}};const f0=BigInt(2**32-1),N2=BigInt(32);function eE(r,t=!1){return t?{h:Number(r&f0),l:Number(r>>N2&f0)}:{h:0|Number(r>>N2&f0),l:0|Number(r&f0)}}function rE(r,t=!1){let e=new Uint32Array(r.length),n=new Uint32Array(r.length);for(let s=0;s<r.length;s++){const{h:i,l:c}=eE(r[s],t);[e[s],n[s]]=[i,c]}return[e,n]}const nE=(r,t,e)=>r<<e|t>>>32-e,iE=(r,t,e)=>t<<e|r>>>32-e,oE=(r,t,e)=>t<<e-32|r>>>64-e,sE=(r,t,e)=>r<<e-32|t>>>64-e,Az={fromBig:eE,split:rE,toBig:(r,t)=>BigInt(r>>>0)<<N2|BigInt(t>>>0),shrSH:(r,t,e)=>r>>>e,shrSL:(r,t,e)=>r<<32-e|t>>>e,rotrSH:(r,t,e)=>r>>>e|t<<32-e,rotrSL:(r,t,e)=>r<<32-e|t>>>e,rotrBH:(r,t,e)=>r<<64-e|t>>>e-32,rotrBL:(r,t,e)=>r>>>e-32|t<<64-e,rotr32H:(r,t)=>t,rotr32L:(r,t)=>r,rotlSH:nE,rotlSL:iE,rotlBH:oE,rotlBL:sE,add:function(r,t,e,n){const s=(t>>>0)+(n>>>0);return{h:r+e+(s/2**32|0)|0,l:0|s}},add3L:(r,t,e)=>(r>>>0)+(t>>>0)+(e>>>0),add3H:(r,t,e,n)=>t+e+n+(r/2**32|0)|0,add4L:(r,t,e,n)=>(r>>>0)+(t>>>0)+(e>>>0)+(n>>>0),add4H:(r,t,e,n,s)=>t+e+n+s+(r/2**32|0)|0,add5H:(r,t,e,n,s,i)=>t+e+n+s+i+(r/2**32|0)|0,add5L:(r,t,e,n,s)=>(r>>>0)+(t>>>0)+(e>>>0)+(n>>>0)+(s>>>0)};var tr=Az;const[Sz,kz]=(()=>tr.split(["0x428a2f98d728ae22","0x7137449123ef65cd","0xb5c0fbcfec4d3b2f","0xe9b5dba58189dbbc","0x3956c25bf348b538","0x59f111f1b605d019","0x923f82a4af194f9b","0xab1c5ed5da6d8118","0xd807aa98a3030242","0x12835b0145706fbe","0x243185be4ee4b28c","0x550c7dc3d5ffb4e2","0x72be5d74f27b896f","0x80deb1fe3b1696b1","0x9bdc06a725c71235","0xc19bf174cf692694","0xe49b69c19ef14ad2","0xefbe4786384f25e3","0x0fc19dc68b8cd5b5","0x240ca1cc77ac9c65","0x2de92c6f592b0275","0x4a7484aa6ea6e483","0x5cb0a9dcbd41fbd4","0x76f988da831153b5","0x983e5152ee66dfab","0xa831c66d2db43210","0xb00327c898fb213f","0xbf597fc7beef0ee4","0xc6e00bf33da88fc2","0xd5a79147930aa725","0x06ca6351e003826f","0x142929670a0e6e70","0x27b70a8546d22ffc","0x2e1b21385c26c926","0x4d2c6dfc5ac42aed","0x53380d139d95b3df","0x650a73548baf63de","0x766a0abb3c77b2a8","0x81c2c92e47edaee6","0x92722c851482353b","0xa2bfe8a14cf10364","0xa81a664bbc423001","0xc24b8b70d0f89791","0xc76c51a30654be30","0xd192e819d6ef5218","0xd69906245565a910","0xf40e35855771202a","0x106aa07032bbd1b8","0x19a4c116b8d2d0c8","0x1e376c085141ab53","0x2748774cdf8eeb99","0x34b0bcb5e19b48a8","0x391c0cb3c5c95a63","0x4ed8aa4ae3418acb","0x5b9cca4f7763e373","0x682e6ff3d6b2b8a3","0x748f82ee5defb2fc","0x78a5636f43172f60","0x84c87814a1f0ab72","0x8cc702081a6439ec","0x90befffa23631e28","0xa4506cebde82bde9","0xbef9a3f7b2c67915","0xc67178f2e372532b","0xca273eceea26619c","0xd186b8c721c0c207","0xeada7dd6cde0eb1e","0xf57d4f7fee6ed178","0x06f067aa72176fba","0x0a637dc5a2c898a6","0x113f9804bef90dae","0x1b710b35131c471b","0x28db77f523047d84","0x32caab7b40c72493","0x3c9ebe0a15c9bebc","0x431d67c49c100d4c","0x4cc5d4becb3e42b6","0x597f299cfc657e2a","0x5fcb6fab3ad6faec","0x6c44198c4a475817"].map(r=>BigInt(r))))(),Ts=new Uint32Array(80),Ls=new Uint32Array(80);let Iz=class extends tE{constructor(){super(128,64,16,!1),this.Ah=1779033703,this.Al=-205731576,this.Bh=-1150833019,this.Bl=-2067093701,this.Ch=1013904242,this.Cl=-23791573,this.Dh=-1521486534,this.Dl=1595750129,this.Eh=1359893119,this.El=-1377402159,this.Fh=-1694144372,this.Fl=725511199,this.Gh=528734635,this.Gl=-79577749,this.Hh=1541459225,this.Hl=327033209}get(){const{Ah:t,Al:e,Bh:n,Bl:s,Ch:i,Cl:c,Dh:l,Dl:p,Eh:m,El:v,Fh:_,Fl:E,Gh:w,Gl:x,Hh:A,Hl:B}=this;return[t,e,n,s,i,c,l,p,m,v,_,E,w,x,A,B]}set(t,e,n,s,i,c,l,p,m,v,_,E,w,x,A,B){this.Ah=0|t,this.Al=0|e,this.Bh=0|n,this.Bl=0|s,this.Ch=0|i,this.Cl=0|c,this.Dh=0|l,this.Dl=0|p,this.Eh=0|m,this.El=0|v,this.Fh=0|_,this.Fl=0|E,this.Gh=0|w,this.Gl=0|x,this.Hh=0|A,this.Hl=0|B}process(t,e){for(let C=0;C<16;C++,e+=4)Ts[C]=t.getUint32(e),Ls[C]=t.getUint32(e+=4);for(let C=16;C<80;C++){const O=0|Ts[C-15],z=0|Ls[C-15],H=tr.rotrSH(O,z,1)^tr.rotrSH(O,z,8)^tr.shrSH(O,z,7),tt=tr.rotrSL(O,z,1)^tr.rotrSL(O,z,8)^tr.shrSL(O,z,7),nt=0|Ts[C-2],G=0|Ls[C-2],M=tr.rotrSH(nt,G,19)^tr.rotrBH(nt,G,61)^tr.shrSH(nt,G,6),d=tr.rotrSL(nt,G,19)^tr.rotrBL(nt,G,61)^tr.shrSL(nt,G,6),o=tr.add4L(tt,d,Ls[C-7],Ls[C-16]),a=tr.add4H(o,H,M,Ts[C-7],Ts[C-16]);Ts[C]=0|a,Ls[C]=0|o}let{Ah:n,Al:s,Bh:i,Bl:c,Ch:l,Cl:p,Dh:m,Dl:v,Eh:_,El:E,Fh:w,Fl:x,Gh:A,Gl:B,Hh:P,Hl:R}=this;for(let C=0;C<80;C++){const O=tr.rotrSH(_,E,14)^tr.rotrSH(_,E,18)^tr.rotrBH(_,E,41),z=tr.rotrSL(_,E,14)^tr.rotrSL(_,E,18)^tr.rotrBL(_,E,41),H=_&w^~_&A,tt=E&x^~E&B,nt=tr.add5L(R,z,tt,kz[C],Ls[C]),G=tr.add5H(nt,P,O,H,Sz[C],Ts[C]),M=0|nt,d=tr.rotrSH(n,s,28)^tr.rotrBH(n,s,34)^tr.rotrBH(n,s,39),o=tr.rotrSL(n,s,28)^tr.rotrBL(n,s,34)^tr.rotrBL(n,s,39),a=n&i^n&l^i&l,f=s&c^s&p^c&p;P=0|A,R=0|B,A=0|w,B=0|x,w=0|_,x=0|E,{h:_,l:E}=tr.add(0|m,0|v,0|G,0|M),m=0|l,v=0|p,l=0|i,p=0|c,i=0|n,c=0|s;const h=tr.add3L(M,o,f);n=tr.add3H(h,G,d,a),s=0|h}({h:n,l:s}=tr.add(0|this.Ah,0|this.Al,0|n,0|s)),{h:i,l:c}=tr.add(0|this.Bh,0|this.Bl,0|i,0|c),{h:l,l:p}=tr.add(0|this.Ch,0|this.Cl,0|l,0|p),{h:m,l:v}=tr.add(0|this.Dh,0|this.Dl,0|m,0|v),{h:_,l:E}=tr.add(0|this.Eh,0|this.El,0|_,0|E),{h:w,l:x}=tr.add(0|this.Fh,0|this.Fl,0|w,0|x),{h:A,l:B}=tr.add(0|this.Gh,0|this.Gl,0|A,0|B),{h:P,l:R}=tr.add(0|this.Hh,0|this.Hl,0|P,0|R),this.set(n,s,i,c,l,p,m,v,_,E,w,x,A,B,P,R)}roundClean(){Ts.fill(0),Ls.fill(0)}destroy(){this.buffer.fill(0),this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)}};const Bz=ny(()=>new Iz),r5=BigInt(0),Y0=BigInt(1),Pz=BigInt(2),yd=r=>r instanceof Uint8Array,Rz=Array.from({length:256},(r,t)=>t.toString(16).padStart(2,"0"));/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */function Ja(r){if(!yd(r))throw new Error("Uint8Array expected");let t="";for(let e=0;e<r.length;e++)t+=Rz[r[e]];return t}function n5(r){const t=r.toString(16);return 1&t.length?`0${t}`:t}function iy(r){if(typeof r!="string")throw new Error("hex string expected, got "+typeof r);return BigInt(r===""?"0":`0x${r}`)}function ff(r){if(typeof r!="string")throw new Error("hex string expected, got "+typeof r);const t=r.length;if(t%2)throw new Error("padded hex string expected, got unpadded hex of length "+t);const e=new Uint8Array(t/2);for(let n=0;n<e.length;n++){const s=2*n,i=r.slice(s,s+2),c=Number.parseInt(i,16);if(Number.isNaN(c)||c<0)throw new Error("Invalid byte sequence");e[n]=c}return e}function La(r){return iy(Ja(r))}function qu(r){if(!yd(r))throw new Error("Uint8Array expected");return iy(Ja(Uint8Array.from(r).reverse()))}function Fu(r,t){return ff(r.toString(16).padStart(2*t,"0"))}function Xc(r,t){return Fu(r,t).reverse()}function mn(r,t,e){let n;if(typeof t=="string")try{n=ff(t)}catch(i){throw new Error(`${r} must be valid hex string, got "${t}". Cause: ${i}`)}else{if(!yd(t))throw new Error(`${r} must be hex string or Uint8Array`);n=Uint8Array.from(t)}const s=n.length;if(typeof e=="number"&&s!==e)throw new Error(`${r} expected ${e} bytes, got ${s}`);return n}function Qa(...r){const t=new Uint8Array(r.reduce((n,s)=>n+s.length,0));let e=0;return r.forEach(n=>{if(!yd(n))throw new Error("Uint8Array expected");t.set(n,e),e+=n.length}),t}const oy=r=>(Pz<<BigInt(r-1))-Y0,Up=r=>new Uint8Array(r),i5=r=>Uint8Array.from(r);function aE(r,t,e){if(typeof r!="number"||r<2)throw new Error("hashLen must be a number");if(typeof t!="number"||t<2)throw new Error("qByteLen must be a number");if(typeof e!="function")throw new Error("hmacFn must be a function");let n=Up(r),s=Up(r),i=0;const c=()=>{n.fill(1),s.fill(0),i=0},l=(...v)=>e(s,n,...v),p=(v=Up())=>{s=l(i5([0]),v),n=l(),v.length!==0&&(s=l(i5([1]),v),n=l())},m=()=>{if(i++>=1e3)throw new Error("drbg: tried 1000 values");let v=0;const _=[];for(;v<t;){n=l();const E=n.slice();_.push(E),v+=n.length}return Qa(..._)};return(v,_)=>{let E;for(c(),p(v);!(E=_(m()));)p();return c(),E}}const Cz={bigint:r=>typeof r=="bigint",function:r=>typeof r=="function",boolean:r=>typeof r=="boolean",string:r=>typeof r=="string",stringOrUint8Array:r=>typeof r=="string"||r instanceof Uint8Array,isSafeInteger:r=>Number.isSafeInteger(r),array:r=>Array.isArray(r),field:(r,t)=>t.Fp.isValid(r),hash:r=>typeof r=="function"&&Number.isSafeInteger(r.outputLen)};function cf(r,t,e={}){const n=(s,i,c)=>{const l=Cz[i];if(typeof l!="function")throw new Error(`Invalid validator "${i}", expected function`);const p=r[s];if(!(c&&p===void 0||l(p,r)))throw new Error(`Invalid param ${String(s)}=${p} (${typeof p}), expected ${i}`)};for(const[s,i]of Object.entries(t))n(s,i,!1);for(const[s,i]of Object.entries(e))n(s,i,!0);return r}var Tz=Object.freeze({__proto__:null,bytesToHex:Ja,numberToHexUnpadded:n5,hexToNumber:iy,hexToBytes:ff,bytesToNumberBE:La,bytesToNumberLE:qu,numberToBytesBE:Fu,numberToBytesLE:Xc,numberToVarBytesBE:function(r){return ff(n5(r))},ensureBytes:mn,concatBytes:Qa,equalBytes:function(r,t){if(r.length!==t.length)return!1;for(let e=0;e<r.length;e++)if(r[e]!==t[e])return!1;return!0},utf8ToBytes:function(r){if(typeof r!="string")throw new Error("utf8ToBytes expected string, got "+typeof r);return new Uint8Array(new TextEncoder().encode(r))},bitLen:function(r){let t;for(t=0;r>r5;r>>=Y0,t+=1);return t},bitGet:function(r,t){return r>>BigInt(t)&Y0},bitSet:(r,t,e)=>r|(e?Y0:r5)<<BigInt(t),bitMask:oy,createHmacDrbg:aE,validateObject:cf});/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const En=BigInt(0),Zr=BigInt(1),pa=BigInt(2),Lz=BigInt(3),Np=BigInt(4),o5=BigInt(5),s5=BigInt(8);function Kr(r,t){const e=r%t;return e>=En?e:t+e}function Oz(r,t,e){if(e<=En||t<En)throw new Error("Expected power/modulo > 0");if(e===Zr)return En;let n=Zr;for(;t>En;)t&Zr&&(n=n*r%e),r=r*r%e,t>>=Zr;return n}function en(r,t,e){let n=r;for(;t-- >En;)n*=n,n%=e;return n}function D2(r,t){if(r===En||t<=En)throw new Error(`invert: expected positive integers, got n=${r} mod=${t}`);let e=Kr(r,t),n=t,s=En,i=Zr;for(;e!==En;){const c=n%e,l=s-i*(n/e);n=e,e=c,s=i,i=l}if(n!==Zr)throw new Error("invert: does not exist");return Kr(s,t)}function Uz(r){if(r%Np===Lz){const t=(r+Zr)/Np;return function(e,n){const s=e.pow(n,t);if(!e.eql(e.sqr(s),n))throw new Error("Cannot find square root");return s}}if(r%s5===o5){const t=(r-o5)/s5;return function(e,n){const s=e.mul(n,pa),i=e.pow(s,t),c=e.mul(n,i),l=e.mul(e.mul(c,pa),i),p=e.mul(c,e.sub(l,e.ONE));if(!e.eql(e.sqr(p),n))throw new Error("Cannot find square root");return p}}return function(t){const e=(t-Zr)/pa;let n,s,i;for(n=t-Zr,s=0;n%pa===En;n/=pa,s++);for(i=pa;i<t&&Oz(i,e,t)!==t-Zr;i++);if(s===1){const l=(t+Zr)/Np;return function(p,m){const v=p.pow(m,l);if(!p.eql(p.sqr(v),m))throw new Error("Cannot find square root");return v}}const c=(n+Zr)/pa;return function(l,p){if(l.pow(p,e)===l.neg(l.ONE))throw new Error("Cannot find square root");let m=s,v=l.pow(l.mul(l.ONE,i),n),_=l.pow(p,c),E=l.pow(p,n);for(;!l.eql(E,l.ONE);){if(l.eql(E,l.ZERO))return l.ZERO;let w=1;for(let A=l.sqr(E);w<m&&!l.eql(A,l.ONE);w++)A=l.sqr(A);const x=l.pow(v,Zr<<BigInt(m-w-1));v=l.sqr(x),_=l.mul(_,x),E=l.mul(E,v),m=w}return _}}(r)}BigInt(9),BigInt(16);const Nz=["create","isValid","is0","neg","inv","sqrt","sqr","eql","add","sub","mul","pow","div","addN","subN","mulN","sqrN"];function uE(r,t){const e=t!==void 0?t:r.toString(2).length;return{nBitLength:e,nByteLength:Math.ceil(e/8)}}function fE(r,t,e=!1,n={}){if(r<=En)throw new Error(`Expected Field ORDER > 0, got ${r}`);const{nBitLength:s,nByteLength:i}=uE(r,t);if(i>2048)throw new Error("Field lengths over 2048 bytes are not supported");const c=Uz(r),l=Object.freeze({ORDER:r,BITS:s,BYTES:i,MASK:oy(s),ZERO:En,ONE:Zr,create:p=>Kr(p,r),isValid:p=>{if(typeof p!="bigint")throw new Error("Invalid field element: expected bigint, got "+typeof p);return En<=p&&p<r},is0:p=>p===En,isOdd:p=>(p&Zr)===Zr,neg:p=>Kr(-p,r),eql:(p,m)=>p===m,sqr:p=>Kr(p*p,r),add:(p,m)=>Kr(p+m,r),sub:(p,m)=>Kr(p-m,r),mul:(p,m)=>Kr(p*m,r),pow:(p,m)=>function(v,_,E){if(E<En)throw new Error("Expected power > 0");if(E===En)return v.ONE;if(E===Zr)return _;let w=v.ONE,x=_;for(;E>En;)E&Zr&&(w=v.mul(w,x)),x=v.sqr(x),E>>=Zr;return w}(l,p,m),div:(p,m)=>Kr(p*D2(m,r),r),sqrN:p=>p*p,addN:(p,m)=>p+m,subN:(p,m)=>p-m,mulN:(p,m)=>p*m,inv:p=>D2(p,r),sqrt:n.sqrt||(p=>c(l,p)),invertBatch:p=>function(m,v){const _=new Array(v.length),E=v.reduce((x,A,B)=>m.is0(A)?x:(_[B]=x,m.mul(x,A)),m.ONE),w=m.inv(E);return v.reduceRight((x,A,B)=>m.is0(A)?x:(_[B]=m.mul(x,_[B]),m.mul(x,A)),w),_}(l,p),cmov:(p,m,v)=>v?m:p,toBytes:p=>e?Xc(p,i):Fu(p,i),fromBytes:p=>{if(p.length!==i)throw new Error(`Fp.fromBytes: expected ${i}, got ${p.length}`);return e?qu(p):La(p)}});return Object.freeze(l)}function cE(r){if(typeof r!="bigint")throw new Error("field order must be bigint");const t=r.toString(2).length;return Math.ceil(t/8)}function a5(r){const t=cE(r);return t+Math.ceil(t/2)}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const Dz=BigInt(0),Dp=BigInt(1);function hE(r,t){const e=(s,i)=>{const c=i.negate();return s?c:i},n=s=>({windows:Math.ceil(t/s)+1,windowSize:2**(s-1)});return{constTimeNegate:e,unsafeLadder(s,i){let c=r.ZERO,l=s;for(;i>Dz;)i&Dp&&(c=c.add(l)),l=l.double(),i>>=Dp;return c},precomputeWindow(s,i){const{windows:c,windowSize:l}=n(i),p=[];let m=s,v=m;for(let _=0;_<c;_++){v=m,p.push(v);for(let E=1;E<l;E++)v=v.add(m),p.push(v);m=v.double()}return p},wNAF(s,i,c){const{windows:l,windowSize:p}=n(s);let m=r.ZERO,v=r.BASE;const _=BigInt(2**s-1),E=2**s,w=BigInt(s);for(let x=0;x<l;x++){const A=x*p;let B=Number(c&_);c>>=w,B>p&&(B-=E,c+=Dp);const P=A,R=A+Math.abs(B)-1,C=x%2!=0,O=B<0;B===0?v=v.add(e(C,i[P])):m=m.add(e(O,i[R]))}return{p:m,f:v}},wNAFCached(s,i,c,l){const p=s._WINDOW_SIZE||1;let m=i.get(s);return m||(m=this.precomputeWindow(s,p),p!==1&&i.set(s,l(m))),this.wNAF(p,m,c)}}}function sy(r){return cf(r.Fp,Nz.reduce((t,e)=>(t[e]="function",t),{ORDER:"bigint",MASK:"bigint",BYTES:"isSafeInteger",BITS:"isSafeInteger"})),cf(r,{n:"bigint",h:"bigint",Gx:"field",Gy:"field"},{nBitLength:"isSafeInteger",nByteLength:"isSafeInteger"}),Object.freeze({...uE(r.n,r.nBitLength),...r,p:r.Fp.ORDER})}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const Ji=BigInt(0),mi=BigInt(1),c0=BigInt(2),zz=BigInt(8),qz={zip215:!0};function Fz(r){const t=function(f){const h=sy(f);return cf(f,{hash:"function",a:"bigint",d:"bigint",randomBytes:"function"},{adjustScalarBytes:"function",domain:"function",uvRatio:"function",mapToCurve:"function"}),Object.freeze({...h})}(r),{Fp:e,n,prehash:s,hash:i,randomBytes:c,nByteLength:l,h:p}=t,m=c0<<BigInt(8*l)-mi,v=e.create,_=t.uvRatio||((f,h)=>{try{return{isValid:!0,value:e.sqrt(f*e.inv(h))}}catch{return{isValid:!1,value:Ji}}}),E=t.adjustScalarBytes||(f=>f),w=t.domain||((f,h,g)=>{if(h.length||g)throw new Error("Contexts/pre-hash are not supported");return f}),x=f=>typeof f=="bigint"&&Ji<f,A=(f,h)=>x(f)&&x(h)&&f<h,B=f=>f===Ji||A(f,m);function P(f,h){if(A(f,h))return f;throw new Error(`Expected valid scalar < ${h}, got ${typeof f} ${f}`)}function R(f){return f===Ji?f:P(f,n)}const C=new Map;function O(f){if(!(f instanceof z))throw new Error("ExtendedPoint expected")}class z{constructor(h,g,S,I){if(this.ex=h,this.ey=g,this.ez=S,this.et=I,!B(h))throw new Error("x required");if(!B(g))throw new Error("y required");if(!B(S))throw new Error("z required");if(!B(I))throw new Error("t required")}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static fromAffine(h){if(h instanceof z)throw new Error("extended point not allowed");const{x:g,y:S}=h||{};if(!B(g)||!B(S))throw new Error("invalid affine point");return new z(g,S,mi,v(g*S))}static normalizeZ(h){const g=e.invertBatch(h.map(S=>S.ez));return h.map((S,I)=>S.toAffine(g[I])).map(z.fromAffine)}_setWindowSize(h){this._WINDOW_SIZE=h,C.delete(this)}assertValidity(){const{a:h,d:g}=t;if(this.is0())throw new Error("bad point: ZERO");const{ex:S,ey:I,ez:y,et:u}=this,b=v(S*S),D=v(I*I),Z=v(y*y),F=v(Z*Z),q=v(b*h);if(v(Z*v(q+D))!==v(F+v(g*v(b*D))))throw new Error("bad point: equation left != right (1)");if(v(S*I)!==v(y*u))throw new Error("bad point: equation left != right (2)")}equals(h){O(h);const{ex:g,ey:S,ez:I}=this,{ex:y,ey:u,ez:b}=h,D=v(g*b),Z=v(y*I),F=v(S*b),q=v(u*I);return D===Z&&F===q}is0(){return this.equals(z.ZERO)}negate(){return new z(v(-this.ex),this.ey,this.ez,v(-this.et))}double(){const{a:h}=t,{ex:g,ey:S,ez:I}=this,y=v(g*g),u=v(S*S),b=v(c0*v(I*I)),D=v(h*y),Z=g+S,F=v(v(Z*Z)-y-u),q=D+u,it=q-b,at=D-u,Bt=v(F*it),yt=v(q*at),pt=v(F*at),Ft=v(it*q);return new z(Bt,yt,Ft,pt)}add(h){O(h);const{a:g,d:S}=t,{ex:I,ey:y,ez:u,et:b}=this,{ex:D,ey:Z,ez:F,et:q}=h;if(g===BigInt(-1)){const L=v((y-I)*(Z+D)),j=v((y+I)*(Z-D)),rt=v(j-L);if(rt===Ji)return this.double();const Q=v(u*c0*q),ot=v(b*c0*F),qt=ot+Q,It=j+L,xt=ot-Q,Qt=v(qt*rt),Ct=v(It*xt),Dt=v(qt*xt),Se=v(rt*It);return new z(Qt,Ct,Se,Dt)}const it=v(I*D),at=v(y*Z),Bt=v(b*S*q),yt=v(u*F),pt=v((I+y)*(D+Z)-it-at),Ft=yt-Bt,lt=yt+Bt,ct=v(at-g*it),Tt=v(pt*Ft),kt=v(lt*ct),k=v(pt*ct),T=v(Ft*lt);return new z(Tt,kt,T,k)}subtract(h){return this.add(h.negate())}wNAF(h){return nt.wNAFCached(this,C,h,z.normalizeZ)}multiply(h){const{p:g,f:S}=this.wNAF(P(h,n));return z.normalizeZ([g,S])[0]}multiplyUnsafe(h){let g=R(h);return g===Ji?tt:this.equals(tt)||g===mi?this:this.equals(H)?this.wNAF(g).p:nt.unsafeLadder(this,g)}isSmallOrder(){return this.multiplyUnsafe(p).is0()}isTorsionFree(){return nt.unsafeLadder(this,n).is0()}toAffine(h){const{ex:g,ey:S,ez:I}=this,y=this.is0();h==null&&(h=y?zz:e.inv(I));const u=v(g*h),b=v(S*h),D=v(I*h);if(y)return{x:Ji,y:mi};if(D!==mi)throw new Error("invZ was invalid");return{x:u,y:b}}clearCofactor(){const{h}=t;return h===mi?this:this.multiplyUnsafe(h)}static fromHex(h,g=!1){const{d:S,a:I}=t,y=e.BYTES,u=(h=mn("pointHex",h,y)).slice(),b=h[y-1];u[y-1]=-129&b;const D=qu(u);D===Ji||P(D,g?m:e.ORDER);const Z=v(D*D),F=v(Z-mi),q=v(S*Z-I);let{isValid:it,value:at}=_(F,q);if(!it)throw new Error("Point.fromHex: invalid y coordinate");const Bt=(at&mi)===mi,yt=(128&b)!=0;if(!g&&at===Ji&&yt)throw new Error("Point.fromHex: x=0 and x_0=1");return yt!==Bt&&(at=v(-at)),z.fromAffine({x:at,y:D})}static fromPrivateKey(h){return d(h).point}toRawBytes(){const{x:h,y:g}=this.toAffine(),S=Xc(g,e.BYTES);return S[S.length-1]|=h&mi?128:0,S}toHex(){return Ja(this.toRawBytes())}}z.BASE=new z(t.Gx,t.Gy,mi,v(t.Gx*t.Gy)),z.ZERO=new z(Ji,mi,mi,Ji);const{BASE:H,ZERO:tt}=z,nt=hE(z,8*l);function G(f){return Kr(f,n)}function M(f){return G(qu(f))}function d(f){const h=l;f=mn("private key",f,h);const g=mn("hashed private key",i(f),2*h),S=E(g.slice(0,h)),I=g.slice(h,2*h),y=M(S),u=H.multiply(y),b=u.toRawBytes();return{head:S,prefix:I,scalar:y,point:u,pointBytes:b}}function o(f=new Uint8Array,...h){const g=Qa(...h);return M(i(w(g,mn("context",f),!!s)))}const a=qz;return H._setWindowSize(8),{CURVE:t,getPublicKey:function(f){return d(f).pointBytes},sign:function(f,h,g={}){f=mn("message",f),s&&(f=s(f));const{prefix:S,scalar:I,pointBytes:y}=d(h),u=o(g.context,S,f),b=H.multiply(u).toRawBytes(),D=G(u+o(g.context,b,y,f)*I);return R(D),mn("result",Qa(b,Xc(D,e.BYTES)),2*l)},verify:function(f,h,g,S=a){const{context:I,zip215:y}=S,u=e.BYTES;f=mn("signature",f,2*u),h=mn("message",h),s&&(h=s(h));const b=qu(f.slice(u,2*u));let D,Z,F;try{D=z.fromHex(g,y),Z=z.fromHex(f.slice(0,u),y),F=H.multiplyUnsafe(b)}catch{return!1}if(!y&&D.isSmallOrder())return!1;const q=o(I,Z.toRawBytes(),D.toRawBytes(),h);return Z.add(D.multiplyUnsafe(q)).subtract(F).clearCofactor().equals(z.ZERO)},ExtendedPoint:z,utils:{getExtendedPublicKey:d,randomPrivateKey:()=>c(e.BYTES),precompute:(f=8,h=z.BASE)=>(h._setWindowSize(f),h.multiply(BigInt(3)),h)}}}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const z2=BigInt("57896044618658097711785492504343953926634992332820282019728792003956564819949"),u5=BigInt("19681161376707505956807079304988542015446066515923890162744021073123829784752");BigInt(0);const jz=BigInt(1),q2=BigInt(2),Kz=BigInt(5),f5=BigInt(10),$z=BigInt(20),Hz=BigInt(40),c5=BigInt(80),us=fE(z2,void 0,!0),Vz={a:BigInt(-1),d:BigInt("37095705934669439343138083508754565189542113879843219016388785533085940283555"),Fp:us,n:BigInt("7237005577332262213973186563042994240857116359379907606001950938285454250989"),h:BigInt(8),Gx:BigInt("15112221349535400772501151409588531511454012693041857206046113283949847762202"),Gy:BigInt("46316835694926478169428394003475163141307993866256225615783033603165251855960"),hash:Bz,randomBytes:QM,adjustScalarBytes:function(r){return r[0]&=248,r[31]&=127,r[31]|=64,r},uvRatio:function(r,t){const e=z2,n=Kr(t*t*t,e),s=function(E){const w=z2,x=E*E%w*E%w,A=en(x,q2,w)*x%w,B=en(A,jz,w)*E%w,P=en(B,Kz,w)*B%w,R=en(P,f5,w)*P%w,C=en(R,$z,w)*R%w,O=en(C,Hz,w)*C%w,z=en(O,c5,w)*O%w,H=en(z,c5,w)*O%w,tt=en(H,f5,w)*P%w;return{pow_p_5_8:en(tt,q2,w)*E%w,b2:x}}(r*Kr(n*n*t,e)).pow_p_5_8;let i=Kr(r*n*s,e);const c=Kr(t*i*i,e),l=i,p=Kr(i*u5,e),m=c===r,v=c===Kr(-r,e),_=c===Kr(-r*u5,e);return m&&(i=l),(v||_)&&(i=p),(Kr(i,e)&Zr)===Zr&&(i=Kr(-i,e)),{isValid:m||v,value:i}}},Pf=Fz(Vz),Zz=(us.ORDER+BigInt(3))/BigInt(8);us.pow(q2,Zz),us.sqrt(us.neg(us.ONE)),us.ORDER,BigInt(5),BigInt(8),BigInt(486662),function(r,t){if(!r.isOdd)throw new Error("Field doesn't have isOdd");const e=r.sqrt(t);r.isOdd(e)&&r.neg(e)}(us,us.neg(BigInt(486664))),BigInt("25063068953384623474111414158702152701244531502492656460079210482610430750235"),BigInt("54469307008909316920995813868745141605393597292927456921205312896311721017578"),BigInt("1159843021668779879193775521855586647937357759715417654439879720876111806838"),BigInt("40440834346308536858101042469323190826248399146238708352240133220865137265952"),BigInt("0x7fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff");var lE={exports:{}},dE=Oh(Object.freeze({__proto__:null,default:{}}));(function(r,t){function e(M,d){if(!M)throw new Error(d||"Assertion failed")}function n(M,d){M.super_=d;var o=function(){};o.prototype=d.prototype,M.prototype=new o,M.prototype.constructor=M}function s(M,d,o){if(s.isBN(M))return M;this.negative=0,this.words=null,this.length=0,this.red=null,M!==null&&(d!=="le"&&d!=="be"||(o=d,d=10),this._init(M||0,d||10,o||"be"))}var i;typeof r=="object"?r.exports=s:t.BN=s,s.BN=s,s.wordSize=26;try{i=typeof window<"u"&&window.Buffer!==void 0?window.Buffer:dE.Buffer}catch{}function c(M,d){var o=M.charCodeAt(d);return o>=48&&o<=57?o-48:o>=65&&o<=70?o-55:o>=97&&o<=102?o-87:void e(!1,"Invalid character in "+M)}function l(M,d,o){var a=c(M,o);return o-1>=d&&(a|=c(M,o-1)<<4),a}function p(M,d,o,a){for(var f=0,h=0,g=Math.min(M.length,o),S=d;S<g;S++){var I=M.charCodeAt(S)-48;f*=a,h=I>=49?I-49+10:I>=17?I-17+10:I,e(I>=0&&h<a,"Invalid character"),f+=h}return f}function m(M,d){M.words=d.words,M.length=d.length,M.negative=d.negative,M.red=d.red}if(s.isBN=function(M){return M instanceof s||M!==null&&typeof M=="object"&&M.constructor.wordSize===s.wordSize&&Array.isArray(M.words)},s.max=function(M,d){return M.cmp(d)>0?M:d},s.min=function(M,d){return M.cmp(d)<0?M:d},s.prototype._init=function(M,d,o){if(typeof M=="number")return this._initNumber(M,d,o);if(typeof M=="object")return this._initArray(M,d,o);d==="hex"&&(d=16),e(d===(0|d)&&d>=2&&d<=36);var a=0;(M=M.toString().replace(/\s+/g,""))[0]==="-"&&(a++,this.negative=1),a<M.length&&(d===16?this._parseHex(M,a,o):(this._parseBase(M,d,a),o==="le"&&this._initArray(this.toArray(),d,o)))},s.prototype._initNumber=function(M,d,o){M<0&&(this.negative=1,M=-M),M<67108864?(this.words=[67108863&M],this.length=1):M<4503599627370496?(this.words=[67108863&M,M/67108864&67108863],this.length=2):(e(M<9007199254740992),this.words=[67108863&M,M/67108864&67108863,1],this.length=3),o==="le"&&this._initArray(this.toArray(),d,o)},s.prototype._initArray=function(M,d,o){if(e(typeof M.length=="number"),M.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(M.length/3),this.words=new Array(this.length);for(var a=0;a<this.length;a++)this.words[a]=0;var f,h,g=0;if(o==="be")for(a=M.length-1,f=0;a>=0;a-=3)h=M[a]|M[a-1]<<8|M[a-2]<<16,this.words[f]|=h<<g&67108863,this.words[f+1]=h>>>26-g&67108863,(g+=24)>=26&&(g-=26,f++);else if(o==="le")for(a=0,f=0;a<M.length;a+=3)h=M[a]|M[a+1]<<8|M[a+2]<<16,this.words[f]|=h<<g&67108863,this.words[f+1]=h>>>26-g&67108863,(g+=24)>=26&&(g-=26,f++);return this._strip()},s.prototype._parseHex=function(M,d,o){this.length=Math.ceil((M.length-d)/6),this.words=new Array(this.length);for(var a=0;a<this.length;a++)this.words[a]=0;var f,h=0,g=0;if(o==="be")for(a=M.length-1;a>=d;a-=2)f=l(M,d,a)<<h,this.words[g]|=67108863&f,h>=18?(h-=18,g+=1,this.words[g]|=f>>>26):h+=8;else for(a=(M.length-d)%2==0?d+1:d;a<M.length;a+=2)f=l(M,d,a)<<h,this.words[g]|=67108863&f,h>=18?(h-=18,g+=1,this.words[g]|=f>>>26):h+=8;this._strip()},s.prototype._parseBase=function(M,d,o){this.words=[0],this.length=1;for(var a=0,f=1;f<=67108863;f*=d)a++;a--,f=f/d|0;for(var h=M.length-o,g=h%a,S=Math.min(h,h-g)+o,I=0,y=o;y<S;y+=a)I=p(M,y,y+a,d),this.imuln(f),this.words[0]+I<67108864?this.words[0]+=I:this._iaddn(I);if(g!==0){var u=1;for(I=p(M,y,M.length,d),y=0;y<g;y++)u*=d;this.imuln(u),this.words[0]+I<67108864?this.words[0]+=I:this._iaddn(I)}this._strip()},s.prototype.copy=function(M){M.words=new Array(this.length);for(var d=0;d<this.length;d++)M.words[d]=this.words[d];M.length=this.length,M.negative=this.negative,M.red=this.red},s.prototype._move=function(M){m(M,this)},s.prototype.clone=function(){var M=new s(null);return this.copy(M),M},s.prototype._expand=function(M){for(;this.length<M;)this.words[this.length++]=0;return this},s.prototype._strip=function(){for(;this.length>1&&this.words[this.length-1]===0;)this.length--;return this._normSign()},s.prototype._normSign=function(){return this.length===1&&this.words[0]===0&&(this.negative=0),this},typeof Symbol<"u"&&typeof Symbol.for=="function")try{s.prototype[Symbol.for("nodejs.util.inspect.custom")]=v}catch{s.prototype.inspect=v}else s.prototype.inspect=v;function v(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"}var _=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],E=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],w=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];function x(M,d,o){o.negative=d.negative^M.negative;var a=M.length+d.length|0;o.length=a,a=a-1|0;var f=0|M.words[0],h=0|d.words[0],g=f*h,S=67108863&g,I=g/67108864|0;o.words[0]=S;for(var y=1;y<a;y++){for(var u=I>>>26,b=67108863&I,D=Math.min(y,d.length-1),Z=Math.max(0,y-M.length+1);Z<=D;Z++){var F=y-Z|0;u+=(g=(f=0|M.words[F])*(h=0|d.words[Z])+b)/67108864|0,b=67108863&g}o.words[y]=0|b,I=0|u}return I!==0?o.words[y]=0|I:o.length--,o._strip()}s.prototype.toString=function(M,d){var o;if(d=0|d||1,(M=M||10)===16||M==="hex"){o="";for(var a=0,f=0,h=0;h<this.length;h++){var g=this.words[h],S=(16777215&(g<<a|f)).toString(16);f=g>>>24-a&16777215,(a+=2)>=26&&(a-=26,h--),o=f!==0||h!==this.length-1?_[6-S.length]+S+o:S+o}for(f!==0&&(o=f.toString(16)+o);o.length%d!=0;)o="0"+o;return this.negative!==0&&(o="-"+o),o}if(M===(0|M)&&M>=2&&M<=36){var I=E[M],y=w[M];o="";var u=this.clone();for(u.negative=0;!u.isZero();){var b=u.modrn(y).toString(M);o=(u=u.idivn(y)).isZero()?b+o:_[I-b.length]+b+o}for(this.isZero()&&(o="0"+o);o.length%d!=0;)o="0"+o;return this.negative!==0&&(o="-"+o),o}e(!1,"Base should be between 2 and 36")},s.prototype.toNumber=function(){var M=this.words[0];return this.length===2?M+=67108864*this.words[1]:this.length===3&&this.words[2]===1?M+=4503599627370496+67108864*this.words[1]:this.length>2&&e(!1,"Number can only safely store up to 53 bits"),this.negative!==0?-M:M},s.prototype.toJSON=function(){return this.toString(16,2)},i&&(s.prototype.toBuffer=function(M,d){return this.toArrayLike(i,M,d)}),s.prototype.toArray=function(M,d){return this.toArrayLike(Array,M,d)},s.prototype.toArrayLike=function(M,d,o){this._strip();var a=this.byteLength(),f=o||Math.max(1,a);e(a<=f,"byte array longer than desired length"),e(f>0,"Requested array length <= 0");var h=function(g,S){return g.allocUnsafe?g.allocUnsafe(S):new g(S)}(M,f);return this["_toArrayLike"+(d==="le"?"LE":"BE")](h,a),h},s.prototype._toArrayLikeLE=function(M,d){for(var o=0,a=0,f=0,h=0;f<this.length;f++){var g=this.words[f]<<h|a;M[o++]=255&g,o<M.length&&(M[o++]=g>>8&255),o<M.length&&(M[o++]=g>>16&255),h===6?(o<M.length&&(M[o++]=g>>24&255),a=0,h=0):(a=g>>>24,h+=2)}if(o<M.length)for(M[o++]=a;o<M.length;)M[o++]=0},s.prototype._toArrayLikeBE=function(M,d){for(var o=M.length-1,a=0,f=0,h=0;f<this.length;f++){var g=this.words[f]<<h|a;M[o--]=255&g,o>=0&&(M[o--]=g>>8&255),o>=0&&(M[o--]=g>>16&255),h===6?(o>=0&&(M[o--]=g>>24&255),a=0,h=0):(a=g>>>24,h+=2)}if(o>=0)for(M[o--]=a;o>=0;)M[o--]=0},Math.clz32?s.prototype._countBits=function(M){return 32-Math.clz32(M)}:s.prototype._countBits=function(M){var d=M,o=0;return d>=4096&&(o+=13,d>>>=13),d>=64&&(o+=7,d>>>=7),d>=8&&(o+=4,d>>>=4),d>=2&&(o+=2,d>>>=2),o+d},s.prototype._zeroBits=function(M){if(M===0)return 26;var d=M,o=0;return!(8191&d)&&(o+=13,d>>>=13),!(127&d)&&(o+=7,d>>>=7),!(15&d)&&(o+=4,d>>>=4),!(3&d)&&(o+=2,d>>>=2),!(1&d)&&o++,o},s.prototype.bitLength=function(){var M=this.words[this.length-1],d=this._countBits(M);return 26*(this.length-1)+d},s.prototype.zeroBits=function(){if(this.isZero())return 0;for(var M=0,d=0;d<this.length;d++){var o=this._zeroBits(this.words[d]);if(M+=o,o!==26)break}return M},s.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},s.prototype.toTwos=function(M){return this.negative!==0?this.abs().inotn(M).iaddn(1):this.clone()},s.prototype.fromTwos=function(M){return this.testn(M-1)?this.notn(M).iaddn(1).ineg():this.clone()},s.prototype.isNeg=function(){return this.negative!==0},s.prototype.neg=function(){return this.clone().ineg()},s.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},s.prototype.iuor=function(M){for(;this.length<M.length;)this.words[this.length++]=0;for(var d=0;d<M.length;d++)this.words[d]=this.words[d]|M.words[d];return this._strip()},s.prototype.ior=function(M){return e((this.negative|M.negative)==0),this.iuor(M)},s.prototype.or=function(M){return this.length>M.length?this.clone().ior(M):M.clone().ior(this)},s.prototype.uor=function(M){return this.length>M.length?this.clone().iuor(M):M.clone().iuor(this)},s.prototype.iuand=function(M){var d;d=this.length>M.length?M:this;for(var o=0;o<d.length;o++)this.words[o]=this.words[o]&M.words[o];return this.length=d.length,this._strip()},s.prototype.iand=function(M){return e((this.negative|M.negative)==0),this.iuand(M)},s.prototype.and=function(M){return this.length>M.length?this.clone().iand(M):M.clone().iand(this)},s.prototype.uand=function(M){return this.length>M.length?this.clone().iuand(M):M.clone().iuand(this)},s.prototype.iuxor=function(M){var d,o;this.length>M.length?(d=this,o=M):(d=M,o=this);for(var a=0;a<o.length;a++)this.words[a]=d.words[a]^o.words[a];if(this!==d)for(;a<d.length;a++)this.words[a]=d.words[a];return this.length=d.length,this._strip()},s.prototype.ixor=function(M){return e((this.negative|M.negative)==0),this.iuxor(M)},s.prototype.xor=function(M){return this.length>M.length?this.clone().ixor(M):M.clone().ixor(this)},s.prototype.uxor=function(M){return this.length>M.length?this.clone().iuxor(M):M.clone().iuxor(this)},s.prototype.inotn=function(M){e(typeof M=="number"&&M>=0);var d=0|Math.ceil(M/26),o=M%26;this._expand(d),o>0&&d--;for(var a=0;a<d;a++)this.words[a]=67108863&~this.words[a];return o>0&&(this.words[a]=~this.words[a]&67108863>>26-o),this._strip()},s.prototype.notn=function(M){return this.clone().inotn(M)},s.prototype.setn=function(M,d){e(typeof M=="number"&&M>=0);var o=M/26|0,a=M%26;return this._expand(o+1),this.words[o]=d?this.words[o]|1<<a:this.words[o]&~(1<<a),this._strip()},s.prototype.iadd=function(M){var d,o,a;if(this.negative!==0&&M.negative===0)return this.negative=0,d=this.isub(M),this.negative^=1,this._normSign();if(this.negative===0&&M.negative!==0)return M.negative=0,d=this.isub(M),M.negative=1,d._normSign();this.length>M.length?(o=this,a=M):(o=M,a=this);for(var f=0,h=0;h<a.length;h++)d=(0|o.words[h])+(0|a.words[h])+f,this.words[h]=67108863&d,f=d>>>26;for(;f!==0&&h<o.length;h++)d=(0|o.words[h])+f,this.words[h]=67108863&d,f=d>>>26;if(this.length=o.length,f!==0)this.words[this.length]=f,this.length++;else if(o!==this)for(;h<o.length;h++)this.words[h]=o.words[h];return this},s.prototype.add=function(M){var d;return M.negative!==0&&this.negative===0?(M.negative=0,d=this.sub(M),M.negative^=1,d):M.negative===0&&this.negative!==0?(this.negative=0,d=M.sub(this),this.negative=1,d):this.length>M.length?this.clone().iadd(M):M.clone().iadd(this)},s.prototype.isub=function(M){if(M.negative!==0){M.negative=0;var d=this.iadd(M);return M.negative=1,d._normSign()}if(this.negative!==0)return this.negative=0,this.iadd(M),this.negative=1,this._normSign();var o,a,f=this.cmp(M);if(f===0)return this.negative=0,this.length=1,this.words[0]=0,this;f>0?(o=this,a=M):(o=M,a=this);for(var h=0,g=0;g<a.length;g++)h=(d=(0|o.words[g])-(0|a.words[g])+h)>>26,this.words[g]=67108863&d;for(;h!==0&&g<o.length;g++)h=(d=(0|o.words[g])+h)>>26,this.words[g]=67108863&d;if(h===0&&g<o.length&&o!==this)for(;g<o.length;g++)this.words[g]=o.words[g];return this.length=Math.max(this.length,g),o!==this&&(this.negative=1),this._strip()},s.prototype.sub=function(M){return this.clone().isub(M)};var A=function(M,d,o){var a,f,h,g=M.words,S=d.words,I=o.words,y=0,u=0|g[0],b=8191&u,D=u>>>13,Z=0|g[1],F=8191&Z,q=Z>>>13,it=0|g[2],at=8191&it,Bt=it>>>13,yt=0|g[3],pt=8191&yt,Ft=yt>>>13,lt=0|g[4],ct=8191&lt,Tt=lt>>>13,kt=0|g[5],k=8191&kt,T=kt>>>13,L=0|g[6],j=8191&L,rt=L>>>13,Q=0|g[7],ot=8191&Q,qt=Q>>>13,It=0|g[8],xt=8191&It,Qt=It>>>13,Ct=0|g[9],Dt=8191&Ct,Se=Ct>>>13,te=0|S[0],Ut=8191&te,Te=te>>>13,J=0|S[1],X=8191&J,st=J>>>13,N=0|S[2],$=8191&N,gt=N>>>13,ft=0|S[3],mt=8191&ft,vt=ft>>>13,At=0|S[4],_t=8191&At,Gt=At>>>13,Rt=0|S[5],wt=8191&Rt,se=Rt>>>13,Lt=0|S[6],Et=8191&Lt,de=Lt>>>13,Pt=0|S[7],Mt=8191&Pt,K=Pt>>>13,Y=0|S[8],V=8191&Y,U=Y>>>13,W=0|S[9],et=8191&W,dt=W>>>13;o.negative=M.negative^d.negative,o.length=19;var ut=(y+(a=Math.imul(b,Ut))|0)+((8191&(f=(f=Math.imul(b,Te))+Math.imul(D,Ut)|0))<<13)|0;y=((h=Math.imul(D,Te))+(f>>>13)|0)+(ut>>>26)|0,ut&=67108863,a=Math.imul(F,Ut),f=(f=Math.imul(F,Te))+Math.imul(q,Ut)|0,h=Math.imul(q,Te);var ht=(y+(a=a+Math.imul(b,X)|0)|0)+((8191&(f=(f=f+Math.imul(b,st)|0)+Math.imul(D,X)|0))<<13)|0;y=((h=h+Math.imul(D,st)|0)+(f>>>13)|0)+(ht>>>26)|0,ht&=67108863,a=Math.imul(at,Ut),f=(f=Math.imul(at,Te))+Math.imul(Bt,Ut)|0,h=Math.imul(Bt,Te),a=a+Math.imul(F,X)|0,f=(f=f+Math.imul(F,st)|0)+Math.imul(q,X)|0,h=h+Math.imul(q,st)|0;var zt=(y+(a=a+Math.imul(b,$)|0)|0)+((8191&(f=(f=f+Math.imul(b,gt)|0)+Math.imul(D,$)|0))<<13)|0;y=((h=h+Math.imul(D,gt)|0)+(f>>>13)|0)+(zt>>>26)|0,zt&=67108863,a=Math.imul(pt,Ut),f=(f=Math.imul(pt,Te))+Math.imul(Ft,Ut)|0,h=Math.imul(Ft,Te),a=a+Math.imul(at,X)|0,f=(f=f+Math.imul(at,st)|0)+Math.imul(Bt,X)|0,h=h+Math.imul(Bt,st)|0,a=a+Math.imul(F,$)|0,f=(f=f+Math.imul(F,gt)|0)+Math.imul(q,$)|0,h=h+Math.imul(q,gt)|0;var Wt=(y+(a=a+Math.imul(b,mt)|0)|0)+((8191&(f=(f=f+Math.imul(b,vt)|0)+Math.imul(D,mt)|0))<<13)|0;y=((h=h+Math.imul(D,vt)|0)+(f>>>13)|0)+(Wt>>>26)|0,Wt&=67108863,a=Math.imul(ct,Ut),f=(f=Math.imul(ct,Te))+Math.imul(Tt,Ut)|0,h=Math.imul(Tt,Te),a=a+Math.imul(pt,X)|0,f=(f=f+Math.imul(pt,st)|0)+Math.imul(Ft,X)|0,h=h+Math.imul(Ft,st)|0,a=a+Math.imul(at,$)|0,f=(f=f+Math.imul(at,gt)|0)+Math.imul(Bt,$)|0,h=h+Math.imul(Bt,gt)|0,a=a+Math.imul(F,mt)|0,f=(f=f+Math.imul(F,vt)|0)+Math.imul(q,mt)|0,h=h+Math.imul(q,vt)|0;var ye=(y+(a=a+Math.imul(b,_t)|0)|0)+((8191&(f=(f=f+Math.imul(b,Gt)|0)+Math.imul(D,_t)|0))<<13)|0;y=((h=h+Math.imul(D,Gt)|0)+(f>>>13)|0)+(ye>>>26)|0,ye&=67108863,a=Math.imul(k,Ut),f=(f=Math.imul(k,Te))+Math.imul(T,Ut)|0,h=Math.imul(T,Te),a=a+Math.imul(ct,X)|0,f=(f=f+Math.imul(ct,st)|0)+Math.imul(Tt,X)|0,h=h+Math.imul(Tt,st)|0,a=a+Math.imul(pt,$)|0,f=(f=f+Math.imul(pt,gt)|0)+Math.imul(Ft,$)|0,h=h+Math.imul(Ft,gt)|0,a=a+Math.imul(at,mt)|0,f=(f=f+Math.imul(at,vt)|0)+Math.imul(Bt,mt)|0,h=h+Math.imul(Bt,vt)|0,a=a+Math.imul(F,_t)|0,f=(f=f+Math.imul(F,Gt)|0)+Math.imul(q,_t)|0,h=h+Math.imul(q,Gt)|0;var Yt=(y+(a=a+Math.imul(b,wt)|0)|0)+((8191&(f=(f=f+Math.imul(b,se)|0)+Math.imul(D,wt)|0))<<13)|0;y=((h=h+Math.imul(D,se)|0)+(f>>>13)|0)+(Yt>>>26)|0,Yt&=67108863,a=Math.imul(j,Ut),f=(f=Math.imul(j,Te))+Math.imul(rt,Ut)|0,h=Math.imul(rt,Te),a=a+Math.imul(k,X)|0,f=(f=f+Math.imul(k,st)|0)+Math.imul(T,X)|0,h=h+Math.imul(T,st)|0,a=a+Math.imul(ct,$)|0,f=(f=f+Math.imul(ct,gt)|0)+Math.imul(Tt,$)|0,h=h+Math.imul(Tt,gt)|0,a=a+Math.imul(pt,mt)|0,f=(f=f+Math.imul(pt,vt)|0)+Math.imul(Ft,mt)|0,h=h+Math.imul(Ft,vt)|0,a=a+Math.imul(at,_t)|0,f=(f=f+Math.imul(at,Gt)|0)+Math.imul(Bt,_t)|0,h=h+Math.imul(Bt,Gt)|0,a=a+Math.imul(F,wt)|0,f=(f=f+Math.imul(F,se)|0)+Math.imul(q,wt)|0,h=h+Math.imul(q,se)|0;var pe=(y+(a=a+Math.imul(b,Et)|0)|0)+((8191&(f=(f=f+Math.imul(b,de)|0)+Math.imul(D,Et)|0))<<13)|0;y=((h=h+Math.imul(D,de)|0)+(f>>>13)|0)+(pe>>>26)|0,pe&=67108863,a=Math.imul(ot,Ut),f=(f=Math.imul(ot,Te))+Math.imul(qt,Ut)|0,h=Math.imul(qt,Te),a=a+Math.imul(j,X)|0,f=(f=f+Math.imul(j,st)|0)+Math.imul(rt,X)|0,h=h+Math.imul(rt,st)|0,a=a+Math.imul(k,$)|0,f=(f=f+Math.imul(k,gt)|0)+Math.imul(T,$)|0,h=h+Math.imul(T,gt)|0,a=a+Math.imul(ct,mt)|0,f=(f=f+Math.imul(ct,vt)|0)+Math.imul(Tt,mt)|0,h=h+Math.imul(Tt,vt)|0,a=a+Math.imul(pt,_t)|0,f=(f=f+Math.imul(pt,Gt)|0)+Math.imul(Ft,_t)|0,h=h+Math.imul(Ft,Gt)|0,a=a+Math.imul(at,wt)|0,f=(f=f+Math.imul(at,se)|0)+Math.imul(Bt,wt)|0,h=h+Math.imul(Bt,se)|0,a=a+Math.imul(F,Et)|0,f=(f=f+Math.imul(F,de)|0)+Math.imul(q,Et)|0,h=h+Math.imul(q,de)|0;var ve=(y+(a=a+Math.imul(b,Mt)|0)|0)+((8191&(f=(f=f+Math.imul(b,K)|0)+Math.imul(D,Mt)|0))<<13)|0;y=((h=h+Math.imul(D,K)|0)+(f>>>13)|0)+(ve>>>26)|0,ve&=67108863,a=Math.imul(xt,Ut),f=(f=Math.imul(xt,Te))+Math.imul(Qt,Ut)|0,h=Math.imul(Qt,Te),a=a+Math.imul(ot,X)|0,f=(f=f+Math.imul(ot,st)|0)+Math.imul(qt,X)|0,h=h+Math.imul(qt,st)|0,a=a+Math.imul(j,$)|0,f=(f=f+Math.imul(j,gt)|0)+Math.imul(rt,$)|0,h=h+Math.imul(rt,gt)|0,a=a+Math.imul(k,mt)|0,f=(f=f+Math.imul(k,vt)|0)+Math.imul(T,mt)|0,h=h+Math.imul(T,vt)|0,a=a+Math.imul(ct,_t)|0,f=(f=f+Math.imul(ct,Gt)|0)+Math.imul(Tt,_t)|0,h=h+Math.imul(Tt,Gt)|0,a=a+Math.imul(pt,wt)|0,f=(f=f+Math.imul(pt,se)|0)+Math.imul(Ft,wt)|0,h=h+Math.imul(Ft,se)|0,a=a+Math.imul(at,Et)|0,f=(f=f+Math.imul(at,de)|0)+Math.imul(Bt,Et)|0,h=h+Math.imul(Bt,de)|0,a=a+Math.imul(F,Mt)|0,f=(f=f+Math.imul(F,K)|0)+Math.imul(q,Mt)|0,h=h+Math.imul(q,K)|0;var ge=(y+(a=a+Math.imul(b,V)|0)|0)+((8191&(f=(f=f+Math.imul(b,U)|0)+Math.imul(D,V)|0))<<13)|0;y=((h=h+Math.imul(D,U)|0)+(f>>>13)|0)+(ge>>>26)|0,ge&=67108863,a=Math.imul(Dt,Ut),f=(f=Math.imul(Dt,Te))+Math.imul(Se,Ut)|0,h=Math.imul(Se,Te),a=a+Math.imul(xt,X)|0,f=(f=f+Math.imul(xt,st)|0)+Math.imul(Qt,X)|0,h=h+Math.imul(Qt,st)|0,a=a+Math.imul(ot,$)|0,f=(f=f+Math.imul(ot,gt)|0)+Math.imul(qt,$)|0,h=h+Math.imul(qt,gt)|0,a=a+Math.imul(j,mt)|0,f=(f=f+Math.imul(j,vt)|0)+Math.imul(rt,mt)|0,h=h+Math.imul(rt,vt)|0,a=a+Math.imul(k,_t)|0,f=(f=f+Math.imul(k,Gt)|0)+Math.imul(T,_t)|0,h=h+Math.imul(T,Gt)|0,a=a+Math.imul(ct,wt)|0,f=(f=f+Math.imul(ct,se)|0)+Math.imul(Tt,wt)|0,h=h+Math.imul(Tt,se)|0,a=a+Math.imul(pt,Et)|0,f=(f=f+Math.imul(pt,de)|0)+Math.imul(Ft,Et)|0,h=h+Math.imul(Ft,de)|0,a=a+Math.imul(at,Mt)|0,f=(f=f+Math.imul(at,K)|0)+Math.imul(Bt,Mt)|0,h=h+Math.imul(Bt,K)|0,a=a+Math.imul(F,V)|0,f=(f=f+Math.imul(F,U)|0)+Math.imul(q,V)|0,h=h+Math.imul(q,U)|0;var ie=(y+(a=a+Math.imul(b,et)|0)|0)+((8191&(f=(f=f+Math.imul(b,dt)|0)+Math.imul(D,et)|0))<<13)|0;y=((h=h+Math.imul(D,dt)|0)+(f>>>13)|0)+(ie>>>26)|0,ie&=67108863,a=Math.imul(Dt,X),f=(f=Math.imul(Dt,st))+Math.imul(Se,X)|0,h=Math.imul(Se,st),a=a+Math.imul(xt,$)|0,f=(f=f+Math.imul(xt,gt)|0)+Math.imul(Qt,$)|0,h=h+Math.imul(Qt,gt)|0,a=a+Math.imul(ot,mt)|0,f=(f=f+Math.imul(ot,vt)|0)+Math.imul(qt,mt)|0,h=h+Math.imul(qt,vt)|0,a=a+Math.imul(j,_t)|0,f=(f=f+Math.imul(j,Gt)|0)+Math.imul(rt,_t)|0,h=h+Math.imul(rt,Gt)|0,a=a+Math.imul(k,wt)|0,f=(f=f+Math.imul(k,se)|0)+Math.imul(T,wt)|0,h=h+Math.imul(T,se)|0,a=a+Math.imul(ct,Et)|0,f=(f=f+Math.imul(ct,de)|0)+Math.imul(Tt,Et)|0,h=h+Math.imul(Tt,de)|0,a=a+Math.imul(pt,Mt)|0,f=(f=f+Math.imul(pt,K)|0)+Math.imul(Ft,Mt)|0,h=h+Math.imul(Ft,K)|0,a=a+Math.imul(at,V)|0,f=(f=f+Math.imul(at,U)|0)+Math.imul(Bt,V)|0,h=h+Math.imul(Bt,U)|0;var ue=(y+(a=a+Math.imul(F,et)|0)|0)+((8191&(f=(f=f+Math.imul(F,dt)|0)+Math.imul(q,et)|0))<<13)|0;y=((h=h+Math.imul(q,dt)|0)+(f>>>13)|0)+(ue>>>26)|0,ue&=67108863,a=Math.imul(Dt,$),f=(f=Math.imul(Dt,gt))+Math.imul(Se,$)|0,h=Math.imul(Se,gt),a=a+Math.imul(xt,mt)|0,f=(f=f+Math.imul(xt,vt)|0)+Math.imul(Qt,mt)|0,h=h+Math.imul(Qt,vt)|0,a=a+Math.imul(ot,_t)|0,f=(f=f+Math.imul(ot,Gt)|0)+Math.imul(qt,_t)|0,h=h+Math.imul(qt,Gt)|0,a=a+Math.imul(j,wt)|0,f=(f=f+Math.imul(j,se)|0)+Math.imul(rt,wt)|0,h=h+Math.imul(rt,se)|0,a=a+Math.imul(k,Et)|0,f=(f=f+Math.imul(k,de)|0)+Math.imul(T,Et)|0,h=h+Math.imul(T,de)|0,a=a+Math.imul(ct,Mt)|0,f=(f=f+Math.imul(ct,K)|0)+Math.imul(Tt,Mt)|0,h=h+Math.imul(Tt,K)|0,a=a+Math.imul(pt,V)|0,f=(f=f+Math.imul(pt,U)|0)+Math.imul(Ft,V)|0,h=h+Math.imul(Ft,U)|0;var fe=(y+(a=a+Math.imul(at,et)|0)|0)+((8191&(f=(f=f+Math.imul(at,dt)|0)+Math.imul(Bt,et)|0))<<13)|0;y=((h=h+Math.imul(Bt,dt)|0)+(f>>>13)|0)+(fe>>>26)|0,fe&=67108863,a=Math.imul(Dt,mt),f=(f=Math.imul(Dt,vt))+Math.imul(Se,mt)|0,h=Math.imul(Se,vt),a=a+Math.imul(xt,_t)|0,f=(f=f+Math.imul(xt,Gt)|0)+Math.imul(Qt,_t)|0,h=h+Math.imul(Qt,Gt)|0,a=a+Math.imul(ot,wt)|0,f=(f=f+Math.imul(ot,se)|0)+Math.imul(qt,wt)|0,h=h+Math.imul(qt,se)|0,a=a+Math.imul(j,Et)|0,f=(f=f+Math.imul(j,de)|0)+Math.imul(rt,Et)|0,h=h+Math.imul(rt,de)|0,a=a+Math.imul(k,Mt)|0,f=(f=f+Math.imul(k,K)|0)+Math.imul(T,Mt)|0,h=h+Math.imul(T,K)|0,a=a+Math.imul(ct,V)|0,f=(f=f+Math.imul(ct,U)|0)+Math.imul(Tt,V)|0,h=h+Math.imul(Tt,U)|0;var ce=(y+(a=a+Math.imul(pt,et)|0)|0)+((8191&(f=(f=f+Math.imul(pt,dt)|0)+Math.imul(Ft,et)|0))<<13)|0;y=((h=h+Math.imul(Ft,dt)|0)+(f>>>13)|0)+(ce>>>26)|0,ce&=67108863,a=Math.imul(Dt,_t),f=(f=Math.imul(Dt,Gt))+Math.imul(Se,_t)|0,h=Math.imul(Se,Gt),a=a+Math.imul(xt,wt)|0,f=(f=f+Math.imul(xt,se)|0)+Math.imul(Qt,wt)|0,h=h+Math.imul(Qt,se)|0,a=a+Math.imul(ot,Et)|0,f=(f=f+Math.imul(ot,de)|0)+Math.imul(qt,Et)|0,h=h+Math.imul(qt,de)|0,a=a+Math.imul(j,Mt)|0,f=(f=f+Math.imul(j,K)|0)+Math.imul(rt,Mt)|0,h=h+Math.imul(rt,K)|0,a=a+Math.imul(k,V)|0,f=(f=f+Math.imul(k,U)|0)+Math.imul(T,V)|0,h=h+Math.imul(T,U)|0;var Kt=(y+(a=a+Math.imul(ct,et)|0)|0)+((8191&(f=(f=f+Math.imul(ct,dt)|0)+Math.imul(Tt,et)|0))<<13)|0;y=((h=h+Math.imul(Tt,dt)|0)+(f>>>13)|0)+(Kt>>>26)|0,Kt&=67108863,a=Math.imul(Dt,wt),f=(f=Math.imul(Dt,se))+Math.imul(Se,wt)|0,h=Math.imul(Se,se),a=a+Math.imul(xt,Et)|0,f=(f=f+Math.imul(xt,de)|0)+Math.imul(Qt,Et)|0,h=h+Math.imul(Qt,de)|0,a=a+Math.imul(ot,Mt)|0,f=(f=f+Math.imul(ot,K)|0)+Math.imul(qt,Mt)|0,h=h+Math.imul(qt,K)|0,a=a+Math.imul(j,V)|0,f=(f=f+Math.imul(j,U)|0)+Math.imul(rt,V)|0,h=h+Math.imul(rt,U)|0;var oe=(y+(a=a+Math.imul(k,et)|0)|0)+((8191&(f=(f=f+Math.imul(k,dt)|0)+Math.imul(T,et)|0))<<13)|0;y=((h=h+Math.imul(T,dt)|0)+(f>>>13)|0)+(oe>>>26)|0,oe&=67108863,a=Math.imul(Dt,Et),f=(f=Math.imul(Dt,de))+Math.imul(Se,Et)|0,h=Math.imul(Se,de),a=a+Math.imul(xt,Mt)|0,f=(f=f+Math.imul(xt,K)|0)+Math.imul(Qt,Mt)|0,h=h+Math.imul(Qt,K)|0,a=a+Math.imul(ot,V)|0,f=(f=f+Math.imul(ot,U)|0)+Math.imul(qt,V)|0,h=h+Math.imul(qt,U)|0;var Jt=(y+(a=a+Math.imul(j,et)|0)|0)+((8191&(f=(f=f+Math.imul(j,dt)|0)+Math.imul(rt,et)|0))<<13)|0;y=((h=h+Math.imul(rt,dt)|0)+(f>>>13)|0)+(Jt>>>26)|0,Jt&=67108863,a=Math.imul(Dt,Mt),f=(f=Math.imul(Dt,K))+Math.imul(Se,Mt)|0,h=Math.imul(Se,K),a=a+Math.imul(xt,V)|0,f=(f=f+Math.imul(xt,U)|0)+Math.imul(Qt,V)|0,h=h+Math.imul(Qt,U)|0;var le=(y+(a=a+Math.imul(ot,et)|0)|0)+((8191&(f=(f=f+Math.imul(ot,dt)|0)+Math.imul(qt,et)|0))<<13)|0;y=((h=h+Math.imul(qt,dt)|0)+(f>>>13)|0)+(le>>>26)|0,le&=67108863,a=Math.imul(Dt,V),f=(f=Math.imul(Dt,U))+Math.imul(Se,V)|0,h=Math.imul(Se,U);var ae=(y+(a=a+Math.imul(xt,et)|0)|0)+((8191&(f=(f=f+Math.imul(xt,dt)|0)+Math.imul(Qt,et)|0))<<13)|0;y=((h=h+Math.imul(Qt,dt)|0)+(f>>>13)|0)+(ae>>>26)|0,ae&=67108863;var ne=(y+(a=Math.imul(Dt,et))|0)+((8191&(f=(f=Math.imul(Dt,dt))+Math.imul(Se,et)|0))<<13)|0;return y=((h=Math.imul(Se,dt))+(f>>>13)|0)+(ne>>>26)|0,ne&=67108863,I[0]=ut,I[1]=ht,I[2]=zt,I[3]=Wt,I[4]=ye,I[5]=Yt,I[6]=pe,I[7]=ve,I[8]=ge,I[9]=ie,I[10]=ue,I[11]=fe,I[12]=ce,I[13]=Kt,I[14]=oe,I[15]=Jt,I[16]=le,I[17]=ae,I[18]=ne,y!==0&&(I[19]=y,o.length++),o};function B(M,d,o){o.negative=d.negative^M.negative,o.length=M.length+d.length;for(var a=0,f=0,h=0;h<o.length-1;h++){var g=f;f=0;for(var S=67108863&a,I=Math.min(h,d.length-1),y=Math.max(0,h-M.length+1);y<=I;y++){var u=h-y,b=(0|M.words[u])*(0|d.words[y]),D=67108863&b;S=67108863&(D=D+S|0),f+=(g=(g=g+(b/67108864|0)|0)+(D>>>26)|0)>>>26,g&=67108863}o.words[h]=S,a=g,g=f}return a!==0?o.words[h]=a:o.length--,o._strip()}function P(M,d,o){return B(M,d,o)}Math.imul||(A=x),s.prototype.mulTo=function(M,d){var o=this.length+M.length;return this.length===10&&M.length===10?A(this,M,d):o<63?x(this,M,d):o<1024?B(this,M,d):P(this,M,d)},s.prototype.mul=function(M){var d=new s(null);return d.words=new Array(this.length+M.length),this.mulTo(M,d)},s.prototype.mulf=function(M){var d=new s(null);return d.words=new Array(this.length+M.length),P(this,M,d)},s.prototype.imul=function(M){return this.clone().mulTo(M,this)},s.prototype.imuln=function(M){var d=M<0;d&&(M=-M),e(typeof M=="number"),e(M<67108864);for(var o=0,a=0;a<this.length;a++){var f=(0|this.words[a])*M,h=(67108863&f)+(67108863&o);o>>=26,o+=f/67108864|0,o+=h>>>26,this.words[a]=67108863&h}return o!==0&&(this.words[a]=o,this.length++),d?this.ineg():this},s.prototype.muln=function(M){return this.clone().imuln(M)},s.prototype.sqr=function(){return this.mul(this)},s.prototype.isqr=function(){return this.imul(this.clone())},s.prototype.pow=function(M){var d=function(h){for(var g=new Array(h.bitLength()),S=0;S<g.length;S++){var I=S/26|0,y=S%26;g[S]=h.words[I]>>>y&1}return g}(M);if(d.length===0)return new s(1);for(var o=this,a=0;a<d.length&&d[a]===0;a++,o=o.sqr());if(++a<d.length)for(var f=o.sqr();a<d.length;a++,f=f.sqr())d[a]!==0&&(o=o.mul(f));return o},s.prototype.iushln=function(M){e(typeof M=="number"&&M>=0);var d,o=M%26,a=(M-o)/26,f=67108863>>>26-o<<26-o;if(o!==0){var h=0;for(d=0;d<this.length;d++){var g=this.words[d]&f,S=(0|this.words[d])-g<<o;this.words[d]=S|h,h=g>>>26-o}h&&(this.words[d]=h,this.length++)}if(a!==0){for(d=this.length-1;d>=0;d--)this.words[d+a]=this.words[d];for(d=0;d<a;d++)this.words[d]=0;this.length+=a}return this._strip()},s.prototype.ishln=function(M){return e(this.negative===0),this.iushln(M)},s.prototype.iushrn=function(M,d,o){var a;e(typeof M=="number"&&M>=0),a=d?(d-d%26)/26:0;var f=M%26,h=Math.min((M-f)/26,this.length),g=67108863^67108863>>>f<<f,S=o;if(a-=h,a=Math.max(0,a),S){for(var I=0;I<h;I++)S.words[I]=this.words[I];S.length=h}if(h!==0)if(this.length>h)for(this.length-=h,I=0;I<this.length;I++)this.words[I]=this.words[I+h];else this.words[0]=0,this.length=1;var y=0;for(I=this.length-1;I>=0&&(y!==0||I>=a);I--){var u=0|this.words[I];this.words[I]=y<<26-f|u>>>f,y=u&g}return S&&y!==0&&(S.words[S.length++]=y),this.length===0&&(this.words[0]=0,this.length=1),this._strip()},s.prototype.ishrn=function(M,d,o){return e(this.negative===0),this.iushrn(M,d,o)},s.prototype.shln=function(M){return this.clone().ishln(M)},s.prototype.ushln=function(M){return this.clone().iushln(M)},s.prototype.shrn=function(M){return this.clone().ishrn(M)},s.prototype.ushrn=function(M){return this.clone().iushrn(M)},s.prototype.testn=function(M){e(typeof M=="number"&&M>=0);var d=M%26,o=(M-d)/26,a=1<<d;return!(this.length<=o||!(this.words[o]&a))},s.prototype.imaskn=function(M){e(typeof M=="number"&&M>=0);var d=M%26,o=(M-d)/26;if(e(this.negative===0,"imaskn works only with positive numbers"),this.length<=o)return this;if(d!==0&&o++,this.length=Math.min(o,this.length),d!==0){var a=67108863^67108863>>>d<<d;this.words[this.length-1]&=a}return this._strip()},s.prototype.maskn=function(M){return this.clone().imaskn(M)},s.prototype.iaddn=function(M){return e(typeof M=="number"),e(M<67108864),M<0?this.isubn(-M):this.negative!==0?this.length===1&&(0|this.words[0])<=M?(this.words[0]=M-(0|this.words[0]),this.negative=0,this):(this.negative=0,this.isubn(M),this.negative=1,this):this._iaddn(M)},s.prototype._iaddn=function(M){this.words[0]+=M;for(var d=0;d<this.length&&this.words[d]>=67108864;d++)this.words[d]-=67108864,d===this.length-1?this.words[d+1]=1:this.words[d+1]++;return this.length=Math.max(this.length,d+1),this},s.prototype.isubn=function(M){if(e(typeof M=="number"),e(M<67108864),M<0)return this.iaddn(-M);if(this.negative!==0)return this.negative=0,this.iaddn(M),this.negative=1,this;if(this.words[0]-=M,this.length===1&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var d=0;d<this.length&&this.words[d]<0;d++)this.words[d]+=67108864,this.words[d+1]-=1;return this._strip()},s.prototype.addn=function(M){return this.clone().iaddn(M)},s.prototype.subn=function(M){return this.clone().isubn(M)},s.prototype.iabs=function(){return this.negative=0,this},s.prototype.abs=function(){return this.clone().iabs()},s.prototype._ishlnsubmul=function(M,d,o){var a,f,h=M.length+o;this._expand(h);var g=0;for(a=0;a<M.length;a++){f=(0|this.words[a+o])+g;var S=(0|M.words[a])*d;g=((f-=67108863&S)>>26)-(S/67108864|0),this.words[a+o]=67108863&f}for(;a<this.length-o;a++)g=(f=(0|this.words[a+o])+g)>>26,this.words[a+o]=67108863&f;if(g===0)return this._strip();for(e(g===-1),g=0,a=0;a<this.length;a++)g=(f=-(0|this.words[a])+g)>>26,this.words[a]=67108863&f;return this.negative=1,this._strip()},s.prototype._wordDiv=function(M,d){var o=(this.length,M.length),a=this.clone(),f=M,h=0|f.words[f.length-1];(o=26-this._countBits(h))!=0&&(f=f.ushln(o),a.iushln(o),h=0|f.words[f.length-1]);var g,S=a.length-f.length;if(d!=="mod"){(g=new s(null)).length=S+1,g.words=new Array(g.length);for(var I=0;I<g.length;I++)g.words[I]=0}var y=a.clone()._ishlnsubmul(f,1,S);y.negative===0&&(a=y,g&&(g.words[S]=1));for(var u=S-1;u>=0;u--){var b=67108864*(0|a.words[f.length+u])+(0|a.words[f.length+u-1]);for(b=Math.min(b/h|0,67108863),a._ishlnsubmul(f,b,u);a.negative!==0;)b--,a.negative=0,a._ishlnsubmul(f,1,u),a.isZero()||(a.negative^=1);g&&(g.words[u]=b)}return g&&g._strip(),a._strip(),d!=="div"&&o!==0&&a.iushrn(o),{div:g||null,mod:a}},s.prototype.divmod=function(M,d,o){return e(!M.isZero()),this.isZero()?{div:new s(0),mod:new s(0)}:this.negative!==0&&M.negative===0?(h=this.neg().divmod(M,d),d!=="mod"&&(a=h.div.neg()),d!=="div"&&(f=h.mod.neg(),o&&f.negative!==0&&f.iadd(M)),{div:a,mod:f}):this.negative===0&&M.negative!==0?(h=this.divmod(M.neg(),d),d!=="mod"&&(a=h.div.neg()),{div:a,mod:h.mod}):this.negative&M.negative?(h=this.neg().divmod(M.neg(),d),d!=="div"&&(f=h.mod.neg(),o&&f.negative!==0&&f.isub(M)),{div:h.div,mod:f}):M.length>this.length||this.cmp(M)<0?{div:new s(0),mod:this}:M.length===1?d==="div"?{div:this.divn(M.words[0]),mod:null}:d==="mod"?{div:null,mod:new s(this.modrn(M.words[0]))}:{div:this.divn(M.words[0]),mod:new s(this.modrn(M.words[0]))}:this._wordDiv(M,d);var a,f,h},s.prototype.div=function(M){return this.divmod(M,"div",!1).div},s.prototype.mod=function(M){return this.divmod(M,"mod",!1).mod},s.prototype.umod=function(M){return this.divmod(M,"mod",!0).mod},s.prototype.divRound=function(M){var d=this.divmod(M);if(d.mod.isZero())return d.div;var o=d.div.negative!==0?d.mod.isub(M):d.mod,a=M.ushrn(1),f=M.andln(1),h=o.cmp(a);return h<0||f===1&&h===0?d.div:d.div.negative!==0?d.div.isubn(1):d.div.iaddn(1)},s.prototype.modrn=function(M){var d=M<0;d&&(M=-M),e(M<=67108863);for(var o=(1<<26)%M,a=0,f=this.length-1;f>=0;f--)a=(o*a+(0|this.words[f]))%M;return d?-a:a},s.prototype.modn=function(M){return this.modrn(M)},s.prototype.idivn=function(M){var d=M<0;d&&(M=-M),e(M<=67108863);for(var o=0,a=this.length-1;a>=0;a--){var f=(0|this.words[a])+67108864*o;this.words[a]=f/M|0,o=f%M}return this._strip(),d?this.ineg():this},s.prototype.divn=function(M){return this.clone().idivn(M)},s.prototype.egcd=function(M){e(M.negative===0),e(!M.isZero());var d=this,o=M.clone();d=d.negative!==0?d.umod(M):d.clone();for(var a=new s(1),f=new s(0),h=new s(0),g=new s(1),S=0;d.isEven()&&o.isEven();)d.iushrn(1),o.iushrn(1),++S;for(var I=o.clone(),y=d.clone();!d.isZero();){for(var u=0,b=1;!(d.words[0]&b)&&u<26;++u,b<<=1);if(u>0)for(d.iushrn(u);u-- >0;)(a.isOdd()||f.isOdd())&&(a.iadd(I),f.isub(y)),a.iushrn(1),f.iushrn(1);for(var D=0,Z=1;!(o.words[0]&Z)&&D<26;++D,Z<<=1);if(D>0)for(o.iushrn(D);D-- >0;)(h.isOdd()||g.isOdd())&&(h.iadd(I),g.isub(y)),h.iushrn(1),g.iushrn(1);d.cmp(o)>=0?(d.isub(o),a.isub(h),f.isub(g)):(o.isub(d),h.isub(a),g.isub(f))}return{a:h,b:g,gcd:o.iushln(S)}},s.prototype._invmp=function(M){e(M.negative===0),e(!M.isZero());var d=this,o=M.clone();d=d.negative!==0?d.umod(M):d.clone();for(var a,f=new s(1),h=new s(0),g=o.clone();d.cmpn(1)>0&&o.cmpn(1)>0;){for(var S=0,I=1;!(d.words[0]&I)&&S<26;++S,I<<=1);if(S>0)for(d.iushrn(S);S-- >0;)f.isOdd()&&f.iadd(g),f.iushrn(1);for(var y=0,u=1;!(o.words[0]&u)&&y<26;++y,u<<=1);if(y>0)for(o.iushrn(y);y-- >0;)h.isOdd()&&h.iadd(g),h.iushrn(1);d.cmp(o)>=0?(d.isub(o),f.isub(h)):(o.isub(d),h.isub(f))}return(a=d.cmpn(1)===0?f:h).cmpn(0)<0&&a.iadd(M),a},s.prototype.gcd=function(M){if(this.isZero())return M.abs();if(M.isZero())return this.abs();var d=this.clone(),o=M.clone();d.negative=0,o.negative=0;for(var a=0;d.isEven()&&o.isEven();a++)d.iushrn(1),o.iushrn(1);for(;;){for(;d.isEven();)d.iushrn(1);for(;o.isEven();)o.iushrn(1);var f=d.cmp(o);if(f<0){var h=d;d=o,o=h}else if(f===0||o.cmpn(1)===0)break;d.isub(o)}return o.iushln(a)},s.prototype.invm=function(M){return this.egcd(M).a.umod(M)},s.prototype.isEven=function(){return(1&this.words[0])==0},s.prototype.isOdd=function(){return(1&this.words[0])==1},s.prototype.andln=function(M){return this.words[0]&M},s.prototype.bincn=function(M){e(typeof M=="number");var d=M%26,o=(M-d)/26,a=1<<d;if(this.length<=o)return this._expand(o+1),this.words[o]|=a,this;for(var f=a,h=o;f!==0&&h<this.length;h++){var g=0|this.words[h];f=(g+=f)>>>26,g&=67108863,this.words[h]=g}return f!==0&&(this.words[h]=f,this.length++),this},s.prototype.isZero=function(){return this.length===1&&this.words[0]===0},s.prototype.cmpn=function(M){var d,o=M<0;if(this.negative!==0&&!o)return-1;if(this.negative===0&&o)return 1;if(this._strip(),this.length>1)d=1;else{o&&(M=-M),e(M<=67108863,"Number is too big");var a=0|this.words[0];d=a===M?0:a<M?-1:1}return this.negative!==0?0|-d:d},s.prototype.cmp=function(M){if(this.negative!==0&&M.negative===0)return-1;if(this.negative===0&&M.negative!==0)return 1;var d=this.ucmp(M);return this.negative!==0?0|-d:d},s.prototype.ucmp=function(M){if(this.length>M.length)return 1;if(this.length<M.length)return-1;for(var d=0,o=this.length-1;o>=0;o--){var a=0|this.words[o],f=0|M.words[o];if(a!==f){a<f?d=-1:a>f&&(d=1);break}}return d},s.prototype.gtn=function(M){return this.cmpn(M)===1},s.prototype.gt=function(M){return this.cmp(M)===1},s.prototype.gten=function(M){return this.cmpn(M)>=0},s.prototype.gte=function(M){return this.cmp(M)>=0},s.prototype.ltn=function(M){return this.cmpn(M)===-1},s.prototype.lt=function(M){return this.cmp(M)===-1},s.prototype.lten=function(M){return this.cmpn(M)<=0},s.prototype.lte=function(M){return this.cmp(M)<=0},s.prototype.eqn=function(M){return this.cmpn(M)===0},s.prototype.eq=function(M){return this.cmp(M)===0},s.red=function(M){return new nt(M)},s.prototype.toRed=function(M){return e(!this.red,"Already a number in reduction context"),e(this.negative===0,"red works only with positives"),M.convertTo(this)._forceRed(M)},s.prototype.fromRed=function(){return e(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},s.prototype._forceRed=function(M){return this.red=M,this},s.prototype.forceRed=function(M){return e(!this.red,"Already a number in reduction context"),this._forceRed(M)},s.prototype.redAdd=function(M){return e(this.red,"redAdd works only with red numbers"),this.red.add(this,M)},s.prototype.redIAdd=function(M){return e(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,M)},s.prototype.redSub=function(M){return e(this.red,"redSub works only with red numbers"),this.red.sub(this,M)},s.prototype.redISub=function(M){return e(this.red,"redISub works only with red numbers"),this.red.isub(this,M)},s.prototype.redShl=function(M){return e(this.red,"redShl works only with red numbers"),this.red.shl(this,M)},s.prototype.redMul=function(M){return e(this.red,"redMul works only with red numbers"),this.red._verify2(this,M),this.red.mul(this,M)},s.prototype.redIMul=function(M){return e(this.red,"redMul works only with red numbers"),this.red._verify2(this,M),this.red.imul(this,M)},s.prototype.redSqr=function(){return e(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},s.prototype.redISqr=function(){return e(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},s.prototype.redSqrt=function(){return e(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},s.prototype.redInvm=function(){return e(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},s.prototype.redNeg=function(){return e(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},s.prototype.redPow=function(M){return e(this.red&&!M.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,M)};var R={k256:null,p224:null,p192:null,p25519:null};function C(M,d){this.name=M,this.p=new s(d,16),this.n=this.p.bitLength(),this.k=new s(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}function O(){C.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}function z(){C.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}function H(){C.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}function tt(){C.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}function nt(M){if(typeof M=="string"){var d=s._prime(M);this.m=d.p,this.prime=d}else e(M.gtn(1),"modulus must be greater than 1"),this.m=M,this.prime=null}function G(M){nt.call(this,M),this.shift=this.m.bitLength(),this.shift%26!=0&&(this.shift+=26-this.shift%26),this.r=new s(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}C.prototype._tmp=function(){var M=new s(null);return M.words=new Array(Math.ceil(this.n/13)),M},C.prototype.ireduce=function(M){var d,o=M;do this.split(o,this.tmp),d=(o=(o=this.imulK(o)).iadd(this.tmp)).bitLength();while(d>this.n);var a=d<this.n?-1:o.ucmp(this.p);return a===0?(o.words[0]=0,o.length=1):a>0?o.isub(this.p):o.strip!==void 0?o.strip():o._strip(),o},C.prototype.split=function(M,d){M.iushrn(this.n,0,d)},C.prototype.imulK=function(M){return M.imul(this.k)},n(O,C),O.prototype.split=function(M,d){for(var o=4194303,a=Math.min(M.length,9),f=0;f<a;f++)d.words[f]=M.words[f];if(d.length=a,M.length<=9)return M.words[0]=0,void(M.length=1);var h=M.words[9];for(d.words[d.length++]=h&o,f=10;f<M.length;f++){var g=0|M.words[f];M.words[f-10]=(g&o)<<4|h>>>22,h=g}h>>>=22,M.words[f-10]=h,h===0&&M.length>10?M.length-=10:M.length-=9},O.prototype.imulK=function(M){M.words[M.length]=0,M.words[M.length+1]=0,M.length+=2;for(var d=0,o=0;o<M.length;o++){var a=0|M.words[o];d+=977*a,M.words[o]=67108863&d,d=64*a+(d/67108864|0)}return M.words[M.length-1]===0&&(M.length--,M.words[M.length-1]===0&&M.length--),M},n(z,C),n(H,C),n(tt,C),tt.prototype.imulK=function(M){for(var d=0,o=0;o<M.length;o++){var a=19*(0|M.words[o])+d,f=67108863&a;a>>>=26,M.words[o]=f,d=a}return d!==0&&(M.words[M.length++]=d),M},s._prime=function(M){if(R[M])return R[M];var d;if(M==="k256")d=new O;else if(M==="p224")d=new z;else if(M==="p192")d=new H;else{if(M!=="p25519")throw new Error("Unknown prime "+M);d=new tt}return R[M]=d,d},nt.prototype._verify1=function(M){e(M.negative===0,"red works only with positives"),e(M.red,"red works only with red numbers")},nt.prototype._verify2=function(M,d){e((M.negative|d.negative)==0,"red works only with positives"),e(M.red&&M.red===d.red,"red works only with red numbers")},nt.prototype.imod=function(M){return this.prime?this.prime.ireduce(M)._forceRed(this):(m(M,M.umod(this.m)._forceRed(this)),M)},nt.prototype.neg=function(M){return M.isZero()?M.clone():this.m.sub(M)._forceRed(this)},nt.prototype.add=function(M,d){this._verify2(M,d);var o=M.add(d);return o.cmp(this.m)>=0&&o.isub(this.m),o._forceRed(this)},nt.prototype.iadd=function(M,d){this._verify2(M,d);var o=M.iadd(d);return o.cmp(this.m)>=0&&o.isub(this.m),o},nt.prototype.sub=function(M,d){this._verify2(M,d);var o=M.sub(d);return o.cmpn(0)<0&&o.iadd(this.m),o._forceRed(this)},nt.prototype.isub=function(M,d){this._verify2(M,d);var o=M.isub(d);return o.cmpn(0)<0&&o.iadd(this.m),o},nt.prototype.shl=function(M,d){return this._verify1(M),this.imod(M.ushln(d))},nt.prototype.imul=function(M,d){return this._verify2(M,d),this.imod(M.imul(d))},nt.prototype.mul=function(M,d){return this._verify2(M,d),this.imod(M.mul(d))},nt.prototype.isqr=function(M){return this.imul(M,M.clone())},nt.prototype.sqr=function(M){return this.mul(M,M)},nt.prototype.sqrt=function(M){if(M.isZero())return M.clone();var d=this.m.andln(3);if(e(d%2==1),d===3){var o=this.m.add(new s(1)).iushrn(2);return this.pow(M,o)}for(var a=this.m.subn(1),f=0;!a.isZero()&&a.andln(1)===0;)f++,a.iushrn(1);e(!a.isZero());var h=new s(1).toRed(this),g=h.redNeg(),S=this.m.subn(1).iushrn(1),I=this.m.bitLength();for(I=new s(2*I*I).toRed(this);this.pow(I,S).cmp(g)!==0;)I.redIAdd(g);for(var y=this.pow(I,a),u=this.pow(M,a.addn(1).iushrn(1)),b=this.pow(M,a),D=f;b.cmp(h)!==0;){for(var Z=b,F=0;Z.cmp(h)!==0;F++)Z=Z.redSqr();e(F<D);var q=this.pow(y,new s(1).iushln(D-F-1));u=u.redMul(q),y=q.redSqr(),b=b.redMul(y),D=F}return u},nt.prototype.invm=function(M){var d=M._invmp(this.m);return d.negative!==0?(d.negative=0,this.imod(d).redNeg()):this.imod(d)},nt.prototype.pow=function(M,d){if(d.isZero())return new s(1).toRed(this);if(d.cmpn(1)===0)return M.clone();var o=new Array(16);o[0]=new s(1).toRed(this),o[1]=M;for(var a=2;a<o.length;a++)o[a]=this.mul(o[a-1],M);var f=o[0],h=0,g=0,S=d.bitLength()%26;for(S===0&&(S=26),a=d.length-1;a>=0;a--){for(var I=d.words[a],y=S-1;y>=0;y--){var u=I>>y&1;f!==o[0]&&(f=this.sqr(f)),u!==0||h!==0?(h<<=1,h|=u,(++g==4||a===0&&y===0)&&(f=this.mul(f,o[h]),g=0,h=0)):g=0}S=26}return f},nt.prototype.convertTo=function(M){var d=M.umod(this.m);return d===M?d.clone():d},nt.prototype.convertFrom=function(M){var d=M.clone();return d.red=null,d},s.mont=function(M){return new G(M)},n(G,nt),G.prototype.convertTo=function(M){return this.imod(M.ushln(this.shift))},G.prototype.convertFrom=function(M){var d=this.imod(M.mul(this.rinv));return d.red=null,d},G.prototype.imul=function(M,d){if(M.isZero()||d.isZero())return M.words[0]=0,M.length=1,M;var o=M.imul(d),a=o.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),f=o.isub(a).iushrn(this.shift),h=f;return f.cmp(this.m)>=0?h=f.isub(this.m):f.cmpn(0)<0&&(h=f.iadd(this.m)),h._forceRed(this)},G.prototype.mul=function(M,d){if(M.isZero()||d.isZero())return new s(0)._forceRed(this);var o=M.mul(d),a=o.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),f=o.isub(a).iushrn(this.shift),h=f;return f.cmp(this.m)>=0?h=f.isub(this.m):f.cmpn(0)<0&&(h=f.iadd(this.m)),h._forceRed(this)},G.prototype.invm=function(M){return this.imod(M._invmp(this.m).mul(this.r2))._forceRed(this)}})(lE,$e);var ay=lE.exports,Jc=Yi(ay),F2={exports:{}};(function(r,t){var e=Ae,n=e.Buffer;function s(c,l){for(var p in c)l[p]=c[p]}function i(c,l,p){return n(c,l,p)}n.from&&n.alloc&&n.allocUnsafe&&n.allocUnsafeSlow?r.exports=e:(s(e,t),t.Buffer=i),i.prototype=Object.create(n.prototype),s(n,i),i.from=function(c,l,p){if(typeof c=="number")throw new TypeError("Argument must not be a number");return n(c,l,p)},i.alloc=function(c,l,p){if(typeof c!="number")throw new TypeError("Argument must be a number");var m=n(c);return l!==void 0?typeof p=="string"?m.fill(l,p):m.fill(l):m.fill(0),m},i.allocUnsafe=function(c){if(typeof c!="number")throw new TypeError("Argument must be a number");return n(c)},i.allocUnsafeSlow=function(c){if(typeof c!="number")throw new TypeError("Argument must be a number");return e.SlowBuffer(c)}})(F2,F2.exports);var h0=F2.exports.Buffer,uy=function(r){if(r.length>=255)throw new TypeError("Alphabet too long");for(var t=new Uint8Array(256),e=0;e<t.length;e++)t[e]=255;for(var n=0;n<r.length;n++){var s=r.charAt(n),i=s.charCodeAt(0);if(t[i]!==255)throw new TypeError(s+" is ambiguous");t[i]=n}var c=r.length,l=r.charAt(0),p=Math.log(c)/Math.log(256),m=Math.log(256)/Math.log(c);function v(_){if(typeof _!="string")throw new TypeError("Expected String");if(_.length===0)return h0.alloc(0);for(var E=0,w=0,x=0;_[E]===l;)w++,E++;for(var A=(_.length-E)*p+1>>>0,B=new Uint8Array(A);_[E];){var P=t[_.charCodeAt(E)];if(P===255)return;for(var R=0,C=A-1;(P!==0||R<x)&&C!==-1;C--,R++)P+=c*B[C]>>>0,B[C]=P%256>>>0,P=P/256>>>0;if(P!==0)throw new Error("Non-zero carry");x=R,E++}for(var O=A-x;O!==A&&B[O]===0;)O++;var z=h0.allocUnsafe(w+(A-O));z.fill(0,0,w);for(var H=w;O!==A;)z[H++]=B[O++];return z}return{encode:function(_){if((Array.isArray(_)||_ instanceof Uint8Array)&&(_=h0.from(_)),!h0.isBuffer(_))throw new TypeError("Expected Buffer");if(_.length===0)return"";for(var E=0,w=0,x=0,A=_.length;x!==A&&_[x]===0;)x++,E++;for(var B=(A-x)*m+1>>>0,P=new Uint8Array(B);x!==A;){for(var R=_[x],C=0,O=B-1;(R!==0||C<w)&&O!==-1;O--,C++)R+=256*P[O]>>>0,P[O]=R%c>>>0,R=R/c>>>0;if(R!==0)throw new Error("Non-zero carry");w=C,x++}for(var z=B-w;z!==B&&P[z]===0;)z++;for(var H=l.repeat(E);z<B;++z)H+=r.charAt(P[z]);return H},decodeUnsafe:v,decode:function(_){var E=v(_);if(E)return E;throw new Error("Non-base"+c+" character")}}},Ln=Yi(uy("123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"));const Wz=(r,t,e)=>r&t^~r&e,Gz=(r,t,e)=>r&t^r&e^t&e,Yz=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),Os=new Uint32Array([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),Us=new Uint32Array(64);let Xz=class extends tE{constructor(){super(64,32,8,!1),this.A=0|Os[0],this.B=0|Os[1],this.C=0|Os[2],this.D=0|Os[3],this.E=0|Os[4],this.F=0|Os[5],this.G=0|Os[6],this.H=0|Os[7]}get(){const{A:t,B:e,C:n,D:s,E:i,F:c,G:l,H:p}=this;return[t,e,n,s,i,c,l,p]}set(t,e,n,s,i,c,l,p){this.A=0|t,this.B=0|e,this.C=0|n,this.D=0|s,this.E=0|i,this.F=0|c,this.G=0|l,this.H=0|p}process(t,e){for(let _=0;_<16;_++,e+=4)Us[_]=t.getUint32(e,!1);for(let _=16;_<64;_++){const E=Us[_-15],w=Us[_-2],x=go(E,7)^go(E,18)^E>>>3,A=go(w,17)^go(w,19)^w>>>10;Us[_]=A+Us[_-7]+x+Us[_-16]|0}let{A:n,B:s,C:i,D:c,E:l,F:p,G:m,H:v}=this;for(let _=0;_<64;_++){const E=v+(go(l,6)^go(l,11)^go(l,25))+Wz(l,p,m)+Yz[_]+Us[_]|0,w=(go(n,2)^go(n,13)^go(n,22))+Gz(n,s,i)|0;v=m,m=p,p=l,l=c+E|0,c=i,i=s,s=n,n=E+w|0}n=n+this.A|0,s=s+this.B|0,i=i+this.C|0,c=c+this.D|0,l=l+this.E|0,p=p+this.F|0,m=m+this.G|0,v=v+this.H|0,this.set(n,s,i,c,l,p,m,v)}roundClean(){Us.fill(0)}destroy(){this.set(0,0,0,0,0,0,0,0),this.buffer.fill(0)}};const tu=ny(()=>new Xz);var Cn={},Jz=uy("123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz");function vs(r,t,e){return t<=r&&r<=e}function gl(r){if(r===void 0)return{};if(r===Object(r))return r;throw TypeError("Could not convert argument to dictionary")}function j2(r){this.tokens=[].slice.call(r)}j2.prototype={endOfStream:function(){return!this.tokens.length},read:function(){return this.tokens.length?this.tokens.shift():-1},prepend:function(r){if(Array.isArray(r))for(var t=r;t.length;)this.tokens.unshift(t.pop());else this.tokens.unshift(r)},push:function(r){if(Array.isArray(r))for(var t=r;t.length;)this.tokens.push(t.shift());else this.tokens.push(r)}};var Ru=-1;function zp(r,t){if(r)throw TypeError("Decoder error");return t||65533}var yl="utf-8";function bl(r,t){if(!(this instanceof bl))return new bl(r,t);if((r=r!==void 0?String(r).toLowerCase():yl)!==yl)throw new Error("Encoding not supported. Only utf-8 is supported");t=gl(t),this._streaming=!1,this._BOMseen=!1,this._decoder=null,this._fatal=!!t.fatal,this._ignoreBOM=!!t.ignoreBOM,Object.defineProperty(this,"encoding",{value:"utf-8"}),Object.defineProperty(this,"fatal",{value:this._fatal}),Object.defineProperty(this,"ignoreBOM",{value:this._ignoreBOM})}function wl(r,t){if(!(this instanceof wl))return new wl(r,t);if((r=r!==void 0?String(r).toLowerCase():yl)!==yl)throw new Error("Encoding not supported. Only utf-8 is supported");t=gl(t),this._streaming=!1,this._encoder=null,this._options={fatal:!!t.fatal},Object.defineProperty(this,"encoding",{value:"utf-8"})}function Qz(r){var t=r.fatal,e=0,n=0,s=0,i=128,c=191;this.handler=function(l,p){if(p===-1&&s!==0)return s=0,zp(t);if(p===-1)return Ru;if(s===0){if(vs(p,0,127))return p;if(vs(p,194,223))s=1,e=p-192;else if(vs(p,224,239))p===224&&(i=160),p===237&&(c=159),s=2,e=p-224;else{if(!vs(p,240,244))return zp(t);p===240&&(i=144),p===244&&(c=143),s=3,e=p-240}return e<<=6*s,null}if(!vs(p,i,c))return e=s=n=0,i=128,c=191,l.prepend(p),zp(t);if(i=128,c=191,e+=p-128<<6*(s-(n+=1)),n!==s)return null;var m=e;return e=s=n=0,m}}function tq(r){r.fatal,this.handler=function(t,e){if(e===-1)return Ru;if(vs(e,0,127))return e;var n,s;vs(e,128,2047)?(n=1,s=192):vs(e,2048,65535)?(n=2,s=224):vs(e,65536,1114111)&&(n=3,s=240);for(var i=[(e>>6*n)+s];n>0;){var c=e>>6*(n-1);i.push(128|63&c),n-=1}return i}}bl.prototype={decode:function(r,t){var e;e=typeof r=="object"&&r instanceof ArrayBuffer?new Uint8Array(r):typeof r=="object"&&"buffer"in r&&r.buffer instanceof ArrayBuffer?new Uint8Array(r.buffer,r.byteOffset,r.byteLength):new Uint8Array(0),t=gl(t),this._streaming||(this._decoder=new Qz({fatal:this._fatal}),this._BOMseen=!1),this._streaming=!!t.stream;for(var n,s=new j2(e),i=[];!s.endOfStream()&&(n=this._decoder.handler(s,s.read()))!==Ru;)n!==null&&(Array.isArray(n)?i.push.apply(i,n):i.push(n));if(!this._streaming){do{if((n=this._decoder.handler(s,s.read()))===Ru)break;n!==null&&(Array.isArray(n)?i.push.apply(i,n):i.push(n))}while(!s.endOfStream());this._decoder=null}return i.length&&(["utf-8"].indexOf(this.encoding)===-1||this._ignoreBOM||this._BOMseen||(i[0]===65279?(this._BOMseen=!0,i.shift()):this._BOMseen=!0)),function(c){for(var l="",p=0;p<c.length;++p){var m=c[p];m<=65535?l+=String.fromCharCode(m):(m-=65536,l+=String.fromCharCode(55296+(m>>10),56320+(1023&m)))}return l}(i)}},wl.prototype={encode:function(r,t){r=r?String(r):"",t=gl(t),this._streaming||(this._encoder=new tq(this._options)),this._streaming=!!t.stream;for(var e,n=[],s=new j2(function(i){for(var c=String(i),l=c.length,p=0,m=[];p<l;){var v=c.charCodeAt(p);if(v<55296||v>57343)m.push(v);else if(56320<=v&&v<=57343)m.push(65533);else if(55296<=v&&v<=56319)if(p===l-1)m.push(65533);else{var _=i.charCodeAt(p+1);if(56320<=_&&_<=57343){var E=1023&v,w=1023&_;m.push(65536+(E<<10)+w),p+=1}else m.push(65533)}p+=1}return m}(r));!s.endOfStream()&&(e=this._encoder.handler(s,s.read()))!==Ru;)Array.isArray(e)?n.push.apply(n,e):n.push(e);if(!this._streaming){for(;(e=this._encoder.handler(s,s.read()))!==Ru;)Array.isArray(e)?n.push.apply(n,e):n.push(e);this._encoder=null}return new Uint8Array(n)}};var eq=Oh(Object.freeze({__proto__:null,TextEncoder:wl,TextDecoder:bl})),rq=$e&&$e.__createBinding||(Object.create?function(r,t,e,n){n===void 0&&(n=e),Object.defineProperty(r,n,{enumerable:!0,get:function(){return t[e]}})}:function(r,t,e,n){n===void 0&&(n=e),r[n]=t[e]}),nq=$e&&$e.__setModuleDefault||(Object.create?function(r,t){Object.defineProperty(r,"default",{enumerable:!0,value:t})}:function(r,t){r.default=t}),yo=$e&&$e.__decorate||function(r,t,e,n){var s,i=arguments.length,c=i<3?t:n===null?n=Object.getOwnPropertyDescriptor(t,e):n;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")c=Reflect.decorate(r,t,e,n);else for(var l=r.length-1;l>=0;l--)(s=r[l])&&(c=(i<3?s(c):i>3?s(t,e,c):s(t,e))||c);return i>3&&c&&Object.defineProperty(t,e,c),c},iq=$e&&$e.__importStar||function(r){if(r&&r.__esModule)return r;var t={};if(r!=null)for(var e in r)e!=="default"&&Object.hasOwnProperty.call(r,e)&&rq(t,r,e);return nq(t,r),t},pE=$e&&$e.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(Cn,"__esModule",{value:!0});var mE=Cn.deserializeUnchecked=bE=Cn.deserialize=fy=Cn.serialize=Cn.BinaryReader=Cn.BinaryWriter=Cn.BorshError=Cn.baseDecode=Cn.baseEncode=void 0;const Hs=pE(ay),h5=pE(Jz),oq=iq(eq),sq=new(typeof TextDecoder!="function"?oq.TextDecoder:TextDecoder)("utf-8",{fatal:!0});Cn.baseEncode=function(r){return typeof r=="string"&&(r=Zt.Buffer.from(r,"utf8")),h5.default.encode(Zt.Buffer.from(r))},Cn.baseDecode=function(r){return Zt.Buffer.from(h5.default.decode(r))};const qp=1024;let Jn=class extends Error{constructor(t){super(t),this.fieldPath=[],this.originalMessage=t}addToFieldPath(t){this.fieldPath.splice(0,0,t),this.message=this.originalMessage+": "+this.fieldPath.join(".")}};Cn.BorshError=Jn;let vE=class{constructor(){this.buf=Zt.Buffer.alloc(qp),this.length=0}maybeResize(){this.buf.length<16+this.length&&(this.buf=Zt.Buffer.concat([this.buf,Zt.Buffer.alloc(qp)]))}writeU8(t){this.maybeResize(),this.buf.writeUInt8(t,this.length),this.length+=1}writeU16(t){this.maybeResize(),this.buf.writeUInt16LE(t,this.length),this.length+=2}writeU32(t){this.maybeResize(),this.buf.writeUInt32LE(t,this.length),this.length+=4}writeU64(t){this.maybeResize(),this.writeBuffer(Zt.Buffer.from(new Hs.default(t).toArray("le",8)))}writeU128(t){this.maybeResize(),this.writeBuffer(Zt.Buffer.from(new Hs.default(t).toArray("le",16)))}writeU256(t){this.maybeResize(),this.writeBuffer(Zt.Buffer.from(new Hs.default(t).toArray("le",32)))}writeU512(t){this.maybeResize(),this.writeBuffer(Zt.Buffer.from(new Hs.default(t).toArray("le",64)))}writeBuffer(t){this.buf=Zt.Buffer.concat([Zt.Buffer.from(this.buf.subarray(0,this.length)),t,Zt.Buffer.alloc(qp)]),this.length+=t.length}writeString(t){this.maybeResize();const e=Zt.Buffer.from(t,"utf8");this.writeU32(e.length),this.writeBuffer(e)}writeFixedArray(t){this.writeBuffer(Zt.Buffer.from(t))}writeArray(t,e){this.maybeResize(),this.writeU32(t.length);for(const n of t)this.maybeResize(),e(n)}toArray(){return this.buf.subarray(0,this.length)}};function bo(r,t,e){const n=e.value;e.value=function(...s){try{return n.apply(this,s)}catch(i){if(i instanceof RangeError){const c=i.code;if(["ERR_BUFFER_OUT_OF_BOUNDS","ERR_OUT_OF_RANGE"].indexOf(c)>=0)throw new Jn("Reached the end of buffer when deserializing")}throw i}}}Cn.BinaryWriter=vE;let gi=class{constructor(t){this.buf=t,this.offset=0}readU8(){const t=this.buf.readUInt8(this.offset);return this.offset+=1,t}readU16(){const t=this.buf.readUInt16LE(this.offset);return this.offset+=2,t}readU32(){const t=this.buf.readUInt32LE(this.offset);return this.offset+=4,t}readU64(){const t=this.readBuffer(8);return new Hs.default(t,"le")}readU128(){const t=this.readBuffer(16);return new Hs.default(t,"le")}readU256(){const t=this.readBuffer(32);return new Hs.default(t,"le")}readU512(){const t=this.readBuffer(64);return new Hs.default(t,"le")}readBuffer(t){if(this.offset+t>this.buf.length)throw new Jn(`Expected buffer length ${t} isn't within bounds`);const e=this.buf.slice(this.offset,this.offset+t);return this.offset+=t,e}readString(){const t=this.readU32(),e=this.readBuffer(t);try{return sq.decode(e)}catch(n){throw new Jn(`Error decoding UTF-8 string: ${n}`)}}readFixedArray(t){return new Uint8Array(this.readBuffer(t))}readArray(t){const e=this.readU32(),n=Array();for(let s=0;s<e;++s)n.push(t());return n}};function gE(r){return r.charAt(0).toUpperCase()+r.slice(1)}function Ma(r,t,e,n,s){try{if(typeof n=="string")s[`write${gE(n)}`](e);else if(n instanceof Array)if(typeof n[0]=="number"){if(e.length!==n[0])throw new Jn(`Expecting byte array of length ${n[0]}, but got ${e.length} bytes`);s.writeFixedArray(e)}else if(n.length===2&&typeof n[1]=="number"){if(e.length!==n[1])throw new Jn(`Expecting byte array of length ${n[1]}, but got ${e.length} bytes`);for(let i=0;i<n[1];i++)Ma(r,null,e[i],n[0],s)}else s.writeArray(e,i=>{Ma(r,t,i,n[0],s)});else if(n.kind!==void 0)switch(n.kind){case"option":e==null?s.writeU8(0):(s.writeU8(1),Ma(r,t,e,n.type,s));break;case"map":s.writeU32(e.size),e.forEach((i,c)=>{Ma(r,t,c,n.key,s),Ma(r,t,i,n.value,s)});break;default:throw new Jn(`FieldType ${n} unrecognized`)}else yE(r,e,s)}catch(i){throw i instanceof Jn&&i.addToFieldPath(t),i}}function yE(r,t,e){if(typeof t.borshSerialize=="function")return void t.borshSerialize(e);const n=r.get(t.constructor);if(!n)throw new Jn(`Class ${t.constructor.name} is missing in schema`);if(n.kind==="struct")n.fields.map(([s,i])=>{Ma(r,s,t[s],i,e)});else{if(n.kind!=="enum")throw new Jn(`Unexpected schema kind: ${n.kind} for ${t.constructor.name}`);{const s=t[n.field];for(let i=0;i<n.values.length;++i){const[c,l]=n.values[i];if(c===s){e.writeU8(i),Ma(r,c,t[c],l,e);break}}}}}yo([bo],gi.prototype,"readU8",null),yo([bo],gi.prototype,"readU16",null),yo([bo],gi.prototype,"readU32",null),yo([bo],gi.prototype,"readU64",null),yo([bo],gi.prototype,"readU128",null),yo([bo],gi.prototype,"readU256",null),yo([bo],gi.prototype,"readU512",null),yo([bo],gi.prototype,"readString",null),yo([bo],gi.prototype,"readFixedArray",null),yo([bo],gi.prototype,"readArray",null),Cn.BinaryReader=gi;var fy=Cn.serialize=function(r,t,e=vE){const n=new e;return yE(r,t,n),n.toArray()};function Ea(r,t,e,n){try{if(typeof e=="string")return n[`read${gE(e)}`]();if(e instanceof Array){if(typeof e[0]=="number")return n.readFixedArray(e[0]);if(typeof e[1]=="number"){const s=[];for(let i=0;i<e[1];i++)s.push(Ea(r,null,e[0],n));return s}return n.readArray(()=>Ea(r,t,e[0],n))}if(e.kind==="option")return n.readU8()?Ea(r,t,e.type,n):void 0;if(e.kind==="map"){let s=new Map;const i=n.readU32();for(let c=0;c<i;c++){const l=Ea(r,t,e.key,n),p=Ea(r,t,e.value,n);s.set(l,p)}return s}return cy(r,e,n)}catch(s){throw s instanceof Jn&&s.addToFieldPath(t),s}}function cy(r,t,e){if(typeof t.borshDeserialize=="function")return t.borshDeserialize(e);const n=r.get(t);if(!n)throw new Jn(`Class ${t.name} is missing in schema`);if(n.kind==="struct"){const s={};for(const[i,c]of r.get(t).fields)s[i]=Ea(r,i,c,e);return new t(s)}if(n.kind==="enum"){const s=e.readU8();if(s>=n.values.length)throw new Jn(`Enum index: ${s} is out of range`);const[i,c]=n.values[s];return new t({[i]:Ea(r,i,c,e)})}throw new Jn(`Unexpected schema kind: ${n.kind} for ${t.constructor.name}`)}var bE=Cn.deserialize=function(r,t,e,n=gi){const s=new n(e),i=cy(r,t,s);if(s.offset<e.length)throw new Jn(`Unexpected ${e.length-s.offset} bytes after deserialized data`);return i};mE=Cn.deserializeUnchecked=function(r,t,e,n=gi){return cy(r,t,new n(e))};var Ht={};Object.defineProperty(Ht,"__esModule",{value:!0}),Ht.s16=Ht.s8=Ht.nu64be=Ht.u48be=Ht.u40be=Ht.u32be=Ht.u24be=Ht.u16be=In=Ht.nu64=Ht.u48=Ht.u40=Ce=Ht.u32=Ht.u24=Ni=Ht.u16=or=Ht.u8=Qs=Ht.offset=Ht.greedy=Ht.Constant=Ht.UTF8=Ht.CString=Ht.Blob=Ht.Boolean=Ht.BitField=Ht.BitStructure=Ht.VariantLayout=Ht.Union=Ht.UnionLayoutDiscriminator=Ht.UnionDiscriminator=Ht.Structure=Ht.Sequence=Ht.DoubleBE=Ht.Double=Ht.FloatBE=Ht.Float=Ht.NearInt64BE=Ht.NearInt64=Ht.NearUInt64BE=Ht.NearUInt64=Ht.IntBE=Ht.Int=Ht.UIntBE=Ht.UInt=Ht.OffsetLayout=Ht.GreedyCount=Ht.ExternalLayout=Ht.bindConstructorLayout=Ht.nameWithProperty=Ht.Layout=Ht.uint8ArrayToBuffer=Ht.checkUint8Array=void 0,Ht.constant=Ht.utf8=Ht.cstr=Or=Ht.blob=Ht.unionLayoutDiscriminator=Ht.union=On=Ht.seq=Ht.bits=Ue=Ht.struct=Ht.f64be=Ht.f64=Ht.f32be=Ht.f32=Ht.ns64be=Ht.s48be=Ht.s40be=Ht.s32be=Ht.s24be=Ht.s16be=xi=Ht.ns64=Ht.s48=Ht.s40=Ht.s32=Ht.s24=void 0;const hy=Ae;function Rf(r){if(!(r instanceof Uint8Array))throw new TypeError("b must be a Uint8Array")}function _r(r){return Rf(r),hy.Buffer.from(r.buffer,r.byteOffset,r.length)}Ht.checkUint8Array=Rf,Ht.uint8ArrayToBuffer=_r;let Cr=class{constructor(t,e){if(!Number.isInteger(t))throw new TypeError("span must be an integer");this.span=t,this.property=e}makeDestinationObject(){return{}}getSpan(t,e){if(0>this.span)throw new RangeError("indeterminate span");return this.span}replicate(t){const e=Object.create(this.constructor.prototype);return Object.assign(e,this),e.property=t,e}fromArray(t){}};function ly(r,t){return t.property?r+"["+t.property+"]":r}Ht.Layout=Cr,Ht.nameWithProperty=ly,Ht.bindConstructorLayout=function(r,t){if(typeof r!="function")throw new TypeError("Class must be constructor");if(Object.prototype.hasOwnProperty.call(r,"layout_"))throw new Error("Class is already bound to a layout");if(!(t&&t instanceof Cr))throw new TypeError("layout must be a Layout");if(Object.prototype.hasOwnProperty.call(t,"boundConstructor_"))throw new Error("layout is already bound to a constructor");r.layout_=t,t.boundConstructor_=r,t.makeDestinationObject=()=>new r,Object.defineProperty(r.prototype,"encode",{value(e,n){return t.encode(this,e,n)},writable:!0}),Object.defineProperty(r,"decode",{value:(e,n)=>t.decode(e,n),writable:!0})};let ri=class extends Cr{isCount(){throw new Error("ExternalLayout is abstract")}};Ht.ExternalLayout=ri;class wE extends ri{constructor(t=1,e){if(!Number.isInteger(t)||0>=t)throw new TypeError("elementSpan must be a (positive) integer");super(-1,e),this.elementSpan=t}isCount(){return!0}decode(t,e=0){Rf(t);const n=t.length-e;return Math.floor(n/this.elementSpan)}encode(t,e,n){return 0}}Ht.GreedyCount=wE;class dy extends ri{constructor(t,e=0,n){if(!(t instanceof Cr))throw new TypeError("layout must be a Layout");if(!Number.isInteger(e))throw new TypeError("offset must be integer or undefined");super(t.span,n||t.property),this.layout=t,this.offset=e}isCount(){return this.layout instanceof ji||this.layout instanceof so}decode(t,e=0){return this.layout.decode(t,e+this.offset)}encode(t,e,n=0){return this.layout.encode(t,e,n+this.offset)}}Ht.OffsetLayout=dy;class ji extends Cr{constructor(t,e){if(super(t,e),6<this.span)throw new RangeError("span must not exceed 6 bytes")}decode(t,e=0){return _r(t).readUIntLE(e,this.span)}encode(t,e,n=0){return _r(e).writeUIntLE(t,n,this.span),this.span}}Ht.UInt=ji;let so=class extends Cr{constructor(t,e){if(super(t,e),6<this.span)throw new RangeError("span must not exceed 6 bytes")}decode(t,e=0){return _r(t).readUIntBE(e,this.span)}encode(t,e,n=0){return _r(e).writeUIntBE(t,n,this.span),this.span}};Ht.UIntBE=so;class wa extends Cr{constructor(t,e){if(super(t,e),6<this.span)throw new RangeError("span must not exceed 6 bytes")}decode(t,e=0){return _r(t).readIntLE(e,this.span)}encode(t,e,n=0){return _r(e).writeIntLE(t,n,this.span),this.span}}Ht.Int=wa;class Eu extends Cr{constructor(t,e){if(super(t,e),6<this.span)throw new RangeError("span must not exceed 6 bytes")}decode(t,e=0){return _r(t).readIntBE(e,this.span)}encode(t,e,n=0){return _r(e).writeIntBE(t,n,this.span),this.span}}Ht.IntBE=Eu;const K2=Math.pow(2,32);function bd(r){const t=Math.floor(r/K2);return{hi32:t,lo32:r-t*K2}}function wd(r,t){return r*K2+t}let xE=class extends Cr{constructor(t){super(8,t)}decode(t,e=0){const n=_r(t),s=n.readUInt32LE(e);return wd(n.readUInt32LE(e+4),s)}encode(t,e,n=0){const s=bd(t),i=_r(e);return i.writeUInt32LE(s.lo32,n),i.writeUInt32LE(s.hi32,n+4),8}};Ht.NearUInt64=xE;let _E=class extends Cr{constructor(t){super(8,t)}decode(t,e=0){const n=_r(t);return wd(n.readUInt32BE(e),n.readUInt32BE(e+4))}encode(t,e,n=0){const s=bd(t),i=_r(e);return i.writeUInt32BE(s.hi32,n),i.writeUInt32BE(s.lo32,n+4),8}};Ht.NearUInt64BE=_E;class ME extends Cr{constructor(t){super(8,t)}decode(t,e=0){const n=_r(t),s=n.readUInt32LE(e);return wd(n.readInt32LE(e+4),s)}encode(t,e,n=0){const s=bd(t),i=_r(e);return i.writeUInt32LE(s.lo32,n),i.writeInt32LE(s.hi32,n+4),8}}Ht.NearInt64=ME;class EE extends Cr{constructor(t){super(8,t)}decode(t,e=0){const n=_r(t);return wd(n.readInt32BE(e),n.readUInt32BE(e+4))}encode(t,e,n=0){const s=bd(t),i=_r(e);return i.writeInt32BE(s.hi32,n),i.writeUInt32BE(s.lo32,n+4),8}}Ht.NearInt64BE=EE;let AE=class extends Cr{constructor(t){super(4,t)}decode(t,e=0){return _r(t).readFloatLE(e)}encode(t,e,n=0){return _r(e).writeFloatLE(t,n),4}};Ht.Float=AE;class SE extends Cr{constructor(t){super(4,t)}decode(t,e=0){return _r(t).readFloatBE(e)}encode(t,e,n=0){return _r(e).writeFloatBE(t,n),4}}Ht.FloatBE=SE;class kE extends Cr{constructor(t){super(8,t)}decode(t,e=0){return _r(t).readDoubleLE(e)}encode(t,e,n=0){return _r(e).writeDoubleLE(t,n),8}}Ht.Double=kE;let IE=class extends Cr{constructor(t){super(8,t)}decode(t,e=0){return _r(t).readDoubleBE(e)}encode(t,e,n=0){return _r(e).writeDoubleBE(t,n),8}};Ht.DoubleBE=IE;class BE extends Cr{constructor(t,e,n){if(!(t instanceof Cr))throw new TypeError("elementLayout must be a Layout");if(!(e instanceof ri&&e.isCount()||Number.isInteger(e)&&0<=e))throw new TypeError("count must be non-negative integer or an unsigned integer ExternalLayout");let s=-1;!(e instanceof ri)&&0<t.span&&(s=e*t.span),super(s,n),this.elementLayout=t,this.count=e}getSpan(t,e=0){if(0<=this.span)return this.span;let n=0,s=this.count;if(s instanceof ri&&(s=s.decode(t,e)),0<this.elementLayout.span)n=s*this.elementLayout.span;else{let i=0;for(;i<s;)n+=this.elementLayout.getSpan(t,e+n),++i}return n}decode(t,e=0){const n=[];let s=0,i=this.count;for(i instanceof ri&&(i=i.decode(t,e));s<i;)n.push(this.elementLayout.decode(t,e)),e+=this.elementLayout.getSpan(t,e),s+=1;return n}encode(t,e,n=0){const s=this.elementLayout,i=t.reduce((c,l)=>c+s.encode(l,e,n+c),0);return this.count instanceof ri&&this.count.encode(t.length,e,n),i}}Ht.Sequence=BE;class PE extends Cr{constructor(t,e,n){if(!Array.isArray(t)||!t.reduce((i,c)=>i&&c instanceof Cr,!0))throw new TypeError("fields must be array of Layout instances");typeof e=="boolean"&&n===void 0&&(n=e,e=void 0);for(const i of t)if(0>i.span&&i.property===void 0)throw new Error("fields cannot contain unnamed variable-length layout");let s=-1;try{s=t.reduce((i,c)=>i+c.getSpan(),0)}catch{}super(s,e),this.fields=t,this.decodePrefixes=!!n}getSpan(t,e=0){if(0<=this.span)return this.span;let n=0;try{n=this.fields.reduce((s,i)=>{const c=i.getSpan(t,e);return e+=c,s+c},0)}catch{throw new RangeError("indeterminate span")}return n}decode(t,e=0){Rf(t);const n=this.makeDestinationObject();for(const s of this.fields)if(s.property!==void 0&&(n[s.property]=s.decode(t,e)),e+=s.getSpan(t,e),this.decodePrefixes&&t.length===e)break;return n}encode(t,e,n=0){const s=n;let i=0,c=0;for(const l of this.fields){let p=l.span;if(c=0<p?p:0,l.property!==void 0){const m=t[l.property];m!==void 0&&(c=l.encode(m,e,n),0>p&&(p=l.getSpan(e,n)))}i=n,n+=p}return i+c-s}fromArray(t){const e=this.makeDestinationObject();for(const n of this.fields)n.property!==void 0&&0<t.length&&(e[n.property]=t.shift());return e}layoutFor(t){if(typeof t!="string")throw new TypeError("property must be string");for(const e of this.fields)if(e.property===t)return e}offsetOf(t){if(typeof t!="string")throw new TypeError("property must be string");let e=0;for(const n of this.fields){if(n.property===t)return e;0>n.span?e=-1:0<=e&&(e+=n.span)}}}Ht.Structure=PE;class py{constructor(t){this.property=t}decode(t,e){throw new Error("UnionDiscriminator is abstract")}encode(t,e,n){throw new Error("UnionDiscriminator is abstract")}}Ht.UnionDiscriminator=py;class xl extends py{constructor(t,e){if(!(t instanceof ri&&t.isCount()))throw new TypeError("layout must be an unsigned integer ExternalLayout");super(e||t.property||"variant"),this.layout=t}decode(t,e){return this.layout.decode(t,e)}encode(t,e,n){return this.layout.encode(t,e,n)}}Ht.UnionLayoutDiscriminator=xl;class my extends Cr{constructor(t,e,n){let s;if(t instanceof ji||t instanceof so)s=new xl(new dy(t));else if(t instanceof ri&&t.isCount())s=new xl(t);else{if(!(t instanceof py))throw new TypeError("discr must be a UnionDiscriminator or an unsigned integer layout");s=t}if(e===void 0&&(e=null),!(e===null||e instanceof Cr))throw new TypeError("defaultLayout must be null or a Layout");if(e!==null){if(0>e.span)throw new Error("defaultLayout must have constant span");e.property===void 0&&(e=e.replicate("content"))}let i=-1;e&&(i=e.span,0<=i&&(t instanceof ji||t instanceof so)&&(i+=s.layout.span)),super(i,n),this.discriminator=s,this.usesPrefixDiscriminator=t instanceof ji||t instanceof so,this.defaultLayout=e,this.registry={};let c=this.defaultGetSourceVariant.bind(this);this.getSourceVariant=function(l){return c(l)},this.configGetSourceVariant=function(l){c=l.bind(this)}}getSpan(t,e=0){if(0<=this.span)return this.span;const n=this.getVariant(t,e);if(!n)throw new Error("unable to determine span for unrecognized variant");return n.getSpan(t,e)}defaultGetSourceVariant(t){if(Object.prototype.hasOwnProperty.call(t,this.discriminator.property)){if(this.defaultLayout&&this.defaultLayout.property&&Object.prototype.hasOwnProperty.call(t,this.defaultLayout.property))return;const e=this.registry[t[this.discriminator.property]];if(e&&(!e.layout||e.property&&Object.prototype.hasOwnProperty.call(t,e.property)))return e}else for(const e in this.registry){const n=this.registry[e];if(n.property&&Object.prototype.hasOwnProperty.call(t,n.property))return n}throw new Error("unable to infer src variant")}decode(t,e=0){let n;const s=this.discriminator,i=s.decode(t,e),c=this.registry[i];if(c===void 0){const l=this.defaultLayout;let p=0;this.usesPrefixDiscriminator&&(p=s.layout.span),n=this.makeDestinationObject(),n[s.property]=i,n[l.property]=l.decode(t,e+p)}else n=c.decode(t,e);return n}encode(t,e,n=0){const s=this.getSourceVariant(t);if(s===void 0){const i=this.discriminator,c=this.defaultLayout;let l=0;return this.usesPrefixDiscriminator&&(l=i.layout.span),i.encode(t[i.property],e,n),l+c.encode(t[c.property],e,n+l)}return s.encode(t,e,n)}addVariant(t,e,n){const s=new RE(this,t,e,n);return this.registry[t]=s,s}getVariant(t,e=0){let n;return n=t instanceof Uint8Array?this.discriminator.decode(t,e):t,this.registry[n]}}Ht.Union=my;let RE=class extends Cr{constructor(t,e,n,s){if(!(t instanceof my))throw new TypeError("union must be a Union");if(!Number.isInteger(e)||0>e)throw new TypeError("variant must be a (non-negative) integer");if(typeof n=="string"&&s===void 0&&(s=n,n=null),n){if(!(n instanceof Cr))throw new TypeError("layout must be a Layout");if(t.defaultLayout!==null&&0<=n.span&&n.span>t.defaultLayout.span)throw new Error("variant span exceeds span of containing union");if(typeof s!="string")throw new TypeError("variant must have a String property")}let i=t.span;0>t.span&&(i=n?n.span:0,0<=i&&t.usesPrefixDiscriminator&&(i+=t.discriminator.layout.span)),super(i,s),this.union=t,this.variant=e,this.layout=n||null}getSpan(t,e=0){if(0<=this.span)return this.span;let n=0;this.union.usesPrefixDiscriminator&&(n=this.union.discriminator.layout.span);let s=0;return this.layout&&(s=this.layout.getSpan(t,e+n)),n+s}decode(t,e=0){const n=this.makeDestinationObject();if(this!==this.union.getVariant(t,e))throw new Error("variant mismatch");let s=0;return this.union.usesPrefixDiscriminator&&(s=this.union.discriminator.layout.span),this.layout?n[this.property]=this.layout.decode(t,e+s):this.property?n[this.property]=!0:this.union.usesPrefixDiscriminator&&(n[this.union.discriminator.property]=this.variant),n}encode(t,e,n=0){let s=0;if(this.union.usesPrefixDiscriminator&&(s=this.union.discriminator.layout.span),this.layout&&!Object.prototype.hasOwnProperty.call(t,this.property))throw new TypeError("variant lacks property "+this.property);this.union.discriminator.encode(this.variant,e,n);let i=s;if(this.layout&&(this.layout.encode(t[this.property],e,n+s),i+=this.layout.getSpan(e,n+s),0<=this.union.span&&i>this.union.span))throw new Error("encoded variant overruns containing union");return i}fromArray(t){if(this.layout)return this.layout.fromArray(t)}};function Au(r){return 0>r&&(r+=4294967296),r}Ht.VariantLayout=RE;class vy extends Cr{constructor(t,e,n){if(!(t instanceof ji||t instanceof so))throw new TypeError("word must be a UInt or UIntBE layout");if(typeof e=="string"&&n===void 0&&(n=e,e=!1),4<t.span)throw new RangeError("word cannot exceed 32 bits");super(t.span,n),this.word=t,this.msb=!!e,this.fields=[];let s=0;this._packedSetValue=function(i){return s=Au(i),this},this._packedGetValue=function(){return s}}decode(t,e=0){const n=this.makeDestinationObject(),s=this.word.decode(t,e);this._packedSetValue(s);for(const i of this.fields)i.property!==void 0&&(n[i.property]=i.decode(t));return n}encode(t,e,n=0){const s=this.word.decode(e,n);this._packedSetValue(s);for(const i of this.fields)if(i.property!==void 0){const c=t[i.property];c!==void 0&&i.encode(c)}return this.word.encode(this._packedGetValue(),e,n)}addField(t,e){const n=new gy(this,t,e);return this.fields.push(n),n}addBoolean(t){const e=new CE(this,t);return this.fields.push(e),e}fieldFor(t){if(typeof t!="string")throw new TypeError("property must be string");for(const e of this.fields)if(e.property===t)return e}}Ht.BitStructure=vy;class gy{constructor(t,e,n){if(!(t instanceof vy))throw new TypeError("container must be a BitStructure");if(!Number.isInteger(e)||0>=e)throw new TypeError("bits must be positive integer");const s=8*t.span,i=t.fields.reduce((c,l)=>c+l.bits,0);if(e+i>s)throw new Error("bits too long for span remainder ("+(s-i)+" of "+s+" remain)");this.container=t,this.bits=e,this.valueMask=(1<<e)-1,e===32&&(this.valueMask=4294967295),this.start=i,this.container.msb&&(this.start=s-i-e),this.wordMask=Au(this.valueMask<<this.start),this.property=n}decode(t,e){return Au(this.container._packedGetValue()&this.wordMask)>>>this.start}encode(t){if(typeof t!="number"||!Number.isInteger(t)||t!==Au(t&this.valueMask))throw new TypeError(ly("BitField.encode",this)+" value must be integer not exceeding "+this.valueMask);const e=this.container._packedGetValue(),n=Au(t<<this.start);this.container._packedSetValue(Au(e&~this.wordMask)|n)}}Ht.BitField=gy;class CE extends gy{constructor(t,e){super(t,1,e)}decode(t,e){return!!super.decode(t,e)}encode(t){typeof t=="boolean"&&(t=+t),super.encode(t)}}Ht.Boolean=CE;class TE extends Cr{constructor(t,e){if(!(t instanceof ri&&t.isCount()||Number.isInteger(t)&&0<=t))throw new TypeError("length must be positive integer or an unsigned integer ExternalLayout");let n=-1;t instanceof ri||(n=t),super(n,e),this.length=t}getSpan(t,e){let n=this.span;return 0>n&&(n=this.length.decode(t,e)),n}decode(t,e=0){let n=this.span;return 0>n&&(n=this.length.decode(t,e)),_r(t).slice(e,e+n)}encode(t,e,n){let s=this.length;if(this.length instanceof ri&&(s=t.length),!(t instanceof Uint8Array&&s===t.length))throw new TypeError(ly("Blob.encode",this)+" requires (length "+s+") Uint8Array as src");if(n+s>e.length)throw new RangeError("encoding overruns Uint8Array");const i=_r(t);return _r(e).write(i.toString("hex"),n,s,"hex"),this.length instanceof ri&&this.length.encode(s,e,n),s}}Ht.Blob=TE;class LE extends Cr{constructor(t){super(-1,t)}getSpan(t,e=0){Rf(t);let n=e;for(;n<t.length&&t[n]!==0;)n+=1;return 1+n-e}decode(t,e=0){const n=this.getSpan(t,e);return _r(t).slice(e,e+n-1).toString("utf-8")}encode(t,e,n=0){typeof t!="string"&&(t=String(t));const s=hy.Buffer.from(t,"utf8"),i=s.length;if(n+i>e.length)throw new RangeError("encoding overruns Buffer");const c=_r(e);return s.copy(c,n),c[n+i]=0,i+1}}Ht.CString=LE;class OE extends Cr{constructor(t,e){if(typeof t=="string"&&e===void 0&&(e=t,t=void 0),t===void 0)t=-1;else if(!Number.isInteger(t))throw new TypeError("maxSpan must be an integer");super(-1,e),this.maxSpan=t}getSpan(t,e=0){return Rf(t),t.length-e}decode(t,e=0){const n=this.getSpan(t,e);if(0<=this.maxSpan&&this.maxSpan<n)throw new RangeError("text length exceeds maxSpan");return _r(t).slice(e,e+n).toString("utf-8")}encode(t,e,n=0){typeof t!="string"&&(t=String(t));const s=hy.Buffer.from(t,"utf8"),i=s.length;if(0<=this.maxSpan&&this.maxSpan<i)throw new RangeError("text length exceeds maxSpan");if(n+i>e.length)throw new RangeError("encoding overruns Buffer");return s.copy(_r(e),n),i}}Ht.UTF8=OE;class UE extends Cr{constructor(t,e){super(0,e),this.value=t}decode(t,e){return this.value}encode(t,e,n){return 0}}Ht.Constant=UE,Ht.greedy=(r,t)=>new wE(r,t);var Qs=Ht.offset=(r,t,e)=>new dy(r,t,e),or=Ht.u8=r=>new ji(1,r),Ni=Ht.u16=r=>new ji(2,r);Ht.u24=r=>new ji(3,r);var Ce=Ht.u32=r=>new ji(4,r);Ht.u40=r=>new ji(5,r),Ht.u48=r=>new ji(6,r);var In=Ht.nu64=r=>new xE(r);Ht.u16be=r=>new so(2,r),Ht.u24be=r=>new so(3,r),Ht.u32be=r=>new so(4,r),Ht.u40be=r=>new so(5,r),Ht.u48be=r=>new so(6,r),Ht.nu64be=r=>new _E(r),Ht.s8=r=>new wa(1,r),Ht.s16=r=>new wa(2,r),Ht.s24=r=>new wa(3,r),Ht.s32=r=>new wa(4,r),Ht.s40=r=>new wa(5,r),Ht.s48=r=>new wa(6,r);var xi=Ht.ns64=r=>new ME(r);Ht.s16be=r=>new Eu(2,r),Ht.s24be=r=>new Eu(3,r),Ht.s32be=r=>new Eu(4,r),Ht.s40be=r=>new Eu(5,r),Ht.s48be=r=>new Eu(6,r),Ht.ns64be=r=>new EE(r),Ht.f32=r=>new AE(r),Ht.f32be=r=>new SE(r),Ht.f64=r=>new kE(r),Ht.f64be=r=>new IE(r);var Ue=Ht.struct=(r,t,e)=>new PE(r,t,e);Ht.bits=(r,t,e)=>new vy(r,t,e);var On=Ht.seq=(r,t,e)=>new BE(r,t,e);Ht.union=(r,t,e)=>new my(r,t,e),Ht.unionLayoutDiscriminator=(r,t)=>new xl(r,t);var Or=Ht.blob=(r,t)=>new TE(r,t);Ht.cstr=r=>new LE(r),Ht.utf8=(r,t)=>new OE(r,t),Ht.constant=(r,t)=>new UE(r,t);var Uh={};Object.defineProperty(Uh,"__esModule",{value:!0});var NE=Uh.toBigIntLE=function(r){{const t=Zt.Buffer.from(r);t.reverse();const e=t.toString("hex");return e.length===0?BigInt(0):BigInt(`0x${e}`)}};Uh.toBigIntBE=function(r){{const t=r.toString("hex");return t.length===0?BigInt(0):BigInt(`0x${t}`)}};var Fp,yy=Uh.toBufferLE=function(r,t){{const e=r.toString(16),n=Zt.Buffer.from(e.padStart(2*t,"0").slice(0,2*t),"hex");return n.reverse(),n}};Uh.toBufferBE=function(r,t){{const e=r.toString(16);return Zt.Buffer.from(e.padStart(2*t,"0").slice(0,2*t),"hex")}};class aq extends TypeError{constructor(t,e){let n;const{message:s,...i}=t,{path:c}=t;super(c.length===0?s:"At path: "+c.join(".")+" -- "+s),Object.assign(this,i),this.name=this.constructor.name,this.failures=()=>{var l;return(l=n)!=null?l:n=[t,...e()]}}}function ta(r){return typeof r=="object"&&r!=null}function co(r){return typeof r=="string"?JSON.stringify(r):""+r}function uq(r,t,e,n){if(r===!0)return;r===!1?r={}:typeof r=="string"&&(r={message:r});const{path:s,branch:i}=t,{type:c}=e,{refinement:l,message:p="Expected a value of type `"+c+"`"+(l?" with refinement `"+l+"`":"")+", but received: `"+co(n)+"`"}=r;return{value:n,type:c,refinement:l,key:s[s.length-1],path:s,branch:i,...r,message:p}}function*l5(r,t,e,n){(function(s){return ta(s)&&typeof s[Symbol.iterator]=="function"})(r)||(r=[r]);for(const s of r){const i=uq(s,t,e,n);i&&(yield i)}}function*by(r,t,e={}){const{path:n=[],branch:s=[r],coerce:i=!1,mask:c=!1}=e,l={path:n,branch:s};if(i&&(r=t.coercer(r,l),c&&t.type!=="type"&&ta(t.schema)&&ta(r)&&!Array.isArray(r)))for(const m in r)t.schema[m]===void 0&&delete r[m];let p=!0;for(const m of t.validator(r,l))p=!1,yield[m,void 0];for(let[m,v,_]of t.entries(r,l)){const E=by(v,_,{path:m===void 0?n:[...n,m],branch:m===void 0?s:[...s,v],coerce:i,mask:c});for(const w of E)w[0]?(p=!1,yield[w[0],void 0]):i&&(v=w[1],m===void 0?r=v:r instanceof Map?r.set(m,v):r instanceof Set?r.add(v):ta(r)&&(r[m]=v))}if(p)for(const m of t.refiner(r,l))p=!1,yield[m,void 0];p&&(yield[void 0,r])}class Qo{constructor(t){const{type:e,schema:n,validator:s,refiner:i,coercer:c=p=>p,entries:l=function*(){}}=t;this.type=e,this.schema=n,this.entries=l,this.coercer=c,this.validator=s?(p,m)=>l5(s(p,m),m,this,p):()=>[],this.refiner=i?(p,m)=>l5(i(p,m),m,this,p):()=>[]}assert(t){return DE(t,this)}create(t){return Ee(t,this)}is(t){return zE(t,this)}mask(t){return function(e,n){const s=Qc(e,n,{coerce:!0,mask:!0});if(s[0])throw s[0];return s[1]}(t,this)}validate(t,e={}){return Qc(t,this,e)}}function DE(r,t){const e=Qc(r,t);if(e[0])throw e[0]}function Ee(r,t){const e=Qc(r,t,{coerce:!0});if(e[0])throw e[0];return e[1]}function zE(r,t){return!Qc(r,t)[0]}function Qc(r,t,e={}){const n=by(r,t,e),s=function(i){const{done:c,value:l}=i.next();return c?void 0:l}(n);return s[0]?[new aq(s[0],function*(){for(const c of n)c[0]&&(yield c[0])}),void 0]:[void 0,s[1]]}function uu(r,t){return new Qo({type:r,schema:null,validator:t})}function Ie(r){return new Qo({type:"array",schema:r,*entries(t){if(r&&Array.isArray(t))for(const[e,n]of t.entries())yield[e,n,r]},coercer:t=>Array.isArray(t)?t.slice():t,validator:t=>Array.isArray(t)||"Expected an array value, but received: "+co(t)})}function Go(){return uu("boolean",r=>typeof r=="boolean")}function wy(r){return uu("instance",t=>t instanceof r||"Expected a `"+r.name+"` instance, but received: "+co(t))}function Wr(r){const t=co(r),e=typeof r;return new Qo({type:"literal",schema:e==="string"||e==="number"||e==="boolean"?r:null,validator:n=>n===r||"Expected the literal `"+t+"`, but received: "+co(n)})}function ke(r){return new Qo({...r,validator:(t,e)=>t===null||r.validator(t,e),refiner:(t,e)=>t===null||r.refiner(t,e)})}function jt(){return uu("number",r=>typeof r=="number"&&!isNaN(r)||"Expected a number, but received: "+co(r))}function Ve(r){return new Qo({...r,validator:(t,e)=>t===void 0||r.validator(t,e),refiner:(t,e)=>t===void 0||r.refiner(t,e)})}function qE(r,t){return new Qo({type:"record",schema:null,*entries(e){if(ta(e))for(const n in e){const s=e[n];yield[n,n,r],yield[n,s,t]}},validator:e=>ta(e)||"Expected an object, but received: "+co(e)})}function _e(){return uu("string",r=>typeof r=="string"||"Expected a string, but received: "+co(r))}function xy(r){const t=uu("never",()=>!1);return new Qo({type:"tuple",schema:null,*entries(e){if(Array.isArray(e)){const n=Math.max(r.length,e.length);for(let s=0;s<n;s++)yield[s,e[s],r[s]||t]}},validator:e=>Array.isArray(e)||"Expected an array, but received: "+co(e)})}function we(r){const t=Object.keys(r);return new Qo({type:"type",schema:r,*entries(e){if(ta(e))for(const n of t)yield[n,e[n],r[n]]},validator:e=>ta(e)||"Expected an object, but received: "+co(e)})}function ci(r){const t=r.map(e=>e.type).join(" | ");return new Qo({type:"union",schema:null,validator(e,n){const s=[];for(const i of r){const[...c]=by(e,i,n),[l]=c;if(!l[0])return[];for(const[p]of c)p&&s.push(p)}return["Expected the value to satisfy a union of `"+t+"`, but received: "+co(e),...s]}})}function Nh(){return uu("unknown",()=>!0)}function Dh(r,t,e){return new Qo({...r,coercer:(n,s)=>zE(n,t)?r.coercer(e(n,s),s):r.coercer(n,s)})}var fq=new Uint8Array(16);function d5(){if(!Fp&&!(Fp=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||typeof msCrypto<"u"&&typeof msCrypto.getRandomValues=="function"&&msCrypto.getRandomValues.bind(msCrypto)))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return Fp(fq)}var cq=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;function _l(r){return typeof r=="string"&&cq.test(r)}for(var p5,jp,Sn=[],Kp=0;Kp<256;++Kp)Sn.push((Kp+256).toString(16).substr(1));function X0(r){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,e=(Sn[r[t+0]]+Sn[r[t+1]]+Sn[r[t+2]]+Sn[r[t+3]]+"-"+Sn[r[t+4]]+Sn[r[t+5]]+"-"+Sn[r[t+6]]+Sn[r[t+7]]+"-"+Sn[r[t+8]]+Sn[r[t+9]]+"-"+Sn[r[t+10]]+Sn[r[t+11]]+Sn[r[t+12]]+Sn[r[t+13]]+Sn[r[t+14]]+Sn[r[t+15]]).toLowerCase();if(!_l(e))throw TypeError("Stringified UUID is invalid");return e}var $p=0,Hp=0;function FE(r){if(!_l(r))throw TypeError("Invalid UUID");var t,e=new Uint8Array(16);return e[0]=(t=parseInt(r.slice(0,8),16))>>>24,e[1]=t>>>16&255,e[2]=t>>>8&255,e[3]=255&t,e[4]=(t=parseInt(r.slice(9,13),16))>>>8,e[5]=255&t,e[6]=(t=parseInt(r.slice(14,18),16))>>>8,e[7]=255&t,e[8]=(t=parseInt(r.slice(19,23),16))>>>8,e[9]=255&t,e[10]=(t=parseInt(r.slice(24,36),16))/1099511627776&255,e[11]=t/4294967296&255,e[12]=t>>>24&255,e[13]=t>>>16&255,e[14]=t>>>8&255,e[15]=255&t,e}function jE(r,t,e){function n(s,i,c,l){if(typeof s=="string"&&(s=function(v){v=unescape(encodeURIComponent(v));for(var _=[],E=0;E<v.length;++E)_.push(v.charCodeAt(E));return _}(s)),typeof i=="string"&&(i=FE(i)),i.length!==16)throw TypeError("Namespace must be array-like (16 iterable integer values, 0-255)");var p=new Uint8Array(16+s.length);if(p.set(i),p.set(s,i.length),(p=e(p))[6]=15&p[6]|t,p[8]=63&p[8]|128,c){l=l||0;for(var m=0;m<16;++m)c[l+m]=p[m];return c}return X0(p)}try{n.name=r}catch{}return n.DNS="6ba7b810-9dad-11d1-80b4-00c04fd430c8",n.URL="6ba7b811-9dad-11d1-80b4-00c04fd430c8",n}function m5(r){return 14+(r+64>>>9<<4)+1}function Vs(r,t){var e=(65535&r)+(65535&t);return(r>>16)+(t>>16)+(e>>16)<<16|65535&e}function xd(r,t,e,n,s,i){return Vs((c=Vs(Vs(t,r),Vs(n,i)))<<(l=s)|c>>>32-l,e);var c,l}function Kn(r,t,e,n,s,i,c){return xd(t&e|~t&n,r,t,s,i,c)}function $n(r,t,e,n,s,i,c){return xd(t&n|e&~n,r,t,s,i,c)}function Hn(r,t,e,n,s,i,c){return xd(t^e^n,r,t,s,i,c)}function Vn(r,t,e,n,s,i,c){return xd(e^(t|~n),r,t,s,i,c)}var hq=jE("v3",48,function(r){if(typeof r=="string"){var t=unescape(encodeURIComponent(r));r=new Uint8Array(t.length);for(var e=0;e<t.length;++e)r[e]=t.charCodeAt(e)}return function(n){for(var s=[],i=32*n.length,c="0123456789abcdef",l=0;l<i;l+=8){var p=n[l>>5]>>>l%32&255,m=parseInt(c.charAt(p>>>4&15)+c.charAt(15&p),16);s.push(m)}return s}(function(n,s){n[s>>5]|=128<<s%32,n[m5(s)-1]=s;for(var i=1732584193,c=-271733879,l=-1732584194,p=271733878,m=0;m<n.length;m+=16){var v=i,_=c,E=l,w=p;i=Kn(i,c,l,p,n[m],7,-680876936),p=Kn(p,i,c,l,n[m+1],12,-389564586),l=Kn(l,p,i,c,n[m+2],17,606105819),c=Kn(c,l,p,i,n[m+3],22,-1044525330),i=Kn(i,c,l,p,n[m+4],7,-176418897),p=Kn(p,i,c,l,n[m+5],12,1200080426),l=Kn(l,p,i,c,n[m+6],17,-1473231341),c=Kn(c,l,p,i,n[m+7],22,-45705983),i=Kn(i,c,l,p,n[m+8],7,1770035416),p=Kn(p,i,c,l,n[m+9],12,-1958414417),l=Kn(l,p,i,c,n[m+10],17,-42063),c=Kn(c,l,p,i,n[m+11],22,-1990404162),i=Kn(i,c,l,p,n[m+12],7,1804603682),p=Kn(p,i,c,l,n[m+13],12,-40341101),l=Kn(l,p,i,c,n[m+14],17,-1502002290),i=$n(i,c=Kn(c,l,p,i,n[m+15],22,1236535329),l,p,n[m+1],5,-165796510),p=$n(p,i,c,l,n[m+6],9,-1069501632),l=$n(l,p,i,c,n[m+11],14,643717713),c=$n(c,l,p,i,n[m],20,-373897302),i=$n(i,c,l,p,n[m+5],5,-701558691),p=$n(p,i,c,l,n[m+10],9,38016083),l=$n(l,p,i,c,n[m+15],14,-660478335),c=$n(c,l,p,i,n[m+4],20,-405537848),i=$n(i,c,l,p,n[m+9],5,568446438),p=$n(p,i,c,l,n[m+14],9,-1019803690),l=$n(l,p,i,c,n[m+3],14,-187363961),c=$n(c,l,p,i,n[m+8],20,1163531501),i=$n(i,c,l,p,n[m+13],5,-1444681467),p=$n(p,i,c,l,n[m+2],9,-51403784),l=$n(l,p,i,c,n[m+7],14,1735328473),i=Hn(i,c=$n(c,l,p,i,n[m+12],20,-1926607734),l,p,n[m+5],4,-378558),p=Hn(p,i,c,l,n[m+8],11,-2022574463),l=Hn(l,p,i,c,n[m+11],16,1839030562),c=Hn(c,l,p,i,n[m+14],23,-35309556),i=Hn(i,c,l,p,n[m+1],4,-1530992060),p=Hn(p,i,c,l,n[m+4],11,1272893353),l=Hn(l,p,i,c,n[m+7],16,-155497632),c=Hn(c,l,p,i,n[m+10],23,-1094730640),i=Hn(i,c,l,p,n[m+13],4,681279174),p=Hn(p,i,c,l,n[m],11,-358537222),l=Hn(l,p,i,c,n[m+3],16,-722521979),c=Hn(c,l,p,i,n[m+6],23,76029189),i=Hn(i,c,l,p,n[m+9],4,-640364487),p=Hn(p,i,c,l,n[m+12],11,-421815835),l=Hn(l,p,i,c,n[m+15],16,530742520),i=Vn(i,c=Hn(c,l,p,i,n[m+2],23,-995338651),l,p,n[m],6,-198630844),p=Vn(p,i,c,l,n[m+7],10,1126891415),l=Vn(l,p,i,c,n[m+14],15,-1416354905),c=Vn(c,l,p,i,n[m+5],21,-57434055),i=Vn(i,c,l,p,n[m+12],6,1700485571),p=Vn(p,i,c,l,n[m+3],10,-1894986606),l=Vn(l,p,i,c,n[m+10],15,-1051523),c=Vn(c,l,p,i,n[m+1],21,-2054922799),i=Vn(i,c,l,p,n[m+8],6,1873313359),p=Vn(p,i,c,l,n[m+15],10,-30611744),l=Vn(l,p,i,c,n[m+6],15,-1560198380),c=Vn(c,l,p,i,n[m+13],21,1309151649),i=Vn(i,c,l,p,n[m+4],6,-145523070),p=Vn(p,i,c,l,n[m+11],10,-1120210379),l=Vn(l,p,i,c,n[m+2],15,718787259),c=Vn(c,l,p,i,n[m+9],21,-343485551),i=Vs(i,v),c=Vs(c,_),l=Vs(l,E),p=Vs(p,w)}return[i,c,l,p]}(function(n){if(n.length===0)return[];for(var s=8*n.length,i=new Uint32Array(m5(s)),c=0;c<s;c+=8)i[c>>5]|=(255&n[c/8])<<c%32;return i}(r),8*r.length))}),lq=hq;function dq(r,t,e,n){switch(r){case 0:return t&e^~t&n;case 1:case 3:return t^e^n;case 2:return t&e^t&n^e&n}}function Vp(r,t){return r<<t|r>>>32-t}var pq=jE("v5",80,function(r){var t=[1518500249,1859775393,2400959708,3395469782],e=[1732584193,4023233417,2562383102,271733878,3285377520];if(typeof r=="string"){var n=unescape(encodeURIComponent(r));r=[];for(var s=0;s<n.length;++s)r.push(n.charCodeAt(s))}else Array.isArray(r)||(r=Array.prototype.slice.call(r));r.push(128);for(var i=r.length/4+2,c=Math.ceil(i/16),l=new Array(c),p=0;p<c;++p){for(var m=new Uint32Array(16),v=0;v<16;++v)m[v]=r[64*p+4*v]<<24|r[64*p+4*v+1]<<16|r[64*p+4*v+2]<<8|r[64*p+4*v+3];l[p]=m}l[c-1][14]=8*(r.length-1)/Math.pow(2,32),l[c-1][14]=Math.floor(l[c-1][14]),l[c-1][15]=8*(r.length-1)&4294967295;for(var _=0;_<c;++_){for(var E=new Uint32Array(80),w=0;w<16;++w)E[w]=l[_][w];for(var x=16;x<80;++x)E[x]=Vp(E[x-3]^E[x-8]^E[x-14]^E[x-16],1);for(var A=e[0],B=e[1],P=e[2],R=e[3],C=e[4],O=0;O<80;++O){var z=Math.floor(O/20),H=Vp(A,5)+dq(z,B,P,R)+C+t[z]+E[O]>>>0;C=R,R=P,P=Vp(B,30)>>>0,B=A,A=H}e[0]=e[0]+A>>>0,e[1]=e[1]+B>>>0,e[2]=e[2]+P>>>0,e[3]=e[3]+R>>>0,e[4]=e[4]+C>>>0}return[e[0]>>24&255,e[0]>>16&255,e[0]>>8&255,255&e[0],e[1]>>24&255,e[1]>>16&255,e[1]>>8&255,255&e[1],e[2]>>24&255,e[2]>>16&255,e[2]>>8&255,255&e[2],e[3]>>24&255,e[3]>>16&255,e[3]>>8&255,255&e[3],e[4]>>24&255,e[4]>>16&255,e[4]>>8&255,255&e[4]]}),mq=pq,vq=Object.freeze({__proto__:null,v1:function(r,t,e){var n=t&&e||0,s=t||new Array(16),i=(r=r||{}).node||p5,c=r.clockseq!==void 0?r.clockseq:jp;if(i==null||c==null){var l=r.random||(r.rng||d5)();i==null&&(i=p5=[1|l[0],l[1],l[2],l[3],l[4],l[5]]),c==null&&(c=jp=16383&(l[6]<<8|l[7]))}var p=r.msecs!==void 0?r.msecs:Date.now(),m=r.nsecs!==void 0?r.nsecs:Hp+1,v=p-$p+(m-Hp)/1e4;if(v<0&&r.clockseq===void 0&&(c=c+1&16383),(v<0||p>$p)&&r.nsecs===void 0&&(m=0),m>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");$p=p,Hp=m,jp=c;var _=(1e4*(268435455&(p+=122192928e5))+m)%4294967296;s[n++]=_>>>24&255,s[n++]=_>>>16&255,s[n++]=_>>>8&255,s[n++]=255&_;var E=p/4294967296*1e4&268435455;s[n++]=E>>>8&255,s[n++]=255&E,s[n++]=E>>>24&15|16,s[n++]=E>>>16&255,s[n++]=c>>>8|128,s[n++]=255&c;for(var w=0;w<6;++w)s[n+w]=i[w];return t||X0(s)},v3:lq,v4:function(r,t,e){var n=(r=r||{}).random||(r.rng||d5)();if(n[6]=15&n[6]|64,n[8]=63&n[8]|128,t){e=e||0;for(var s=0;s<16;++s)t[e+s]=n[s];return t}return X0(n)},v5:mq,NIL:"00000000-0000-0000-0000-000000000000",version:function(r){if(!_l(r))throw TypeError("Invalid UUID");return parseInt(r.substr(14,1),16)},validate:_l,stringify:X0,parse:FE}),KE=Oh(vq);const gq=KE.v4;var yq=function(r,t,e,n){if(typeof r!="string")throw new TypeError(r+" must be a string");const s=typeof(n=n||{}).version=="number"?n.version:2;if(s!==1&&s!==2)throw new TypeError(s+" must be 1 or 2");const i={method:r};if(s===2&&(i.jsonrpc="2.0"),t){if(typeof t!="object"&&!Array.isArray(t))throw new TypeError(t+" must be an object, array or omitted");i.params=t}if(e===void 0){const c=typeof n.generator=="function"?n.generator:function(){return gq()};i.id=c(i,n)}else s===2&&e===null?n.notificationIdNull&&(i.id=null):i.id=e;return i};const bq=KE.v4,wq=yq,th=function(r,t){if(!(this instanceof th))return new th(r,t);t||(t={}),this.options={reviver:t.reviver!==void 0?t.reviver:null,replacer:t.replacer!==void 0?t.replacer:null,generator:t.generator!==void 0?t.generator:function(){return bq()},version:t.version!==void 0?t.version:2,notificationIdNull:typeof t.notificationIdNull=="boolean"&&t.notificationIdNull},this.callServer=r};var xq=th;th.prototype.request=function(r,t,e,n){const s=this;let i=null;const c=Array.isArray(r)&&typeof t=="function";if(this.options.version===1&&c)throw new TypeError("JSON-RPC 1.0 does not support batching");if(c||!c&&r&&typeof r=="object"&&typeof t=="function")n=t,i=r;else{typeof e=="function"&&(n=e,e=void 0);const p=typeof n=="function";try{i=wq(r,t,e,{generator:this.options.generator,version:this.options.version,notificationIdNull:this.options.notificationIdNull})}catch(m){if(p)return n(m);throw m}if(!p)return i}let l;try{l=JSON.stringify(i,this.options.replacer)}catch(p){return n(p)}return this.callServer(l,function(p,m){s._parseResponse(p,m,n)}),i},th.prototype._parseResponse=function(r,t,e){if(r)return void e(r);if(!t)return e();let n;try{n=JSON.parse(t,this.options.reviver)}catch(s){return e(s)}if(e.length===3){if(Array.isArray(n)){const s=function(c){return c.error!==void 0},i=function(c){return!s(c)};return e(null,n.filter(s),n.filter(i))}return e(null,n.error,n.result)}e(null,n)};var l0,_q=Yi(xq),$E={},HE={exports:{}};(l0=HE).exports=function(r){return r&&r.__esModule?r:{default:r}},l0.exports.__esModule=!0,l0.exports.default=l0.exports;var v5,g5,Zp,y5,VE=HE.exports,b5={exports:{}},w5={exports:{}};function zh(){return v5||(v5=1,function(r){function t(e){return r.exports=t=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(n){return typeof n}:function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},r.exports.__esModule=!0,r.exports.default=r.exports,t(e)}r.exports=t,r.exports.__esModule=!0,r.exports.default=r.exports}(w5)),w5.exports}function Mq(){if(y5)return Zp;y5=1;var r=(g5||(g5=1,function(t){var e=zh().default;function n(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */t.exports=n=function(){return i},t.exports.__esModule=!0,t.exports.default=t.exports;var s,i={},c=Object.prototype,l=c.hasOwnProperty,p=Object.defineProperty||function(u,b,D){u[b]=D.value},m=typeof Symbol=="function"?Symbol:{},v=m.iterator||"@@iterator",_=m.asyncIterator||"@@asyncIterator",E=m.toStringTag||"@@toStringTag";function w(u,b,D){return Object.defineProperty(u,b,{value:D,enumerable:!0,configurable:!0,writable:!0}),u[b]}try{w({},"")}catch{w=function(b,D,Z){return b[D]=Z}}function x(u,b,D,Z){var F=b&&b.prototype instanceof z?b:z,q=Object.create(F.prototype),it=new I(Z||[]);return p(q,"_invoke",{value:f(u,D,it)}),q}function A(u,b,D){try{return{type:"normal",arg:u.call(b,D)}}catch(Z){return{type:"throw",arg:Z}}}i.wrap=x;var B="suspendedStart",P="suspendedYield",R="executing",C="completed",O={};function z(){}function H(){}function tt(){}var nt={};w(nt,v,function(){return this});var G=Object.getPrototypeOf,M=G&&G(G(y([])));M&&M!==c&&l.call(M,v)&&(nt=M);var d=tt.prototype=z.prototype=Object.create(nt);function o(u){["next","throw","return"].forEach(function(b){w(u,b,function(D){return this._invoke(b,D)})})}function a(u,b){function D(F,q,it,at){var Bt=A(u[F],u,q);if(Bt.type!=="throw"){var yt=Bt.arg,pt=yt.value;return pt&&e(pt)=="object"&&l.call(pt,"__await")?b.resolve(pt.__await).then(function(Ft){D("next",Ft,it,at)},function(Ft){D("throw",Ft,it,at)}):b.resolve(pt).then(function(Ft){yt.value=Ft,it(yt)},function(Ft){return D("throw",Ft,it,at)})}at(Bt.arg)}var Z;p(this,"_invoke",{value:function(F,q){function it(){return new b(function(at,Bt){D(F,q,at,Bt)})}return Z=Z?Z.then(it,it):it()}})}function f(u,b,D){var Z=B;return function(F,q){if(Z===R)throw new Error("Generator is already running");if(Z===C){if(F==="throw")throw q;return{value:s,done:!0}}for(D.method=F,D.arg=q;;){var it=D.delegate;if(it){var at=h(it,D);if(at){if(at===O)continue;return at}}if(D.method==="next")D.sent=D._sent=D.arg;else if(D.method==="throw"){if(Z===B)throw Z=C,D.arg;D.dispatchException(D.arg)}else D.method==="return"&&D.abrupt("return",D.arg);Z=R;var Bt=A(u,b,D);if(Bt.type==="normal"){if(Z=D.done?C:P,Bt.arg===O)continue;return{value:Bt.arg,done:D.done}}Bt.type==="throw"&&(Z=C,D.method="throw",D.arg=Bt.arg)}}}function h(u,b){var D=b.method,Z=u.iterator[D];if(Z===s)return b.delegate=null,D==="throw"&&u.iterator.return&&(b.method="return",b.arg=s,h(u,b),b.method==="throw")||D!=="return"&&(b.method="throw",b.arg=new TypeError("The iterator does not provide a '"+D+"' method")),O;var F=A(Z,u.iterator,b.arg);if(F.type==="throw")return b.method="throw",b.arg=F.arg,b.delegate=null,O;var q=F.arg;return q?q.done?(b[u.resultName]=q.value,b.next=u.nextLoc,b.method!=="return"&&(b.method="next",b.arg=s),b.delegate=null,O):q:(b.method="throw",b.arg=new TypeError("iterator result is not an object"),b.delegate=null,O)}function g(u){var b={tryLoc:u[0]};1 in u&&(b.catchLoc=u[1]),2 in u&&(b.finallyLoc=u[2],b.afterLoc=u[3]),this.tryEntries.push(b)}function S(u){var b=u.completion||{};b.type="normal",delete b.arg,u.completion=b}function I(u){this.tryEntries=[{tryLoc:"root"}],u.forEach(g,this),this.reset(!0)}function y(u){if(u||u===""){var b=u[v];if(b)return b.call(u);if(typeof u.next=="function")return u;if(!isNaN(u.length)){var D=-1,Z=function F(){for(;++D<u.length;)if(l.call(u,D))return F.value=u[D],F.done=!1,F;return F.value=s,F.done=!0,F};return Z.next=Z}}throw new TypeError(e(u)+" is not iterable")}return H.prototype=tt,p(d,"constructor",{value:tt,configurable:!0}),p(tt,"constructor",{value:H,configurable:!0}),H.displayName=w(tt,E,"GeneratorFunction"),i.isGeneratorFunction=function(u){var b=typeof u=="function"&&u.constructor;return!!b&&(b===H||(b.displayName||b.name)==="GeneratorFunction")},i.mark=function(u){return Object.setPrototypeOf?Object.setPrototypeOf(u,tt):(u.__proto__=tt,w(u,E,"GeneratorFunction")),u.prototype=Object.create(d),u},i.awrap=function(u){return{__await:u}},o(a.prototype),w(a.prototype,_,function(){return this}),i.AsyncIterator=a,i.async=function(u,b,D,Z,F){F===void 0&&(F=Promise);var q=new a(x(u,b,D,Z),F);return i.isGeneratorFunction(b)?q:q.next().then(function(it){return it.done?it.value:q.next()})},o(d),w(d,E,"Generator"),w(d,v,function(){return this}),w(d,"toString",function(){return"[object Generator]"}),i.keys=function(u){var b=Object(u),D=[];for(var Z in b)D.push(Z);return D.reverse(),function F(){for(;D.length;){var q=D.pop();if(q in b)return F.value=q,F.done=!1,F}return F.done=!0,F}},i.values=y,I.prototype={constructor:I,reset:function(u){if(this.prev=0,this.next=0,this.sent=this._sent=s,this.done=!1,this.delegate=null,this.method="next",this.arg=s,this.tryEntries.forEach(S),!u)for(var b in this)b.charAt(0)==="t"&&l.call(this,b)&&!isNaN(+b.slice(1))&&(this[b]=s)},stop:function(){this.done=!0;var u=this.tryEntries[0].completion;if(u.type==="throw")throw u.arg;return this.rval},dispatchException:function(u){if(this.done)throw u;var b=this;function D(Bt,yt){return q.type="throw",q.arg=u,b.next=Bt,yt&&(b.method="next",b.arg=s),!!yt}for(var Z=this.tryEntries.length-1;Z>=0;--Z){var F=this.tryEntries[Z],q=F.completion;if(F.tryLoc==="root")return D("end");if(F.tryLoc<=this.prev){var it=l.call(F,"catchLoc"),at=l.call(F,"finallyLoc");if(it&&at){if(this.prev<F.catchLoc)return D(F.catchLoc,!0);if(this.prev<F.finallyLoc)return D(F.finallyLoc)}else if(it){if(this.prev<F.catchLoc)return D(F.catchLoc,!0)}else{if(!at)throw new Error("try statement without catch or finally");if(this.prev<F.finallyLoc)return D(F.finallyLoc)}}}},abrupt:function(u,b){for(var D=this.tryEntries.length-1;D>=0;--D){var Z=this.tryEntries[D];if(Z.tryLoc<=this.prev&&l.call(Z,"finallyLoc")&&this.prev<Z.finallyLoc){var F=Z;break}}F&&(u==="break"||u==="continue")&&F.tryLoc<=b&&b<=F.finallyLoc&&(F=null);var q=F?F.completion:{};return q.type=u,q.arg=b,F?(this.method="next",this.next=F.finallyLoc,O):this.complete(q)},complete:function(u,b){if(u.type==="throw")throw u.arg;return u.type==="break"||u.type==="continue"?this.next=u.arg:u.type==="return"?(this.rval=this.arg=u.arg,this.method="return",this.next="end"):u.type==="normal"&&b&&(this.next=b),O},finish:function(u){for(var b=this.tryEntries.length-1;b>=0;--b){var D=this.tryEntries[b];if(D.finallyLoc===u)return this.complete(D.completion,D.afterLoc),S(D),O}},catch:function(u){for(var b=this.tryEntries.length-1;b>=0;--b){var D=this.tryEntries[b];if(D.tryLoc===u){var Z=D.completion;if(Z.type==="throw"){var F=Z.arg;S(D)}return F}}throw new Error("illegal catch attempt")},delegateYield:function(u,b,D){return this.delegate={iterator:y(u),resultName:b,nextLoc:D},this.method==="next"&&(this.arg=s),O}},i}t.exports=n,t.exports.__esModule=!0,t.exports.default=t.exports}(b5)),b5.exports)();Zp=r;try{regeneratorRuntime=r}catch{typeof globalThis=="object"?globalThis.regeneratorRuntime=r:Function("r","regeneratorRuntime = r")(r)}return Zp}var x5,_5={exports:{}},M5,E5={exports:{}};function ZE(){return M5||(M5=1,function(r){r.exports=function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")},r.exports.__esModule=!0,r.exports.default=r.exports}(E5)),E5.exports}var A5,S5,k5,I5={exports:{}},B5={exports:{}},P5={exports:{}};function Eq(){return A5||(A5=1,function(r){var t=zh().default;r.exports=function(e,n){if(t(e)!=="object"||e===null)return e;var s=e[Symbol.toPrimitive];if(s!==void 0){var i=s.call(e,n||"default");if(t(i)!=="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(n==="string"?String:Number)(e)},r.exports.__esModule=!0,r.exports.default=r.exports}(P5)),P5.exports}function Aq(){return S5||(S5=1,function(r){var t=zh().default,e=Eq();r.exports=function(n){var s=e(n,"string");return t(s)==="symbol"?s:String(s)},r.exports.__esModule=!0,r.exports.default=r.exports}(B5)),B5.exports}function WE(){return k5||(k5=1,function(r){var t=Aq();function e(n,s){for(var i=0;i<s.length;i++){var c=s[i];c.enumerable=c.enumerable||!1,c.configurable=!0,"value"in c&&(c.writable=!0),Object.defineProperty(n,t(c.key),c)}}r.exports=function(n,s,i){return s&&e(n.prototype,s),i&&e(n,i),Object.defineProperty(n,"prototype",{writable:!1}),n},r.exports.__esModule=!0,r.exports.default=r.exports}(I5)),I5.exports}var R5,C5,T5={exports:{}},L5={exports:{}};function Sq(){return R5||(R5=1,function(r){function t(e,n){return r.exports=t=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(s,i){return s.__proto__=i,s},r.exports.__esModule=!0,r.exports.default=r.exports,t(e,n)}r.exports=t,r.exports.__esModule=!0,r.exports.default=r.exports}(L5)),L5.exports}function GE(){return C5||(C5=1,function(r){var t=Sq();r.exports=function(e,n){if(typeof n!="function"&&n!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(n&&n.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),n&&t(e,n)},r.exports.__esModule=!0,r.exports.default=r.exports}(T5)),T5.exports}var O5,U5,N5={exports:{}},D5={exports:{}};function kq(){return O5||(O5=1,function(r){r.exports=function(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t},r.exports.__esModule=!0,r.exports.default=r.exports}(D5)),D5.exports}function YE(){return U5||(U5=1,function(r){var t=zh().default,e=kq();r.exports=function(n,s){if(s&&(t(s)==="object"||typeof s=="function"))return s;if(s!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return e(n)},r.exports.__esModule=!0,r.exports.default=r.exports}(N5)),N5.exports}var z5,q5={exports:{}};function XE(){return z5||(z5=1,function(r){function t(e){return r.exports=t=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},r.exports.__esModule=!0,r.exports.default=r.exports,t(e)}r.exports=t,r.exports.__esModule=!0,r.exports.default=r.exports}(q5)),q5.exports}var F5,j5={exports:{}};function _y(){return F5||(F5=1,function(r){var t=Object.prototype.hasOwnProperty,e="~";function n(){}function s(p,m,v){this.fn=p,this.context=m,this.once=v||!1}function i(p,m,v,_,E){if(typeof v!="function")throw new TypeError("The listener must be a function");var w=new s(v,_||p,E),x=e?e+m:m;return p._events[x]?p._events[x].fn?p._events[x]=[p._events[x],w]:p._events[x].push(w):(p._events[x]=w,p._eventsCount++),p}function c(p,m){--p._eventsCount==0?p._events=new n:delete p._events[m]}function l(){this._events=new n,this._eventsCount=0}Object.create&&(n.prototype=Object.create(null),new n().__proto__||(e=!1)),l.prototype.eventNames=function(){var p,m,v=[];if(this._eventsCount===0)return v;for(m in p=this._events)t.call(p,m)&&v.push(e?m.slice(1):m);return Object.getOwnPropertySymbols?v.concat(Object.getOwnPropertySymbols(p)):v},l.prototype.listeners=function(p){var m=e?e+p:p,v=this._events[m];if(!v)return[];if(v.fn)return[v.fn];for(var _=0,E=v.length,w=new Array(E);_<E;_++)w[_]=v[_].fn;return w},l.prototype.listenerCount=function(p){var m=e?e+p:p,v=this._events[m];return v?v.fn?1:v.length:0},l.prototype.emit=function(p,m,v,_,E,w){var x=e?e+p:p;if(!this._events[x])return!1;var A,B,P=this._events[x],R=arguments.length;if(P.fn){switch(P.once&&this.removeListener(p,P.fn,void 0,!0),R){case 1:return P.fn.call(P.context),!0;case 2:return P.fn.call(P.context,m),!0;case 3:return P.fn.call(P.context,m,v),!0;case 4:return P.fn.call(P.context,m,v,_),!0;case 5:return P.fn.call(P.context,m,v,_,E),!0;case 6:return P.fn.call(P.context,m,v,_,E,w),!0}for(B=1,A=new Array(R-1);B<R;B++)A[B-1]=arguments[B];P.fn.apply(P.context,A)}else{var C,O=P.length;for(B=0;B<O;B++)switch(P[B].once&&this.removeListener(p,P[B].fn,void 0,!0),R){case 1:P[B].fn.call(P[B].context);break;case 2:P[B].fn.call(P[B].context,m);break;case 3:P[B].fn.call(P[B].context,m,v);break;case 4:P[B].fn.call(P[B].context,m,v,_);break;default:if(!A)for(C=1,A=new Array(R-1);C<R;C++)A[C-1]=arguments[C];P[B].fn.apply(P[B].context,A)}}return!0},l.prototype.on=function(p,m,v){return i(this,p,m,v,!1)},l.prototype.once=function(p,m,v){return i(this,p,m,v,!0)},l.prototype.removeListener=function(p,m,v,_){var E=e?e+p:p;if(!this._events[E])return this;if(!m)return c(this,E),this;var w=this._events[E];if(w.fn)w.fn!==m||_&&!w.once||v&&w.context!==v||c(this,E);else{for(var x=0,A=[],B=w.length;x<B;x++)(w[x].fn!==m||_&&!w[x].once||v&&w[x].context!==v)&&A.push(w[x]);A.length?this._events[E]=A.length===1?A[0]:A:c(this,E)}return this},l.prototype.removeAllListeners=function(p){var m;return p?(m=e?e+p:p,this._events[m]&&c(this,m)):(this._events=new n,this._eventsCount=0),this},l.prototype.off=l.prototype.removeListener,l.prototype.addListener=l.prototype.on,l.prefixed=e,l.EventEmitter=l,r.exports=l}(j5)),j5.exports}(function(r){var t=VE;Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var e=t(Mq()),n=t((x5||(x5=1,function(w){function x(A,B,P,R,C,O,z){try{var H=A[O](z),tt=H.value}catch(nt){return void P(nt)}H.done?B(tt):Promise.resolve(tt).then(R,C)}w.exports=function(A){return function(){var B=this,P=arguments;return new Promise(function(R,C){var O=A.apply(B,P);function z(tt){x(O,R,C,z,H,"next",tt)}function H(tt){x(O,R,C,z,H,"throw",tt)}z(void 0)})}},w.exports.__esModule=!0,w.exports.default=w.exports}(_5)),_5.exports)),s=t(zh()),i=t(ZE()),c=t(WE()),l=t(GE()),p=t(YE()),m=t(XE()),v=_y();function _(w){var x=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var A,B=(0,m.default)(w);if(x){var P=(0,m.default)(this).constructor;A=Reflect.construct(B,arguments,P)}else A=B.apply(this,arguments);return(0,p.default)(this,A)}}var E=function(w){(0,l.default)(C,w);var x,A,B,P,R=_(C);function C(O){var z,H=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"ws://localhost:8080",tt=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},nt=arguments.length>3?arguments[3]:void 0;(0,i.default)(this,C);var G=tt.autoconnect,M=G===void 0||G,d=tt.reconnect,o=d===void 0||d,a=tt.reconnect_interval,f=a===void 0?1e3:a,h=tt.max_reconnects,g=h===void 0?5:h,S=function(I,y){var u={};for(var b in I)Object.prototype.hasOwnProperty.call(I,b)&&y.indexOf(b)<0&&(u[b]=I[b]);if(I!=null&&typeof Object.getOwnPropertySymbols=="function"){var D=0;for(b=Object.getOwnPropertySymbols(I);D<b.length;D++)y.indexOf(b[D])<0&&Object.prototype.propertyIsEnumerable.call(I,b[D])&&(u[b[D]]=I[b[D]])}return u}(tt,["autoconnect","reconnect","reconnect_interval","max_reconnects"]);return(z=R.call(this)).webSocketFactory=O,z.queue={},z.rpc_id=0,z.address=H,z.autoconnect=M,z.ready=!1,z.reconnect=o,z.reconnect_timer_id=void 0,z.reconnect_interval=f,z.max_reconnects=g,z.rest_options=S,z.current_reconnects=0,z.generate_request_id=nt||function(){return++z.rpc_id},z.autoconnect&&z._connect(z.address,Object.assign({autoconnect:z.autoconnect,reconnect:z.reconnect,reconnect_interval:z.reconnect_interval,max_reconnects:z.max_reconnects},z.rest_options)),z}return(0,c.default)(C,[{key:"connect",value:function(){this.socket||this._connect(this.address,Object.assign({autoconnect:this.autoconnect,reconnect:this.reconnect,reconnect_interval:this.reconnect_interval,max_reconnects:this.max_reconnects},this.rest_options))}},{key:"call",value:function(O,z,H,tt){var nt=this;return tt||(0,s.default)(H)!=="object"||(tt=H,H=null),new Promise(function(G,M){if(!nt.ready)return M(new Error("socket not ready"));var d=nt.generate_request_id(O,z),o={jsonrpc:"2.0",method:O,params:z||null,id:d};nt.socket.send(JSON.stringify(o),tt,function(a){if(a)return M(a);nt.queue[d]={promise:[G,M]},H&&(nt.queue[d].timeout=setTimeout(function(){delete nt.queue[d],M(new Error("reply timeout"))},H))})})}},{key:"login",value:(P=(0,n.default)(e.default.mark(function O(z){var H;return e.default.wrap(function(tt){for(;;)switch(tt.prev=tt.next){case 0:return tt.next=2,this.call("rpc.login",z);case 2:if(H=tt.sent){tt.next=5;break}throw new Error("authentication failed");case 5:return tt.abrupt("return",H);case 6:case"end":return tt.stop()}},O,this)})),function(O){return P.apply(this,arguments)})},{key:"listMethods",value:(B=(0,n.default)(e.default.mark(function O(){return e.default.wrap(function(z){for(;;)switch(z.prev=z.next){case 0:return z.next=2,this.call("__listMethods");case 2:return z.abrupt("return",z.sent);case 3:case"end":return z.stop()}},O,this)})),function(){return B.apply(this,arguments)})},{key:"notify",value:function(O,z){var H=this;return new Promise(function(tt,nt){if(!H.ready)return nt(new Error("socket not ready"));var G={jsonrpc:"2.0",method:O,params:z||null};H.socket.send(JSON.stringify(G),function(M){if(M)return nt(M);tt()})})}},{key:"subscribe",value:(A=(0,n.default)(e.default.mark(function O(z){var H;return e.default.wrap(function(tt){for(;;)switch(tt.prev=tt.next){case 0:return typeof z=="string"&&(z=[z]),tt.next=3,this.call("rpc.on",z);case 3:if(H=tt.sent,typeof z!="string"||H[z]==="ok"){tt.next=6;break}throw new Error("Failed subscribing to an event '"+z+"' with: "+H[z]);case 6:return tt.abrupt("return",H);case 7:case"end":return tt.stop()}},O,this)})),function(O){return A.apply(this,arguments)})},{key:"unsubscribe",value:(x=(0,n.default)(e.default.mark(function O(z){var H;return e.default.wrap(function(tt){for(;;)switch(tt.prev=tt.next){case 0:return typeof z=="string"&&(z=[z]),tt.next=3,this.call("rpc.off",z);case 3:if(H=tt.sent,typeof z!="string"||H[z]==="ok"){tt.next=6;break}throw new Error("Failed unsubscribing from an event with: "+H);case 6:return tt.abrupt("return",H);case 7:case"end":return tt.stop()}},O,this)})),function(O){return x.apply(this,arguments)})},{key:"close",value:function(O,z){this.socket.close(O||1e3,z)}},{key:"_connect",value:function(O,z){var H=this;clearTimeout(this.reconnect_timer_id),this.socket=this.webSocketFactory(O,z),this.socket.addEventListener("open",function(){H.ready=!0,H.emit("open"),H.current_reconnects=0}),this.socket.addEventListener("message",function(tt){var nt=tt.data;nt instanceof ArrayBuffer&&(nt=Zt.Buffer.from(nt).toString());try{nt=JSON.parse(nt)}catch{return}if(nt.notification&&H.listeners(nt.notification).length){if(!Object.keys(nt.params).length)return H.emit(nt.notification);var G=[nt.notification];if(nt.params.constructor===Object)G.push(nt.params);else for(var M=0;M<nt.params.length;M++)G.push(nt.params[M]);return Promise.resolve().then(function(){H.emit.apply(H,G)})}if(!H.queue[nt.id])return nt.method&&nt.params?Promise.resolve().then(function(){H.emit(nt.method,nt.params)}):void 0;"error"in nt=="result"in nt&&H.queue[nt.id].promise[1](new Error('Server response malformed. Response must include either "result" or "error", but not both.')),H.queue[nt.id].timeout&&clearTimeout(H.queue[nt.id].timeout),nt.error?H.queue[nt.id].promise[1](nt.error):H.queue[nt.id].promise[0](nt.result),delete H.queue[nt.id]}),this.socket.addEventListener("error",function(tt){return H.emit("error",tt)}),this.socket.addEventListener("close",function(tt){var nt=tt.code,G=tt.reason;H.ready&&setTimeout(function(){return H.emit("close",nt,G)},0),H.ready=!1,H.socket=void 0,nt!==1e3&&(H.current_reconnects++,H.reconnect&&(H.max_reconnects>H.current_reconnects||H.max_reconnects===0)&&(H.reconnect_timer_id=setTimeout(function(){return H._connect(O,z)},H.reconnect_interval)))})}}]),C}(v.EventEmitter);r.default=E})($E);var Iq=Yi($E),JE={};(function(r){var t=VE;Object.defineProperty(r,"__esModule",{value:!0}),r.default=function(m,v){return new p(m,v)};var e=t(ZE()),n=t(WE()),s=t(GE()),i=t(YE()),c=t(XE());function l(m){var v=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var _,E=(0,c.default)(m);if(v){var w=(0,c.default)(this).constructor;_=Reflect.construct(E,arguments,w)}else _=E.apply(this,arguments);return(0,i.default)(this,_)}}var p=function(m){(0,s.default)(_,m);var v=l(_);function _(E,w,x){var A;return(0,e.default)(this,_),(A=v.call(this)).socket=new window.WebSocket(E,x),A.socket.onopen=function(){return A.emit("open")},A.socket.onmessage=function(B){return A.emit("message",B.data)},A.socket.onerror=function(B){return A.emit("error",B)},A.socket.onclose=function(B){A.emit("close",B.code,B.reason)},A}return(0,n.default)(_,[{key:"send",value:function(E,w,x){var A=x||w;try{this.socket.send(E),A()}catch(B){A(B)}}},{key:"close",value:function(E,w){this.socket.close(E,w)}},{key:"addEventListener",value:function(E,w,x){this.socket.addEventListener(E,w,x)}}]),_}(_y().EventEmitter)})(JE);var Bq=Yi(JE);const[QE,tA,eA]=[[],[],[]],Pq=BigInt(0),oc=BigInt(1),Rq=BigInt(2),Cq=BigInt(7),Tq=BigInt(256),Lq=BigInt(113);for(let r=0,t=oc,e=1,n=0;r<24;r++){[e,n]=[n,(2*e+3*n)%5],QE.push(2*(5*n+e)),tA.push((r+1)*(r+2)/2%64);let s=Pq;for(let i=0;i<7;i++)t=(t<<oc^(t>>Cq)*Lq)%Tq,t&Rq&&(s^=oc<<(oc<<BigInt(i))-oc);eA.push(s)}const[Oq,Uq]=rE(eA,!0),K5=(r,t,e)=>e>32?oE(r,t,e):nE(r,t,e),$5=(r,t,e)=>e>32?sE(r,t,e):iE(r,t,e);class My extends ry{constructor(t,e,n,s=!1,i=24){if(super(),this.blockLen=t,this.suffix=e,this.outputLen=n,this.enableXOF=s,this.rounds=i,this.pos=0,this.posOut=0,this.finished=!1,this.destroyed=!1,vl(n),0>=this.blockLen||this.blockLen>=200)throw new Error("Sha3 supports only keccak-f1600 function");var c;this.state=new Uint8Array(200),this.state32=(c=this.state,new Uint32Array(c.buffer,c.byteOffset,Math.floor(c.byteLength/4)))}keccak(){(function(t,e=24){const n=new Uint32Array(10);for(let s=24-e;s<24;s++){for(let l=0;l<10;l++)n[l]=t[l]^t[l+10]^t[l+20]^t[l+30]^t[l+40];for(let l=0;l<10;l+=2){const p=(l+8)%10,m=(l+2)%10,v=n[m],_=n[m+1],E=K5(v,_,1)^n[p],w=$5(v,_,1)^n[p+1];for(let x=0;x<50;x+=10)t[l+x]^=E,t[l+x+1]^=w}let i=t[2],c=t[3];for(let l=0;l<24;l++){const p=tA[l],m=K5(i,c,p),v=$5(i,c,p),_=QE[l];i=t[_],c=t[_+1],t[_]=m,t[_+1]=v}for(let l=0;l<50;l+=10){for(let p=0;p<10;p++)n[p]=t[l+p];for(let p=0;p<10;p++)t[l+p]^=~n[(p+2)%10]&n[(p+4)%10]}t[0]^=Oq[s],t[1]^=Uq[s]}n.fill(0)})(this.state32,this.rounds),this.posOut=0,this.pos=0}update(t){uf(this);const{blockLen:e,state:n}=this,s=(t=gd(t)).length;for(let i=0;i<s;){const c=Math.min(e-this.pos,s-i);for(let l=0;l<c;l++)n[this.pos++]^=t[i++];this.pos===e&&this.keccak()}return this}finish(){if(this.finished)return;this.finished=!0;const{state:t,suffix:e,pos:n,blockLen:s}=this;t[n]^=e,128&e&&n===s-1&&this.keccak(),t[s-1]^=128,this.keccak()}writeInto(t){uf(this,!1),ey(t),this.finish();const e=this.state,{blockLen:n}=this;for(let s=0,i=t.length;s<i;){this.posOut>=n&&this.keccak();const c=Math.min(n-this.posOut,i-s);t.set(e.subarray(this.posOut,this.posOut+c),s),this.posOut+=c,s+=c}return t}xofInto(t){if(!this.enableXOF)throw new Error("XOF is not possible for this instance");return this.writeInto(t)}xof(t){return vl(t),this.xofInto(new Uint8Array(t))}digestInto(t){if(XM(t,this),this.finished)throw new Error("digest() was already called");return this.writeInto(t),this.destroy(),t}digest(){return this.digestInto(new Uint8Array(this.outputLen))}destroy(){this.destroyed=!0,this.state.fill(0)}_cloneInto(t){const{blockLen:e,suffix:n,outputLen:s,rounds:i,enableXOF:c}=this;return t||(t=new My(e,n,s,c,i)),t.state32.set(this.state32),t.pos=this.pos,t.posOut=this.posOut,t.finished=this.finished,t.rounds=i,t.suffix=n,t.outputLen=s,t.enableXOF=c,t.destroyed=this.destroyed,t}}const H5=((r,t,e)=>ny(()=>new My(t,r,e)))(1,136,32),{bytesToNumberBE:Nq,hexToBytes:Dq}=Tz,Oa={Err:class extends Error{constructor(r=""){super(r)}},_parseInt(r){const{Err:t}=Oa;if(r.length<2||r[0]!==2)throw new t("Invalid signature integer tag");const e=r[1],n=r.subarray(2,e+2);if(!e||n.length!==e)throw new t("Invalid signature integer: wrong length");if(128&n[0])throw new t("Invalid signature integer: negative");if(n[0]===0&&!(128&n[1]))throw new t("Invalid signature integer: unnecessary leading zero");return{d:Nq(n),l:r.subarray(e+2)}},toSig(r){const{Err:t}=Oa,e=typeof r=="string"?Dq(r):r;if(!(e instanceof Uint8Array))throw new Error("ui8a expected");let n=e.length;if(n<2||e[0]!=48)throw new t("Invalid signature tag");if(e[1]!==n-2)throw new t("Invalid signature: incorrect length");const{d:s,l:i}=Oa._parseInt(e.subarray(2)),{d:c,l}=Oa._parseInt(i);if(l.length)throw new t("Invalid signature: left bytes after parsing");return{r:s,s:c}},hexFromSig(r){const t=m=>8&Number.parseInt(m[0],16)?"00"+m:m,e=m=>{const v=m.toString(16);return 1&v.length?`0${v}`:v},n=t(e(r.s)),s=t(e(r.r)),i=n.length/2,c=s.length/2,l=e(i),p=e(c);return`30${e(c+i+4)}02${p}${s}02${l}${n}`}},gs=BigInt(0),Ui=BigInt(1);BigInt(2);const V5=BigInt(3);function zq(r){const t=function(x){const A=sy(x);cf(A,{a:"field",b:"field"},{allowedPrivateKeyLengths:"array",wrapPrivateKey:"boolean",isTorsionFree:"function",clearCofactor:"function",allowInfinityPoint:"boolean",fromBytes:"function",toBytes:"function"});const{endo:B,Fp:P,a:R}=A;if(B){if(!P.eql(R,P.ZERO))throw new Error("Endomorphism can only be defined for Koblitz curves that have a=0");if(typeof B!="object"||typeof B.beta!="bigint"||typeof B.splitScalar!="function")throw new Error("Expected endomorphism with beta: bigint and splitScalar: function")}return Object.freeze({...A})}(r),{Fp:e}=t,n=t.toBytes||((x,A,B)=>{const P=A.toAffine();return Qa(Uint8Array.from([4]),e.toBytes(P.x),e.toBytes(P.y))}),s=t.fromBytes||(x=>{const A=x.subarray(1);return{x:e.fromBytes(A.subarray(0,e.BYTES)),y:e.fromBytes(A.subarray(e.BYTES,2*e.BYTES))}});function i(x){const{a:A,b:B}=t,P=e.sqr(x),R=e.mul(P,x);return e.add(e.add(R,e.mul(x,A)),B)}if(!e.eql(e.sqr(t.Gy),i(t.Gx)))throw new Error("bad generator point: equation left != right");function c(x){return typeof x=="bigint"&&gs<x&&x<t.n}function l(x){if(!c(x))throw new Error("Expected valid bigint: 0 < bigint < curve.n")}function p(x){const{allowedPrivateKeyLengths:A,nByteLength:B,wrapPrivateKey:P,n:R}=t;if(A&&typeof x!="bigint"){if(x instanceof Uint8Array&&(x=Ja(x)),typeof x!="string"||!A.includes(x.length))throw new Error("Invalid key");x=x.padStart(2*B,"0")}let C;try{C=typeof x=="bigint"?x:La(mn("private key",x,B))}catch{throw new Error(`private key must be ${B} bytes, hex or bigint, not ${typeof x}`)}return P&&(C=Kr(C,R)),l(C),C}const m=new Map;function v(x){if(!(x instanceof _))throw new Error("ProjectivePoint expected")}class _{constructor(A,B,P){if(this.px=A,this.py=B,this.pz=P,A==null||!e.isValid(A))throw new Error("x required");if(B==null||!e.isValid(B))throw new Error("y required");if(P==null||!e.isValid(P))throw new Error("z required")}static fromAffine(A){const{x:B,y:P}=A||{};if(!A||!e.isValid(B)||!e.isValid(P))throw new Error("invalid affine point");if(A instanceof _)throw new Error("projective point not allowed");const R=C=>e.eql(C,e.ZERO);return R(B)&&R(P)?_.ZERO:new _(B,P,e.ONE)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static normalizeZ(A){const B=e.invertBatch(A.map(P=>P.pz));return A.map((P,R)=>P.toAffine(B[R])).map(_.fromAffine)}static fromHex(A){const B=_.fromAffine(s(mn("pointHex",A)));return B.assertValidity(),B}static fromPrivateKey(A){return _.BASE.multiply(p(A))}_setWindowSize(A){this._WINDOW_SIZE=A,m.delete(this)}assertValidity(){if(this.is0()){if(t.allowInfinityPoint&&!e.is0(this.py))return;throw new Error("bad point: ZERO")}const{x:A,y:B}=this.toAffine();if(!e.isValid(A)||!e.isValid(B))throw new Error("bad point: x or y not FE");const P=e.sqr(B),R=i(A);if(!e.eql(P,R))throw new Error("bad point: equation left != right");if(!this.isTorsionFree())throw new Error("bad point: not in prime-order subgroup")}hasEvenY(){const{y:A}=this.toAffine();if(e.isOdd)return!e.isOdd(A);throw new Error("Field doesn't support isOdd")}equals(A){v(A);const{px:B,py:P,pz:R}=this,{px:C,py:O,pz:z}=A,H=e.eql(e.mul(B,z),e.mul(C,R)),tt=e.eql(e.mul(P,z),e.mul(O,R));return H&&tt}negate(){return new _(this.px,e.neg(this.py),this.pz)}double(){const{a:A,b:B}=t,P=e.mul(B,V5),{px:R,py:C,pz:O}=this;let z=e.ZERO,H=e.ZERO,tt=e.ZERO,nt=e.mul(R,R),G=e.mul(C,C),M=e.mul(O,O),d=e.mul(R,C);return d=e.add(d,d),tt=e.mul(R,O),tt=e.add(tt,tt),z=e.mul(A,tt),H=e.mul(P,M),H=e.add(z,H),z=e.sub(G,H),H=e.add(G,H),H=e.mul(z,H),z=e.mul(d,z),tt=e.mul(P,tt),M=e.mul(A,M),d=e.sub(nt,M),d=e.mul(A,d),d=e.add(d,tt),tt=e.add(nt,nt),nt=e.add(tt,nt),nt=e.add(nt,M),nt=e.mul(nt,d),H=e.add(H,nt),M=e.mul(C,O),M=e.add(M,M),nt=e.mul(M,d),z=e.sub(z,nt),tt=e.mul(M,G),tt=e.add(tt,tt),tt=e.add(tt,tt),new _(z,H,tt)}add(A){v(A);const{px:B,py:P,pz:R}=this,{px:C,py:O,pz:z}=A;let H=e.ZERO,tt=e.ZERO,nt=e.ZERO;const G=t.a,M=e.mul(t.b,V5);let d=e.mul(B,C),o=e.mul(P,O),a=e.mul(R,z),f=e.add(B,P),h=e.add(C,O);f=e.mul(f,h),h=e.add(d,o),f=e.sub(f,h),h=e.add(B,R);let g=e.add(C,z);return h=e.mul(h,g),g=e.add(d,a),h=e.sub(h,g),g=e.add(P,R),H=e.add(O,z),g=e.mul(g,H),H=e.add(o,a),g=e.sub(g,H),nt=e.mul(G,h),H=e.mul(M,a),nt=e.add(H,nt),H=e.sub(o,nt),nt=e.add(o,nt),tt=e.mul(H,nt),o=e.add(d,d),o=e.add(o,d),a=e.mul(G,a),h=e.mul(M,h),o=e.add(o,a),a=e.sub(d,a),a=e.mul(G,a),h=e.add(h,a),d=e.mul(o,h),tt=e.add(tt,d),d=e.mul(g,h),H=e.mul(f,H),H=e.sub(H,d),d=e.mul(f,o),nt=e.mul(g,nt),nt=e.add(nt,d),new _(H,tt,nt)}subtract(A){return this.add(A.negate())}is0(){return this.equals(_.ZERO)}wNAF(A){return w.wNAFCached(this,m,A,B=>{const P=e.invertBatch(B.map(R=>R.pz));return B.map((R,C)=>R.toAffine(P[C])).map(_.fromAffine)})}multiplyUnsafe(A){const B=_.ZERO;if(A===gs)return B;if(l(A),A===Ui)return this;const{endo:P}=t;if(!P)return w.unsafeLadder(this,A);let{k1neg:R,k1:C,k2neg:O,k2:z}=P.splitScalar(A),H=B,tt=B,nt=this;for(;C>gs||z>gs;)C&Ui&&(H=H.add(nt)),z&Ui&&(tt=tt.add(nt)),nt=nt.double(),C>>=Ui,z>>=Ui;return R&&(H=H.negate()),O&&(tt=tt.negate()),tt=new _(e.mul(tt.px,P.beta),tt.py,tt.pz),H.add(tt)}multiply(A){l(A);let B,P,R=A;const{endo:C}=t;if(C){const{k1neg:O,k1:z,k2neg:H,k2:tt}=C.splitScalar(R);let{p:nt,f:G}=this.wNAF(z),{p:M,f:d}=this.wNAF(tt);nt=w.constTimeNegate(O,nt),M=w.constTimeNegate(H,M),M=new _(e.mul(M.px,C.beta),M.py,M.pz),B=nt.add(M),P=G.add(d)}else{const{p:O,f:z}=this.wNAF(R);B=O,P=z}return _.normalizeZ([B,P])[0]}multiplyAndAddUnsafe(A,B,P){const R=_.BASE,C=(z,H)=>H!==gs&&H!==Ui&&z.equals(R)?z.multiply(H):z.multiplyUnsafe(H),O=C(this,B).add(C(A,P));return O.is0()?void 0:O}toAffine(A){const{px:B,py:P,pz:R}=this,C=this.is0();A==null&&(A=C?e.ONE:e.inv(R));const O=e.mul(B,A),z=e.mul(P,A),H=e.mul(R,A);if(C)return{x:e.ZERO,y:e.ZERO};if(!e.eql(H,e.ONE))throw new Error("invZ was invalid");return{x:O,y:z}}isTorsionFree(){const{h:A,isTorsionFree:B}=t;if(A===Ui)return!0;if(B)return B(_,this);throw new Error("isTorsionFree() has not been declared for the elliptic curve")}clearCofactor(){const{h:A,clearCofactor:B}=t;return A===Ui?this:B?B(_,this):this.multiplyUnsafe(t.h)}toRawBytes(A=!0){return this.assertValidity(),n(_,this,A)}toHex(A=!0){return Ja(this.toRawBytes(A))}}_.BASE=new _(t.Gx,t.Gy,e.ONE),_.ZERO=new _(e.ZERO,e.ONE,e.ZERO);const E=t.nBitLength,w=hE(_,t.endo?Math.ceil(E/2):E);return{CURVE:t,ProjectivePoint:_,normPrivateKeyToScalar:p,weierstrassEquation:i,isWithinCurveOrder:c}}function qq(r){const t=function(G){const M=sy(G);return cf(M,{hash:"hash",hmac:"function",randomBytes:"function"},{bits2int:"function",bits2int_modN:"function",lowS:"boolean"}),Object.freeze({lowS:!0,...M})}(r),{Fp:e,n}=t,s=e.BYTES+1,i=2*e.BYTES+1;function c(G){return Kr(G,n)}function l(G){return D2(G,n)}const{ProjectivePoint:p,normPrivateKeyToScalar:m,weierstrassEquation:v,isWithinCurveOrder:_}=zq({...t,toBytes(G,M,d){const o=M.toAffine(),a=e.toBytes(o.x),f=Qa;return d?f(Uint8Array.from([M.hasEvenY()?2:3]),a):f(Uint8Array.from([4]),a,e.toBytes(o.y))},fromBytes(G){const M=G.length,d=G[0],o=G.subarray(1);if(M!==s||d!==2&&d!==3){if(M===i&&d===4)return{x:e.fromBytes(o.subarray(0,e.BYTES)),y:e.fromBytes(o.subarray(e.BYTES,2*e.BYTES))};throw new Error(`Point of length ${M} was invalid. Expected ${s} compressed bytes or ${i} uncompressed bytes`)}{const f=La(o);if(!(gs<(a=f)&&a<e.ORDER))throw new Error("Point is not on curve");const h=v(f);let g=e.sqrt(h);return(1&d)==1!=((g&Ui)===Ui)&&(g=e.neg(g)),{x:f,y:g}}var a}}),E=G=>Ja(Fu(G,t.nByteLength));function w(G){return G>n>>Ui}const x=(G,M,d)=>La(G.slice(M,d));class A{constructor(M,d,o){this.r=M,this.s=d,this.recovery=o,this.assertValidity()}static fromCompact(M){const d=t.nByteLength;return M=mn("compactSignature",M,2*d),new A(x(M,0,d),x(M,d,2*d))}static fromDER(M){const{r:d,s:o}=Oa.toSig(mn("DER",M));return new A(d,o)}assertValidity(){if(!_(this.r))throw new Error("r must be 0 < r < CURVE.n");if(!_(this.s))throw new Error("s must be 0 < s < CURVE.n")}addRecoveryBit(M){return new A(this.r,this.s,M)}recoverPublicKey(M){const{r:d,s:o,recovery:a}=this,f=C(mn("msgHash",M));if(a==null||![0,1,2,3].includes(a))throw new Error("recovery id invalid");const h=a===2||a===3?d+t.n:d;if(h>=e.ORDER)throw new Error("recovery id 2 or 3 invalid");const g=1&a?"03":"02",S=p.fromHex(g+E(h)),I=l(h),y=c(-f*I),u=c(o*I),b=p.BASE.multiplyAndAddUnsafe(S,y,u);if(!b)throw new Error("point at infinify");return b.assertValidity(),b}hasHighS(){return w(this.s)}normalizeS(){return this.hasHighS()?new A(this.r,c(-this.s),this.recovery):this}toDERRawBytes(){return ff(this.toDERHex())}toDERHex(){return Oa.hexFromSig({r:this.r,s:this.s})}toCompactRawBytes(){return ff(this.toCompactHex())}toCompactHex(){return E(this.r)+E(this.s)}}const B={isValidPrivateKey(G){try{return m(G),!0}catch{return!1}},normPrivateKeyToScalar:m,randomPrivateKey:()=>{const G=a5(t.n);return function(M,d,o=!1){const a=M.length,f=cE(d),h=a5(d);if(a<16||a<h||a>1024)throw new Error(`expected ${h}-1024 bytes of input, got ${a}`);const g=Kr(o?La(M):qu(M),d-Zr)+Zr;return o?Xc(g,f):Fu(g,f)}(t.randomBytes(G),t.n)},precompute:(G=8,M=p.BASE)=>(M._setWindowSize(G),M.multiply(BigInt(3)),M)};function P(G){const M=G instanceof Uint8Array,d=typeof G=="string",o=(M||d)&&G.length;return M?o===s||o===i:d?o===2*s||o===2*i:G instanceof p}const R=t.bits2int||function(G){const M=La(G),d=8*G.length-t.nBitLength;return d>0?M>>BigInt(d):M},C=t.bits2int_modN||function(G){return c(R(G))},O=oy(t.nBitLength);function z(G){if(typeof G!="bigint")throw new Error("bigint expected");if(!(gs<=G&&G<O))throw new Error(`bigint expected < 2^${t.nBitLength}`);return Fu(G,t.nByteLength)}function H(G,M,d=tt){if(["recovered","canonical"].some(D=>D in d))throw new Error("sign() legacy options not supported");const{hash:o,randomBytes:a}=t;let{lowS:f,prehash:h,extraEntropy:g}=d;f==null&&(f=!0),G=mn("msgHash",G),h&&(G=mn("prehashed msgHash",o(G)));const S=C(G),I=m(M),y=[z(I),z(S)];if(g!=null){const D=g===!0?a(e.BYTES):g;y.push(mn("extraEntropy",D))}const u=Qa(...y),b=S;return{seed:u,k2sig:function(D){const Z=R(D);if(!_(Z))return;const F=l(Z),q=p.BASE.multiply(Z).toAffine(),it=c(q.x);if(it===gs)return;const at=c(F*c(b+it*I));if(at===gs)return;let Bt=(q.x===it?0:2)|Number(q.y&Ui),yt=at;return f&&w(at)&&(yt=function(pt){return w(pt)?c(-pt):pt}(at),Bt^=1),new A(it,yt,Bt)}}}const tt={lowS:t.lowS,prehash:!1},nt={lowS:t.lowS,prehash:!1};return p.BASE._setWindowSize(8),{CURVE:t,getPublicKey:function(G,M=!0){return p.fromPrivateKey(G).toRawBytes(M)},getSharedSecret:function(G,M,d=!0){if(P(G))throw new Error("first arg must be private key");if(!P(M))throw new Error("second arg must be public key");return p.fromHex(M).multiply(m(G)).toRawBytes(d)},sign:function(G,M,d=tt){const{seed:o,k2sig:a}=H(G,M,d),f=t;return aE(f.hash.outputLen,f.nByteLength,f.hmac)(o,a)},verify:function(G,M,d,o=nt){var q;const a=G;if(M=mn("msgHash",M),d=mn("publicKey",d),"strict"in o)throw new Error("options.strict was renamed to lowS");const{lowS:f,prehash:h}=o;let g,S;try{if(typeof a=="string"||a instanceof Uint8Array)try{g=A.fromDER(a)}catch(it){if(!(it instanceof Oa.Err))throw it;g=A.fromCompact(a)}else{if(typeof a!="object"||typeof a.r!="bigint"||typeof a.s!="bigint")throw new Error("PARSE");{const{r:it,s:at}=a;g=new A(it,at)}}S=p.fromHex(d)}catch(it){if(it.message==="PARSE")throw new Error("signature must be Signature instance, Uint8Array or hex string");return!1}if(f&&g.hasHighS())return!1;h&&(M=t.hash(M));const{r:I,s:y}=g,u=C(M),b=l(y),D=c(u*b),Z=c(I*b),F=(q=p.BASE.multiplyAndAddUnsafe(S,D,Z))==null?void 0:q.toAffine();return!!F&&c(F.x)===I},ProjectivePoint:p,Signature:A,utils:B}}BigInt(4);class rA extends ry{constructor(t,e){super(),this.finished=!1,this.destroyed=!1,function(c){if(typeof c!="function"||typeof c.create!="function")throw new Error("Hash should be wrapped by utils.wrapConstructor");vl(c.outputLen),vl(c.blockLen)}(t);const n=gd(e);if(this.iHash=t.create(),typeof this.iHash.update!="function")throw new Error("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;const s=this.blockLen,i=new Uint8Array(s);i.set(n.length>s?t.create().update(n).digest():n);for(let c=0;c<i.length;c++)i[c]^=54;this.iHash.update(i),this.oHash=t.create();for(let c=0;c<i.length;c++)i[c]^=106;this.oHash.update(i),i.fill(0)}update(t){return uf(this),this.iHash.update(t),this}digestInto(t){uf(this),ey(t,this.outputLen),this.finished=!0,this.iHash.digestInto(t),this.oHash.update(t),this.oHash.digestInto(t),this.destroy()}digest(){const t=new Uint8Array(this.oHash.outputLen);return this.digestInto(t),t}_cloneInto(t){t||(t=Object.create(Object.getPrototypeOf(this),{}));const{oHash:e,iHash:n,finished:s,destroyed:i,blockLen:c,outputLen:l}=this;return t.finished=s,t.destroyed=i,t.blockLen=c,t.outputLen=l,t.oHash=e._cloneInto(t.oHash),t.iHash=n._cloneInto(t.iHash),t}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}}const nA=(r,t,e)=>new rA(r,t).update(e).digest();/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */function Fq(r){return{hash:r,hmac:(t,...e)=>nA(r,t,Ez(...e)),randomBytes:QM}}nA.create=(r,t)=>new rA(r,t);/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const Z5=BigInt("0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffefffffc2f"),W5=BigInt("0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141"),jq=BigInt(1),$2=BigInt(2),G5=(r,t)=>(r+t/$2)/t,H2=fE(Z5,void 0,void 0,{sqrt:function(r){const t=Z5,e=BigInt(3),n=BigInt(6),s=BigInt(11),i=BigInt(22),c=BigInt(23),l=BigInt(44),p=BigInt(88),m=r*r*r%t,v=m*m*r%t,_=en(v,e,t)*v%t,E=en(_,e,t)*v%t,w=en(E,$2,t)*m%t,x=en(w,s,t)*w%t,A=en(x,i,t)*x%t,B=en(A,l,t)*A%t,P=en(B,p,t)*B%t,R=en(P,l,t)*A%t,C=en(R,e,t)*v%t,O=en(C,c,t)*x%t,z=en(O,n,t)*m%t,H=en(z,$2,t);if(!H2.eql(H2.sqr(H),r))throw new Error("Cannot find square root");return H}}),_d=function(r,t){const e=n=>qq({...r,...Fq(n)});return Object.freeze({...e(t),create:e})}({a:BigInt(0),b:BigInt(7),Fp:H2,n:W5,Gx:BigInt("55066263022277343669578718895168534326250603453777594175500187360389116729240"),Gy:BigInt("32670510020758816978083085130507043184471273380659243275938904335757337482424"),h:BigInt(1),lowS:!0,endo:{beta:BigInt("0x7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee"),splitScalar:r=>{const t=W5,e=BigInt("0x3086d221a7d46bcde86c90e49284eb15"),n=-jq*BigInt("0xe4437ed6010e88286f547fa90abfe4c3"),s=BigInt("0x114ca50f7a8e2f3f657c1108d9d44cfd8"),i=e,c=BigInt("0x100000000000000000000000000000000"),l=G5(i*r,t),p=G5(-n*r,t);let m=Kr(r-l*e-p*s,t),v=Kr(-l*n-p*i,t);const _=m>c,E=v>c;if(_&&(m=t-m),E&&(v=t-v),m>c||v>c)throw new Error("splitScalar: Endomorphism failed, k="+r);return{k1neg:_,k1:m,k2neg:E,k2:v}}}},tu);BigInt(0),_d.ProjectivePoint;const Kq=Pf.utils.randomPrivateKey,Y5=()=>{const r=Pf.utils.randomPrivateKey(),t=Ml(r),e=new Uint8Array(64);return e.set(r),e.set(t,32),{publicKey:t,secretKey:e}},Ml=Pf.getPublicKey;function X5(r){try{return Pf.ExtendedPoint.fromHex(r),!0}catch{return!1}}const Ey=(r,t)=>Pf.sign(r,t.slice(0,32)),$q=Pf.verify,nr=r=>Ae.Buffer.isBuffer(r)?r:r instanceof Uint8Array?Ae.Buffer.from(r.buffer,r.byteOffset,r.byteLength):Ae.Buffer.from(r);class V2{constructor(t){Object.assign(this,t)}encode(){return Ae.Buffer.from(fy(Ic,this))}static decode(t){return bE(Ic,this,t)}static decodeUnchecked(t){return mE(Ic,this,t)}}const Ic=new Map;var J5;let iA;const Si=32;let Q5=1;iA=Symbol.toStringTag;class Xt extends V2{constructor(t){if(super({}),this._bn=void 0,function(e){return e._bn!==void 0}(t))this._bn=t._bn;else{if(typeof t=="string"){const e=Ln.decode(t);if(e.length!=Si)throw new Error("Invalid public key input");this._bn=new Jc(e)}else this._bn=new Jc(t);if(this._bn.byteLength()>Si)throw new Error("Invalid public key input")}}static unique(){const t=new Xt(Q5);return Q5+=1,new Xt(t.toBuffer())}equals(t){return this._bn.eq(t._bn)}toBase58(){return Ln.encode(this.toBytes())}toJSON(){return this.toBase58()}toBytes(){const t=this.toBuffer();return new Uint8Array(t.buffer,t.byteOffset,t.byteLength)}toBuffer(){const t=this._bn.toArrayLike(Ae.Buffer);if(t.length===Si)return t;const e=Ae.Buffer.alloc(32);return t.copy(e,32-t.length),e}get[iA](){return`PublicKey(${this.toString()})`}toString(){return this.toBase58()}static async createWithSeed(t,e,n){const s=Ae.Buffer.concat([t.toBuffer(),Ae.Buffer.from(e),n.toBuffer()]),i=tu(s);return new Xt(i)}static createProgramAddressSync(t,e){let n=Ae.Buffer.alloc(0);t.forEach(function(i){if(i.length>32)throw new TypeError("Max seed length exceeded");n=Ae.Buffer.concat([n,nr(i)])}),n=Ae.Buffer.concat([n,e.toBuffer(),Ae.Buffer.from("ProgramDerivedAddress")]);const s=tu(n);if(X5(s))throw new Error("Invalid seeds, address must fall off the curve");return new Xt(s)}static async createProgramAddress(t,e){return this.createProgramAddressSync(t,e)}static findProgramAddressSync(t,e){let n,s=255;for(;s!=0;){try{const i=t.concat(Ae.Buffer.from([s]));n=this.createProgramAddressSync(i,e)}catch(i){if(i instanceof TypeError)throw i;s--;continue}return[n,s]}throw new Error("Unable to find a viable program address nonce")}static async findProgramAddress(t,e){return this.findProgramAddressSync(t,e)}static isOnCurve(t){return X5(new Xt(t).toBytes())}}J5=Xt,Xt.default=new J5("11111111111111111111111111111111"),Ic.set(Xt,{kind:"struct",fields:[["_bn","u256"]]});const Hq=new Xt("BPFLoader1111111111111111111111111111111111"),ju=1232,Md=127,hf=64;class Z2 extends Error{constructor(t){super(`Signature ${t} has expired: block height exceeded.`),this.signature=void 0,this.signature=t}}Object.defineProperty(Z2.prototype,"name",{value:"TransactionExpiredBlockheightExceededError"});class W2 extends Error{constructor(t,e){super(`Transaction was not confirmed in ${e.toFixed(2)} seconds. It is unknown if it succeeded or failed. Check signature ${t} using the Solana Explorer or CLI tools.`),this.signature=void 0,this.signature=t}}Object.defineProperty(W2.prototype,"name",{value:"TransactionExpiredTimeoutError"});class Su extends Error{constructor(t){super(`Signature ${t} has expired: the nonce is no longer valid.`),this.signature=void 0,this.signature=t}}Object.defineProperty(Su.prototype,"name",{value:"TransactionExpiredNonceInvalidError"});class eh{constructor(t,e){this.staticAccountKeys=void 0,this.accountKeysFromLookups=void 0,this.staticAccountKeys=t,this.accountKeysFromLookups=e}keySegments(){const t=[this.staticAccountKeys];return this.accountKeysFromLookups&&(t.push(this.accountKeysFromLookups.writable),t.push(this.accountKeysFromLookups.readonly)),t}get(t){for(const e of this.keySegments()){if(t<e.length)return e[t];t-=e.length}}get length(){return this.keySegments().flat().length}compileInstructions(t){if(this.length>256)throw new Error("Account index overflow encountered during compilation");const e=new Map;this.keySegments().flat().forEach((s,i)=>{e.set(s.toBase58(),i)});const n=s=>{const i=e.get(s.toBase58());if(i===void 0)throw new Error("Encountered an unknown instruction account key during compilation");return i};return t.map(s=>({programIdIndex:n(s.programId),accountKeyIndexes:s.keys.map(i=>n(i.pubkey)),data:s.data}))}}const ar=(r="publicKey")=>Or(32,r),Vq=(r="signature")=>Or(64,r),Ua=(r="string")=>{const t=Ue([Ce("length"),Ce("lengthPadding"),Or(Qs(Ce(),-8),"chars")],r),e=t.decode.bind(t),n=t.encode.bind(t),s=t;return s.decode=(i,c)=>e(i,c).chars.toString(),s.encode=(i,c,l)=>{const p={chars:Ae.Buffer.from(i,"utf8")};return n(p,c,l)},s.alloc=i=>Ce().span+Ce().span+Ae.Buffer.from(i,"utf8").length,s};function oA(r,t){const e=s=>{if(s.span>=0)return s.span;if(typeof s.alloc=="function")return s.alloc(t[s.property]);if("count"in s&&"elementLayout"in s){const i=t[s.property];if(Array.isArray(i))return i.length*e(s.elementLayout)}else if("fields"in s)return oA({layout:s},t[s.property]);return 0};let n=0;return r.layout.fields.forEach(s=>{n+=e(s)}),n}function ti(r){let t=0,e=0;for(;;){let n=r.shift();if(t|=(127&n)<<7*e,e+=1,(128&n)==0)break}return t}function _i(r,t){let e=t;for(;;){let n=127&e;if(e>>=7,e==0){r.push(n);break}n|=128,r.push(n)}}function xr(r,t){if(!r)throw new Error(t||"Assertion failed")}class Ed{constructor(t,e){this.payer=void 0,this.keyMetaMap=void 0,this.payer=t,this.keyMetaMap=e}static compile(t,e){const n=new Map,s=c=>{const l=c.toBase58();let p=n.get(l);return p===void 0&&(p={isSigner:!1,isWritable:!1,isInvoked:!1},n.set(l,p)),p},i=s(e);i.isSigner=!0,i.isWritable=!0;for(const c of t){s(c.programId).isInvoked=!0;for(const l of c.keys){const p=s(l.pubkey);p.isSigner||(p.isSigner=l.isSigner),p.isWritable||(p.isWritable=l.isWritable)}}return new Ed(e,n)}getMessageComponents(){const t=[...this.keyMetaMap.entries()];xr(t.length<=256,"Max static account keys length exceeded");const e=t.filter(([,l])=>l.isSigner&&l.isWritable),n=t.filter(([,l])=>l.isSigner&&!l.isWritable),s=t.filter(([,l])=>!l.isSigner&&l.isWritable),i=t.filter(([,l])=>!l.isSigner&&!l.isWritable),c={numRequiredSignatures:e.length+n.length,numReadonlySignedAccounts:n.length,numReadonlyUnsignedAccounts:i.length};{xr(e.length>0,"Expected at least one writable signer key");const[l]=e[0];xr(l===this.payer.toBase58(),"Expected first writable signer key to be the fee payer")}return[c,[...e.map(([l])=>new Xt(l)),...n.map(([l])=>new Xt(l)),...s.map(([l])=>new Xt(l)),...i.map(([l])=>new Xt(l))]]}extractTableLookup(t){const[e,n]=this.drainKeysFoundInLookupTable(t.state.addresses,c=>!c.isSigner&&!c.isInvoked&&c.isWritable),[s,i]=this.drainKeysFoundInLookupTable(t.state.addresses,c=>!c.isSigner&&!c.isInvoked&&!c.isWritable);if(e.length!==0||s.length!==0)return[{accountKey:t.key,writableIndexes:e,readonlyIndexes:s},{writable:n,readonly:i}]}drainKeysFoundInLookupTable(t,e){const n=new Array,s=new Array;for(const[i,c]of this.keyMetaMap.entries())if(e(c)){const l=new Xt(i),p=t.findIndex(m=>m.equals(l));p>=0&&(xr(p<256,"Max lookup table index exceeded"),n.push(p),s.push(l),this.keyMetaMap.delete(i))}return[n,s]}}class uo{constructor(t){this.header=void 0,this.accountKeys=void 0,this.recentBlockhash=void 0,this.instructions=void 0,this.indexToProgramIds=new Map,this.header=t.header,this.accountKeys=t.accountKeys.map(e=>new Xt(e)),this.recentBlockhash=t.recentBlockhash,this.instructions=t.instructions,this.instructions.forEach(e=>this.indexToProgramIds.set(e.programIdIndex,this.accountKeys[e.programIdIndex]))}get version(){return"legacy"}get staticAccountKeys(){return this.accountKeys}get compiledInstructions(){return this.instructions.map(t=>({programIdIndex:t.programIdIndex,accountKeyIndexes:t.accounts,data:Ln.decode(t.data)}))}get addressTableLookups(){return[]}getAccountKeys(){return new eh(this.staticAccountKeys)}static compile(t){const e=Ed.compile(t.instructions,t.payerKey),[n,s]=e.getMessageComponents(),i=new eh(s).compileInstructions(t.instructions).map(c=>({programIdIndex:c.programIdIndex,accounts:c.accountKeyIndexes,data:Ln.encode(c.data)}));return new uo({header:n,accountKeys:s,recentBlockhash:t.recentBlockhash,instructions:i})}isAccountSigner(t){return t<this.header.numRequiredSignatures}isAccountWritable(t){const e=this.header.numRequiredSignatures;return t>=this.header.numRequiredSignatures?t-e<this.accountKeys.length-e-this.header.numReadonlyUnsignedAccounts:t<e-this.header.numReadonlySignedAccounts}isProgramId(t){return this.indexToProgramIds.has(t)}programIds(){return[...this.indexToProgramIds.values()]}nonProgramIds(){return this.accountKeys.filter((t,e)=>!this.isProgramId(e))}serialize(){const t=this.accountKeys.length;let e=[];_i(e,t);const n=this.instructions.map(_=>{const{accounts:E,programIdIndex:w}=_,x=Array.from(Ln.decode(_.data));let A=[];_i(A,E.length);let B=[];return _i(B,x.length),{programIdIndex:w,keyIndicesCount:Ae.Buffer.from(A),keyIndices:E,dataLength:Ae.Buffer.from(B),data:x}});let s=[];_i(s,n.length);let i=Ae.Buffer.alloc(ju);Ae.Buffer.from(s).copy(i);let c=s.length;n.forEach(_=>{const E=Ue([or("programIdIndex"),Or(_.keyIndicesCount.length,"keyIndicesCount"),On(or("keyIndex"),_.keyIndices.length,"keyIndices"),Or(_.dataLength.length,"dataLength"),On(or("userdatum"),_.data.length,"data")]).encode(_,i,c);c+=E}),i=i.slice(0,c);const l=Ue([Or(1,"numRequiredSignatures"),Or(1,"numReadonlySignedAccounts"),Or(1,"numReadonlyUnsignedAccounts"),Or(e.length,"keyCount"),On(ar("key"),t,"keys"),ar("recentBlockhash")]),p={numRequiredSignatures:Ae.Buffer.from([this.header.numRequiredSignatures]),numReadonlySignedAccounts:Ae.Buffer.from([this.header.numReadonlySignedAccounts]),numReadonlyUnsignedAccounts:Ae.Buffer.from([this.header.numReadonlyUnsignedAccounts]),keyCount:Ae.Buffer.from(e),keys:this.accountKeys.map(_=>nr(_.toBytes())),recentBlockhash:Ln.decode(this.recentBlockhash)};let m=Ae.Buffer.alloc(2048);const v=l.encode(p,m);return i.copy(m,v),m.slice(0,v+i.length)}static from(t){let e=[...t];const n=e.shift();if(n!==(n&Md))throw new Error("Versioned messages must be deserialized with VersionedMessage.deserialize()");const s=e.shift(),i=e.shift(),c=ti(e);let l=[];for(let E=0;E<c;E++){const w=e.slice(0,Si);e=e.slice(Si),l.push(new Xt(Ae.Buffer.from(w)))}const p=e.slice(0,Si);e=e.slice(Si);const m=ti(e);let v=[];for(let E=0;E<m;E++){const w=e.shift(),x=ti(e),A=e.slice(0,x);e=e.slice(x);const B=ti(e),P=e.slice(0,B),R=Ln.encode(Ae.Buffer.from(P));e=e.slice(B),v.push({programIdIndex:w,accounts:A,data:R})}const _={header:{numRequiredSignatures:n,numReadonlySignedAccounts:s,numReadonlyUnsignedAccounts:i},recentBlockhash:Ln.encode(Ae.Buffer.from(p)),accountKeys:l,instructions:v};return new uo(_)}}class eu{constructor(t){this.header=void 0,this.staticAccountKeys=void 0,this.recentBlockhash=void 0,this.compiledInstructions=void 0,this.addressTableLookups=void 0,this.header=t.header,this.staticAccountKeys=t.staticAccountKeys,this.recentBlockhash=t.recentBlockhash,this.compiledInstructions=t.compiledInstructions,this.addressTableLookups=t.addressTableLookups}get version(){return 0}get numAccountKeysFromLookups(){let t=0;for(const e of this.addressTableLookups)t+=e.readonlyIndexes.length+e.writableIndexes.length;return t}getAccountKeys(t){let e;if(t&&"accountKeysFromLookups"in t&&t.accountKeysFromLookups){if(this.numAccountKeysFromLookups!=t.accountKeysFromLookups.writable.length+t.accountKeysFromLookups.readonly.length)throw new Error("Failed to get account keys because of a mismatch in the number of account keys from lookups");e=t.accountKeysFromLookups}else if(t&&"addressLookupTableAccounts"in t&&t.addressLookupTableAccounts)e=this.resolveAddressTableLookups(t.addressLookupTableAccounts);else if(this.addressTableLookups.length>0)throw new Error("Failed to get account keys because address table lookups were not resolved");return new eh(this.staticAccountKeys,e)}isAccountSigner(t){return t<this.header.numRequiredSignatures}isAccountWritable(t){const e=this.header.numRequiredSignatures,n=this.staticAccountKeys.length;if(t>=n){const s=t-n,i=this.addressTableLookups.reduce((c,l)=>c+l.writableIndexes.length,0);return s<i}return t>=this.header.numRequiredSignatures?t-e<n-e-this.header.numReadonlyUnsignedAccounts:t<e-this.header.numReadonlySignedAccounts}resolveAddressTableLookups(t){const e={writable:[],readonly:[]};for(const n of this.addressTableLookups){const s=t.find(i=>i.key.equals(n.accountKey));if(!s)throw new Error(`Failed to find address lookup table account for table key ${n.accountKey.toBase58()}`);for(const i of n.writableIndexes){if(!(i<s.state.addresses.length))throw new Error(`Failed to find address for index ${i} in address lookup table ${n.accountKey.toBase58()}`);e.writable.push(s.state.addresses[i])}for(const i of n.readonlyIndexes){if(!(i<s.state.addresses.length))throw new Error(`Failed to find address for index ${i} in address lookup table ${n.accountKey.toBase58()}`);e.readonly.push(s.state.addresses[i])}}return e}static compile(t){const e=Ed.compile(t.instructions,t.payerKey),n=new Array,s={writable:new Array,readonly:new Array},i=t.addressLookupTableAccounts||[];for(const m of i){const v=e.extractTableLookup(m);if(v!==void 0){const[_,{writable:E,readonly:w}]=v;n.push(_),s.writable.push(...E),s.readonly.push(...w)}}const[c,l]=e.getMessageComponents(),p=new eh(l,s).compileInstructions(t.instructions);return new eu({header:c,staticAccountKeys:l,recentBlockhash:t.recentBlockhash,compiledInstructions:p,addressTableLookups:n})}serialize(){const t=Array();_i(t,this.staticAccountKeys.length);const e=this.serializeInstructions(),n=Array();_i(n,this.compiledInstructions.length);const s=this.serializeAddressTableLookups(),i=Array();_i(i,this.addressTableLookups.length);const c=Ue([or("prefix"),Ue([or("numRequiredSignatures"),or("numReadonlySignedAccounts"),or("numReadonlyUnsignedAccounts")],"header"),Or(t.length,"staticAccountKeysLength"),On(ar(),this.staticAccountKeys.length,"staticAccountKeys"),ar("recentBlockhash"),Or(n.length,"instructionsLength"),Or(e.length,"serializedInstructions"),Or(i.length,"addressTableLookupsLength"),Or(s.length,"serializedAddressTableLookups")]),l=new Uint8Array(ju),p=c.encode({prefix:128,header:this.header,staticAccountKeysLength:new Uint8Array(t),staticAccountKeys:this.staticAccountKeys.map(m=>m.toBytes()),recentBlockhash:Ln.decode(this.recentBlockhash),instructionsLength:new Uint8Array(n),serializedInstructions:e,addressTableLookupsLength:new Uint8Array(i),serializedAddressTableLookups:s},l);return l.slice(0,p)}serializeInstructions(){let t=0;const e=new Uint8Array(ju);for(const n of this.compiledInstructions){const s=Array();_i(s,n.accountKeyIndexes.length);const i=Array();_i(i,n.data.length),t+=Ue([or("programIdIndex"),Or(s.length,"encodedAccountKeyIndexesLength"),On(or(),n.accountKeyIndexes.length,"accountKeyIndexes"),Or(i.length,"encodedDataLength"),Or(n.data.length,"data")]).encode({programIdIndex:n.programIdIndex,encodedAccountKeyIndexesLength:new Uint8Array(s),accountKeyIndexes:n.accountKeyIndexes,encodedDataLength:new Uint8Array(i),data:n.data},e,t)}return e.slice(0,t)}serializeAddressTableLookups(){let t=0;const e=new Uint8Array(ju);for(const n of this.addressTableLookups){const s=Array();_i(s,n.writableIndexes.length);const i=Array();_i(i,n.readonlyIndexes.length),t+=Ue([ar("accountKey"),Or(s.length,"encodedWritableIndexesLength"),On(or(),n.writableIndexes.length,"writableIndexes"),Or(i.length,"encodedReadonlyIndexesLength"),On(or(),n.readonlyIndexes.length,"readonlyIndexes")]).encode({accountKey:n.accountKey.toBytes(),encodedWritableIndexesLength:new Uint8Array(s),writableIndexes:n.writableIndexes,encodedReadonlyIndexesLength:new Uint8Array(i),readonlyIndexes:n.readonlyIndexes},e,t)}return e.slice(0,t)}static deserialize(t){let e=[...t];const n=e.shift(),s=n&Md;xr(n!==s,"Expected versioned message but received legacy message"),xr(s===0,`Expected versioned message with version 0 but found version ${s}`);const i={numRequiredSignatures:e.shift(),numReadonlySignedAccounts:e.shift(),numReadonlyUnsignedAccounts:e.shift()},c=[],l=ti(e);for(let w=0;w<l;w++)c.push(new Xt(e.splice(0,Si)));const p=Ln.encode(e.splice(0,Si)),m=ti(e),v=[];for(let w=0;w<m;w++){const x=e.shift(),A=ti(e),B=e.splice(0,A),P=ti(e),R=new Uint8Array(e.splice(0,P));v.push({programIdIndex:x,accountKeyIndexes:B,data:R})}const _=ti(e),E=[];for(let w=0;w<_;w++){const x=new Xt(e.splice(0,Si)),A=ti(e),B=e.splice(0,A),P=ti(e),R=e.splice(0,P);E.push({accountKey:x,writableIndexes:B,readonlyIndexes:R})}return new eu({header:i,staticAccountKeys:c,recentBlockhash:p,compiledInstructions:v,addressTableLookups:E})}}const Ay={deserializeMessageVersion(r){const t=r[0],e=t&Md;return e===t?"legacy":e},deserialize:r=>{const t=Ay.deserializeMessageVersion(r);if(t==="legacy")return uo.from(r);if(t===0)return eu.deserialize(r);throw new Error(`Transaction message version ${t} deserialization is not supported`)}};let rs=function(r){return r[r.BLOCKHEIGHT_EXCEEDED=0]="BLOCKHEIGHT_EXCEEDED",r[r.PROCESSED=1]="PROCESSED",r[r.TIMED_OUT=2]="TIMED_OUT",r[r.NONCE_INVALID=3]="NONCE_INVALID",r}({});const Zq=Ae.Buffer.alloc(hf).fill(0);class Ir{constructor(t){this.keys=void 0,this.programId=void 0,this.data=Ae.Buffer.alloc(0),this.programId=t.programId,this.keys=t.keys,t.data&&(this.data=t.data)}toJSON(){return{keys:this.keys.map(({pubkey:t,isSigner:e,isWritable:n})=>({pubkey:t.toJSON(),isSigner:e,isWritable:n})),programId:this.programId.toJSON(),data:[...this.data]}}}class wr{get signature(){return this.signatures.length>0?this.signatures[0].signature:null}constructor(t){if(this.signatures=[],this.feePayer=void 0,this.instructions=[],this.recentBlockhash=void 0,this.lastValidBlockHeight=void 0,this.nonceInfo=void 0,this.minNonceContextSlot=void 0,this._message=void 0,this._json=void 0,t)if(t.feePayer&&(this.feePayer=t.feePayer),t.signatures&&(this.signatures=t.signatures),Object.prototype.hasOwnProperty.call(t,"nonceInfo")){const{minContextSlot:e,nonceInfo:n}=t;this.minNonceContextSlot=e,this.nonceInfo=n}else if(Object.prototype.hasOwnProperty.call(t,"lastValidBlockHeight")){const{blockhash:e,lastValidBlockHeight:n}=t;this.recentBlockhash=e,this.lastValidBlockHeight=n}else{const{recentBlockhash:e,nonceInfo:n}=t;n&&(this.nonceInfo=n),this.recentBlockhash=e}}toJSON(){return{recentBlockhash:this.recentBlockhash||null,feePayer:this.feePayer?this.feePayer.toJSON():null,nonceInfo:this.nonceInfo?{nonce:this.nonceInfo.nonce,nonceInstruction:this.nonceInfo.nonceInstruction.toJSON()}:null,instructions:this.instructions.map(t=>t.toJSON()),signers:this.signatures.map(({publicKey:t})=>t.toJSON())}}add(...t){if(t.length===0)throw new Error("No instructions");return t.forEach(e=>{"instructions"in e?this.instructions=this.instructions.concat(e.instructions):"data"in e&&"programId"in e&&"keys"in e?this.instructions.push(e):this.instructions.push(new Ir(e))}),this}compileMessage(){if(this._message&&JSON.stringify(this.toJSON())===JSON.stringify(this._json))return this._message;let t,e,n;if(this.nonceInfo?(t=this.nonceInfo.nonce,e=this.instructions[0]!=this.nonceInfo.nonceInstruction?[this.nonceInfo.nonceInstruction,...this.instructions]:this.instructions):(t=this.recentBlockhash,e=this.instructions),!t)throw new Error("Transaction recentBlockhash required");if(e.length<1&&console.warn("No instructions provided"),this.feePayer)n=this.feePayer;else{if(!(this.signatures.length>0&&this.signatures[0].publicKey))throw new Error("Transaction fee payer required");n=this.signatures[0].publicKey}for(let A=0;A<e.length;A++)if(e[A].programId===void 0)throw new Error(`Transaction instruction index ${A} has undefined program id`);const s=[],i=[];e.forEach(A=>{A.keys.forEach(P=>{i.push({...P})});const B=A.programId.toString();s.includes(B)||s.push(B)}),s.forEach(A=>{i.push({pubkey:new Xt(A),isSigner:!1,isWritable:!1})});const c=[];i.forEach(A=>{const B=A.pubkey.toString(),P=c.findIndex(R=>R.pubkey.toString()===B);P>-1?(c[P].isWritable=c[P].isWritable||A.isWritable,c[P].isSigner=c[P].isSigner||A.isSigner):c.push(A)}),c.sort(function(A,B){return A.isSigner!==B.isSigner?A.isSigner?-1:1:A.isWritable!==B.isWritable?A.isWritable?-1:1:A.pubkey.toBase58().localeCompare(B.pubkey.toBase58(),"en",{localeMatcher:"best fit",usage:"sort",sensitivity:"variant",ignorePunctuation:!1,numeric:!1,caseFirst:"lower"})});const l=c.findIndex(A=>A.pubkey.equals(n));if(l>-1){const[A]=c.splice(l,1);A.isSigner=!0,A.isWritable=!0,c.unshift(A)}else c.unshift({pubkey:n,isSigner:!0,isWritable:!0});for(const A of this.signatures){const B=c.findIndex(P=>P.pubkey.equals(A.publicKey));if(!(B>-1))throw new Error(`unknown signer: ${A.publicKey.toString()}`);c[B].isSigner||(c[B].isSigner=!0,console.warn("Transaction references a signature that is unnecessary, only the fee payer and instruction signer accounts should sign a transaction. This behavior is deprecated and will throw an error in the next major version release."))}let p=0,m=0,v=0;const _=[],E=[];c.forEach(({pubkey:A,isSigner:B,isWritable:P})=>{B?(_.push(A.toString()),p+=1,P||(m+=1)):(E.push(A.toString()),P||(v+=1))});const w=_.concat(E),x=e.map(A=>{const{data:B,programId:P}=A;return{programIdIndex:w.indexOf(P.toString()),accounts:A.keys.map(R=>w.indexOf(R.pubkey.toString())),data:Ln.encode(B)}});return x.forEach(A=>{xr(A.programIdIndex>=0),A.accounts.forEach(B=>xr(B>=0))}),new uo({header:{numRequiredSignatures:p,numReadonlySignedAccounts:m,numReadonlyUnsignedAccounts:v},accountKeys:w,recentBlockhash:t,instructions:x})}_compile(){const t=this.compileMessage(),e=t.accountKeys.slice(0,t.header.numRequiredSignatures);return this.signatures.length===e.length&&this.signatures.every((s,i)=>e[i].equals(s.publicKey))||(this.signatures=e.map(n=>({signature:null,publicKey:n}))),t}serializeMessage(){return this._compile().serialize()}async getEstimatedFee(t){return(await t.getFeeForMessage(this.compileMessage())).value}setSigners(...t){if(t.length===0)throw new Error("No signers");const e=new Set;this.signatures=t.filter(n=>{const s=n.toString();return!e.has(s)&&(e.add(s),!0)}).map(n=>({signature:null,publicKey:n}))}sign(...t){if(t.length===0)throw new Error("No signers");const e=new Set,n=[];for(const i of t){const c=i.publicKey.toString();e.has(c)||(e.add(c),n.push(i))}this.signatures=n.map(i=>({signature:null,publicKey:i.publicKey}));const s=this._compile();this._partialSign(s,...n)}partialSign(...t){if(t.length===0)throw new Error("No signers");const e=new Set,n=[];for(const i of t){const c=i.publicKey.toString();e.has(c)||(e.add(c),n.push(i))}const s=this._compile();this._partialSign(s,...n)}_partialSign(t,...e){const n=t.serialize();e.forEach(s=>{const i=Ey(n,s.secretKey);this._addSignature(s.publicKey,nr(i))})}addSignature(t,e){this._compile(),this._addSignature(t,e)}_addSignature(t,e){xr(e.length===64);const n=this.signatures.findIndex(s=>t.equals(s.publicKey));if(n<0)throw new Error(`unknown signer: ${t.toString()}`);this.signatures[n].signature=Ae.Buffer.from(e)}verifySignatures(t){return this._verifySignatures(this.serializeMessage(),t===void 0||t)}_verifySignatures(t,e){for(const{signature:n,publicKey:s}of this.signatures)if(n===null){if(e)return!1}else if(!$q(n,t,s.toBytes()))return!1;return!0}serialize(t){const{requireAllSignatures:e,verifySignatures:n}=Object.assign({requireAllSignatures:!0,verifySignatures:!0},t),s=this.serializeMessage();if(n&&!this._verifySignatures(s,e))throw new Error("Signature verification failed");return this._serialize(s)}_serialize(t){const{signatures:e}=this,n=[];_i(n,e.length);const s=n.length+64*e.length+t.length,i=Ae.Buffer.alloc(s);return xr(e.length<256),Ae.Buffer.from(n).copy(i,0),e.forEach(({signature:c},l)=>{c!==null&&(xr(c.length===64,"signature has invalid length"),Ae.Buffer.from(c).copy(i,n.length+64*l))}),t.copy(i,n.length+64*e.length),xr(i.length<=ju,`Transaction too large: ${i.length} > 1232`),i}get keys(){return xr(this.instructions.length===1),this.instructions[0].keys.map(t=>t.pubkey)}get programId(){return xr(this.instructions.length===1),this.instructions[0].programId}get data(){return xr(this.instructions.length===1),this.instructions[0].data}static from(t){let e=[...t];const n=ti(e);let s=[];for(let i=0;i<n;i++){const c=e.slice(0,hf);e=e.slice(hf),s.push(Ln.encode(Ae.Buffer.from(c)))}return wr.populate(uo.from(e),s)}static populate(t,e=[]){const n=new wr;return n.recentBlockhash=t.recentBlockhash,t.header.numRequiredSignatures>0&&(n.feePayer=t.accountKeys[0]),e.forEach((s,i)=>{const c={signature:s==Ln.encode(Zq)?null:Ln.decode(s),publicKey:t.accountKeys[i]};n.signatures.push(c)}),t.instructions.forEach(s=>{const i=s.accounts.map(c=>{const l=t.accountKeys[c];return{pubkey:l,isSigner:n.signatures.some(p=>p.publicKey.toString()===l.toString())||t.isAccountSigner(c),isWritable:t.isAccountWritable(c)}});n.instructions.push(new Ir({keys:i,programId:t.accountKeys[s.programIdIndex],data:Ln.decode(s.data)}))}),n._message=t,n._json=n.toJSON(),n}}class Sy{constructor(t){this.payerKey=void 0,this.instructions=void 0,this.recentBlockhash=void 0,this.payerKey=t.payerKey,this.instructions=t.instructions,this.recentBlockhash=t.recentBlockhash}static decompile(t,e){const{header:n,compiledInstructions:s,recentBlockhash:i}=t,{numRequiredSignatures:c,numReadonlySignedAccounts:l,numReadonlyUnsignedAccounts:p}=n,m=c-l;xr(m>0,"Message header is invalid");const v=t.staticAccountKeys.length-c-p;xr(v>=0,"Message header is invalid");const _=t.getAccountKeys(e),E=_.get(0);if(E===void 0)throw new Error("Failed to decompile message because no account keys were found");const w=[];for(const x of s){const A=[];for(const P of x.accountKeyIndexes){const R=_.get(P);if(R===void 0)throw new Error(`Failed to find key for account key index ${P}`);let C;C=P<c?P<m:P<_.staticAccountKeys.length?P-c<v:P-_.staticAccountKeys.length<_.accountKeysFromLookups.writable.length,A.push({pubkey:R,isSigner:P<n.numRequiredSignatures,isWritable:C})}const B=_.get(x.programIdIndex);if(B===void 0)throw new Error(`Failed to find program id for program id index ${x.programIdIndex}`);w.push(new Ir({programId:B,data:nr(x.data),keys:A}))}return new Sy({payerKey:E,instructions:w,recentBlockhash:i})}compileToLegacyMessage(){return uo.compile({payerKey:this.payerKey,recentBlockhash:this.recentBlockhash,instructions:this.instructions})}compileToV0Message(t){return eu.compile({payerKey:this.payerKey,recentBlockhash:this.recentBlockhash,instructions:this.instructions,addressLookupTableAccounts:t})}}class ky{get version(){return this.message.version}constructor(t,e){if(this.signatures=void 0,this.message=void 0,e!==void 0)xr(e.length===t.header.numRequiredSignatures,"Expected signatures length to be equal to the number of required signatures"),this.signatures=e;else{const n=[];for(let s=0;s<t.header.numRequiredSignatures;s++)n.push(new Uint8Array(hf));this.signatures=n}this.message=t}serialize(){const t=this.message.serialize(),e=Array();_i(e,this.signatures.length);const n=Ue([Or(e.length,"encodedSignaturesLength"),On(Vq(),this.signatures.length,"signatures"),Or(t.length,"serializedMessage")]),s=new Uint8Array(2048),i=n.encode({encodedSignaturesLength:new Uint8Array(e),signatures:this.signatures,serializedMessage:t},s);return s.slice(0,i)}static deserialize(t){let e=[...t];const n=[],s=ti(e);for(let c=0;c<s;c++)n.push(new Uint8Array(e.splice(0,hf)));const i=Ay.deserialize(new Uint8Array(e));return new ky(i,n)}sign(t){const e=this.message.serialize(),n=this.message.staticAccountKeys.slice(0,this.message.header.numRequiredSignatures);for(const s of t){const i=n.findIndex(c=>c.equals(s.publicKey));xr(i>=0,`Cannot sign with non signer key ${s.publicKey.toBase58()}`),this.signatures[i]=Ey(e,s.secretKey)}}addSignature(t,e){xr(e.byteLength===64,"Signature must be 64 bytes long");const n=this.message.staticAccountKeys.slice(0,this.message.header.numRequiredSignatures).findIndex(s=>s.equals(t));xr(n>=0,`Can not add signature; \`${t.toBase58()}\` is not required to sign this transaction`),this.signatures[n]=e}}const oo=new Xt("SysvarC1ock11111111111111111111111111111111"),Wq=new Xt("SysvarEpochSchedu1e111111111111111111111111"),Gq=new Xt("Sysvar1nstructions1111111111111111111111111"),J0=new Xt("SysvarRecentB1ockHashes11111111111111111111"),na=new Xt("SysvarRent111111111111111111111111111111111"),Yq=new Xt("SysvarRewards111111111111111111111111111111"),Xq=new Xt("SysvarS1otHashes111111111111111111111111111"),Jq=new Xt("SysvarS1otHistory11111111111111111111111111"),Q0=new Xt("SysvarStakeHistory1111111111111111111111111");async function G2(r,t,e,n){const s=n&&{skipPreflight:n.skipPreflight,preflightCommitment:n.preflightCommitment||n.commitment,maxRetries:n.maxRetries,minContextSlot:n.minContextSlot},i=await r.sendTransaction(t,e,s);let c;if(t.recentBlockhash!=null&&t.lastValidBlockHeight!=null)c=(await r.confirmTransaction({abortSignal:n==null?void 0:n.abortSignal,signature:i,blockhash:t.recentBlockhash,lastValidBlockHeight:t.lastValidBlockHeight},n&&n.commitment)).value;else if(t.minNonceContextSlot!=null&&t.nonceInfo!=null){const{nonceInstruction:l}=t.nonceInfo,p=l.keys[0].pubkey;c=(await r.confirmTransaction({abortSignal:n==null?void 0:n.abortSignal,minContextSlot:t.minNonceContextSlot,nonceAccountPubkey:p,nonceValue:t.nonceInfo.nonce,signature:i},n&&n.commitment)).value}else(n==null?void 0:n.abortSignal)!=null&&console.warn("sendAndConfirmTransaction(): A transaction with a deprecated confirmation strategy was supplied along with an `abortSignal`. Only transactions having `lastValidBlockHeight` or a combination of `nonceInfo` and `minNonceContextSlot` are abortable."),c=(await r.confirmTransaction(i,n&&n.commitment)).value;if(c.err)throw new Error(`Transaction ${i} failed (${JSON.stringify(c)})`);return i}function xa(r){return new Promise(t=>setTimeout(t,r))}function gr(r,t){const e=r.layout.span>=0?r.layout.span:oA(r,t),n=Ae.Buffer.alloc(e),s=Object.assign({instruction:r.index},t);return r.layout.encode(s,n),n}function Br(r,t){let e;try{e=r.layout.decode(t)}catch(n){throw new Error("invalid instruction; "+n)}if(e.instruction!==r.index)throw new Error(`invalid instruction; instruction index mismatch ${e.instruction} != ${r.index}`);return e}const sA=In("lamportsPerSignature"),aA=Ue([Ce("version"),Ce("state"),ar("authorizedPubkey"),ar("nonce"),Ue([sA],"feeCalculator")]),rh=aA.span;class El{constructor(t){this.authorizedPubkey=void 0,this.nonce=void 0,this.feeCalculator=void 0,this.authorizedPubkey=t.authorizedPubkey,this.nonce=t.nonce,this.feeCalculator=t.feeCalculator}static fromAccountData(t){const e=aA.decode(nr(t),0);return new El({authorizedPubkey:new Xt(e.authorizedPubkey),nonce:new Xt(e.nonce).toString(),feeCalculator:e.feeCalculator})}}const lf=(Wp=8,r=>{const t=Or(Wp,r),{encode:e,decode:n}=(i=>({decode:i.decode.bind(i),encode:i.encode.bind(i)}))(t),s=t;return s.decode=(i,c)=>{const l=n(i,c);return NE(Ae.Buffer.from(l))},s.encode=(i,c,l)=>{const p=yy(i,Wp);return e(p,c,l)},s});var Wp;const Ur=Object.freeze({Create:{index:0,layout:Ue([Ce("instruction"),xi("lamports"),xi("space"),ar("programId")])},Assign:{index:1,layout:Ue([Ce("instruction"),ar("programId")])},Transfer:{index:2,layout:Ue([Ce("instruction"),lf("lamports")])},CreateWithSeed:{index:3,layout:Ue([Ce("instruction"),ar("base"),Ua("seed"),xi("lamports"),xi("space"),ar("programId")])},AdvanceNonceAccount:{index:4,layout:Ue([Ce("instruction")])},WithdrawNonceAccount:{index:5,layout:Ue([Ce("instruction"),xi("lamports")])},InitializeNonceAccount:{index:6,layout:Ue([Ce("instruction"),ar("authorized")])},AuthorizeNonceAccount:{index:7,layout:Ue([Ce("instruction"),ar("authorized")])},Allocate:{index:8,layout:Ue([Ce("instruction"),xi("space")])},AllocateWithSeed:{index:9,layout:Ue([Ce("instruction"),ar("base"),Ua("seed"),xi("space"),ar("programId")])},AssignWithSeed:{index:10,layout:Ue([Ce("instruction"),ar("base"),Ua("seed"),ar("programId")])},TransferWithSeed:{index:11,layout:Ue([Ce("instruction"),lf("lamports"),Ua("seed"),ar("programId")])},UpgradeNonceAccount:{index:12,layout:Ue([Ce("instruction")])}});class an{constructor(){}static createAccount(t){const e=gr(Ur.Create,{lamports:t.lamports,space:t.space,programId:nr(t.programId.toBuffer())});return new Ir({keys:[{pubkey:t.fromPubkey,isSigner:!0,isWritable:!0},{pubkey:t.newAccountPubkey,isSigner:!0,isWritable:!0}],programId:this.programId,data:e})}static transfer(t){let e,n;return"basePubkey"in t?(e=gr(Ur.TransferWithSeed,{lamports:BigInt(t.lamports),seed:t.seed,programId:nr(t.programId.toBuffer())}),n=[{pubkey:t.fromPubkey,isSigner:!1,isWritable:!0},{pubkey:t.basePubkey,isSigner:!0,isWritable:!1},{pubkey:t.toPubkey,isSigner:!1,isWritable:!0}]):(e=gr(Ur.Transfer,{lamports:BigInt(t.lamports)}),n=[{pubkey:t.fromPubkey,isSigner:!0,isWritable:!0},{pubkey:t.toPubkey,isSigner:!1,isWritable:!0}]),new Ir({keys:n,programId:this.programId,data:e})}static assign(t){let e,n;return"basePubkey"in t?(e=gr(Ur.AssignWithSeed,{base:nr(t.basePubkey.toBuffer()),seed:t.seed,programId:nr(t.programId.toBuffer())}),n=[{pubkey:t.accountPubkey,isSigner:!1,isWritable:!0},{pubkey:t.basePubkey,isSigner:!0,isWritable:!1}]):(e=gr(Ur.Assign,{programId:nr(t.programId.toBuffer())}),n=[{pubkey:t.accountPubkey,isSigner:!0,isWritable:!0}]),new Ir({keys:n,programId:this.programId,data:e})}static createAccountWithSeed(t){const e=gr(Ur.CreateWithSeed,{base:nr(t.basePubkey.toBuffer()),seed:t.seed,lamports:t.lamports,space:t.space,programId:nr(t.programId.toBuffer())});let n=[{pubkey:t.fromPubkey,isSigner:!0,isWritable:!0},{pubkey:t.newAccountPubkey,isSigner:!1,isWritable:!0}];return t.basePubkey!=t.fromPubkey&&n.push({pubkey:t.basePubkey,isSigner:!0,isWritable:!1}),new Ir({keys:n,programId:this.programId,data:e})}static createNonceAccount(t){const e=new wr;"basePubkey"in t&&"seed"in t?e.add(an.createAccountWithSeed({fromPubkey:t.fromPubkey,newAccountPubkey:t.noncePubkey,basePubkey:t.basePubkey,seed:t.seed,lamports:t.lamports,space:rh,programId:this.programId})):e.add(an.createAccount({fromPubkey:t.fromPubkey,newAccountPubkey:t.noncePubkey,lamports:t.lamports,space:rh,programId:this.programId}));const n={noncePubkey:t.noncePubkey,authorizedPubkey:t.authorizedPubkey};return e.add(this.nonceInitialize(n)),e}static nonceInitialize(t){const e=gr(Ur.InitializeNonceAccount,{authorized:nr(t.authorizedPubkey.toBuffer())}),n={keys:[{pubkey:t.noncePubkey,isSigner:!1,isWritable:!0},{pubkey:J0,isSigner:!1,isWritable:!1},{pubkey:na,isSigner:!1,isWritable:!1}],programId:this.programId,data:e};return new Ir(n)}static nonceAdvance(t){const e=gr(Ur.AdvanceNonceAccount),n={keys:[{pubkey:t.noncePubkey,isSigner:!1,isWritable:!0},{pubkey:J0,isSigner:!1,isWritable:!1},{pubkey:t.authorizedPubkey,isSigner:!0,isWritable:!1}],programId:this.programId,data:e};return new Ir(n)}static nonceWithdraw(t){const e=gr(Ur.WithdrawNonceAccount,{lamports:t.lamports});return new Ir({keys:[{pubkey:t.noncePubkey,isSigner:!1,isWritable:!0},{pubkey:t.toPubkey,isSigner:!1,isWritable:!0},{pubkey:J0,isSigner:!1,isWritable:!1},{pubkey:na,isSigner:!1,isWritable:!1},{pubkey:t.authorizedPubkey,isSigner:!0,isWritable:!1}],programId:this.programId,data:e})}static nonceAuthorize(t){const e=gr(Ur.AuthorizeNonceAccount,{authorized:nr(t.newAuthorizedPubkey.toBuffer())});return new Ir({keys:[{pubkey:t.noncePubkey,isSigner:!1,isWritable:!0},{pubkey:t.authorizedPubkey,isSigner:!0,isWritable:!1}],programId:this.programId,data:e})}static allocate(t){let e,n;return"basePubkey"in t?(e=gr(Ur.AllocateWithSeed,{base:nr(t.basePubkey.toBuffer()),seed:t.seed,space:t.space,programId:nr(t.programId.toBuffer())}),n=[{pubkey:t.accountPubkey,isSigner:!1,isWritable:!0},{pubkey:t.basePubkey,isSigner:!0,isWritable:!1}]):(e=gr(Ur.Allocate,{space:t.space}),n=[{pubkey:t.accountPubkey,isSigner:!0,isWritable:!0}]),new Ir({keys:n,programId:this.programId,data:e})}}an.programId=new Xt("11111111111111111111111111111111");class ja{constructor(){}static getMinNumSignatures(t){return 2*(Math.ceil(t/ja.chunkSize)+1+1)}static async load(t,e,n,s,i){{const _=await t.getMinimumBalanceForRentExemption(i.length),E=await t.getAccountInfo(n.publicKey,"confirmed");let w=null;if(E!==null){if(E.executable)return console.error("Program load failed, account is already executable"),!1;E.data.length!==i.length&&(w=w||new wr,w.add(an.allocate({accountPubkey:n.publicKey,space:i.length}))),E.owner.equals(s)||(w=w||new wr,w.add(an.assign({accountPubkey:n.publicKey,programId:s}))),E.lamports<_&&(w=w||new wr,w.add(an.transfer({fromPubkey:e.publicKey,toPubkey:n.publicKey,lamports:_-E.lamports})))}else w=new wr().add(an.createAccount({fromPubkey:e.publicKey,newAccountPubkey:n.publicKey,lamports:_>0?_:1,space:i.length,programId:s}));w!==null&&await G2(t,w,[e,n],{commitment:"confirmed"})}const c=Ue([Ce("instruction"),Ce("offset"),Ce("bytesLength"),Ce("bytesLengthPadding"),On(or("byte"),Qs(Ce(),-8),"bytes")]),l=ja.chunkSize;let p=0,m=i,v=[];for(;m.length>0;){const _=m.slice(0,l),E=Ae.Buffer.alloc(l+16);c.encode({instruction:0,offset:p,bytes:_,bytesLength:0,bytesLengthPadding:0},E);const w=new wr().add({keys:[{pubkey:n.publicKey,isSigner:!0,isWritable:!0}],programId:s,data:E});v.push(G2(t,w,[e,n],{commitment:"confirmed"})),t._rpcEndpoint.includes("solana.com")&&await xa(1e3/4),p+=l,m=m.slice(l)}await Promise.all(v);{const _=Ue([Ce("instruction")]),E=Ae.Buffer.alloc(_.span);_.encode({instruction:1},E);const w=new wr().add({keys:[{pubkey:n.publicKey,isSigner:!0,isWritable:!0},{pubkey:na,isSigner:!1,isWritable:!1}],programId:s,data:E}),x="processed",A=await t.sendTransaction(w,[e,n],{preflightCommitment:x}),{context:B,value:P}=await t.confirmTransaction({signature:A,lastValidBlockHeight:w.lastValidBlockHeight,blockhash:w.recentBlockhash},x);if(P.err)throw new Error(`Transaction ${A} failed (${JSON.stringify(P)})`);for(;;){try{if(await t.getSlot({commitment:x})>B.slot)break}catch{}await new Promise(R=>setTimeout(R,Math.round(200)))}}return!0}}ja.chunkSize=932;const Qq=new Xt("BPFLoader2111111111111111111111111111111111");function tF(r){return r&&r.__esModule&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r}var eF=Object.prototype.toString,rF=Object.keys||function(r){var t=[];for(var e in r)t.push(e);return t};function Mc(r,t){var e,n,s,i,c,l,p;if(r===!0)return"true";if(r===!1)return"false";switch(typeof r){case"object":if(r===null)return null;if(r.toJSON&&typeof r.toJSON=="function")return Mc(r.toJSON(),t);if((p=eF.call(r))==="[object Array]"){for(s="[",n=r.length-1,e=0;e<n;e++)s+=Mc(r[e],!0)+",";return n>-1&&(s+=Mc(r[e],!0)),s+"]"}if(p==="[object Object]"){for(n=(i=rF(r).sort()).length,s="",e=0;e<n;)(l=Mc(r[c=i[e]],!1))!==void 0&&(s&&(s+=","),s+=JSON.stringify(c)+":"+l),e++;return"{"+s+"}"}return JSON.stringify(r);case"function":case"undefined":return t?null:void 0;case"string":return JSON.stringify(r);default:return isFinite(r)?r:null}}var t4=tF(function(r){var t=Mc(r,!1);if(t!==void 0)return""+t});function Gp(r){let t=0;for(;r>1;)r/=2,t++;return t}class e4{constructor(t,e,n,s,i){this.slotsPerEpoch=void 0,this.leaderScheduleSlotOffset=void 0,this.warmup=void 0,this.firstNormalEpoch=void 0,this.firstNormalSlot=void 0,this.slotsPerEpoch=t,this.leaderScheduleSlotOffset=e,this.warmup=n,this.firstNormalEpoch=s,this.firstNormalSlot=i}getEpoch(t){return this.getEpochAndSlotIndex(t)[0]}getEpochAndSlotIndex(t){if(t<this.firstNormalSlot){const e=Gp(function(n){return n===0?1:(n--,n|=n>>1,n|=n>>2,n|=n>>4,n|=n>>8,n|=n>>16,1+(n|=n>>32))}(t+32+1))-Gp(32)-1;return[e,t-(this.getSlotsInEpoch(e)-32)]}{const e=t-this.firstNormalSlot,n=Math.floor(e/this.slotsPerEpoch);return[this.firstNormalEpoch+n,e%this.slotsPerEpoch]}}getFirstSlotInEpoch(t){return t<=this.firstNormalEpoch?32*(Math.pow(2,t)-1):(t-this.firstNormalEpoch)*this.slotsPerEpoch+this.firstNormalSlot}getLastSlotInEpoch(t){return this.getFirstSlotInEpoch(t)+this.getSlotsInEpoch(t)-1}getSlotsInEpoch(t){return t<this.firstNormalEpoch?Math.pow(2,t+Gp(32)):this.slotsPerEpoch}}class Ku extends Error{constructor(t,e){super(t),this.logs=void 0,this.logs=e}}class De extends Error{constructor({code:t,message:e,data:n},s){super(s!=null?`${s}: ${e}`:e),this.code=void 0,this.data=void 0,this.code=t,this.data=n,this.name="SolanaJSONRPCError"}}var nF=globalThis.fetch;class iF extends Iq{constructor(t,e,n){super(s=>{const i=Bq(s,{autoconnect:!0,max_reconnects:5,reconnect:!0,reconnect_interval:1e3,...e});return this.underlyingSocket="socket"in i?i.socket:i,i},t,e,n),this.underlyingSocket=void 0}call(...t){var n;const e=(n=this.underlyingSocket)==null?void 0:n.readyState;return e===1?super.call(...t):Promise.reject(new Error("Tried to call a JSON-RPC method `"+t[0]+"` but the socket was not `CONNECTING` or `OPEN` (`readyState` was "+e+")"))}notify(...t){var n;const e=(n=this.underlyingSocket)==null?void 0:n.readyState;return e===1?super.notify(...t):Promise.reject(new Error("Tried to send a JSON-RPC notification `"+t[0]+"` but the socket was not `CONNECTING` or `OPEN` (`readyState` was "+e+")"))}}class Yp{constructor(t){this.key=void 0,this.state=void 0,this.key=t.key,this.state=t.state}isActive(){const t=BigInt("0xffffffffffffffff");return this.state.deactivationSlot===t}static deserialize(t){const e=function(c,l){let p;try{p=c.layout.decode(l)}catch(m){throw new Error("invalid instruction; "+m)}if(p.typeIndex!==c.index)throw new Error(`invalid account data; account type mismatch ${p.typeIndex} != ${c.index}`);return p}(oF,t),n=t.length-56;xr(n>=0,"lookup table is invalid"),xr(n%32==0,"lookup table is invalid");const s=n/32,{addresses:i}=Ue([On(ar(),s,"addresses")]).decode(t.slice(56));return{deactivationSlot:e.deactivationSlot,lastExtendedSlot:e.lastExtendedSlot,lastExtendedSlotStartIndex:e.lastExtendedStartIndex,authority:e.authority.length!==0?new Xt(e.authority[0]):void 0,addresses:i.map(c=>new Xt(c))}}}const oF={index:1,layout:Ue([Ce("typeIndex"),lf("deactivationSlot"),In("lastExtendedSlot"),or("lastExtendedStartIndex"),or(),On(ar(),Qs(or(),-1),"authority")])},sF=/^[^:]+:\/\/([^:[]+|\[[^\]]+\])(:\d+)?(.*)/i,hn=Dh(wy(Xt),_e(),r=>new Xt(r)),uA=xy([_e(),Wr("base64")]),Iy=Dh(wy(Ae.Buffer),uA,r=>Ae.Buffer.from(r[0],"base64"));function Fr(r){let t,e;if(typeof r=="string")t=r;else if(r){const{commitment:n,...s}=r;t=n,e=s}return{commitment:t,config:e}}function fA(r){return ci([we({jsonrpc:Wr("2.0"),id:_e(),result:r}),we({jsonrpc:Wr("2.0"),id:_e(),error:we({code:Nh(),message:_e(),data:Ve(uu("any",()=>!0))})})])}const aF=fA(Nh());function rr(r){return Dh(fA(r),aF,t=>"error"in t?t:{...t,result:Ee(t.result,r)})}function nn(r){return rr(we({context:we({slot:jt()}),value:r}))}function Ad(r){return we({context:we({slot:jt()}),value:r})}function Xp(r,t){return r===0?new eu({header:t.header,staticAccountKeys:t.accountKeys.map(e=>new Xt(e)),recentBlockhash:t.recentBlockhash,compiledInstructions:t.instructions.map(e=>({programIdIndex:e.programIdIndex,accountKeyIndexes:e.accounts,data:Ln.decode(e.data)})),addressTableLookups:t.addressTableLookups}):new uo(t)}const uF=we({foundation:jt(),foundationTerm:jt(),initial:jt(),taper:jt(),terminal:jt()}),fF=rr(Ie(ke(we({epoch:jt(),effectiveSlot:jt(),amount:jt(),postBalance:jt(),commission:Ve(ke(jt()))})))),cF=Ie(we({slot:jt(),prioritizationFee:jt()})),hF=we({total:jt(),validator:jt(),foundation:jt(),epoch:jt()}),lF=we({epoch:jt(),slotIndex:jt(),slotsInEpoch:jt(),absoluteSlot:jt(),blockHeight:Ve(jt()),transactionCount:Ve(jt())}),dF=we({slotsPerEpoch:jt(),leaderScheduleSlotOffset:jt(),warmup:Go(),firstNormalEpoch:jt(),firstNormalSlot:jt()}),pF=qE(_e(),Ie(jt())),fu=ke(ci([we({}),_e()])),mF=we({err:fu}),vF=Wr("receivedSignature"),gF=we({"solana-core":_e(),"feature-set":Ve(jt())}),r4=nn(we({err:ke(ci([we({}),_e()])),logs:ke(Ie(_e())),accounts:Ve(ke(Ie(ke(we({executable:Go(),owner:_e(),lamports:jt(),data:Ie(_e()),rentEpoch:Ve(jt())}))))),unitsConsumed:Ve(jt()),returnData:Ve(ke(we({programId:_e(),data:xy([_e(),Wr("base64")])})))})),yF=nn(we({byIdentity:qE(_e(),Ie(jt())),range:we({firstSlot:jt(),lastSlot:jt()})})),bF=rr(uF),wF=rr(hF),xF=rr(cF),_F=rr(lF),MF=rr(dF),EF=rr(pF),AF=rr(jt()),SF=nn(we({total:jt(),circulating:jt(),nonCirculating:jt(),nonCirculatingAccounts:Ie(hn)})),Y2=we({amount:_e(),uiAmount:ke(jt()),decimals:jt(),uiAmountString:Ve(_e())}),kF=nn(Ie(we({address:hn,amount:_e(),uiAmount:ke(jt()),decimals:jt(),uiAmountString:Ve(_e())}))),IF=nn(Ie(we({pubkey:hn,account:we({executable:Go(),owner:hn,lamports:jt(),data:Iy,rentEpoch:jt()})}))),X2=we({program:_e(),parsed:Nh(),space:jt()}),BF=nn(Ie(we({pubkey:hn,account:we({executable:Go(),owner:hn,lamports:jt(),data:X2,rentEpoch:jt()})}))),PF=nn(Ie(we({lamports:jt(),address:hn}))),nh=we({executable:Go(),owner:hn,lamports:jt(),data:Iy,rentEpoch:jt()}),RF=we({pubkey:hn,account:nh}),CF=Dh(ci([wy(Ae.Buffer),X2]),ci([uA,X2]),r=>Array.isArray(r)?Ee(r,Iy):r),J2=we({executable:Go(),owner:hn,lamports:jt(),data:CF,rentEpoch:jt()}),TF=we({pubkey:hn,account:J2}),LF=we({state:ci([Wr("active"),Wr("inactive"),Wr("activating"),Wr("deactivating")]),active:jt(),inactive:jt()}),OF=rr(Ie(we({signature:_e(),slot:jt(),err:fu,memo:ke(_e()),blockTime:Ve(ke(jt()))}))),UF=rr(Ie(we({signature:_e(),slot:jt(),err:fu,memo:ke(_e()),blockTime:Ve(ke(jt()))}))),NF=we({subscription:jt(),result:Ad(nh)}),DF=we({pubkey:hn,account:nh}),zF=we({subscription:jt(),result:Ad(DF)}),qF=we({parent:jt(),slot:jt(),root:jt()}),FF=we({subscription:jt(),result:qF}),jF=ci([we({type:ci([Wr("firstShredReceived"),Wr("completed"),Wr("optimisticConfirmation"),Wr("root")]),slot:jt(),timestamp:jt()}),we({type:Wr("createdBank"),parent:jt(),slot:jt(),timestamp:jt()}),we({type:Wr("frozen"),slot:jt(),timestamp:jt(),stats:we({numTransactionEntries:jt(),numSuccessfulTransactions:jt(),numFailedTransactions:jt(),maxTransactionsPerEntry:jt()})}),we({type:Wr("dead"),slot:jt(),timestamp:jt(),err:_e()})]),KF=we({subscription:jt(),result:jF}),$F=we({subscription:jt(),result:Ad(ci([mF,vF]))}),HF=we({subscription:jt(),result:jt()}),VF=we({pubkey:_e(),gossip:ke(_e()),tpu:ke(_e()),rpc:ke(_e()),version:ke(_e())}),n4=we({votePubkey:_e(),nodePubkey:_e(),activatedStake:jt(),epochVoteAccount:Go(),epochCredits:Ie(xy([jt(),jt(),jt()])),commission:jt(),lastVote:jt(),rootSlot:ke(jt())}),ZF=rr(we({current:Ie(n4),delinquent:Ie(n4)})),WF=ci([Wr("processed"),Wr("confirmed"),Wr("finalized")]),GF=we({slot:jt(),confirmations:ke(jt()),err:fu,confirmationStatus:Ve(WF)}),YF=nn(Ie(ke(GF))),XF=rr(jt()),cA=we({accountKey:hn,writableIndexes:Ie(jt()),readonlyIndexes:Ie(jt())}),By=we({signatures:Ie(_e()),message:we({accountKeys:Ie(_e()),header:we({numRequiredSignatures:jt(),numReadonlySignedAccounts:jt(),numReadonlyUnsignedAccounts:jt()}),instructions:Ie(we({accounts:Ie(jt()),data:_e(),programIdIndex:jt()})),recentBlockhash:_e(),addressTableLookups:Ve(Ie(cA))})}),hA=we({pubkey:hn,signer:Go(),writable:Go(),source:Ve(ci([Wr("transaction"),Wr("lookupTable")]))}),lA=we({accountKeys:Ie(hA),signatures:Ie(_e())}),i4=we({parsed:Nh(),program:_e(),programId:hn}),o4=we({accounts:Ie(hn),data:_e(),programId:hn}),dA=Dh(ci([o4,i4]),ci([we({parsed:Nh(),program:_e(),programId:_e()}),we({accounts:Ie(_e()),data:_e(),programId:_e()})]),r=>Ee(r,"accounts"in r?o4:i4)),pA=we({signatures:Ie(_e()),message:we({accountKeys:Ie(hA),instructions:Ie(dA),recentBlockhash:_e(),addressTableLookups:Ve(ke(Ie(cA)))})}),Al=we({accountIndex:jt(),mint:_e(),owner:Ve(_e()),uiTokenAmount:Y2}),mA=we({writable:Ie(hn),readonly:Ie(hn)}),Sd=we({err:fu,fee:jt(),innerInstructions:Ve(ke(Ie(we({index:jt(),instructions:Ie(we({accounts:Ie(jt()),data:_e(),programIdIndex:jt()}))})))),preBalances:Ie(jt()),postBalances:Ie(jt()),logMessages:Ve(ke(Ie(_e()))),preTokenBalances:Ve(ke(Ie(Al))),postTokenBalances:Ve(ke(Ie(Al))),loadedAddresses:Ve(mA),computeUnitsConsumed:Ve(jt())}),Py=we({err:fu,fee:jt(),innerInstructions:Ve(ke(Ie(we({index:jt(),instructions:Ie(dA)})))),preBalances:Ie(jt()),postBalances:Ie(jt()),logMessages:Ve(ke(Ie(_e()))),preTokenBalances:Ve(ke(Ie(Al))),postTokenBalances:Ve(ke(Ie(Al))),loadedAddresses:Ve(mA),computeUnitsConsumed:Ve(jt())}),Cf=ci([Wr(0),Wr("legacy")]),cu=we({pubkey:_e(),lamports:jt(),postBalance:ke(jt()),rewardType:ke(_e()),commission:Ve(ke(jt()))}),JF=rr(ke(we({blockhash:_e(),previousBlockhash:_e(),parentSlot:jt(),transactions:Ie(we({transaction:By,meta:ke(Sd),version:Ve(Cf)})),rewards:Ve(Ie(cu)),blockTime:ke(jt()),blockHeight:ke(jt())}))),QF=rr(ke(we({blockhash:_e(),previousBlockhash:_e(),parentSlot:jt(),rewards:Ve(Ie(cu)),blockTime:ke(jt()),blockHeight:ke(jt())}))),tj=rr(ke(we({blockhash:_e(),previousBlockhash:_e(),parentSlot:jt(),transactions:Ie(we({transaction:lA,meta:ke(Sd),version:Ve(Cf)})),rewards:Ve(Ie(cu)),blockTime:ke(jt()),blockHeight:ke(jt())}))),ej=rr(ke(we({blockhash:_e(),previousBlockhash:_e(),parentSlot:jt(),transactions:Ie(we({transaction:pA,meta:ke(Py),version:Ve(Cf)})),rewards:Ve(Ie(cu)),blockTime:ke(jt()),blockHeight:ke(jt())}))),rj=rr(ke(we({blockhash:_e(),previousBlockhash:_e(),parentSlot:jt(),transactions:Ie(we({transaction:lA,meta:ke(Py),version:Ve(Cf)})),rewards:Ve(Ie(cu)),blockTime:ke(jt()),blockHeight:ke(jt())}))),nj=rr(ke(we({blockhash:_e(),previousBlockhash:_e(),parentSlot:jt(),rewards:Ve(Ie(cu)),blockTime:ke(jt()),blockHeight:ke(jt())}))),ij=rr(ke(we({blockhash:_e(),previousBlockhash:_e(),parentSlot:jt(),transactions:Ie(we({transaction:By,meta:ke(Sd)})),rewards:Ve(Ie(cu)),blockTime:ke(jt())}))),s4=rr(ke(we({blockhash:_e(),previousBlockhash:_e(),parentSlot:jt(),signatures:Ie(_e()),blockTime:ke(jt())}))),Jp=rr(ke(we({slot:jt(),meta:ke(Sd),blockTime:Ve(ke(jt())),transaction:By,version:Ve(Cf)}))),d0=rr(ke(we({slot:jt(),transaction:pA,meta:ke(Py),blockTime:Ve(ke(jt())),version:Ve(Cf)}))),oj=nn(we({blockhash:_e(),feeCalculator:we({lamportsPerSignature:jt()})})),sj=nn(we({blockhash:_e(),lastValidBlockHeight:jt()})),aj=nn(Go()),uj=rr(Ie(we({slot:jt(),numTransactions:jt(),numSlots:jt(),samplePeriodSecs:jt()}))),fj=nn(ke(we({feeCalculator:we({lamportsPerSignature:jt()})}))),cj=rr(_e()),hj=rr(_e()),lj=we({err:fu,logs:Ie(_e()),signature:_e()}),dj=we({result:Ad(lj),subscription:jt()}),pj={"solana-client":"js/0.0.0-development"};class $u{constructor(t){this._keypair=void 0,this._keypair=t??Y5()}static generate(){return new $u(Y5())}static fromSecretKey(t,e){if(t.byteLength!==64)throw new Error("bad secret key size");const n=t.slice(32,64);if(!e||!e.skipValidation){const s=t.slice(0,32),i=Ml(s);for(let c=0;c<32;c++)if(n[c]!==i[c])throw new Error("provided secretKey is invalid")}return new $u({publicKey:n,secretKey:t})}static fromSeed(t){const e=Ml(t),n=new Uint8Array(64);return n.set(t),n.set(e,32),new $u({publicKey:e,secretKey:n})}get publicKey(){return new Xt(this._keypair.publicKey)}get secretKey(){return new Uint8Array(this._keypair.secretKey)}}const ys=Object.freeze({CreateLookupTable:{index:0,layout:Ue([Ce("instruction"),lf("recentSlot"),or("bumpSeed")])},FreezeLookupTable:{index:1,layout:Ue([Ce("instruction")])},ExtendLookupTable:{index:2,layout:Ue([Ce("instruction"),lf(),On(ar(),Qs(Ce(),-8),"addresses")])},DeactivateLookupTable:{index:3,layout:Ue([Ce("instruction")])},CloseLookupTable:{index:4,layout:Ue([Ce("instruction")])}});class Q2{constructor(){}static createLookupTable(t){const[e,n]=Xt.findProgramAddressSync([t.authority.toBuffer(),yy(BigInt(t.recentSlot),8)],this.programId),s=gr(ys.CreateLookupTable,{recentSlot:BigInt(t.recentSlot),bumpSeed:n}),i=[{pubkey:e,isSigner:!1,isWritable:!0},{pubkey:t.authority,isSigner:!0,isWritable:!1},{pubkey:t.payer,isSigner:!0,isWritable:!0},{pubkey:an.programId,isSigner:!1,isWritable:!1}];return[new Ir({programId:this.programId,keys:i,data:s}),e]}static freezeLookupTable(t){const e=gr(ys.FreezeLookupTable),n=[{pubkey:t.lookupTable,isSigner:!1,isWritable:!0},{pubkey:t.authority,isSigner:!0,isWritable:!1}];return new Ir({programId:this.programId,keys:n,data:e})}static extendLookupTable(t){const e=gr(ys.ExtendLookupTable,{addresses:t.addresses.map(s=>s.toBytes())}),n=[{pubkey:t.lookupTable,isSigner:!1,isWritable:!0},{pubkey:t.authority,isSigner:!0,isWritable:!1}];return t.payer&&n.push({pubkey:t.payer,isSigner:!0,isWritable:!0},{pubkey:an.programId,isSigner:!1,isWritable:!1}),new Ir({programId:this.programId,keys:n,data:e})}static deactivateLookupTable(t){const e=gr(ys.DeactivateLookupTable),n=[{pubkey:t.lookupTable,isSigner:!1,isWritable:!0},{pubkey:t.authority,isSigner:!0,isWritable:!1}];return new Ir({programId:this.programId,keys:n,data:e})}static closeLookupTable(t){const e=gr(ys.CloseLookupTable),n=[{pubkey:t.lookupTable,isSigner:!1,isWritable:!0},{pubkey:t.authority,isSigner:!0,isWritable:!1},{pubkey:t.recipient,isSigner:!1,isWritable:!0}];return new Ir({programId:this.programId,keys:n,data:e})}}Q2.programId=new Xt("AddressLookupTab1e1111111111111111111111111");const Lo=Object.freeze({RequestUnits:{index:0,layout:Ue([or("instruction"),Ce("units"),Ce("additionalFee")])},RequestHeapFrame:{index:1,layout:Ue([or("instruction"),Ce("bytes")])},SetComputeUnitLimit:{index:2,layout:Ue([or("instruction"),Ce("units")])},SetComputeUnitPrice:{index:3,layout:Ue([or("instruction"),lf("microLamports")])}});class tv{constructor(){}static requestUnits(t){const e=gr(Lo.RequestUnits,t);return new Ir({keys:[],programId:this.programId,data:e})}static requestHeapFrame(t){const e=gr(Lo.RequestHeapFrame,t);return new Ir({keys:[],programId:this.programId,data:e})}static setComputeUnitLimit(t){const e=gr(Lo.SetComputeUnitLimit,t);return new Ir({keys:[],programId:this.programId,data:e})}static setComputeUnitPrice(t){const e=gr(Lo.SetComputeUnitPrice,{microLamports:BigInt(t.microLamports)});return new Ir({keys:[],programId:this.programId,data:e})}}tv.programId=new Xt("ComputeBudget111111111111111111111111111111");const a4=Ue([or("numSignatures"),or("padding"),Ni("signatureOffset"),Ni("signatureInstructionIndex"),Ni("publicKeyOffset"),Ni("publicKeyInstructionIndex"),Ni("messageDataOffset"),Ni("messageDataSize"),Ni("messageInstructionIndex")]);class kd{constructor(){}static createInstructionWithPublicKey(t){const{publicKey:e,message:n,signature:s,instructionIndex:i}=t;xr(e.length===32,`Public Key must be 32 bytes but received ${e.length} bytes`),xr(s.length===64,`Signature must be 64 bytes but received ${s.length} bytes`);const c=a4.span,l=c+e.length,p=l+s.length,m=Ae.Buffer.alloc(p+n.length),v=i??65535;return a4.encode({numSignatures:1,padding:0,signatureOffset:l,signatureInstructionIndex:v,publicKeyOffset:c,publicKeyInstructionIndex:v,messageDataOffset:p,messageDataSize:n.length,messageInstructionIndex:v},m),m.fill(e,c),m.fill(s,l),m.fill(n,p),new Ir({keys:[],programId:kd.programId,data:m})}static createInstructionWithPrivateKey(t){const{privateKey:e,message:n,instructionIndex:s}=t;xr(e.length===64,`Private key must be 64 bytes but received ${e.length} bytes`);try{const i=$u.fromSecretKey(e),c=i.publicKey.toBytes(),l=Ey(n,i.secretKey);return this.createInstructionWithPublicKey({publicKey:c,message:n,signature:l,instructionIndex:s})}catch(i){throw new Error(`Error creating instruction; ${i}`)}}}kd.programId=new Xt("Ed25519SigVerify111111111111111111111111111");_d.utils.isValidPrivateKey;const mj=_d.getPublicKey,Qp=Ue([or("numSignatures"),Ni("signatureOffset"),or("signatureInstructionIndex"),Ni("ethAddressOffset"),or("ethAddressInstructionIndex"),Ni("messageDataOffset"),Ni("messageDataSize"),or("messageInstructionIndex"),Or(20,"ethAddress"),Or(64,"signature"),or("recoveryId")]);class Hu{constructor(){}static publicKeyToEthAddress(t){xr(t.length===64,`Public key must be 64 bytes but received ${t.length} bytes`);try{return Ae.Buffer.from(H5(nr(t))).slice(-20)}catch(e){throw new Error(`Error constructing Ethereum address: ${e}`)}}static createInstructionWithPublicKey(t){const{publicKey:e,message:n,signature:s,recoveryId:i,instructionIndex:c}=t;return Hu.createInstructionWithEthAddress({ethAddress:Hu.publicKeyToEthAddress(e),message:n,signature:s,recoveryId:i,instructionIndex:c})}static createInstructionWithEthAddress(t){const{ethAddress:e,message:n,signature:s,recoveryId:i,instructionIndex:c=0}=t;let l;l=typeof e=="string"?e.startsWith("0x")?Ae.Buffer.from(e.substr(2),"hex"):Ae.Buffer.from(e,"hex"):e,xr(l.length===20,`Address must be 20 bytes but received ${l.length} bytes`);const p=12+l.length,m=p+s.length+1,v=Ae.Buffer.alloc(Qp.span+n.length);return Qp.encode({numSignatures:1,signatureOffset:p,signatureInstructionIndex:c,ethAddressOffset:12,ethAddressInstructionIndex:c,messageDataOffset:m,messageDataSize:n.length,messageInstructionIndex:c,signature:nr(s),ethAddress:nr(l),recoveryId:i},v),v.fill(nr(n),Qp.span),new Ir({keys:[],programId:Hu.programId,data:v})}static createInstructionWithPrivateKey(t){const{privateKey:e,message:n,instructionIndex:s}=t;xr(e.length===32,`Private key must be 32 bytes but received ${e.length} bytes`);try{const i=nr(e),c=mj(i,!1).slice(1),l=Ae.Buffer.from(H5(nr(n))),[p,m]=((v,_)=>{const E=_d.sign(v,_);return[E.toCompactRawBytes(),E.recovery]})(l,i);return this.createInstructionWithPublicKey({publicKey:c,message:n,signature:p,recoveryId:m,instructionIndex:s})}catch(i){throw new Error(`Error creating instruction; ${i}`)}}}var u4;Hu.programId=new Xt("KeccakSecp256k11111111111111111111111111111");const vA=new Xt("StakeConfig11111111111111111111111111111111");class f4{constructor(t,e){this.staker=void 0,this.withdrawer=void 0,this.staker=t,this.withdrawer=e}}class ih{constructor(t,e,n){this.unixTimestamp=void 0,this.epoch=void 0,this.custodian=void 0,this.unixTimestamp=t,this.epoch=e,this.custodian=n}}u4=ih,ih.default=new u4(0,0,Xt.default);const _n=Object.freeze({Initialize:{index:0,layout:Ue([Ce("instruction"),((r="authorized")=>Ue([ar("staker"),ar("withdrawer")],r))(),((r="lockup")=>Ue([xi("unixTimestamp"),xi("epoch"),ar("custodian")],r))()])},Authorize:{index:1,layout:Ue([Ce("instruction"),ar("newAuthorized"),Ce("stakeAuthorizationType")])},Delegate:{index:2,layout:Ue([Ce("instruction")])},Split:{index:3,layout:Ue([Ce("instruction"),xi("lamports")])},Withdraw:{index:4,layout:Ue([Ce("instruction"),xi("lamports")])},Deactivate:{index:5,layout:Ue([Ce("instruction")])},Merge:{index:7,layout:Ue([Ce("instruction")])},AuthorizeWithSeed:{index:8,layout:Ue([Ce("instruction"),ar("newAuthorized"),Ce("stakeAuthorizationType"),Ua("authoritySeed"),ar("authorityOwner")])}}),vj=Object.freeze({Staker:{index:0},Withdrawer:{index:1}});class Sl{constructor(){}static initialize(t){const{stakePubkey:e,authorized:n,lockup:s}=t,i=s||ih.default,c=gr(_n.Initialize,{authorized:{staker:nr(n.staker.toBuffer()),withdrawer:nr(n.withdrawer.toBuffer())},lockup:{unixTimestamp:i.unixTimestamp,epoch:i.epoch,custodian:nr(i.custodian.toBuffer())}}),l={keys:[{pubkey:e,isSigner:!1,isWritable:!0},{pubkey:na,isSigner:!1,isWritable:!1}],programId:this.programId,data:c};return new Ir(l)}static createAccountWithSeed(t){const e=new wr;e.add(an.createAccountWithSeed({fromPubkey:t.fromPubkey,newAccountPubkey:t.stakePubkey,basePubkey:t.basePubkey,seed:t.seed,lamports:t.lamports,space:this.space,programId:this.programId}));const{stakePubkey:n,authorized:s,lockup:i}=t;return e.add(this.initialize({stakePubkey:n,authorized:s,lockup:i}))}static createAccount(t){const e=new wr;e.add(an.createAccount({fromPubkey:t.fromPubkey,newAccountPubkey:t.stakePubkey,lamports:t.lamports,space:this.space,programId:this.programId}));const{stakePubkey:n,authorized:s,lockup:i}=t;return e.add(this.initialize({stakePubkey:n,authorized:s,lockup:i}))}static delegate(t){const{stakePubkey:e,authorizedPubkey:n,votePubkey:s}=t,i=gr(_n.Delegate);return new wr().add({keys:[{pubkey:e,isSigner:!1,isWritable:!0},{pubkey:s,isSigner:!1,isWritable:!1},{pubkey:oo,isSigner:!1,isWritable:!1},{pubkey:Q0,isSigner:!1,isWritable:!1},{pubkey:vA,isSigner:!1,isWritable:!1},{pubkey:n,isSigner:!0,isWritable:!1}],programId:this.programId,data:i})}static authorize(t){const{stakePubkey:e,authorizedPubkey:n,newAuthorizedPubkey:s,stakeAuthorizationType:i,custodianPubkey:c}=t,l=gr(_n.Authorize,{newAuthorized:nr(s.toBuffer()),stakeAuthorizationType:i.index}),p=[{pubkey:e,isSigner:!1,isWritable:!0},{pubkey:oo,isSigner:!1,isWritable:!0},{pubkey:n,isSigner:!0,isWritable:!1}];return c&&p.push({pubkey:c,isSigner:!1,isWritable:!1}),new wr().add({keys:p,programId:this.programId,data:l})}static authorizeWithSeed(t){const{stakePubkey:e,authorityBase:n,authoritySeed:s,authorityOwner:i,newAuthorizedPubkey:c,stakeAuthorizationType:l,custodianPubkey:p}=t,m=gr(_n.AuthorizeWithSeed,{newAuthorized:nr(c.toBuffer()),stakeAuthorizationType:l.index,authoritySeed:s,authorityOwner:nr(i.toBuffer())}),v=[{pubkey:e,isSigner:!1,isWritable:!0},{pubkey:n,isSigner:!0,isWritable:!1},{pubkey:oo,isSigner:!1,isWritable:!1}];return p&&v.push({pubkey:p,isSigner:!1,isWritable:!1}),new wr().add({keys:v,programId:this.programId,data:m})}static splitInstruction(t){const{stakePubkey:e,authorizedPubkey:n,splitStakePubkey:s,lamports:i}=t,c=gr(_n.Split,{lamports:i});return new Ir({keys:[{pubkey:e,isSigner:!1,isWritable:!0},{pubkey:s,isSigner:!1,isWritable:!0},{pubkey:n,isSigner:!0,isWritable:!1}],programId:this.programId,data:c})}static split(t){const e=new wr;return e.add(an.createAccount({fromPubkey:t.authorizedPubkey,newAccountPubkey:t.splitStakePubkey,lamports:0,space:this.space,programId:this.programId})),e.add(this.splitInstruction(t))}static splitWithSeed(t){const{stakePubkey:e,authorizedPubkey:n,splitStakePubkey:s,basePubkey:i,seed:c,lamports:l}=t,p=new wr;return p.add(an.allocate({accountPubkey:s,basePubkey:i,seed:c,space:this.space,programId:this.programId})),p.add(this.splitInstruction({stakePubkey:e,authorizedPubkey:n,splitStakePubkey:s,lamports:l}))}static merge(t){const{stakePubkey:e,sourceStakePubKey:n,authorizedPubkey:s}=t,i=gr(_n.Merge);return new wr().add({keys:[{pubkey:e,isSigner:!1,isWritable:!0},{pubkey:n,isSigner:!1,isWritable:!0},{pubkey:oo,isSigner:!1,isWritable:!1},{pubkey:Q0,isSigner:!1,isWritable:!1},{pubkey:s,isSigner:!0,isWritable:!1}],programId:this.programId,data:i})}static withdraw(t){const{stakePubkey:e,authorizedPubkey:n,toPubkey:s,lamports:i,custodianPubkey:c}=t,l=gr(_n.Withdraw,{lamports:i}),p=[{pubkey:e,isSigner:!1,isWritable:!0},{pubkey:s,isSigner:!1,isWritable:!0},{pubkey:oo,isSigner:!1,isWritable:!1},{pubkey:Q0,isSigner:!1,isWritable:!1},{pubkey:n,isSigner:!0,isWritable:!1}];return c&&p.push({pubkey:c,isSigner:!1,isWritable:!1}),new wr().add({keys:p,programId:this.programId,data:l})}static deactivate(t){const{stakePubkey:e,authorizedPubkey:n}=t,s=gr(_n.Deactivate);return new wr().add({keys:[{pubkey:e,isSigner:!1,isWritable:!0},{pubkey:oo,isSigner:!1,isWritable:!1},{pubkey:n,isSigner:!0,isWritable:!1}],programId:this.programId,data:s})}}Sl.programId=new Xt("Stake11111111111111111111111111111111111111"),Sl.space=200;class c4{constructor(t,e,n,s){this.nodePubkey=void 0,this.authorizedVoter=void 0,this.authorizedWithdrawer=void 0,this.commission=void 0,this.nodePubkey=t,this.authorizedVoter=e,this.authorizedWithdrawer=n,this.commission=s}}const bs=Object.freeze({InitializeAccount:{index:0,layout:Ue([Ce("instruction"),((r="voteInit")=>Ue([ar("nodePubkey"),ar("authorizedVoter"),ar("authorizedWithdrawer"),or("commission")],r))()])},Authorize:{index:1,layout:Ue([Ce("instruction"),ar("newAuthorized"),Ce("voteAuthorizationType")])},Withdraw:{index:3,layout:Ue([Ce("instruction"),xi("lamports")])},AuthorizeWithSeed:{index:10,layout:Ue([Ce("instruction"),((r="voteAuthorizeWithSeedArgs")=>Ue([Ce("voteAuthorizationType"),ar("currentAuthorityDerivedKeyOwnerPubkey"),Ua("currentAuthorityDerivedKeySeed"),ar("newAuthorized")],r))()])}}),gj=Object.freeze({Voter:{index:0},Withdrawer:{index:1}});class df{constructor(){}static initializeAccount(t){const{votePubkey:e,nodePubkey:n,voteInit:s}=t,i=gr(bs.InitializeAccount,{voteInit:{nodePubkey:nr(s.nodePubkey.toBuffer()),authorizedVoter:nr(s.authorizedVoter.toBuffer()),authorizedWithdrawer:nr(s.authorizedWithdrawer.toBuffer()),commission:s.commission}}),c={keys:[{pubkey:e,isSigner:!1,isWritable:!0},{pubkey:na,isSigner:!1,isWritable:!1},{pubkey:oo,isSigner:!1,isWritable:!1},{pubkey:n,isSigner:!0,isWritable:!1}],programId:this.programId,data:i};return new Ir(c)}static createAccount(t){const e=new wr;return e.add(an.createAccount({fromPubkey:t.fromPubkey,newAccountPubkey:t.votePubkey,lamports:t.lamports,space:this.space,programId:this.programId})),e.add(this.initializeAccount({votePubkey:t.votePubkey,nodePubkey:t.voteInit.nodePubkey,voteInit:t.voteInit}))}static authorize(t){const{votePubkey:e,authorizedPubkey:n,newAuthorizedPubkey:s,voteAuthorizationType:i}=t,c=gr(bs.Authorize,{newAuthorized:nr(s.toBuffer()),voteAuthorizationType:i.index}),l=[{pubkey:e,isSigner:!1,isWritable:!0},{pubkey:oo,isSigner:!1,isWritable:!1},{pubkey:n,isSigner:!0,isWritable:!1}];return new wr().add({keys:l,programId:this.programId,data:c})}static authorizeWithSeed(t){const{currentAuthorityDerivedKeyBasePubkey:e,currentAuthorityDerivedKeyOwnerPubkey:n,currentAuthorityDerivedKeySeed:s,newAuthorizedPubkey:i,voteAuthorizationType:c,votePubkey:l}=t,p=gr(bs.AuthorizeWithSeed,{voteAuthorizeWithSeedArgs:{currentAuthorityDerivedKeyOwnerPubkey:nr(n.toBuffer()),currentAuthorityDerivedKeySeed:s,newAuthorized:nr(i.toBuffer()),voteAuthorizationType:c.index}}),m=[{pubkey:l,isSigner:!1,isWritable:!0},{pubkey:oo,isSigner:!1,isWritable:!1},{pubkey:e,isSigner:!0,isWritable:!1}];return new wr().add({keys:m,programId:this.programId,data:p})}static withdraw(t){const{votePubkey:e,authorizedWithdrawerPubkey:n,lamports:s,toPubkey:i}=t,c=gr(bs.Withdraw,{lamports:s}),l=[{pubkey:e,isSigner:!1,isWritable:!0},{pubkey:i,isSigner:!1,isWritable:!0},{pubkey:n,isSigner:!0,isWritable:!1}];return new wr().add({keys:l,programId:this.programId,data:c})}static safeWithdraw(t,e,n){if(t.lamports>e-n)throw new Error("Withdraw will leave vote account with insuffcient funds.");return df.withdraw(t)}}df.programId=new Xt("Vote111111111111111111111111111111111111111"),df.space=3731;const gA=new Xt("Va1idator1nfo111111111111111111111111111111"),yj=we({name:_e(),website:Ve(_e()),details:Ve(_e()),keybaseUsername:Ve(_e())});class Ry{constructor(t,e){this.key=void 0,this.info=void 0,this.key=t,this.info=e}static fromConfigData(t){let e=[...t];if(ti(e)!==2)return null;const n=[];for(let s=0;s<2;s++){const i=new Xt(e.slice(0,Si));e=e.slice(Si);const c=e.slice(0,1)[0]===1;e=e.slice(1),n.push({publicKey:i,isSigner:c})}if(n[0].publicKey.equals(gA)&&n[1].isSigner){const s=Ua().decode(Ae.Buffer.from(e)),i=JSON.parse(s);return DE(i,yj),new Ry(n[1].publicKey,i)}return null}}const bj=new Xt("Vote111111111111111111111111111111111111111"),wj=Ue([ar("nodePubkey"),ar("authorizedWithdrawer"),or("commission"),In(),On(Ue([In("slot"),Ce("confirmationCount")]),Qs(Ce(),-8),"votes"),or("rootSlotValid"),In("rootSlot"),In(),On(Ue([In("epoch"),ar("authorizedVoter")]),Qs(Ce(),-8),"authorizedVoters"),Ue([On(Ue([ar("authorizedPubkey"),In("epochOfLastAuthorizedSwitch"),In("targetEpoch")]),32,"buf"),In("idx"),or("isEmpty")],"priorVoters"),In(),On(Ue([In("epoch"),In("credits"),In("prevCredits")]),Qs(Ce(),-8),"epochCredits"),Ue([In("slot"),In("timestamp")],"lastTimestamp")]);class Cy{constructor(t){this.nodePubkey=void 0,this.authorizedWithdrawer=void 0,this.commission=void 0,this.rootSlot=void 0,this.votes=void 0,this.authorizedVoters=void 0,this.priorVoters=void 0,this.epochCredits=void 0,this.lastTimestamp=void 0,this.nodePubkey=t.nodePubkey,this.authorizedWithdrawer=t.authorizedWithdrawer,this.commission=t.commission,this.rootSlot=t.rootSlot,this.votes=t.votes,this.authorizedVoters=t.authorizedVoters,this.priorVoters=t.priorVoters,this.epochCredits=t.epochCredits,this.lastTimestamp=t.lastTimestamp}static fromAccountData(t){const e=wj.decode(nr(t),4);let n=e.rootSlot;return e.rootSlotValid||(n=null),new Cy({nodePubkey:new Xt(e.nodePubkey),authorizedWithdrawer:new Xt(e.authorizedWithdrawer),commission:e.commission,votes:e.votes,rootSlot:n,authorizedVoters:e.authorizedVoters.map(xj),priorVoters:_j(e.priorVoters),epochCredits:e.epochCredits,lastTimestamp:e.lastTimestamp})}}function xj({authorizedVoter:r,epoch:t}){return{epoch:t,authorizedVoter:new Xt(r)}}function h4({authorizedPubkey:r,epochOfLastAuthorizedSwitch:t,targetEpoch:e}){return{authorizedPubkey:new Xt(r),epochOfLastAuthorizedSwitch:t,targetEpoch:e}}function _j({buf:r,idx:t,isEmpty:e}){return e?[]:[...r.slice(t+1).map(h4),...r.slice(0,t).map(h4)]}const l4={http:{devnet:"http://api.devnet.solana.com",testnet:"http://api.testnet.solana.com","mainnet-beta":"http://api.mainnet-beta.solana.com/"},https:{devnet:"https://api.devnet.solana.com",testnet:"https://api.testnet.solana.com","mainnet-beta":"https://api.mainnet-beta.solana.com/"}};var yA=Object.freeze({__proto__:null,Account:class{constructor(r){if(this._publicKey=void 0,this._secretKey=void 0,r){const t=nr(r);if(r.length!==64)throw new Error("bad secret key size");this._publicKey=t.slice(32,64),this._secretKey=t.slice(0,32)}else this._secretKey=nr(Kq()),this._publicKey=nr(Ml(this._secretKey))}get publicKey(){return new Xt(this._publicKey)}get secretKey(){return Ae.Buffer.concat([this._secretKey,this._publicKey],64)}},AddressLookupTableAccount:Yp,AddressLookupTableInstruction:class{constructor(){}static decodeInstructionType(r){this.checkProgramId(r.programId);const t=Ce("instruction").decode(r.data);let e;for(const[n,s]of Object.entries(ys))if(s.index==t){e=n;break}if(!e)throw new Error("Invalid Instruction. Should be a LookupTable Instruction");return e}static decodeCreateLookupTable(r){this.checkProgramId(r.programId),this.checkKeysLength(r.keys,4);const{recentSlot:t}=Br(ys.CreateLookupTable,r.data);return{authority:r.keys[1].pubkey,payer:r.keys[2].pubkey,recentSlot:Number(t)}}static decodeExtendLookupTable(r){if(this.checkProgramId(r.programId),r.keys.length<2)throw new Error(`invalid instruction; found ${r.keys.length} keys, expected at least 2`);const{addresses:t}=Br(ys.ExtendLookupTable,r.data);return{lookupTable:r.keys[0].pubkey,authority:r.keys[1].pubkey,payer:r.keys.length>2?r.keys[2].pubkey:void 0,addresses:t.map(e=>new Xt(e))}}static decodeCloseLookupTable(r){return this.checkProgramId(r.programId),this.checkKeysLength(r.keys,3),{lookupTable:r.keys[0].pubkey,authority:r.keys[1].pubkey,recipient:r.keys[2].pubkey}}static decodeFreezeLookupTable(r){return this.checkProgramId(r.programId),this.checkKeysLength(r.keys,2),{lookupTable:r.keys[0].pubkey,authority:r.keys[1].pubkey}}static decodeDeactivateLookupTable(r){return this.checkProgramId(r.programId),this.checkKeysLength(r.keys,2),{lookupTable:r.keys[0].pubkey,authority:r.keys[1].pubkey}}static checkProgramId(r){if(!r.equals(Q2.programId))throw new Error("invalid instruction; programId is not AddressLookupTable Program")}static checkKeysLength(r,t){if(r.length<t)throw new Error(`invalid instruction; found ${r.length} keys, expected at least ${t}`)}},AddressLookupTableProgram:Q2,Authorized:f4,BLOCKHASH_CACHE_TIMEOUT_MS:3e4,BPF_LOADER_DEPRECATED_PROGRAM_ID:Hq,BPF_LOADER_PROGRAM_ID:Qq,BpfLoader:class{static getMinNumSignatures(r){return ja.getMinNumSignatures(r)}static load(r,t,e,n,s){return ja.load(r,t,e,s,n)}},COMPUTE_BUDGET_INSTRUCTION_LAYOUTS:Lo,ComputeBudgetInstruction:class{constructor(){}static decodeInstructionType(r){this.checkProgramId(r.programId);const t=or("instruction").decode(r.data);let e;for(const[n,s]of Object.entries(Lo))if(s.index==t){e=n;break}if(!e)throw new Error("Instruction type incorrect; not a ComputeBudgetInstruction");return e}static decodeRequestUnits(r){this.checkProgramId(r.programId);const{units:t,additionalFee:e}=Br(Lo.RequestUnits,r.data);return{units:t,additionalFee:e}}static decodeRequestHeapFrame(r){this.checkProgramId(r.programId);const{bytes:t}=Br(Lo.RequestHeapFrame,r.data);return{bytes:t}}static decodeSetComputeUnitLimit(r){this.checkProgramId(r.programId);const{units:t}=Br(Lo.SetComputeUnitLimit,r.data);return{units:t}}static decodeSetComputeUnitPrice(r){this.checkProgramId(r.programId);const{microLamports:t}=Br(Lo.SetComputeUnitPrice,r.data);return{microLamports:t}}static checkProgramId(r){if(!r.equals(tv.programId))throw new Error("invalid instruction; programId is not ComputeBudgetProgram")}},ComputeBudgetProgram:tv,Connection:class{constructor(r,t){let e,n,s,i,c,l;this._commitment=void 0,this._confirmTransactionInitialTimeout=void 0,this._rpcEndpoint=void 0,this._rpcWsEndpoint=void 0,this._rpcClient=void 0,this._rpcRequest=void 0,this._rpcBatchRequest=void 0,this._rpcWebSocket=void 0,this._rpcWebSocketConnected=!1,this._rpcWebSocketHeartbeat=null,this._rpcWebSocketIdleTimeout=null,this._rpcWebSocketGeneration=0,this._disableBlockhashCaching=!1,this._pollingBlockhash=!1,this._blockhashInfo={latestBlockhash:null,lastFetch:0,transactionSignatures:[],simulatedSignatures:[]},this._nextClientSubscriptionId=0,this._subscriptionDisposeFunctionsByClientSubscriptionId={},this._subscriptionHashByClientSubscriptionId={},this._subscriptionStateChangeCallbacksByHash={},this._subscriptionCallbacksByServerSubscriptionId={},this._subscriptionsByHash={},this._subscriptionsAutoDisposedByRpc=new Set,this.getBlockHeight=(()=>{const p={};return async m=>{const{commitment:v,config:_}=Fr(m),E=this._buildArgs([],v,void 0,_),w=t4(E);return p[w]=p[w]??(async()=>{try{const x=Ee(await this._rpcRequest("getBlockHeight",E),rr(jt()));if("error"in x)throw new De(x.error,"failed to get block height information");return x.result}finally{delete p[w]}})(),await p[w]}})(),t&&typeof t=="string"?this._commitment=t:t&&(this._commitment=t.commitment,this._confirmTransactionInitialTimeout=t.confirmTransactionInitialTimeout,e=t.wsEndpoint,n=t.httpHeaders,s=t.fetch,i=t.fetchMiddleware,c=t.disableRetryOnRateLimit,l=t.httpAgent),this._rpcEndpoint=function(p){if(/^https?:/.test(p)===!1)throw new TypeError("Endpoint URL must start with `http:` or `https:`.");return p}(r),this._rpcWsEndpoint=e||function(p){const m=p.match(sF);if(m==null)throw TypeError(`Failed to validate endpoint URL \`${p}\``);const[v,_,E,w]=m,x=p.startsWith("https:")?"wss:":"ws:",A=E==null?null:parseInt(E.slice(1),10);return`${x}//${_}${A==null?"":`:${A+1}`}${w}`}(r),this._rpcClient=function(p,m,v,_,E,w){const x=v||nF;let A;return w!=null&&console.warn("You have supplied an `httpAgent` when creating a `Connection` in a browser environment.It has been ignored; `httpAgent` is only used in Node environments."),_&&(A=async(P,R)=>{const C=await new Promise((O,z)=>{try{_(P,R,(H,tt)=>O([H,tt]))}catch(H){z(H)}});return await x(...C)}),new _q(async(P,R)=>{const C={method:"POST",body:P,agent:void 0,headers:Object.assign({"Content-Type":"application/json"},m||{},pj)};try{let O,z=5,H=500;for(;O=A?await A(p,C):await x(p,C),O.status===429&&E!==!0&&(z-=1,z!==0);)console.log(`Server responded with ${O.status} ${O.statusText}.  Retrying after ${H}ms delay...`),await xa(H),H*=2;const tt=await O.text();O.ok?R(null,tt):R(new Error(`${O.status} ${O.statusText}: ${tt}`))}catch(O){O instanceof Error&&R(O)}},{})}(r,n,s,i,c,l),this._rpcRequest=function(p){return(m,v)=>new Promise((_,E)=>{p.request(m,v,(w,x)=>{w?E(w):_(x)})})}(this._rpcClient),this._rpcBatchRequest=function(p){return m=>new Promise((v,_)=>{m.length===0&&v([]);const E=m.map(w=>p.request(w.methodName,w.args));p.request(E,(w,x)=>{w?_(w):v(x)})})}(this._rpcClient),this._rpcWebSocket=new iF(this._rpcWsEndpoint,{autoconnect:!1,max_reconnects:1/0}),this._rpcWebSocket.on("open",this._wsOnOpen.bind(this)),this._rpcWebSocket.on("error",this._wsOnError.bind(this)),this._rpcWebSocket.on("close",this._wsOnClose.bind(this)),this._rpcWebSocket.on("accountNotification",this._wsOnAccountNotification.bind(this)),this._rpcWebSocket.on("programNotification",this._wsOnProgramAccountNotification.bind(this)),this._rpcWebSocket.on("slotNotification",this._wsOnSlotNotification.bind(this)),this._rpcWebSocket.on("slotsUpdatesNotification",this._wsOnSlotUpdatesNotification.bind(this)),this._rpcWebSocket.on("signatureNotification",this._wsOnSignatureNotification.bind(this)),this._rpcWebSocket.on("rootNotification",this._wsOnRootNotification.bind(this)),this._rpcWebSocket.on("logsNotification",this._wsOnLogsNotification.bind(this))}get commitment(){return this._commitment}get rpcEndpoint(){return this._rpcEndpoint}async getBalanceAndContext(r,t){const{commitment:e,config:n}=Fr(t),s=this._buildArgs([r.toBase58()],e,void 0,n),i=Ee(await this._rpcRequest("getBalance",s),nn(jt()));if("error"in i)throw new De(i.error,`failed to get balance for ${r.toBase58()}`);return i.result}async getBalance(r,t){return await this.getBalanceAndContext(r,t).then(e=>e.value).catch(e=>{throw new Error("failed to get balance of account "+r.toBase58()+": "+e)})}async getBlockTime(r){const t=Ee(await this._rpcRequest("getBlockTime",[r]),rr(ke(jt())));if("error"in t)throw new De(t.error,`failed to get block time for slot ${r}`);return t.result}async getMinimumLedgerSlot(){const r=Ee(await this._rpcRequest("minimumLedgerSlot",[]),rr(jt()));if("error"in r)throw new De(r.error,"failed to get minimum ledger slot");return r.result}async getFirstAvailableBlock(){const r=Ee(await this._rpcRequest("getFirstAvailableBlock",[]),AF);if("error"in r)throw new De(r.error,"failed to get first available block");return r.result}async getSupply(r){let t={};t=typeof r=="string"?{commitment:r}:r?{...r,commitment:r&&r.commitment||this.commitment}:{commitment:this.commitment};const e=Ee(await this._rpcRequest("getSupply",[t]),SF);if("error"in e)throw new De(e.error,"failed to get supply");return e.result}async getTokenSupply(r,t){const e=this._buildArgs([r.toBase58()],t),n=Ee(await this._rpcRequest("getTokenSupply",e),nn(Y2));if("error"in n)throw new De(n.error,"failed to get token supply");return n.result}async getTokenAccountBalance(r,t){const e=this._buildArgs([r.toBase58()],t),n=Ee(await this._rpcRequest("getTokenAccountBalance",e),nn(Y2));if("error"in n)throw new De(n.error,"failed to get token account balance");return n.result}async getTokenAccountsByOwner(r,t,e){const{commitment:n,config:s}=Fr(e);let i=[r.toBase58()];"mint"in t?i.push({mint:t.mint.toBase58()}):i.push({programId:t.programId.toBase58()});const c=this._buildArgs(i,n,"base64",s),l=Ee(await this._rpcRequest("getTokenAccountsByOwner",c),IF);if("error"in l)throw new De(l.error,`failed to get token accounts owned by account ${r.toBase58()}`);return l.result}async getParsedTokenAccountsByOwner(r,t,e){let n=[r.toBase58()];"mint"in t?n.push({mint:t.mint.toBase58()}):n.push({programId:t.programId.toBase58()});const s=this._buildArgs(n,e,"jsonParsed"),i=Ee(await this._rpcRequest("getTokenAccountsByOwner",s),BF);if("error"in i)throw new De(i.error,`failed to get token accounts owned by account ${r.toBase58()}`);return i.result}async getLargestAccounts(r){const t={...r,commitment:r&&r.commitment||this.commitment},e=t.filter||t.commitment?[t]:[],n=Ee(await this._rpcRequest("getLargestAccounts",e),PF);if("error"in n)throw new De(n.error,"failed to get largest accounts");return n.result}async getTokenLargestAccounts(r,t){const e=this._buildArgs([r.toBase58()],t),n=Ee(await this._rpcRequest("getTokenLargestAccounts",e),kF);if("error"in n)throw new De(n.error,"failed to get token largest accounts");return n.result}async getAccountInfoAndContext(r,t){const{commitment:e,config:n}=Fr(t),s=this._buildArgs([r.toBase58()],e,"base64",n),i=Ee(await this._rpcRequest("getAccountInfo",s),nn(ke(nh)));if("error"in i)throw new De(i.error,`failed to get info about account ${r.toBase58()}`);return i.result}async getParsedAccountInfo(r,t){const{commitment:e,config:n}=Fr(t),s=this._buildArgs([r.toBase58()],e,"jsonParsed",n),i=Ee(await this._rpcRequest("getAccountInfo",s),nn(ke(J2)));if("error"in i)throw new De(i.error,`failed to get info about account ${r.toBase58()}`);return i.result}async getAccountInfo(r,t){try{return(await this.getAccountInfoAndContext(r,t)).value}catch(e){throw new Error("failed to get info about account "+r.toBase58()+": "+e)}}async getMultipleParsedAccounts(r,t){const{commitment:e,config:n}=Fr(t),s=r.map(l=>l.toBase58()),i=this._buildArgs([s],e,"jsonParsed",n),c=Ee(await this._rpcRequest("getMultipleAccounts",i),nn(Ie(ke(J2))));if("error"in c)throw new De(c.error,`failed to get info for accounts ${s}`);return c.result}async getMultipleAccountsInfoAndContext(r,t){const{commitment:e,config:n}=Fr(t),s=r.map(l=>l.toBase58()),i=this._buildArgs([s],e,"base64",n),c=Ee(await this._rpcRequest("getMultipleAccounts",i),nn(Ie(ke(nh))));if("error"in c)throw new De(c.error,`failed to get info for accounts ${s}`);return c.result}async getMultipleAccountsInfo(r,t){return(await this.getMultipleAccountsInfoAndContext(r,t)).value}async getStakeActivation(r,t,e){const{commitment:n,config:s}=Fr(t),i=this._buildArgs([r.toBase58()],n,void 0,{...s,epoch:e??(s==null?void 0:s.epoch)}),c=Ee(await this._rpcRequest("getStakeActivation",i),rr(LF));if("error"in c)throw new De(c.error,`failed to get Stake Activation ${r.toBase58()}`);return c.result}async getProgramAccounts(r,t){const{commitment:e,config:n}=Fr(t),{encoding:s,...i}=n||{},c=this._buildArgs([r.toBase58()],e,s||"base64",i),l=await this._rpcRequest("getProgramAccounts",c),p=Ie(RF),m=i.withContext===!0?Ee(l,nn(p)):Ee(l,rr(p));if("error"in m)throw new De(m.error,`failed to get accounts owned by program ${r.toBase58()}`);return m.result}async getParsedProgramAccounts(r,t){const{commitment:e,config:n}=Fr(t),s=this._buildArgs([r.toBase58()],e,"jsonParsed",n),i=Ee(await this._rpcRequest("getProgramAccounts",s),rr(Ie(TF)));if("error"in i)throw new De(i.error,`failed to get accounts owned by program ${r.toBase58()}`);return i.result}async confirmTransaction(r,t){var s;let e,n;if(typeof r=="string")e=r;else{const i=r;if((s=i.abortSignal)!=null&&s.aborted)return Promise.reject(i.abortSignal.reason);e=i.signature}try{n=Ln.decode(e)}catch{throw new Error("signature must be base58 encoded: "+e)}return xr(n.length===64,"signature has invalid length"),typeof r=="string"?await this.confirmTransactionUsingLegacyTimeoutStrategy({commitment:t||this.commitment,signature:e}):"lastValidBlockHeight"in r?await this.confirmTransactionUsingBlockHeightExceedanceStrategy({commitment:t||this.commitment,strategy:r}):await this.confirmTransactionUsingDurableNonceStrategy({commitment:t||this.commitment,strategy:r})}getCancellationPromise(r){return new Promise((t,e)=>{r!=null&&(r.aborted?e(r.reason):r.addEventListener("abort",()=>{e(r.reason)}))})}getTransactionConfirmationPromise({commitment:r,signature:t}){let e,n,s=!1;const i=new Promise((c,l)=>{try{e=this.onSignature(t,(m,v)=>{e=void 0;const _={context:v,value:m};c({__type:rs.PROCESSED,response:_})},r);const p=new Promise(m=>{e==null?m():n=this._onSubscriptionStateChange(e,v=>{v==="subscribed"&&m()})});(async()=>{if(await p,s)return;const m=await this.getSignatureStatus(t);if(s||m==null)return;const{context:v,value:_}=m;if(_!=null)if(_!=null&&_.err)l(_.err);else{switch(r){case"confirmed":case"single":case"singleGossip":if(_.confirmationStatus==="processed")return;break;case"finalized":case"max":case"root":if(_.confirmationStatus==="processed"||_.confirmationStatus==="confirmed")return}s=!0,c({__type:rs.PROCESSED,response:{context:v,value:_}})}})()}catch(p){l(p)}});return{abortConfirmation:()=>{n&&(n(),n=void 0),e!=null&&(this.removeSignatureListener(e),e=void 0)},confirmationPromise:i}}async confirmTransactionUsingBlockHeightExceedanceStrategy({commitment:r,strategy:{abortSignal:t,lastValidBlockHeight:e,signature:n}}){let s=!1;const i=new Promise(v=>{const _=async()=>{try{return await this.getBlockHeight(r)}catch{return-1}};(async()=>{let E=await _();if(!s){for(;E<=e;)if(await xa(1e3),s||(E=await _(),s))return;v({__type:rs.BLOCKHEIGHT_EXCEEDED})}})()}),{abortConfirmation:c,confirmationPromise:l}=this.getTransactionConfirmationPromise({commitment:r,signature:n}),p=this.getCancellationPromise(t);let m;try{const v=await Promise.race([p,l,i]);if(v.__type!==rs.PROCESSED)throw new Z2(n);m=v.response}finally{s=!0,c()}return m}async confirmTransactionUsingDurableNonceStrategy({commitment:r,strategy:{abortSignal:t,minContextSlot:e,nonceAccountPubkey:n,nonceValue:s,signature:i}}){let c=!1;const l=new Promise(E=>{let w=s,x=null;const A=async()=>{try{const{context:B,value:P}=await this.getNonceAndContext(n,{commitment:r,minContextSlot:e});return x=B.slot,P==null?void 0:P.nonce}catch{return w}};(async()=>{if(w=await A(),!c)for(;;){if(s!==w)return void E({__type:rs.NONCE_INVALID,slotInWhichNonceDidAdvance:x});if(await xa(2e3),c||(w=await A(),c))return}})()}),{abortConfirmation:p,confirmationPromise:m}=this.getTransactionConfirmationPromise({commitment:r,signature:i}),v=this.getCancellationPromise(t);let _;try{const E=await Promise.race([v,m,l]);if(E.__type===rs.PROCESSED)_=E.response;else{let w;for(;;){const x=await this.getSignatureStatus(i);if(x==null)break;if(!(x.context.slot<(E.slotInWhichNonceDidAdvance??e))){w=x;break}await xa(400)}if(!(w!=null&&w.value))throw new Su(i);{const x=r||"finalized",{confirmationStatus:A}=w.value;switch(x){case"processed":case"recent":if(A!=="processed"&&A!=="confirmed"&&A!=="finalized")throw new Su(i);break;case"confirmed":case"single":case"singleGossip":if(A!=="confirmed"&&A!=="finalized")throw new Su(i);break;case"finalized":case"max":case"root":if(A!=="finalized")throw new Su(i)}_={context:w.context,value:{err:w.value.err}}}}}finally{c=!0,p()}return _}async confirmTransactionUsingLegacyTimeoutStrategy({commitment:r,signature:t}){let e;const n=new Promise(l=>{let p=this._confirmTransactionInitialTimeout||6e4;switch(r){case"processed":case"recent":case"single":case"confirmed":case"singleGossip":p=this._confirmTransactionInitialTimeout||3e4}e=setTimeout(()=>l({__type:rs.TIMED_OUT,timeoutMs:p}),p)}),{abortConfirmation:s,confirmationPromise:i}=this.getTransactionConfirmationPromise({commitment:r,signature:t});let c;try{const l=await Promise.race([i,n]);if(l.__type!==rs.PROCESSED)throw new W2(t,l.timeoutMs/1e3);c=l.response}finally{clearTimeout(e),s()}return c}async getClusterNodes(){const r=Ee(await this._rpcRequest("getClusterNodes",[]),rr(Ie(VF)));if("error"in r)throw new De(r.error,"failed to get cluster nodes");return r.result}async getVoteAccounts(r){const t=this._buildArgs([],r),e=Ee(await this._rpcRequest("getVoteAccounts",t),ZF);if("error"in e)throw new De(e.error,"failed to get vote accounts");return e.result}async getSlot(r){const{commitment:t,config:e}=Fr(r),n=this._buildArgs([],t,void 0,e),s=Ee(await this._rpcRequest("getSlot",n),rr(jt()));if("error"in s)throw new De(s.error,"failed to get slot");return s.result}async getSlotLeader(r){const{commitment:t,config:e}=Fr(r),n=this._buildArgs([],t,void 0,e),s=Ee(await this._rpcRequest("getSlotLeader",n),rr(_e()));if("error"in s)throw new De(s.error,"failed to get slot leader");return s.result}async getSlotLeaders(r,t){const e=[r,t],n=Ee(await this._rpcRequest("getSlotLeaders",e),rr(Ie(hn)));if("error"in n)throw new De(n.error,"failed to get slot leaders");return n.result}async getSignatureStatus(r,t){const{context:e,value:n}=await this.getSignatureStatuses([r],t);return xr(n.length===1),{context:e,value:n[0]}}async getSignatureStatuses(r,t){const e=[r];t&&e.push(t);const n=Ee(await this._rpcRequest("getSignatureStatuses",e),YF);if("error"in n)throw new De(n.error,"failed to get signature status");return n.result}async getTransactionCount(r){const{commitment:t,config:e}=Fr(r),n=this._buildArgs([],t,void 0,e),s=Ee(await this._rpcRequest("getTransactionCount",n),rr(jt()));if("error"in s)throw new De(s.error,"failed to get transaction count");return s.result}async getTotalSupply(r){return(await this.getSupply({commitment:r,excludeNonCirculatingAccountsList:!0})).value.total}async getInflationGovernor(r){const t=this._buildArgs([],r),e=Ee(await this._rpcRequest("getInflationGovernor",t),bF);if("error"in e)throw new De(e.error,"failed to get inflation");return e.result}async getInflationReward(r,t,e){const{commitment:n,config:s}=Fr(e),i=this._buildArgs([r.map(l=>l.toBase58())],n,void 0,{...s,epoch:t??(s==null?void 0:s.epoch)}),c=Ee(await this._rpcRequest("getInflationReward",i),fF);if("error"in c)throw new De(c.error,"failed to get inflation reward");return c.result}async getInflationRate(){const r=Ee(await this._rpcRequest("getInflationRate",[]),wF);if("error"in r)throw new De(r.error,"failed to get inflation rate");return r.result}async getEpochInfo(r){const{commitment:t,config:e}=Fr(r),n=this._buildArgs([],t,void 0,e),s=Ee(await this._rpcRequest("getEpochInfo",n),_F);if("error"in s)throw new De(s.error,"failed to get epoch info");return s.result}async getEpochSchedule(){const r=Ee(await this._rpcRequest("getEpochSchedule",[]),MF);if("error"in r)throw new De(r.error,"failed to get epoch schedule");const t=r.result;return new e4(t.slotsPerEpoch,t.leaderScheduleSlotOffset,t.warmup,t.firstNormalEpoch,t.firstNormalSlot)}async getLeaderSchedule(){const r=Ee(await this._rpcRequest("getLeaderSchedule",[]),EF);if("error"in r)throw new De(r.error,"failed to get leader schedule");return r.result}async getMinimumBalanceForRentExemption(r,t){const e=this._buildArgs([r],t),n=Ee(await this._rpcRequest("getMinimumBalanceForRentExemption",e),XF);return"error"in n?(console.warn("Unable to fetch minimum balance for rent exemption"),0):n.result}async getRecentBlockhashAndContext(r){const t=this._buildArgs([],r),e=Ee(await this._rpcRequest("getRecentBlockhash",t),oj);if("error"in e)throw new De(e.error,"failed to get recent blockhash");return e.result}async getRecentPerformanceSamples(r){const t=Ee(await this._rpcRequest("getRecentPerformanceSamples",r?[r]:[]),uj);if("error"in t)throw new De(t.error,"failed to get recent performance samples");return t.result}async getFeeCalculatorForBlockhash(r,t){const e=this._buildArgs([r],t),n=Ee(await this._rpcRequest("getFeeCalculatorForBlockhash",e),fj);if("error"in n)throw new De(n.error,"failed to get fee calculator");const{context:s,value:i}=n.result;return{context:s,value:i!==null?i.feeCalculator:null}}async getFeeForMessage(r,t){const e=nr(r.serialize()).toString("base64"),n=this._buildArgs([e],t),s=Ee(await this._rpcRequest("getFeeForMessage",n),nn(ke(jt())));if("error"in s)throw new De(s.error,"failed to get fee for message");if(s.result===null)throw new Error("invalid blockhash");return s.result}async getRecentPrioritizationFees(r){var s;const t=(s=r==null?void 0:r.lockedWritableAccounts)==null?void 0:s.map(i=>i.toBase58()),e=t!=null&&t.length?[t]:[],n=Ee(await this._rpcRequest("getRecentPrioritizationFees",e),xF);if("error"in n)throw new De(n.error,"failed to get recent prioritization fees");return n.result}async getRecentBlockhash(r){try{return(await this.getRecentBlockhashAndContext(r)).value}catch(t){throw new Error("failed to get recent blockhash: "+t)}}async getLatestBlockhash(r){try{return(await this.getLatestBlockhashAndContext(r)).value}catch(t){throw new Error("failed to get recent blockhash: "+t)}}async getLatestBlockhashAndContext(r){const{commitment:t,config:e}=Fr(r),n=this._buildArgs([],t,void 0,e),s=Ee(await this._rpcRequest("getLatestBlockhash",n),sj);if("error"in s)throw new De(s.error,"failed to get latest blockhash");return s.result}async isBlockhashValid(r,t){const{commitment:e,config:n}=Fr(t),s=this._buildArgs([r],e,void 0,n),i=Ee(await this._rpcRequest("isBlockhashValid",s),aj);if("error"in i)throw new De(i.error,"failed to determine if the blockhash `"+r+"`is valid");return i.result}async getVersion(){const r=Ee(await this._rpcRequest("getVersion",[]),rr(gF));if("error"in r)throw new De(r.error,"failed to get version");return r.result}async getGenesisHash(){const r=Ee(await this._rpcRequest("getGenesisHash",[]),rr(_e()));if("error"in r)throw new De(r.error,"failed to get genesis hash");return r.result}async getBlock(r,t){const{commitment:e,config:n}=Fr(t),s=this._buildArgsAtLeastConfirmed([r],e,void 0,n),i=await this._rpcRequest("getBlock",s);try{switch(n==null?void 0:n.transactionDetails){case"accounts":{const c=Ee(i,tj);if("error"in c)throw c.error;return c.result}case"none":{const c=Ee(i,QF);if("error"in c)throw c.error;return c.result}default:{const c=Ee(i,JF);if("error"in c)throw c.error;const{result:l}=c;return l?{...l,transactions:l.transactions.map(({transaction:p,meta:m,version:v})=>({meta:m,transaction:{...p,message:Xp(v,p.message)},version:v}))}:null}}}catch(c){throw new De(c,"failed to get confirmed block")}}async getParsedBlock(r,t){const{commitment:e,config:n}=Fr(t),s=this._buildArgsAtLeastConfirmed([r],e,"jsonParsed",n),i=await this._rpcRequest("getBlock",s);try{switch(n==null?void 0:n.transactionDetails){case"accounts":{const c=Ee(i,rj);if("error"in c)throw c.error;return c.result}case"none":{const c=Ee(i,nj);if("error"in c)throw c.error;return c.result}default:{const c=Ee(i,ej);if("error"in c)throw c.error;return c.result}}}catch(c){throw new De(c,"failed to get block")}}async getBlockProduction(r){let t,e;if(typeof r=="string")e=r;else if(r){const{commitment:i,...c}=r;e=i,t=c}const n=this._buildArgs([],e,"base64",t),s=Ee(await this._rpcRequest("getBlockProduction",n),yF);if("error"in s)throw new De(s.error,"failed to get block production information");return s.result}async getTransaction(r,t){const{commitment:e,config:n}=Fr(t),s=this._buildArgsAtLeastConfirmed([r],e,void 0,n),i=Ee(await this._rpcRequest("getTransaction",s),Jp);if("error"in i)throw new De(i.error,"failed to get transaction");const c=i.result;return c&&{...c,transaction:{...c.transaction,message:Xp(c.version,c.transaction.message)}}}async getParsedTransaction(r,t){const{commitment:e,config:n}=Fr(t),s=this._buildArgsAtLeastConfirmed([r],e,"jsonParsed",n),i=Ee(await this._rpcRequest("getTransaction",s),d0);if("error"in i)throw new De(i.error,"failed to get transaction");return i.result}async getParsedTransactions(r,t){const{commitment:e,config:n}=Fr(t),s=r.map(i=>({methodName:"getTransaction",args:this._buildArgsAtLeastConfirmed([i],e,"jsonParsed",n)}));return(await this._rpcBatchRequest(s)).map(i=>{const c=Ee(i,d0);if("error"in c)throw new De(c.error,"failed to get transactions");return c.result})}async getTransactions(r,t){const{commitment:e,config:n}=Fr(t),s=r.map(i=>({methodName:"getTransaction",args:this._buildArgsAtLeastConfirmed([i],e,void 0,n)}));return(await this._rpcBatchRequest(s)).map(i=>{const c=Ee(i,Jp);if("error"in c)throw new De(c.error,"failed to get transactions");const l=c.result;return l&&{...l,transaction:{...l.transaction,message:Xp(l.version,l.transaction.message)}}})}async getConfirmedBlock(r,t){const e=this._buildArgsAtLeastConfirmed([r],t),n=Ee(await this._rpcRequest("getConfirmedBlock",e),ij);if("error"in n)throw new De(n.error,"failed to get confirmed block");const s=n.result;if(!s)throw new Error("Confirmed block "+r+" not found");const i={...s,transactions:s.transactions.map(({transaction:c,meta:l})=>{const p=new uo(c.message);return{meta:l,transaction:{...c,message:p}}})};return{...i,transactions:i.transactions.map(({transaction:c,meta:l})=>({meta:l,transaction:wr.populate(c.message,c.signatures)}))}}async getBlocks(r,t,e){const n=this._buildArgsAtLeastConfirmed(t!==void 0?[r,t]:[r],e),s=Ee(await this._rpcRequest("getBlocks",n),rr(Ie(jt())));if("error"in s)throw new De(s.error,"failed to get blocks");return s.result}async getBlockSignatures(r,t){const e=this._buildArgsAtLeastConfirmed([r],t,void 0,{transactionDetails:"signatures",rewards:!1}),n=Ee(await this._rpcRequest("getBlock",e),s4);if("error"in n)throw new De(n.error,"failed to get block");const s=n.result;if(!s)throw new Error("Block "+r+" not found");return s}async getConfirmedBlockSignatures(r,t){const e=this._buildArgsAtLeastConfirmed([r],t,void 0,{transactionDetails:"signatures",rewards:!1}),n=Ee(await this._rpcRequest("getConfirmedBlock",e),s4);if("error"in n)throw new De(n.error,"failed to get confirmed block");const s=n.result;if(!s)throw new Error("Confirmed block "+r+" not found");return s}async getConfirmedTransaction(r,t){const e=this._buildArgsAtLeastConfirmed([r],t),n=Ee(await this._rpcRequest("getConfirmedTransaction",e),Jp);if("error"in n)throw new De(n.error,"failed to get transaction");const s=n.result;if(!s)return s;const i=new uo(s.transaction.message),c=s.transaction.signatures;return{...s,transaction:wr.populate(i,c)}}async getParsedConfirmedTransaction(r,t){const e=this._buildArgsAtLeastConfirmed([r],t,"jsonParsed"),n=Ee(await this._rpcRequest("getConfirmedTransaction",e),d0);if("error"in n)throw new De(n.error,"failed to get confirmed transaction");return n.result}async getParsedConfirmedTransactions(r,t){const e=r.map(n=>({methodName:"getConfirmedTransaction",args:this._buildArgsAtLeastConfirmed([n],t,"jsonParsed")}));return(await this._rpcBatchRequest(e)).map(n=>{const s=Ee(n,d0);if("error"in s)throw new De(s.error,"failed to get confirmed transactions");return s.result})}async getConfirmedSignaturesForAddress(r,t,e){let n={},s=await this.getFirstAvailableBlock();for(;!("until"in n)&&!(--t<=0||t<s);)try{const c=await this.getConfirmedBlockSignatures(t,"finalized");c.signatures.length>0&&(n.until=c.signatures[c.signatures.length-1].toString())}catch(c){if(c instanceof Error&&c.message.includes("skipped"))continue;throw c}let i=await this.getSlot("finalized");for(;!("before"in n||++e>i);)try{const c=await this.getConfirmedBlockSignatures(e);c.signatures.length>0&&(n.before=c.signatures[c.signatures.length-1].toString())}catch(c){if(c instanceof Error&&c.message.includes("skipped"))continue;throw c}return(await this.getConfirmedSignaturesForAddress2(r,n)).map(c=>c.signature)}async getConfirmedSignaturesForAddress2(r,t,e){const n=this._buildArgsAtLeastConfirmed([r.toBase58()],e,void 0,t),s=Ee(await this._rpcRequest("getConfirmedSignaturesForAddress2",n),OF);if("error"in s)throw new De(s.error,"failed to get confirmed signatures for address");return s.result}async getSignaturesForAddress(r,t,e){const n=this._buildArgsAtLeastConfirmed([r.toBase58()],e,void 0,t),s=Ee(await this._rpcRequest("getSignaturesForAddress",n),UF);if("error"in s)throw new De(s.error,"failed to get signatures for address");return s.result}async getAddressLookupTable(r,t){const{context:e,value:n}=await this.getAccountInfoAndContext(r,t);let s=null;return n!==null&&(s=new Yp({key:r,state:Yp.deserialize(n.data)})),{context:e,value:s}}async getNonceAndContext(r,t){const{context:e,value:n}=await this.getAccountInfoAndContext(r,t);let s=null;return n!==null&&(s=El.fromAccountData(n.data)),{context:e,value:s}}async getNonce(r,t){return await this.getNonceAndContext(r,t).then(e=>e.value).catch(e=>{throw new Error("failed to get nonce for account "+r.toBase58()+": "+e)})}async requestAirdrop(r,t){const e=Ee(await this._rpcRequest("requestAirdrop",[r.toBase58(),t]),cj);if("error"in e)throw new De(e.error,`airdrop to ${r.toBase58()} failed`);return e.result}async _blockhashWithExpiryBlockHeight(r){if(!r){for(;this._pollingBlockhash;)await xa(100);const t=Date.now()-this._blockhashInfo.lastFetch>=3e4;if(this._blockhashInfo.latestBlockhash!==null&&!t)return this._blockhashInfo.latestBlockhash}return await this._pollNewBlockhash()}async _pollNewBlockhash(){this._pollingBlockhash=!0;try{const r=Date.now(),t=this._blockhashInfo.latestBlockhash,e=t?t.blockhash:null;for(let n=0;n<50;n++){const s=await this.getLatestBlockhash("finalized");if(e!==s.blockhash)return this._blockhashInfo={latestBlockhash:s,lastFetch:Date.now(),transactionSignatures:[],simulatedSignatures:[]},s;await xa(200)}throw new Error(`Unable to obtain a new blockhash after ${Date.now()-r}ms`)}finally{this._pollingBlockhash=!1}}async getStakeMinimumDelegation(r){const{commitment:t,config:e}=Fr(r),n=this._buildArgs([],t,"base64",e),s=Ee(await this._rpcRequest("getStakeMinimumDelegation",n),nn(jt()));if("error"in s)throw new De(s.error,"failed to get stake minimum delegation");return s.result}async simulateTransaction(r,t,e){if("message"in r){const _=r.serialize(),E=Ae.Buffer.from(_).toString("base64");if(Array.isArray(t)||e!==void 0)throw new Error("Invalid arguments");const w=t||{};w.encoding="base64","commitment"in w||(w.commitment=this.commitment);const x=[E,w],A=Ee(await this._rpcRequest("simulateTransaction",x),r4);if("error"in A)throw new Error("failed to simulate transaction: "+A.error.message);return A.result}let n;if(r instanceof wr){let _=r;n=new wr,n.feePayer=_.feePayer,n.instructions=r.instructions,n.nonceInfo=_.nonceInfo,n.signatures=_.signatures}else n=wr.populate(r),n._message=n._json=void 0;if(t!==void 0&&!Array.isArray(t))throw new Error("Invalid arguments");const s=t;if(n.nonceInfo&&s)n.sign(...s);else{let _=this._disableBlockhashCaching;for(;;){const E=await this._blockhashWithExpiryBlockHeight(_);if(n.lastValidBlockHeight=E.lastValidBlockHeight,n.recentBlockhash=E.blockhash,!s)break;if(n.sign(...s),!n.signature)throw new Error("!signature");const w=n.signature.toString("base64");if(!this._blockhashInfo.simulatedSignatures.includes(w)&&!this._blockhashInfo.transactionSignatures.includes(w)){this._blockhashInfo.simulatedSignatures.push(w);break}_=!0}}const i=n._compile(),c=i.serialize(),l=n._serialize(c).toString("base64"),p={encoding:"base64",commitment:this.commitment};if(e){const _=(Array.isArray(e)?e:i.nonProgramIds()).map(E=>E.toBase58());p.accounts={encoding:"base64",addresses:_}}s&&(p.sigVerify=!0);const m=[l,p],v=Ee(await this._rpcRequest("simulateTransaction",m),r4);if("error"in v){let _;if("data"in v.error&&(_=v.error.data.logs,_&&Array.isArray(_))){const E=`
    `,w=E+_.join(E);console.error(v.error.message,w)}throw new Ku("failed to simulate transaction: "+v.error.message,_)}return v.result}async sendTransaction(r,t,e){if("version"in r){if(t&&Array.isArray(t))throw new Error("Invalid arguments");const i=r.serialize();return await this.sendRawTransaction(i,t)}if(t===void 0||!Array.isArray(t))throw new Error("Invalid arguments");const n=t;if(r.nonceInfo)r.sign(...n);else{let i=this._disableBlockhashCaching;for(;;){const c=await this._blockhashWithExpiryBlockHeight(i);if(r.lastValidBlockHeight=c.lastValidBlockHeight,r.recentBlockhash=c.blockhash,r.sign(...n),!r.signature)throw new Error("!signature");const l=r.signature.toString("base64");if(!this._blockhashInfo.transactionSignatures.includes(l)){this._blockhashInfo.transactionSignatures.push(l);break}i=!0}}const s=r.serialize();return await this.sendRawTransaction(s,e)}async sendRawTransaction(r,t){const e=nr(r).toString("base64");return await this.sendEncodedTransaction(e,t)}async sendEncodedTransaction(r,t){const e={encoding:"base64"},n=t&&t.skipPreflight,s=t&&t.preflightCommitment||this.commitment;t&&t.maxRetries!=null&&(e.maxRetries=t.maxRetries),t&&t.minContextSlot!=null&&(e.minContextSlot=t.minContextSlot),n&&(e.skipPreflight=n),s&&(e.preflightCommitment=s);const i=[r,e],c=Ee(await this._rpcRequest("sendTransaction",i),hj);if("error"in c){let l;throw"data"in c.error&&(l=c.error.data.logs),new Ku("failed to send transaction: "+c.error.message,l)}return c.result}_wsOnOpen(){this._rpcWebSocketConnected=!0,this._rpcWebSocketHeartbeat=setInterval(()=>{(async()=>{try{await this._rpcWebSocket.notify("ping")}catch{}})()},5e3),this._updateSubscriptions()}_wsOnError(r){this._rpcWebSocketConnected=!1,console.error("ws error:",r.message)}_wsOnClose(r){this._rpcWebSocketConnected=!1,this._rpcWebSocketGeneration=(this._rpcWebSocketGeneration+1)%Number.MAX_SAFE_INTEGER,this._rpcWebSocketIdleTimeout&&(clearTimeout(this._rpcWebSocketIdleTimeout),this._rpcWebSocketIdleTimeout=null),this._rpcWebSocketHeartbeat&&(clearInterval(this._rpcWebSocketHeartbeat),this._rpcWebSocketHeartbeat=null),r!==1e3?(this._subscriptionCallbacksByServerSubscriptionId={},Object.entries(this._subscriptionsByHash).forEach(([t,e])=>{this._setSubscription(t,{...e,state:"pending"})})):this._updateSubscriptions()}_setSubscription(r,t){var n;const e=(n=this._subscriptionsByHash[r])==null?void 0:n.state;if(this._subscriptionsByHash[r]=t,e!==t.state){const s=this._subscriptionStateChangeCallbacksByHash[r];s&&s.forEach(i=>{try{i(t.state)}catch{}})}}_onSubscriptionStateChange(r,t){var s;const e=this._subscriptionHashByClientSubscriptionId[r];if(e==null)return()=>{};const n=(s=this._subscriptionStateChangeCallbacksByHash)[e]||(s[e]=new Set);return n.add(t),()=>{n.delete(t),n.size===0&&delete this._subscriptionStateChangeCallbacksByHash[e]}}async _updateSubscriptions(){if(Object.keys(this._subscriptionsByHash).length===0)return void(this._rpcWebSocketConnected&&(this._rpcWebSocketConnected=!1,this._rpcWebSocketIdleTimeout=setTimeout(()=>{this._rpcWebSocketIdleTimeout=null;try{this._rpcWebSocket.close()}catch(e){e instanceof Error&&console.log(`Error when closing socket connection: ${e.message}`)}},500)));if(this._rpcWebSocketIdleTimeout!==null&&(clearTimeout(this._rpcWebSocketIdleTimeout),this._rpcWebSocketIdleTimeout=null,this._rpcWebSocketConnected=!0),!this._rpcWebSocketConnected)return void this._rpcWebSocket.connect();const r=this._rpcWebSocketGeneration,t=()=>r===this._rpcWebSocketGeneration;await Promise.all(Object.keys(this._subscriptionsByHash).map(async e=>{const n=this._subscriptionsByHash[e];if(n!==void 0)switch(n.state){case"pending":case"unsubscribed":if(n.callbacks.size===0)return delete this._subscriptionsByHash[e],n.state==="unsubscribed"&&delete this._subscriptionCallbacksByServerSubscriptionId[n.serverSubscriptionId],void await this._updateSubscriptions();await(async()=>{const{args:s,method:i}=n;try{this._setSubscription(e,{...n,state:"subscribing"});const c=await this._rpcWebSocket.call(i,s);this._setSubscription(e,{...n,serverSubscriptionId:c,state:"subscribed"}),this._subscriptionCallbacksByServerSubscriptionId[c]=n.callbacks,await this._updateSubscriptions()}catch(c){if(c instanceof Error&&console.error(`${i} error for argument`,s,c.message),!t())return;this._setSubscription(e,{...n,state:"pending"}),await this._updateSubscriptions()}})();break;case"subscribed":n.callbacks.size===0&&await(async()=>{const{serverSubscriptionId:s,unsubscribeMethod:i}=n;if(this._subscriptionsAutoDisposedByRpc.has(s))this._subscriptionsAutoDisposedByRpc.delete(s);else{this._setSubscription(e,{...n,state:"unsubscribing"}),this._setSubscription(e,{...n,state:"unsubscribing"});try{await this._rpcWebSocket.call(i,[s])}catch(c){return c instanceof Error&&console.error(`${i} error:`,c.message),t()?(this._setSubscription(e,{...n,state:"subscribed"}),void await this._updateSubscriptions()):void 0}}this._setSubscription(e,{...n,state:"unsubscribed"}),await this._updateSubscriptions()})()}}))}_handleServerNotification(r,t){const e=this._subscriptionCallbacksByServerSubscriptionId[r];e!==void 0&&e.forEach(n=>{try{n(...t)}catch(s){console.error(s)}})}_wsOnAccountNotification(r){const{result:t,subscription:e}=Ee(r,NF);this._handleServerNotification(e,[t.value,t.context])}_makeSubscription(r,t){const e=this._nextClientSubscriptionId++,n=t4([r.method,t],!0),s=this._subscriptionsByHash[n];return s===void 0?this._subscriptionsByHash[n]={...r,args:t,callbacks:new Set([r.callback]),state:"pending"}:s.callbacks.add(r.callback),this._subscriptionHashByClientSubscriptionId[e]=n,this._subscriptionDisposeFunctionsByClientSubscriptionId[e]=async()=>{delete this._subscriptionDisposeFunctionsByClientSubscriptionId[e],delete this._subscriptionHashByClientSubscriptionId[e];const i=this._subscriptionsByHash[n];xr(i!==void 0,`Could not find a \`Subscription\` when tearing down client subscription #${e}`),i.callbacks.delete(r.callback),await this._updateSubscriptions()},this._updateSubscriptions(),e}onAccountChange(r,t,e){const n=this._buildArgs([r.toBase58()],e||this._commitment||"finalized","base64");return this._makeSubscription({callback:t,method:"accountSubscribe",unsubscribeMethod:"accountUnsubscribe"},n)}async removeAccountChangeListener(r){await this._unsubscribeClientSubscription(r,"account change")}_wsOnProgramAccountNotification(r){const{result:t,subscription:e}=Ee(r,zF);this._handleServerNotification(e,[{accountId:t.value.pubkey,accountInfo:t.value.account},t.context])}onProgramAccountChange(r,t,e,n){const s=this._buildArgs([r.toBase58()],e||this._commitment||"finalized","base64",n?{filters:n}:void 0);return this._makeSubscription({callback:t,method:"programSubscribe",unsubscribeMethod:"programUnsubscribe"},s)}async removeProgramAccountChangeListener(r){await this._unsubscribeClientSubscription(r,"program account change")}onLogs(r,t,e){const n=this._buildArgs([typeof r=="object"?{mentions:[r.toString()]}:r],e||this._commitment||"finalized");return this._makeSubscription({callback:t,method:"logsSubscribe",unsubscribeMethod:"logsUnsubscribe"},n)}async removeOnLogsListener(r){await this._unsubscribeClientSubscription(r,"logs")}_wsOnLogsNotification(r){const{result:t,subscription:e}=Ee(r,dj);this._handleServerNotification(e,[t.value,t.context])}_wsOnSlotNotification(r){const{result:t,subscription:e}=Ee(r,FF);this._handleServerNotification(e,[t])}onSlotChange(r){return this._makeSubscription({callback:r,method:"slotSubscribe",unsubscribeMethod:"slotUnsubscribe"},[])}async removeSlotChangeListener(r){await this._unsubscribeClientSubscription(r,"slot change")}_wsOnSlotUpdatesNotification(r){const{result:t,subscription:e}=Ee(r,KF);this._handleServerNotification(e,[t])}onSlotUpdate(r){return this._makeSubscription({callback:r,method:"slotsUpdatesSubscribe",unsubscribeMethod:"slotsUpdatesUnsubscribe"},[])}async removeSlotUpdateListener(r){await this._unsubscribeClientSubscription(r,"slot update")}async _unsubscribeClientSubscription(r,t){const e=this._subscriptionDisposeFunctionsByClientSubscriptionId[r];e?await e():console.warn(`Ignored unsubscribe request because an active subscription with id \`${r}\` for '${t}' events could not be found.`)}_buildArgs(r,t,e,n){const s=t||this._commitment;if(s||e||n){let i={};e&&(i.encoding=e),s&&(i.commitment=s),n&&(i=Object.assign(i,n)),r.push(i)}return r}_buildArgsAtLeastConfirmed(r,t,e,n){const s=t||this._commitment;if(s&&!["confirmed","finalized"].includes(s))throw new Error("Using Connection with default commitment: `"+this._commitment+"`, but method requires at least `confirmed`");return this._buildArgs(r,t,e,n)}_wsOnSignatureNotification(r){const{result:t,subscription:e}=Ee(r,$F);t.value!=="receivedSignature"&&this._subscriptionsAutoDisposedByRpc.add(e),this._handleServerNotification(e,t.value==="receivedSignature"?[{type:"received"},t.context]:[{type:"status",result:t.value},t.context])}onSignature(r,t,e){const n=this._buildArgs([r],e||this._commitment||"finalized"),s=this._makeSubscription({callback:(i,c)=>{if(i.type==="status"){t(i.result,c);try{this.removeSignatureListener(s)}catch{}}},method:"signatureSubscribe",unsubscribeMethod:"signatureUnsubscribe"},n);return s}onSignatureWithOptions(r,t,e){const{commitment:n,...s}={...e,commitment:e&&e.commitment||this._commitment||"finalized"},i=this._buildArgs([r],n,void 0,s),c=this._makeSubscription({callback:(l,p)=>{t(l,p);try{this.removeSignatureListener(c)}catch{}},method:"signatureSubscribe",unsubscribeMethod:"signatureUnsubscribe"},i);return c}async removeSignatureListener(r){await this._unsubscribeClientSubscription(r,"signature result")}_wsOnRootNotification(r){const{result:t,subscription:e}=Ee(r,HF);this._handleServerNotification(e,[t])}onRootChange(r){return this._makeSubscription({callback:r,method:"rootSubscribe",unsubscribeMethod:"rootUnsubscribe"},[])}async removeRootChangeListener(r){await this._unsubscribeClientSubscription(r,"root change")}},Ed25519Program:kd,Enum:class extends V2{constructor(r){if(super(r),this.enum="",Object.keys(r).length!==1)throw new Error("Enum can only take single value");Object.keys(r).map(t=>{this.enum=t})}},EpochSchedule:e4,FeeCalculatorLayout:sA,Keypair:$u,LAMPORTS_PER_SOL:1e9,LOOKUP_TABLE_INSTRUCTION_LAYOUTS:ys,Loader:ja,Lockup:ih,MAX_SEED_LENGTH:32,Message:uo,MessageAccountKeys:eh,MessageV0:eu,NONCE_ACCOUNT_LENGTH:rh,NonceAccount:El,PACKET_DATA_SIZE:ju,PUBLIC_KEY_LENGTH:Si,PublicKey:Xt,SIGNATURE_LENGTH_IN_BYTES:hf,SOLANA_SCHEMA:Ic,STAKE_CONFIG_ID:vA,STAKE_INSTRUCTION_LAYOUTS:_n,SYSTEM_INSTRUCTION_LAYOUTS:Ur,SYSVAR_CLOCK_PUBKEY:oo,SYSVAR_EPOCH_SCHEDULE_PUBKEY:Wq,SYSVAR_INSTRUCTIONS_PUBKEY:Gq,SYSVAR_RECENT_BLOCKHASHES_PUBKEY:J0,SYSVAR_RENT_PUBKEY:na,SYSVAR_REWARDS_PUBKEY:Yq,SYSVAR_SLOT_HASHES_PUBKEY:Xq,SYSVAR_SLOT_HISTORY_PUBKEY:Jq,SYSVAR_STAKE_HISTORY_PUBKEY:Q0,Secp256k1Program:Hu,SendTransactionError:Ku,SolanaJSONRPCError:De,SolanaJSONRPCErrorCode:{JSON_RPC_SERVER_ERROR_BLOCK_CLEANED_UP:-32001,JSON_RPC_SERVER_ERROR_SEND_TRANSACTION_PREFLIGHT_FAILURE:-32002,JSON_RPC_SERVER_ERROR_TRANSACTION_SIGNATURE_VERIFICATION_FAILURE:-32003,JSON_RPC_SERVER_ERROR_BLOCK_NOT_AVAILABLE:-32004,JSON_RPC_SERVER_ERROR_NODE_UNHEALTHY:-32005,JSON_RPC_SERVER_ERROR_TRANSACTION_PRECOMPILE_VERIFICATION_FAILURE:-32006,JSON_RPC_SERVER_ERROR_SLOT_SKIPPED:-32007,JSON_RPC_SERVER_ERROR_NO_SNAPSHOT:-32008,JSON_RPC_SERVER_ERROR_LONG_TERM_STORAGE_SLOT_SKIPPED:-32009,JSON_RPC_SERVER_ERROR_KEY_EXCLUDED_FROM_SECONDARY_INDEX:-32010,JSON_RPC_SERVER_ERROR_TRANSACTION_HISTORY_NOT_AVAILABLE:-32011,JSON_RPC_SCAN_ERROR:-32012,JSON_RPC_SERVER_ERROR_TRANSACTION_SIGNATURE_LEN_MISMATCH:-32013,JSON_RPC_SERVER_ERROR_BLOCK_STATUS_NOT_AVAILABLE_YET:-32014,JSON_RPC_SERVER_ERROR_UNSUPPORTED_TRANSACTION_VERSION:-32015,JSON_RPC_SERVER_ERROR_MIN_CONTEXT_SLOT_NOT_REACHED:-32016},StakeAuthorizationLayout:vj,StakeInstruction:class{constructor(){}static decodeInstructionType(r){this.checkProgramId(r.programId);const t=Ce("instruction").decode(r.data);let e;for(const[n,s]of Object.entries(_n))if(s.index==t){e=n;break}if(!e)throw new Error("Instruction type incorrect; not a StakeInstruction");return e}static decodeInitialize(r){this.checkProgramId(r.programId),this.checkKeyLength(r.keys,2);const{authorized:t,lockup:e}=Br(_n.Initialize,r.data);return{stakePubkey:r.keys[0].pubkey,authorized:new f4(new Xt(t.staker),new Xt(t.withdrawer)),lockup:new ih(e.unixTimestamp,e.epoch,new Xt(e.custodian))}}static decodeDelegate(r){return this.checkProgramId(r.programId),this.checkKeyLength(r.keys,6),Br(_n.Delegate,r.data),{stakePubkey:r.keys[0].pubkey,votePubkey:r.keys[1].pubkey,authorizedPubkey:r.keys[5].pubkey}}static decodeAuthorize(r){this.checkProgramId(r.programId),this.checkKeyLength(r.keys,3);const{newAuthorized:t,stakeAuthorizationType:e}=Br(_n.Authorize,r.data),n={stakePubkey:r.keys[0].pubkey,authorizedPubkey:r.keys[2].pubkey,newAuthorizedPubkey:new Xt(t),stakeAuthorizationType:{index:e}};return r.keys.length>3&&(n.custodianPubkey=r.keys[3].pubkey),n}static decodeAuthorizeWithSeed(r){this.checkProgramId(r.programId),this.checkKeyLength(r.keys,2);const{newAuthorized:t,stakeAuthorizationType:e,authoritySeed:n,authorityOwner:s}=Br(_n.AuthorizeWithSeed,r.data),i={stakePubkey:r.keys[0].pubkey,authorityBase:r.keys[1].pubkey,authoritySeed:n,authorityOwner:new Xt(s),newAuthorizedPubkey:new Xt(t),stakeAuthorizationType:{index:e}};return r.keys.length>3&&(i.custodianPubkey=r.keys[3].pubkey),i}static decodeSplit(r){this.checkProgramId(r.programId),this.checkKeyLength(r.keys,3);const{lamports:t}=Br(_n.Split,r.data);return{stakePubkey:r.keys[0].pubkey,splitStakePubkey:r.keys[1].pubkey,authorizedPubkey:r.keys[2].pubkey,lamports:t}}static decodeMerge(r){return this.checkProgramId(r.programId),this.checkKeyLength(r.keys,3),Br(_n.Merge,r.data),{stakePubkey:r.keys[0].pubkey,sourceStakePubKey:r.keys[1].pubkey,authorizedPubkey:r.keys[4].pubkey}}static decodeWithdraw(r){this.checkProgramId(r.programId),this.checkKeyLength(r.keys,5);const{lamports:t}=Br(_n.Withdraw,r.data),e={stakePubkey:r.keys[0].pubkey,toPubkey:r.keys[1].pubkey,authorizedPubkey:r.keys[4].pubkey,lamports:t};return r.keys.length>5&&(e.custodianPubkey=r.keys[5].pubkey),e}static decodeDeactivate(r){return this.checkProgramId(r.programId),this.checkKeyLength(r.keys,3),Br(_n.Deactivate,r.data),{stakePubkey:r.keys[0].pubkey,authorizedPubkey:r.keys[2].pubkey}}static checkProgramId(r){if(!r.equals(Sl.programId))throw new Error("invalid instruction; programId is not StakeProgram")}static checkKeyLength(r,t){if(r.length<t)throw new Error(`invalid instruction; found ${r.length} keys, expected at least ${t}`)}},StakeProgram:Sl,Struct:V2,SystemInstruction:class{constructor(){}static decodeInstructionType(r){this.checkProgramId(r.programId);const t=Ce("instruction").decode(r.data);let e;for(const[n,s]of Object.entries(Ur))if(s.index==t){e=n;break}if(!e)throw new Error("Instruction type incorrect; not a SystemInstruction");return e}static decodeCreateAccount(r){this.checkProgramId(r.programId),this.checkKeyLength(r.keys,2);const{lamports:t,space:e,programId:n}=Br(Ur.Create,r.data);return{fromPubkey:r.keys[0].pubkey,newAccountPubkey:r.keys[1].pubkey,lamports:t,space:e,programId:new Xt(n)}}static decodeTransfer(r){this.checkProgramId(r.programId),this.checkKeyLength(r.keys,2);const{lamports:t}=Br(Ur.Transfer,r.data);return{fromPubkey:r.keys[0].pubkey,toPubkey:r.keys[1].pubkey,lamports:t}}static decodeTransferWithSeed(r){this.checkProgramId(r.programId),this.checkKeyLength(r.keys,3);const{lamports:t,seed:e,programId:n}=Br(Ur.TransferWithSeed,r.data);return{fromPubkey:r.keys[0].pubkey,basePubkey:r.keys[1].pubkey,toPubkey:r.keys[2].pubkey,lamports:t,seed:e,programId:new Xt(n)}}static decodeAllocate(r){this.checkProgramId(r.programId),this.checkKeyLength(r.keys,1);const{space:t}=Br(Ur.Allocate,r.data);return{accountPubkey:r.keys[0].pubkey,space:t}}static decodeAllocateWithSeed(r){this.checkProgramId(r.programId),this.checkKeyLength(r.keys,1);const{base:t,seed:e,space:n,programId:s}=Br(Ur.AllocateWithSeed,r.data);return{accountPubkey:r.keys[0].pubkey,basePubkey:new Xt(t),seed:e,space:n,programId:new Xt(s)}}static decodeAssign(r){this.checkProgramId(r.programId),this.checkKeyLength(r.keys,1);const{programId:t}=Br(Ur.Assign,r.data);return{accountPubkey:r.keys[0].pubkey,programId:new Xt(t)}}static decodeAssignWithSeed(r){this.checkProgramId(r.programId),this.checkKeyLength(r.keys,1);const{base:t,seed:e,programId:n}=Br(Ur.AssignWithSeed,r.data);return{accountPubkey:r.keys[0].pubkey,basePubkey:new Xt(t),seed:e,programId:new Xt(n)}}static decodeCreateWithSeed(r){this.checkProgramId(r.programId),this.checkKeyLength(r.keys,2);const{base:t,seed:e,lamports:n,space:s,programId:i}=Br(Ur.CreateWithSeed,r.data);return{fromPubkey:r.keys[0].pubkey,newAccountPubkey:r.keys[1].pubkey,basePubkey:new Xt(t),seed:e,lamports:n,space:s,programId:new Xt(i)}}static decodeNonceInitialize(r){this.checkProgramId(r.programId),this.checkKeyLength(r.keys,3);const{authorized:t}=Br(Ur.InitializeNonceAccount,r.data);return{noncePubkey:r.keys[0].pubkey,authorizedPubkey:new Xt(t)}}static decodeNonceAdvance(r){return this.checkProgramId(r.programId),this.checkKeyLength(r.keys,3),Br(Ur.AdvanceNonceAccount,r.data),{noncePubkey:r.keys[0].pubkey,authorizedPubkey:r.keys[2].pubkey}}static decodeNonceWithdraw(r){this.checkProgramId(r.programId),this.checkKeyLength(r.keys,5);const{lamports:t}=Br(Ur.WithdrawNonceAccount,r.data);return{noncePubkey:r.keys[0].pubkey,toPubkey:r.keys[1].pubkey,authorizedPubkey:r.keys[4].pubkey,lamports:t}}static decodeNonceAuthorize(r){this.checkProgramId(r.programId),this.checkKeyLength(r.keys,2);const{authorized:t}=Br(Ur.AuthorizeNonceAccount,r.data);return{noncePubkey:r.keys[0].pubkey,authorizedPubkey:r.keys[1].pubkey,newAuthorizedPubkey:new Xt(t)}}static checkProgramId(r){if(!r.equals(an.programId))throw new Error("invalid instruction; programId is not SystemProgram")}static checkKeyLength(r,t){if(r.length<t)throw new Error(`invalid instruction; found ${r.length} keys, expected at least ${t}`)}},SystemProgram:an,Transaction:wr,TransactionExpiredBlockheightExceededError:Z2,TransactionExpiredNonceInvalidError:Su,TransactionExpiredTimeoutError:W2,TransactionInstruction:Ir,TransactionMessage:Sy,TransactionStatus:rs,VALIDATOR_INFO_KEY:gA,VERSION_PREFIX_MASK:Md,VOTE_PROGRAM_ID:bj,ValidatorInfo:Ry,VersionedMessage:Ay,VersionedTransaction:ky,VoteAccount:Cy,VoteAuthorizationLayout:gj,VoteInit:c4,VoteInstruction:class{constructor(){}static decodeInstructionType(r){this.checkProgramId(r.programId);const t=Ce("instruction").decode(r.data);let e;for(const[n,s]of Object.entries(bs))if(s.index==t){e=n;break}if(!e)throw new Error("Instruction type incorrect; not a VoteInstruction");return e}static decodeInitializeAccount(r){this.checkProgramId(r.programId),this.checkKeyLength(r.keys,4);const{voteInit:t}=Br(bs.InitializeAccount,r.data);return{votePubkey:r.keys[0].pubkey,nodePubkey:r.keys[3].pubkey,voteInit:new c4(new Xt(t.nodePubkey),new Xt(t.authorizedVoter),new Xt(t.authorizedWithdrawer),t.commission)}}static decodeAuthorize(r){this.checkProgramId(r.programId),this.checkKeyLength(r.keys,3);const{newAuthorized:t,voteAuthorizationType:e}=Br(bs.Authorize,r.data);return{votePubkey:r.keys[0].pubkey,authorizedPubkey:r.keys[2].pubkey,newAuthorizedPubkey:new Xt(t),voteAuthorizationType:{index:e}}}static decodeAuthorizeWithSeed(r){this.checkProgramId(r.programId),this.checkKeyLength(r.keys,3);const{voteAuthorizeWithSeedArgs:{currentAuthorityDerivedKeyOwnerPubkey:t,currentAuthorityDerivedKeySeed:e,newAuthorized:n,voteAuthorizationType:s}}=Br(bs.AuthorizeWithSeed,r.data);return{currentAuthorityDerivedKeyBasePubkey:r.keys[2].pubkey,currentAuthorityDerivedKeyOwnerPubkey:new Xt(t),currentAuthorityDerivedKeySeed:e,newAuthorizedPubkey:new Xt(n),voteAuthorizationType:{index:s},votePubkey:r.keys[0].pubkey}}static decodeWithdraw(r){this.checkProgramId(r.programId),this.checkKeyLength(r.keys,3);const{lamports:t}=Br(bs.Withdraw,r.data);return{votePubkey:r.keys[0].pubkey,authorizedWithdrawerPubkey:r.keys[2].pubkey,lamports:t,toPubkey:r.keys[1].pubkey}}static checkProgramId(r){if(!r.equals(df.programId))throw new Error("invalid instruction; programId is not VoteProgram")}static checkKeyLength(r,t){if(r.length<t)throw new Error(`invalid instruction; found ${r.length} keys, expected at least ${t}`)}},VoteProgram:df,clusterApiUrl:function(r,t){const e=t===!1?"http":"https";if(!r)return l4[e].devnet;const n=l4[e][r];if(!n)throw new Error(`Unknown ${e} cluster: ${r}`);return n},sendAndConfirmRawTransaction:async function(r,t,e,n){let s,i;e&&Object.prototype.hasOwnProperty.call(e,"lastValidBlockHeight")||e&&Object.prototype.hasOwnProperty.call(e,"nonceValue")?(s=e,i=n):i=e;const c=i&&{skipPreflight:i.skipPreflight,preflightCommitment:i.preflightCommitment||i.commitment,minContextSlot:i.minContextSlot},l=await r.sendRawTransaction(t,c),p=i&&i.commitment,m=s?r.confirmTransaction(s,p):r.confirmTransaction(l,p),v=(await m).value;if(v.err)throw new Error(`Raw transaction ${l} failed (${JSON.stringify(v)})`);return l},sendAndConfirmTransaction:G2});const kl=new Xt("TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA");new Xt("TokenzQdBNbLqP5VEhdkAS6EPFLC1PHnBqCXEpPxuEb");const ev=new Xt("ATokenGPvbdGVxr1b2hvZbsiqW5xWH25efTNsLJA8knL");new Xt("So11111111111111111111111111111111111111112"),new Xt("9pan9bMn5HatX4EJdBwg9VgCa7Uz5HL8N1m5D3NdXejP");const Ty=r=>({decode:r.decode.bind(r),encode:r.encode.bind(r)}),tl=(r=>t=>{const e=Or(r,t),{encode:n,decode:s}=Ty(e),i=e;return i.decode=(c,l)=>{const p=s(c,l);return NE(Zt.Buffer.from(p))},i.encode=(c,l,p)=>{const m=yy(c,r);return n(m,l,p)},i})(8),bA=r=>{const t=or(r),{encode:e,decode:n}=Ty(t),s=t;return s.decode=(i,c)=>!!n(i,c),s.encode=(i,c,l)=>{const p=Number(i);return e(p,c,l)},s},Rn=r=>{const t=Or(32,r),{encode:e,decode:n}=Ty(t),s=t;return s.decode=(i,c)=>{const l=n(i,c);return new Xt(l)},s.encode=(i,c,l)=>{const p=i.toBuffer();return e(p,c,l)},s};class Mj extends Error{constructor(t){super(t)}}class Ej extends Mj{constructor(){super(...arguments),this.name="TokenOwnerOffCurveError"}}var d4;(function(r){r[r.Uninitialized=0]="Uninitialized",r[r.Mint=1]="Mint",r[r.Account=2]="Account"})(d4||(d4={}));Ue([or("m"),or("n"),bA("isInitialized"),Rn("signer1"),Rn("signer2"),Rn("signer3"),Rn("signer4"),Rn("signer5"),Rn("signer6"),Rn("signer7"),Rn("signer8"),Rn("signer9"),Rn("signer10"),Rn("signer11")]).span;var p4;(function(r){r[r.Uninitialized=0]="Uninitialized",r[r.Initialized=1]="Initialized",r[r.Frozen=2]="Frozen"})(p4||(p4={}));const Aj=Ue([Rn("mint"),Rn("owner"),tl("amount"),Ce("delegateOption"),Rn("delegate"),or("state"),Ce("isNativeOption"),tl("isNative"),tl("delegatedAmount"),Ce("closeAuthorityOption"),Rn("closeAuthority")]);Aj.span;const Sj=Ue([Ce("mintAuthorityOption"),Rn("mintAuthority"),tl("supply"),or("decimals"),bA("isInitialized"),Ce("freezeAuthorityOption"),Rn("freezeAuthority")]);Sj.span;function m4(r,t,e=!1,n=kl,s=ev){if(!e&&!Xt.isOnCurve(t.toBuffer()))throw new Ej;const[i]=Xt.findProgramAddressSync([t.toBuffer(),n.toBuffer(),r.toBuffer()],s);return i}function kj(r,t,e,n,s=kl,i=ev){return function(c,l,p,m,v,_=kl,E=ev){const w=[{pubkey:c,isSigner:!0,isWritable:!0},{pubkey:l,isSigner:!1,isWritable:!0},{pubkey:p,isSigner:!1,isWritable:!1},{pubkey:m,isSigner:!1,isWritable:!1},{pubkey:an.programId,isSigner:!1,isWritable:!1},{pubkey:_,isSigner:!1,isWritable:!1}];return new Ir({keys:w,programId:E,data:v})}(r,t,e,n,Zt.Buffer.alloc(0),s,i)}var Il;(function(r){r.SymbolNotFound="SymbolNotFound",r.InvalidSubdomain="InvalidSubdomain",r.FavouriteDomainNotFound="FavouriteDomainNotFound",r.MissingParentOwner="MissingParentOwner",r.U32Overflow="U32Overflow",r.InvalidBufferLength="InvalidBufferLength",r.U64Overflow="U64Overflow",r.NoRecordData="NoRecordData",r.InvalidRecordData="InvalidRecordData",r.UnsupportedRecord="UnsupportedRecord",r.InvalidEvmAddress="InvalidEvmAddress",r.InvalidInjectiveAddress="InvalidInjectiveAddress",r.InvalidARecord="InvalidARecord",r.InvalidAAAARecord="InvalidAAAARecord",r.InvalidRecordInput="InvalidRecordInput",r.InvalidSignature="InvalidSignature",r.AccountDoesNotExist="AccountDoesNotExist",r.MultipleRegistries="MultipleRegistries",r.InvalidReverseTwitter="InvalidReverseTwitter",r.NoAccountData="NoAccountData",r.InvalidInput="InvalidInput",r.InvalidDomain="InvalidDomain",r.InvalidCustomBg="InvalidCustomBackground",r.UnsupportedSignature="UnsupportedSignature",r.RecordDoestNotSupportGuardianSig="RecordDoestNotSupportGuardianSig",r.RecordIsNotSigned="RecordIsNotSigned",r.UnsupportedSignatureType="UnsupportedSignatureType",r.InvalidSolRecordV2="InvalidSolRecordV2",r.MissingVerifier="MissingVerifier"})(Il||(Il={}));class Bl extends Error{constructor(t,e){super(e),this.name="SNSError",this.type=t,Error.captureStackTrace&&Error.captureStackTrace(this,Bl)}}class oh{constructor(t){this.tag=13,this.name=t.name,this.space=t.space,this.referrerIdxOpt=t.referrerIdxOpt}serialize(){return fy(oh.schema,this)}getInstruction(t,e,n,s,i,c,l,p,m,v,_,E,w,x,A,B,P){const R=Ae.Buffer.from(this.serialize());let C=[];return C.push({pubkey:e,isSigner:!1,isWritable:!1}),C.push({pubkey:n,isSigner:!1,isWritable:!1}),C.push({pubkey:s,isSigner:!1,isWritable:!0}),C.push({pubkey:i,isSigner:!1,isWritable:!0}),C.push({pubkey:c,isSigner:!1,isWritable:!1}),C.push({pubkey:l,isSigner:!1,isWritable:!1}),C.push({pubkey:p,isSigner:!0,isWritable:!0}),C.push({pubkey:m,isSigner:!1,isWritable:!0}),C.push({pubkey:v,isSigner:!1,isWritable:!1}),C.push({pubkey:_,isSigner:!1,isWritable:!1}),C.push({pubkey:E,isSigner:!1,isWritable:!1}),C.push({pubkey:w,isSigner:!1,isWritable:!0}),C.push({pubkey:x,isSigner:!1,isWritable:!1}),C.push({pubkey:A,isSigner:!1,isWritable:!1}),C.push({pubkey:B,isSigner:!1,isWritable:!1}),P&&C.push({pubkey:P,isSigner:!1,isWritable:!0}),new Ir({keys:C,programId:t,data:R})}}oh.schema=new Map([[oh,{kind:"struct",fields:[["tag","u8"],["name","string"],["space","u32"],["referrerIdxOpt",{kind:"option",type:"u16"}]]}]]);new Xt("nftD3vbNkNqfj2Sd3HZwbpw4BxxKWr4AjGb9X38JeZk");Ae.Buffer.from("tokenized_name");var v4;(function(r){r[r.Uninitialized=0]="Uninitialized",r[r.CentralState=1]="CentralState",r[r.ActiveRecord=2]="ActiveRecord",r[r.InactiveRecord=3]="InactiveRecord"})(v4||(v4={}));var wA={},ur={},qh=xA;function xA(r,t){if(!r)throw new Error(t||"Assertion failed")}xA.equal=function(r,t,e){if(r!=t)throw new Error(e||"Assertion failed: "+r+" != "+t)};var rv={exports:{}};typeof Object.create=="function"?rv.exports=function(r,t){t&&(r.super_=t,r.prototype=Object.create(t.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}}))}:rv.exports=function(r,t){if(t){r.super_=t;var e=function(){};e.prototype=t.prototype,r.prototype=new e,r.prototype.constructor=r}};var Ij=rv.exports,Bj=qh,Pj=Ij;function Rj(r,t){return(64512&r.charCodeAt(t))==55296&&!(t<0||t+1>=r.length)&&(64512&r.charCodeAt(t+1))==56320}function g4(r){return(r>>>24|r>>>8&65280|r<<8&16711680|(255&r)<<24)>>>0}function y4(r){return r.length===1?"0"+r:r}function b4(r){return r.length===7?"0"+r:r.length===6?"00"+r:r.length===5?"000"+r:r.length===4?"0000"+r:r.length===3?"00000"+r:r.length===2?"000000"+r:r.length===1?"0000000"+r:r}ur.inherits=Pj,ur.toArray=function(r,t){if(Array.isArray(r))return r.slice();if(!r)return[];var e=[];if(typeof r=="string")if(t){if(t==="hex")for((r=r.replace(/[^a-z0-9]+/gi,"")).length%2!=0&&(r="0"+r),s=0;s<r.length;s+=2)e.push(parseInt(r[s]+r[s+1],16))}else for(var n=0,s=0;s<r.length;s++){var i=r.charCodeAt(s);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=63&i|128):Rj(r,s)?(i=65536+((1023&i)<<10)+(1023&r.charCodeAt(++s)),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=63&i|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=63&i|128)}else for(s=0;s<r.length;s++)e[s]=0|r[s];return e},ur.toHex=function(r){for(var t="",e=0;e<r.length;e++)t+=y4(r[e].toString(16));return t},ur.htonl=g4,ur.toHex32=function(r,t){for(var e="",n=0;n<r.length;n++){var s=r[n];t==="little"&&(s=g4(s)),e+=b4(s.toString(16))}return e},ur.zero2=y4,ur.zero8=b4,ur.join32=function(r,t,e,n){var s=e-t;Bj(s%4==0);for(var i=new Array(s/4),c=0,l=t;c<i.length;c++,l+=4){var p;p=n==="big"?r[l]<<24|r[l+1]<<16|r[l+2]<<8|r[l+3]:r[l+3]<<24|r[l+2]<<16|r[l+1]<<8|r[l],i[c]=p>>>0}return i},ur.split32=function(r,t){for(var e=new Array(4*r.length),n=0,s=0;n<r.length;n++,s+=4){var i=r[n];t==="big"?(e[s]=i>>>24,e[s+1]=i>>>16&255,e[s+2]=i>>>8&255,e[s+3]=255&i):(e[s+3]=i>>>24,e[s+2]=i>>>16&255,e[s+1]=i>>>8&255,e[s]=255&i)}return e},ur.rotr32=function(r,t){return r>>>t|r<<32-t},ur.rotl32=function(r,t){return r<<t|r>>>32-t},ur.sum32=function(r,t){return r+t>>>0},ur.sum32_3=function(r,t,e){return r+t+e>>>0},ur.sum32_4=function(r,t,e,n){return r+t+e+n>>>0},ur.sum32_5=function(r,t,e,n,s){return r+t+e+n+s>>>0},ur.sum64=function(r,t,e,n){var s=r[t],i=n+r[t+1]>>>0,c=(i<n?1:0)+e+s;r[t]=c>>>0,r[t+1]=i},ur.sum64_hi=function(r,t,e,n){return(t+n>>>0<t?1:0)+r+e>>>0},ur.sum64_lo=function(r,t,e,n){return t+n>>>0},ur.sum64_4_hi=function(r,t,e,n,s,i,c,l){var p=0,m=t;return p+=(m=m+n>>>0)<t?1:0,p+=(m=m+i>>>0)<i?1:0,r+e+s+c+(p+=(m=m+l>>>0)<l?1:0)>>>0},ur.sum64_4_lo=function(r,t,e,n,s,i,c,l){return t+n+i+l>>>0},ur.sum64_5_hi=function(r,t,e,n,s,i,c,l,p,m){var v=0,_=t;return v+=(_=_+n>>>0)<t?1:0,v+=(_=_+i>>>0)<i?1:0,v+=(_=_+l>>>0)<l?1:0,r+e+s+c+p+(v+=(_=_+m>>>0)<m?1:0)>>>0},ur.sum64_5_lo=function(r,t,e,n,s,i,c,l,p,m){return t+n+i+l+m>>>0},ur.rotr64_hi=function(r,t,e){return(t<<32-e|r>>>e)>>>0},ur.rotr64_lo=function(r,t,e){return(r<<32-e|t>>>e)>>>0},ur.shr64_hi=function(r,t,e){return r>>>e},ur.shr64_lo=function(r,t,e){return(r<<32-e|t>>>e)>>>0};var Tf={},w4=ur,Cj=qh;function p0(){this.pending=null,this.pendingTotal=0,this.blockSize=this.constructor.blockSize,this.outSize=this.constructor.outSize,this.hmacStrength=this.constructor.hmacStrength,this.padLength=this.constructor.padLength/8,this.endian="big",this._delta8=this.blockSize/8,this._delta32=this.blockSize/32}Tf.BlockHash=p0,p0.prototype.update=function(r,t){if(r=w4.toArray(r,t),this.pending?this.pending=this.pending.concat(r):this.pending=r,this.pendingTotal+=r.length,this.pending.length>=this._delta8){var e=(r=this.pending).length%this._delta8;this.pending=r.slice(r.length-e,r.length),this.pending.length===0&&(this.pending=null),r=w4.join32(r,0,r.length-e,this.endian);for(var n=0;n<r.length;n+=this._delta32)this._update(r,n,n+this._delta32)}return this},p0.prototype.digest=function(r){return this.update(this._pad()),Cj(this.pending===null),this._digest(r)},p0.prototype._pad=function(){var r=this.pendingTotal,t=this._delta8,e=t-(r+this.padLength)%t,n=new Array(e+this.padLength);n[0]=128;for(var s=1;s<e;s++)n[s]=0;if(r<<=3,this.endian==="big"){for(var i=8;i<this.padLength;i++)n[s++]=0;n[s++]=0,n[s++]=0,n[s++]=0,n[s++]=0,n[s++]=r>>>24&255,n[s++]=r>>>16&255,n[s++]=r>>>8&255,n[s++]=255&r}else for(n[s++]=255&r,n[s++]=r>>>8&255,n[s++]=r>>>16&255,n[s++]=r>>>24&255,n[s++]=0,n[s++]=0,n[s++]=0,n[s++]=0,i=8;i<this.padLength;i++)n[s++]=0;return n};var ku={},ko={},wo=ur.rotr32;function x4(r,t,e){return r&t^~r&e}function _4(r,t,e){return r&t^r&e^t&e}function M4(r,t,e){return r^t^e}ko.ft_1=function(r,t,e,n){return r===0?x4(t,e,n):r===1||r===3?M4(t,e,n):r===2?_4(t,e,n):void 0},ko.ch32=x4,ko.maj32=_4,ko.p32=M4,ko.s0_256=function(r){return wo(r,2)^wo(r,13)^wo(r,22)},ko.s1_256=function(r){return wo(r,6)^wo(r,11)^wo(r,25)},ko.g0_256=function(r){return wo(r,7)^wo(r,18)^r>>>3},ko.g1_256=function(r){return wo(r,17)^wo(r,19)^r>>>10};var pf=ur,Tj=Tf,Lj=ko,tm=pf.rotl32,sc=pf.sum32,Oj=pf.sum32_5,Uj=Lj.ft_1,_A=Tj.BlockHash,Nj=[1518500249,1859775393,2400959708,3395469782];function Oo(){if(!(this instanceof Oo))return new Oo;_A.call(this),this.h=[1732584193,4023233417,2562383102,271733878,3285377520],this.W=new Array(80)}pf.inherits(Oo,_A);var Dj=Oo;Oo.blockSize=512,Oo.outSize=160,Oo.hmacStrength=80,Oo.padLength=64,Oo.prototype._update=function(r,t){for(var e=this.W,n=0;n<16;n++)e[n]=r[t+n];for(;n<e.length;n++)e[n]=tm(e[n-3]^e[n-8]^e[n-14]^e[n-16],1);var s=this.h[0],i=this.h[1],c=this.h[2],l=this.h[3],p=this.h[4];for(n=0;n<e.length;n++){var m=~~(n/20),v=Oj(tm(s,5),Uj(m,i,c,l),p,e[n],Nj[m]);p=l,l=c,c=tm(i,30),i=s,s=v}this.h[0]=sc(this.h[0],s),this.h[1]=sc(this.h[1],i),this.h[2]=sc(this.h[2],c),this.h[3]=sc(this.h[3],l),this.h[4]=sc(this.h[4],p)},Oo.prototype._digest=function(r){return r==="hex"?pf.toHex32(this.h,"big"):pf.split32(this.h,"big")};var mf=ur,zj=Tf,Lf=ko,qj=qh,Qi=mf.sum32,Fj=mf.sum32_4,jj=mf.sum32_5,Kj=Lf.ch32,$j=Lf.maj32,Hj=Lf.s0_256,Vj=Lf.s1_256,Zj=Lf.g0_256,Wj=Lf.g1_256,MA=zj.BlockHash,Gj=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298];function Uo(){if(!(this instanceof Uo))return new Uo;MA.call(this),this.h=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225],this.k=Gj,this.W=new Array(64)}mf.inherits(Uo,MA);var EA=Uo;Uo.blockSize=512,Uo.outSize=256,Uo.hmacStrength=192,Uo.padLength=64,Uo.prototype._update=function(r,t){for(var e=this.W,n=0;n<16;n++)e[n]=r[t+n];for(;n<e.length;n++)e[n]=Fj(Wj(e[n-2]),e[n-7],Zj(e[n-15]),e[n-16]);var s=this.h[0],i=this.h[1],c=this.h[2],l=this.h[3],p=this.h[4],m=this.h[5],v=this.h[6],_=this.h[7];for(qj(this.k.length===e.length),n=0;n<e.length;n++){var E=jj(_,Vj(p),Kj(p,m,v),this.k[n],e[n]),w=Qi(Hj(s),$j(s,i,c));_=v,v=m,m=p,p=Qi(l,E),l=c,c=i,i=s,s=Qi(E,w)}this.h[0]=Qi(this.h[0],s),this.h[1]=Qi(this.h[1],i),this.h[2]=Qi(this.h[2],c),this.h[3]=Qi(this.h[3],l),this.h[4]=Qi(this.h[4],p),this.h[5]=Qi(this.h[5],m),this.h[6]=Qi(this.h[6],v),this.h[7]=Qi(this.h[7],_)},Uo.prototype._digest=function(r){return r==="hex"?mf.toHex32(this.h,"big"):mf.split32(this.h,"big")};var nv=ur,AA=EA;function ws(){if(!(this instanceof ws))return new ws;AA.call(this),this.h=[3238371032,914150663,812702999,4144912697,4290775857,1750603025,1694076839,3204075428]}nv.inherits(ws,AA);var Yj=ws;ws.blockSize=512,ws.outSize=224,ws.hmacStrength=192,ws.padLength=64,ws.prototype._digest=function(r){return r==="hex"?nv.toHex32(this.h.slice(0,7),"big"):nv.split32(this.h.slice(0,7),"big")};var hi=ur,Xj=Tf,Jj=qh,$o=hi.rotr64_hi,Ho=hi.rotr64_lo,SA=hi.shr64_hi,kA=hi.shr64_lo,Ns=hi.sum64,em=hi.sum64_hi,rm=hi.sum64_lo,Qj=hi.sum64_4_hi,tK=hi.sum64_4_lo,eK=hi.sum64_5_hi,rK=hi.sum64_5_lo,IA=Xj.BlockHash,nK=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591];function io(){if(!(this instanceof io))return new io;IA.call(this),this.h=[1779033703,4089235720,3144134277,2227873595,1013904242,4271175723,2773480762,1595750129,1359893119,2917565137,2600822924,725511199,528734635,4215389547,1541459225,327033209],this.k=nK,this.W=new Array(160)}hi.inherits(io,IA);var BA=io;function iK(r,t,e,n,s){var i=r&e^~r&s;return i<0&&(i+=4294967296),i}function oK(r,t,e,n,s,i){var c=t&n^~t&i;return c<0&&(c+=4294967296),c}function sK(r,t,e,n,s){var i=r&e^r&s^e&s;return i<0&&(i+=4294967296),i}function aK(r,t,e,n,s,i){var c=t&n^t&i^n&i;return c<0&&(c+=4294967296),c}function uK(r,t){var e=$o(r,t,28)^$o(t,r,2)^$o(t,r,7);return e<0&&(e+=4294967296),e}function fK(r,t){var e=Ho(r,t,28)^Ho(t,r,2)^Ho(t,r,7);return e<0&&(e+=4294967296),e}function cK(r,t){var e=$o(r,t,14)^$o(r,t,18)^$o(t,r,9);return e<0&&(e+=4294967296),e}function hK(r,t){var e=Ho(r,t,14)^Ho(r,t,18)^Ho(t,r,9);return e<0&&(e+=4294967296),e}function lK(r,t){var e=$o(r,t,1)^$o(r,t,8)^SA(r,t,7);return e<0&&(e+=4294967296),e}function dK(r,t){var e=Ho(r,t,1)^Ho(r,t,8)^kA(r,t,7);return e<0&&(e+=4294967296),e}function pK(r,t){var e=$o(r,t,19)^$o(t,r,29)^SA(r,t,6);return e<0&&(e+=4294967296),e}function mK(r,t){var e=Ho(r,t,19)^Ho(t,r,29)^kA(r,t,6);return e<0&&(e+=4294967296),e}io.blockSize=1024,io.outSize=512,io.hmacStrength=192,io.padLength=128,io.prototype._prepareBlock=function(r,t){for(var e=this.W,n=0;n<32;n++)e[n]=r[t+n];for(;n<e.length;n+=2){var s=pK(e[n-4],e[n-3]),i=mK(e[n-4],e[n-3]),c=e[n-14],l=e[n-13],p=lK(e[n-30],e[n-29]),m=dK(e[n-30],e[n-29]),v=e[n-32],_=e[n-31];e[n]=Qj(s,i,c,l,p,m,v,_),e[n+1]=tK(s,i,c,l,p,m,v,_)}},io.prototype._update=function(r,t){this._prepareBlock(r,t);var e=this.W,n=this.h[0],s=this.h[1],i=this.h[2],c=this.h[3],l=this.h[4],p=this.h[5],m=this.h[6],v=this.h[7],_=this.h[8],E=this.h[9],w=this.h[10],x=this.h[11],A=this.h[12],B=this.h[13],P=this.h[14],R=this.h[15];Jj(this.k.length===e.length);for(var C=0;C<e.length;C+=2){var O=P,z=R,H=cK(_,E),tt=hK(_,E),nt=iK(_,E,w,x,A),G=oK(_,E,w,x,A,B),M=this.k[C],d=this.k[C+1],o=e[C],a=e[C+1],f=eK(O,z,H,tt,nt,G,M,d,o,a),h=rK(O,z,H,tt,nt,G,M,d,o,a);O=uK(n,s),z=fK(n,s),H=sK(n,s,i,c,l),tt=aK(n,s,i,c,l,p);var g=em(O,z,H,tt),S=rm(O,z,H,tt);P=A,R=B,A=w,B=x,w=_,x=E,_=em(m,v,f,h),E=rm(v,v,f,h),m=l,v=p,l=i,p=c,i=n,c=s,n=em(f,h,g,S),s=rm(f,h,g,S)}Ns(this.h,0,n,s),Ns(this.h,2,i,c),Ns(this.h,4,l,p),Ns(this.h,6,m,v),Ns(this.h,8,_,E),Ns(this.h,10,w,x),Ns(this.h,12,A,B),Ns(this.h,14,P,R)},io.prototype._digest=function(r){return r==="hex"?hi.toHex32(this.h,"big"):hi.split32(this.h,"big")};var iv=ur,PA=BA;function xs(){if(!(this instanceof xs))return new xs;PA.call(this),this.h=[3418070365,3238371032,1654270250,914150663,2438529370,812702999,355462360,4144912697,1731405415,4290775857,2394180231,1750603025,3675008525,1694076839,1203062813,3204075428]}iv.inherits(xs,PA);var vK=xs;xs.blockSize=1024,xs.outSize=384,xs.hmacStrength=192,xs.padLength=128,xs.prototype._digest=function(r){return r==="hex"?iv.toHex32(this.h.slice(0,12),"big"):iv.split32(this.h.slice(0,12),"big")},ku.sha1=Dj,ku.sha224=Yj,ku.sha256=EA,ku.sha384=vK,ku.sha512=BA;var RA={},Ka=ur,gK=Tf,m0=Ka.rotl32,E4=Ka.sum32,ac=Ka.sum32_3,A4=Ka.sum32_4,CA=gK.BlockHash;function Io(){if(!(this instanceof Io))return new Io;CA.call(this),this.h=[1732584193,4023233417,2562383102,271733878,3285377520],this.endian="little"}function S4(r,t,e,n){return r<=15?t^e^n:r<=31?t&e|~t&n:r<=47?(t|~e)^n:r<=63?t&n|e&~n:t^(e|~n)}function yK(r){return r<=15?0:r<=31?1518500249:r<=47?1859775393:r<=63?2400959708:2840853838}function bK(r){return r<=15?1352829926:r<=31?1548603684:r<=47?1836072691:r<=63?2053994217:0}Ka.inherits(Io,CA),RA.ripemd160=Io,Io.blockSize=512,Io.outSize=160,Io.hmacStrength=192,Io.padLength=64,Io.prototype._update=function(r,t){for(var e=this.h[0],n=this.h[1],s=this.h[2],i=this.h[3],c=this.h[4],l=e,p=n,m=s,v=i,_=c,E=0;E<80;E++){var w=E4(m0(A4(e,S4(E,n,s,i),r[wK[E]+t],yK(E)),_K[E]),c);e=c,c=i,i=m0(s,10),s=n,n=w,w=E4(m0(A4(l,S4(79-E,p,m,v),r[xK[E]+t],bK(E)),MK[E]),_),l=_,_=v,v=m0(m,10),m=p,p=w}w=ac(this.h[1],s,v),this.h[1]=ac(this.h[2],i,_),this.h[2]=ac(this.h[3],c,l),this.h[3]=ac(this.h[4],e,p),this.h[4]=ac(this.h[0],n,m),this.h[0]=w},Io.prototype._digest=function(r){return r==="hex"?Ka.toHex32(this.h,"little"):Ka.split32(this.h,"little")};var wK=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13],xK=[5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11],_K=[11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6],MK=[8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11],EK=ur,AK=qh;function Vu(r,t,e){if(!(this instanceof Vu))return new Vu(r,t,e);this.Hash=r,this.blockSize=r.blockSize/8,this.outSize=r.outSize/8,this.inner=null,this.outer=null,this._init(EK.toArray(t,e))}var SK=Vu;Vu.prototype._init=function(r){r.length>this.blockSize&&(r=new this.Hash().update(r).digest()),AK(r.length<=this.blockSize);for(var t=r.length;t<this.blockSize;t++)r.push(0);for(t=0;t<r.length;t++)r[t]^=54;for(this.inner=new this.Hash().update(r),t=0;t<r.length;t++)r[t]^=106;this.outer=new this.Hash().update(r)},Vu.prototype.update=function(r,t){return this.inner.update(r,t),this},Vu.prototype.digest=function(r){return this.outer.update(this.inner.digest()),this.outer.digest(r)},function(r){var t=wA;t.utils=ur,t.common=Tf,t.sha=ku,t.ripemd=RA,t.hmac=SK,t.sha1=t.sha.sha1,t.sha256=t.sha.sha256,t.sha224=t.sha.sha224,t.sha384=t.sha.sha384,t.sha512=t.sha.sha512,t.ripemd160=t.ripemd.ripemd160}();var kK=Yi(wA);let k4=!1,I4=!1;const el={debug:1,default:2,info:2,warning:3,error:4,off:5};let B4=el.default,nm=null;const P4=function(){try{const r=[];if(["NFD","NFC","NFKD","NFKC"].forEach(t=>{try{if("test".normalize(t)!=="test")throw new Error("bad normalize")}catch{r.push(t)}}),r.length)throw new Error("missing "+r.join(", "));if(String.fromCharCode(233).normalize("NFD")!==String.fromCharCode(101,769))throw new Error("broken implementation")}catch(r){return r.message}return null}();var ov,no;(function(r){r.DEBUG="DEBUG",r.INFO="INFO",r.WARNING="WARNING",r.ERROR="ERROR",r.OFF="OFF"})(ov||(ov={})),function(r){r.UNKNOWN_ERROR="UNKNOWN_ERROR",r.NOT_IMPLEMENTED="NOT_IMPLEMENTED",r.UNSUPPORTED_OPERATION="UNSUPPORTED_OPERATION",r.NETWORK_ERROR="NETWORK_ERROR",r.SERVER_ERROR="SERVER_ERROR",r.TIMEOUT="TIMEOUT",r.BUFFER_OVERRUN="BUFFER_OVERRUN",r.NUMERIC_FAULT="NUMERIC_FAULT",r.MISSING_NEW="MISSING_NEW",r.INVALID_ARGUMENT="INVALID_ARGUMENT",r.MISSING_ARGUMENT="MISSING_ARGUMENT",r.UNEXPECTED_ARGUMENT="UNEXPECTED_ARGUMENT",r.CALL_EXCEPTION="CALL_EXCEPTION",r.INSUFFICIENT_FUNDS="INSUFFICIENT_FUNDS",r.NONCE_EXPIRED="NONCE_EXPIRED",r.REPLACEMENT_UNDERPRICED="REPLACEMENT_UNDERPRICED",r.UNPREDICTABLE_GAS_LIMIT="UNPREDICTABLE_GAS_LIMIT",r.TRANSACTION_REPLACED="TRANSACTION_REPLACED",r.ACTION_REJECTED="ACTION_REJECTED"}(no||(no={}));const R4="0123456789abcdef";class tn{constructor(t){Object.defineProperty(this,"version",{enumerable:!0,value:t,writable:!1})}_log(t,e){const n=t.toLowerCase();el[n]==null&&this.throwArgumentError("invalid log level name","logLevel",t),B4>el[n]||console.log.apply(console,e)}debug(...t){this._log(tn.levels.DEBUG,t)}info(...t){this._log(tn.levels.INFO,t)}warn(...t){this._log(tn.levels.WARNING,t)}makeError(t,e,n){if(I4)return this.makeError("censored error",e,{});e||(e=tn.errors.UNKNOWN_ERROR),n||(n={});const s=[];Object.keys(n).forEach(p=>{const m=n[p];try{if(m instanceof Uint8Array){let v="";for(let _=0;_<m.length;_++)v+=R4[m[_]>>4],v+=R4[15&m[_]];s.push(p+"=Uint8Array(0x"+v+")")}else s.push(p+"="+JSON.stringify(m))}catch{s.push(p+"="+JSON.stringify(n[p].toString()))}}),s.push(`code=${e}`),s.push(`version=${this.version}`);const i=t;let c="";switch(e){case no.NUMERIC_FAULT:{c="NUMERIC_FAULT";const p=t;switch(p){case"overflow":case"underflow":case"division-by-zero":c+="-"+p;break;case"negative-power":case"negative-width":c+="-unsupported";break;case"unbound-bitwise-result":c+="-unbound-result"}break}case no.CALL_EXCEPTION:case no.INSUFFICIENT_FUNDS:case no.MISSING_NEW:case no.NONCE_EXPIRED:case no.REPLACEMENT_UNDERPRICED:case no.TRANSACTION_REPLACED:case no.UNPREDICTABLE_GAS_LIMIT:c=e}c&&(t+=" [ See: https://links.ethers.org/v5-errors-"+c+" ]"),s.length&&(t+=" ("+s.join(", ")+")");const l=new Error(t);return l.reason=i,l.code=e,Object.keys(n).forEach(function(p){l[p]=n[p]}),l}throwError(t,e,n){throw this.makeError(t,e,n)}throwArgumentError(t,e,n){return this.throwError(t,tn.errors.INVALID_ARGUMENT,{argument:e,value:n})}assert(t,e,n,s){t||this.throwError(e,n,s)}assertArgument(t,e,n,s){t||this.throwArgumentError(e,n,s)}checkNormalize(t){P4&&this.throwError("platform missing String.prototype.normalize",tn.errors.UNSUPPORTED_OPERATION,{operation:"String.prototype.normalize",form:P4})}checkSafeUint53(t,e){typeof t=="number"&&(e==null&&(e="value not safe"),(t<0||t>=9007199254740991)&&this.throwError(e,tn.errors.NUMERIC_FAULT,{operation:"checkSafeInteger",fault:"out-of-safe-range",value:t}),t%1&&this.throwError(e,tn.errors.NUMERIC_FAULT,{operation:"checkSafeInteger",fault:"non-integer",value:t}))}checkArgumentCount(t,e,n){n=n?": "+n:"",t<e&&this.throwError("missing argument"+n,tn.errors.MISSING_ARGUMENT,{count:t,expectedCount:e}),t>e&&this.throwError("too many arguments"+n,tn.errors.UNEXPECTED_ARGUMENT,{count:t,expectedCount:e})}checkNew(t,e){t!==Object&&t!=null||this.throwError("missing new",tn.errors.MISSING_NEW,{name:e.name})}checkAbstract(t,e){t===e?this.throwError("cannot instantiate abstract class "+JSON.stringify(e.name)+" directly; use a sub-class",tn.errors.UNSUPPORTED_OPERATION,{name:t.name,operation:"new"}):t!==Object&&t!=null||this.throwError("missing new",tn.errors.MISSING_NEW,{name:e.name})}static globalLogger(){return nm||(nm=new tn("logger/5.7.0")),nm}static setCensorship(t,e){if(!t&&e&&this.globalLogger().throwError("cannot permanently disable censorship",tn.errors.UNSUPPORTED_OPERATION,{operation:"setCensorship"}),k4){if(!t)return;this.globalLogger().throwError("error censorship permanent",tn.errors.UNSUPPORTED_OPERATION,{operation:"setCensorship"})}I4=!!t,k4=!!e}static setLogLevel(t){const e=el[t.toLowerCase()];e!=null?B4=e:tn.globalLogger().warn("invalid log level - "+t)}static from(t){return new tn(t)}}tn.errors=no,tn.levels=ov;const im=new tn("bytes/5.7.0");function rl(r){return r.slice||(r.slice=function(){const t=Array.prototype.slice.call(arguments);return rl(new Uint8Array(Array.prototype.slice.apply(r,t)))}),r}function C4(r){return typeof r=="number"&&r==r&&r%1==0}function IK(r,t){if(t||(t={}),typeof r=="number"){im.checkSafeUint53(r,"invalid arrayify value");const e=[];for(;r;)e.unshift(255&r),r=parseInt(String(r/256));return e.length===0&&e.push(0),rl(new Uint8Array(e))}if(t.allowMissingPrefix&&typeof r=="string"&&r.substring(0,2)!=="0x"&&(r="0x"+r),function(e){return!!e.toHexString}(r)&&(r=r.toHexString()),function(e,n){return!(typeof e!="string"||!e.match(/^0x[0-9A-Fa-f]*$/)||n&&e.length!==2+2*n)}(r)){let e=r.substring(2);e.length%2&&(t.hexPad==="left"?e="0"+e:t.hexPad==="right"?e+="0":im.throwArgumentError("hex data is odd-length","value",r));const n=[];for(let s=0;s<e.length;s+=2)n.push(parseInt(e.substring(s,s+2),16));return rl(new Uint8Array(n))}return function(e){if(e==null)return!1;if(e.constructor===Uint8Array)return!0;if(typeof e=="string"||!C4(e.length)||e.length<0)return!1;for(let n=0;n<e.length;n++){const s=e[n];if(!C4(s)||s<0||s>=256)return!1}return!0}(r)?rl(new Uint8Array(r)):im.throwArgumentError("invalid arrayify value","value",r)}function BK(r){return"0x"+kK.sha256().update(IK(r)).digest("hex")}const TA=new Xt("namesLPneVptA9Z5rqUDD9tMTWEJwofgaYwp8cawRkX"),PK="SPL Name Service",T4=new Xt("58PwtjSDuFHuUkYjH9BYnnQKHfwo9reZhC2zMJv9JPkx"),v0=new Xt("jCebN34bUfdeUYJT13J1yG16XWQpt5PDx6Mse9GUqhR");new Xt("ETp9eKXVv1dWwHSpsXRUuXHmw24PwRkttCGVgpZEY9zF");new Xt("AUoZ3YAhV3b2rZeEH93UMZHXUZcTramBvb4d9YEVySkc");new Xt("33m47vH6Eav6jr5Ry86XjhRft2jRBLDnDgPSHoquXi2Z");new Xt("FvPH7PrVrLGKPfqaf3xJodFTjZriqrAXXLTVWEorTFBi");new Xt("4YcexoW3r78zz16J2aqmukBLRwGq6rAvWzJpkYAXqebv");new Xt("DmSyHDSM9eSLyvoLsPvDr5fRRFZ7Bfr3h3ULvWpgQaq7");const RK=new Xt("EPjFWdd5AufqSSqeM2qN1xzybapC8G4wEGGkZwyTDt1v"),LA=[new Xt("3ogYncmMM5CmytsGCqKHydmXmKUZ6sGWvizkzqwT7zb1"),new Xt("DM1jJCkZZEwY5tmWbgvKRxsDFzXCdbfrYCCH1CtwguEs"),new Xt("ADCp4QXFajHrhy4f43pD6GJFtQLkdBY2mjS9DfCk7tNW"),new Xt("2XTgjw8yi1E3Etgj4CUyRD7Zk49gynH2U9gA5N2MY4NP"),new Xt("5oDWj8vr3vbcq9JZTtwXqrkCMZggMsDzNietvbr1BNfe"),new Xt("8kJqxAbqbPLGLMgB6FhLcnw2SiUEavx2aEGM3WQGhtJF"),new Xt("HemvJzwxvVpWBjPETpaseAH395WAxb2G73MeUfjVkK1u")],CK=new Map([["EPjFWdd5AufqSSqeM2qN1xzybapC8G4wEGGkZwyTDt1v","USDC"],["Es9vMFrzaCERmJfrF4H2FYD4KCoNkY11McCe8BenwNYB","USDT"],["So11111111111111111111111111111111111111112","SOL"],["EchesyfXePKdLtoiZSL8pBe8Myagyy8ZRqsACNCFGnvp","FIDA"],["FeGn77dhg1KXRRFeSwwMiykZnZPw5JXW6naf2aQgZDQf","ETH"],["7i5KKsX2weiTkry7jA4ZwSuXGhs5eJBEjY8vVxR4pfRx","GMT"],["AFbX8oGjGpmVFywbVouvhQSRmiW2aR1mohfahi4Y2AdB","GST"],["mSoLzYCxHdYgdzU16g5QSh3i5K3z3KZK7ytfqcJm7So","MSOL"],["DezXAZ8z7PnrnRJjz3wXBoRgixCa6xjnB7YaB1pPB263","BONK"],["EPeUFDgHRxs9xxEPVaL6kfGQvCon7jmAWKVUHuux1Tpz","BAT"],["HZ1JovNiVvGrGNiiYvEozEVgZ58xaU3RKwX8eACQBCt3","PYTH"]]),TK=new Xt("AHtgzX45WTKfkPG53L6WYhGEXwQkN1BVknET3sVsLL8J"),LK=new Xt("GcWEQ9K78FV7LEHteFVciYApERk5YvQuFDQPk1yYJVXi");new Xt("BPeXUQDqGbzxeK1LJby6ugvCBuo7kRSEUkjD726mUVsz");new Xt("72aLKvXeV4aansAQtxKymeXDevT5ed6sCuz9iN62ugPT");new Xt("metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s");var L4={},sv=Oh(yA),Zu={};Object.defineProperty(Zu,"__esModule",{value:!0}),Zu.readBigUInt64LE=Zu.readBigInt64LE=void 0;var OK=function(){return new Error("Attempt to access memory outside buffer bounds")},UK=function(r,t,e){return new Error('The "'+r+'" argument must be of type '+t+". Received "+e)},O4=function(r,t,e){return new Error('The value of "'+r+" is out of range. It must be "+t+". Received "+e)};function av(r,t){if(typeof r!="number")throw UK(t,"number",r)}function U4(r,t){throw Math.floor(r)!==r?(av(r,"offset"),O4("offset","an integer",r)):t<0?OK():O4("offset",">= 0 and <= "+t,r)}Zu.readBigInt64LE=function(r,t){t===void 0&&(t=0),av(t,"offset");var e=r[t],n=r[t+7];e!==void 0&&n!==void 0||U4(t,r.length-8);var s=r[t+4]+r[t+5]*Math.pow(2,8)+r[t+6]*Math.pow(2,16)+(n<<24);return(BigInt(s)<<BigInt(32))+BigInt(e+r[++t]*Math.pow(2,8)+r[++t]*Math.pow(2,16)+r[++t]*Math.pow(2,24))},Zu.readBigUInt64LE=function(r,t){t===void 0&&(t=0),av(t,"offset");var e=r[t],n=r[t+7];e!==void 0&&n!==void 0||U4(t,r.length-8);var s=e+r[++t]*Math.pow(2,8)+r[++t]*Math.pow(2,16)+r[++t]*Math.pow(2,24),i=r[++t]+r[++t]*Math.pow(2,8)+r[++t]*Math.pow(2,16)+n*Math.pow(2,24);return BigInt(s)+(BigInt(i)<<BigInt(32))};var N4,uc={};function NK(){if(N4)return uc;N4=1;var r=$e&&$e.__assign||function(){return r=Object.assign||function(i){for(var c,l=1,p=arguments.length;l<p;l++)for(var m in c=arguments[l])Object.prototype.hasOwnProperty.call(c,m)&&(i[m]=c[m]);return i},r.apply(this,arguments)},t=$e&&$e.__awaiter||function(i,c,l,p){return new(l||(l=Promise))(function(m,v){function _(x){try{w(p.next(x))}catch(A){v(A)}}function E(x){try{w(p.throw(x))}catch(A){v(A)}}function w(x){var A;x.done?m(x.value):(A=x.value,A instanceof l?A:new l(function(B){B(A)})).then(_,E)}w((p=p.apply(i,c||[])).next())})},e=$e&&$e.__generator||function(i,c){var l,p,m,v,_={label:0,sent:function(){if(1&m[0])throw m[1];return m[1]},trys:[],ops:[]};return v={next:E(0),throw:E(1),return:E(2)},typeof Symbol=="function"&&(v[Symbol.iterator]=function(){return this}),v;function E(w){return function(x){return function(A){if(l)throw new TypeError("Generator is already executing.");for(;_;)try{if(l=1,p&&(m=2&A[0]?p.return:A[0]?p.throw||((m=p.return)&&m.call(p),0):p.next)&&!(m=m.call(p,A[1])).done)return m;switch(p=0,m&&(A=[2&A[0],m.value]),A[0]){case 0:case 1:m=A;break;case 4:return _.label++,{value:A[1],done:!1};case 5:_.label++,p=A[1],A=[0];continue;case 7:A=_.ops.pop(),_.trys.pop();continue;default:if(m=_.trys,!((m=m.length>0&&m[m.length-1])||A[0]!==6&&A[0]!==2)){_=0;continue}if(A[0]===3&&(!m||A[1]>m[0]&&A[1]<m[3])){_.label=A[1];break}if(A[0]===6&&_.label<m[1]){_.label=m[1],m=A;break}if(m&&_.label<m[2]){_.label=m[2],_.ops.push(A);break}m[2]&&_.ops.pop(),_.trys.pop();continue}A=c.call(i,_)}catch(B){A=[6,B],p=0}finally{l=m=0}if(5&A[0])throw A[1];return{value:A[0]?A[1]:void 0,done:!0}}([w,x])}}};Object.defineProperty(uc,"__esModule",{value:!0}),uc.PythConnection=void 0;var n=Zy(),s=function(){function i(c,l,p,m){p===void 0&&(p="finalized"),this.productAccountKeyToProduct={},this.priceAccountKeyToProductAccountKey={},this.callbacks=[],this.connection=c,this.pythProgramKey=l,this.commitment=p,this.feedIds=m}return i.prototype.handleProductAccount=function(c,l,p){var m=n.parseProductData(l.data);this.productAccountKeyToProduct[c.toString()]={key:c,slot:p,accountInfo:r(r({},l),{data:m})},m.priceAccountKey&&(this.priceAccountKeyToProductAccountKey[m.priceAccountKey.toString()]=c.toString())},i.prototype.handlePriceAccount=function(c,l,p){var m=this.productAccountKeyToProduct[this.priceAccountKeyToProductAccountKey[c.toString()]];if(m===void 0)throw new Error("Got a price update for an unknown product. This is a bug in the library, please report it to the developers.");for(var v=n.parsePriceData(l.data,p),_={key:c,slot:p,accountInfo:r(r({},l),{data:v})},E=0,w=this.callbacks;E<w.length;E++)(0,w[E])(m,_)},i.prototype.handleAccount=function(c,l,p,m){var v=n.parseBaseData(l.data);if(v)switch(v.type){case n.AccountType.Mapping:break;case n.AccountType.Product:this.handleProductAccount(c,l,m);break;case n.AccountType.Price:p||this.handlePriceAccount(c,l,m);break;case n.AccountType.Test:case n.AccountType.Permission:break;default:throw new Error("Unknown account type: "+v.type+". Try upgrading pyth-client.")}},i.prototype.start=function(){return t(this,void 0,void 0,function(){var c,l,p,m,v,_,E,w,x,A,B,P=this;return e(this,function(R){switch(R.label){case 0:return[4,Promise.all([this.connection.getProgramAccounts(this.pythProgramKey,this.commitment),this.connection.getSlot(this.commitment)])];case 1:for(c=R.sent(),l=c[0],p=c[1],m=0,v=l;m<v.length;m++)B=v[m],this.handleAccount(B.pubkey,B.account,!0,p);if(this.feedIds)for(_=this.feedIds.map(function(C){return C.toString()}),l=l.filter(function(C){return _.includes(C.pubkey.toString())}),E=function(C){w.connection.onAccountChange(C.pubkey,function(O,z){P.handleAccount(C.pubkey,O,!1,z.slot)},w.commitment)},w=this,x=0,A=l;x<A.length;x++)B=A[x],E(B);else this.connection.onProgramAccountChange(this.pythProgramKey,function(C,O){P.handleAccount(C.accountId,C.accountInfo,!1,O.slot)},this.commitment);return[2]}})})},i.prototype.onPriceChange=function(c){this.callbacks.push(function(l,p){return c(l.accountInfo.data.product,p.accountInfo.data)})},i.prototype.onPriceChangeVerbose=function(c){this.callbacks.push(c)},i.prototype.stop=function(){return t(this,void 0,void 0,function(){return e(this,function(c){return this.callbacks=[],[2]})})},i}();return uc.PythConnection=s,uc}var D4,fc={};function DK(){if(D4)return fc;D4=1;var r=$e&&$e.__awaiter||function(s,i,c,l){return new(c||(c=Promise))(function(p,m){function v(w){try{E(l.next(w))}catch(x){m(x)}}function _(w){try{E(l.throw(w))}catch(x){m(x)}}function E(w){var x;w.done?p(w.value):(x=w.value,x instanceof c?x:new c(function(A){A(x)})).then(v,_)}E((l=l.apply(s,i||[])).next())})},t=$e&&$e.__generator||function(s,i){var c,l,p,m,v={label:0,sent:function(){if(1&p[0])throw p[1];return p[1]},trys:[],ops:[]};return m={next:_(0),throw:_(1),return:_(2)},typeof Symbol=="function"&&(m[Symbol.iterator]=function(){return this}),m;function _(E){return function(w){return function(x){if(c)throw new TypeError("Generator is already executing.");for(;v;)try{if(c=1,l&&(p=2&x[0]?l.return:x[0]?l.throw||((p=l.return)&&p.call(l),0):l.next)&&!(p=p.call(l,x[1])).done)return p;switch(l=0,p&&(x=[2&x[0],p.value]),x[0]){case 0:case 1:p=x;break;case 4:return v.label++,{value:x[1],done:!1};case 5:v.label++,l=x[1],x=[0];continue;case 7:x=v.ops.pop(),v.trys.pop();continue;default:if(p=v.trys,!((p=p.length>0&&p[p.length-1])||x[0]!==6&&x[0]!==2)){v=0;continue}if(x[0]===3&&(!p||x[1]>p[0]&&x[1]<p[3])){v.label=x[1];break}if(x[0]===6&&v.label<p[1]){v.label=p[1],p=x;break}if(p&&v.label<p[2]){v.label=p[2],v.ops.push(x);break}p[2]&&v.ops.pop(),v.trys.pop();continue}x=i.call(s,v)}catch(A){x=[6,A],l=0}finally{c=p=0}if(5&x[0])throw x[1];return{value:x[0]?x[1]:void 0,done:!0}}([E,w])}}};Object.defineProperty(fc,"__esModule",{value:!0}),fc.PythHttpClient=void 0;var e=Zy(),n=function(){function s(i,c,l){l===void 0&&(l="finalized"),this.connection=i,this.pythProgramKey=c,this.commitment=l}return s.prototype.getData=function(){return r(this,void 0,void 0,function(){var i,c,l,p,m,v,_,E,w,x,A,B;return t(this,function(P){switch(P.label){case 0:return i=new Set,c=new Set,l=new Set,p=new Map,m=new Map,v=new Array,[4,Promise.all([this.connection.getProgramAccounts(this.pythProgramKey,this.commitment),this.connection.getSlot(this.commitment)])];case 1:return _=P.sent(),E=_[0],w=_[1],x=new Array,A=new Map,E.forEach(function(R){var C=e.parseBaseData(R.account.data);if(C)switch(C.type){case e.AccountType.Mapping:break;case e.AccountType.Product:var O=e.parseProductData(R.account.data);A.set(R.pubkey.toBase58(),O.product),i.add(O.product.asset_type),c.add(O.product.symbol),l.add(O.product),p.set(O.product.symbol,O.product);break;case e.AccountType.Price:var z=e.parsePriceData(R.account.data,w);x.push(z);break;case e.AccountType.Test:break;case e.AccountType.Permission:B=e.parsePermissionData(R.account.data);break;default:throw new Error("Unknown account type: "+C.type+". Try upgrading pyth-client.")}}),x.forEach(function(R){var C=A.get(R.productAccountKey.toBase58());C&&(m.set(C.symbol,R),v.push(R))}),[2,{assetTypes:Array.from(i),symbols:Array.from(c),products:Array.from(l),productFromSymbol:p,productPrice:m,prices:v,permissionData:B}]}})})},s.prototype.getAssetPricesFromAccounts=function(i){return r(this,void 0,void 0,function(){var c,l,p,m,v,_,E,w;return t(this,function(x){switch(x.label){case 0:return c=[],[4,Promise.all([this.connection.getMultipleAccountsInfo(i,this.commitment),this.connection.getSlot(this.commitment)])];case 1:for(l=x.sent(),p=l[0],m=l[1],v=0;v<i.length;v++){if(!(_=p[v]))throw new Error("Could not get account info for account "+i[v].toBase58());if((E=e.parseBaseData(_.data))===void 0||E.type!==e.AccountType.Price)throw new Error("Account "+i[v].toBase58()+" is not a price account");w=e.parsePriceData(_.data,m),c.push(w)}return[2,c]}})})},s}();return fc.PythHttpClient=n,fc}var z4,ma={},q4,F4={},j4={},Wu=Yi(uy("123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz")),g0={exports:{}};function uv(){if(q4)return g0.exports;q4=1;const r=/[\p{Lu}]/u,t=/[\p{Ll}]/u,e=/^[\p{Lu}](?![\p{Lu}])/gu,n=/([\p{Alpha}\p{N}_]|$)/u,s=/[_.\- ]+/,i=new RegExp("^"+s.source),c=new RegExp(s.source+n.source,"gu"),l=new RegExp("\\d+"+n.source,"gu"),p=(m,v)=>{if(typeof m!="string"&&!Array.isArray(m))throw new TypeError("Expected the input to be `string | string[]`");if(v={pascalCase:!1,preserveConsecutiveUppercase:!1,...v},m=Array.isArray(m)?m.map(w=>w.trim()).filter(w=>w.length).join("-"):m.trim(),m.length===0)return"";const _=v.locale===!1?w=>w.toLowerCase():w=>w.toLocaleLowerCase(v.locale),E=v.locale===!1?w=>w.toUpperCase():w=>w.toLocaleUpperCase(v.locale);return m.length===1?v.pascalCase?E(m):_(m):(m!==_(m)&&(m=((w,x,A)=>{let B=!1,P=!1,R=!1;for(let C=0;C<w.length;C++){const O=w[C];B&&r.test(O)?(w=w.slice(0,C)+"-"+w.slice(C),B=!1,R=P,P=!0,C++):P&&R&&t.test(O)?(w=w.slice(0,C-1)+"-"+w.slice(C-1),R=P,P=!1,B=!0):(B=x(O)===O&&A(O)!==O,R=P,P=A(O)===O&&x(O)!==O)}return w})(m,_,E)),m=m.replace(i,""),m=v.preserveConsecutiveUppercase?((w,x)=>(e.lastIndex=0,w.replace(e,A=>x(A))))(m,_):_(m),v.pascalCase&&(m=E(m.charAt(0))+m.slice(1)),((w,x)=>(c.lastIndex=0,l.lastIndex=0,w.replace(c,(A,B)=>x(B)).replace(l,A=>x(A))))(m,E))};return g0.exports=p,g0.exports.default=p,g0.exports}var zr=Yi(uv()),We={},Be={};class Tr{constructor(t,e){if(!Number.isInteger(t))throw new TypeError("span must be an integer");this.span=t,this.property=e}makeDestinationObject(){return{}}decode(t,e){throw new Error("Layout is abstract")}encode(t,e,n){throw new Error("Layout is abstract")}getSpan(t,e){if(0>this.span)throw new RangeError("indeterminate span");return this.span}replicate(t){const e=Object.create(this.constructor.prototype);return Object.assign(e,this),e.property=t,e}fromArray(t){}}function Ly(r,t){return t.property?r+"["+t.property+"]":r}Be.Layout=Tr,Be.nameWithProperty=Ly,Be.bindConstructorLayout=function(r,t){if(typeof r!="function")throw new TypeError("Class must be constructor");if(r.hasOwnProperty("layout_"))throw new Error("Class is already bound to a layout");if(!(t&&t instanceof Tr))throw new TypeError("layout must be a Layout");if(t.hasOwnProperty("boundConstructor_"))throw new Error("layout is already bound to a constructor");r.layout_=t,t.boundConstructor_=r,t.makeDestinationObject=()=>new r,Object.defineProperty(r.prototype,"encode",{value:function(e,n){return t.encode(this,e,n)},writable:!0}),Object.defineProperty(r,"decode",{value:function(e,n){return t.decode(e,n)},writable:!0})};class ni extends Tr{isCount(){throw new Error("ExternalLayout is abstract")}}class K4 extends ni{constructor(t,e){if(t===void 0&&(t=1),!Number.isInteger(t)||0>=t)throw new TypeError("elementSpan must be a (positive) integer");super(-1,e),this.elementSpan=t}isCount(){return!0}decode(t,e){e===void 0&&(e=0);const n=t.length-e;return Math.floor(n/this.elementSpan)}encode(t,e,n){return 0}}class fv extends ni{constructor(t,e,n){if(!(t instanceof Tr))throw new TypeError("layout must be a Layout");if(e===void 0)e=0;else if(!Number.isInteger(e))throw new TypeError("offset must be integer or undefined");super(t.span,n||t.property),this.layout=t,this.offset=e}isCount(){return this.layout instanceof Po||this.layout instanceof ds}decode(t,e){return e===void 0&&(e=0),this.layout.decode(t,e+this.offset)}encode(t,e,n){return n===void 0&&(n=0),this.layout.encode(t,e,n+this.offset)}}class Po extends Tr{constructor(t,e){if(super(t,e),6<this.span)throw new RangeError("span must not exceed 6 bytes")}decode(t,e){return e===void 0&&(e=0),t.readUIntLE(e,this.span)}encode(t,e,n){return n===void 0&&(n=0),e.writeUIntLE(t,n,this.span),this.span}}class ds extends Tr{constructor(t,e){if(super(t,e),6<this.span)throw new RangeError("span must not exceed 6 bytes")}decode(t,e){return e===void 0&&(e=0),t.readUIntBE(e,this.span)}encode(t,e,n){return n===void 0&&(n=0),e.writeUIntBE(t,n,this.span),this.span}}class va extends Tr{constructor(t,e){if(super(t,e),6<this.span)throw new RangeError("span must not exceed 6 bytes")}decode(t,e){return e===void 0&&(e=0),t.readIntLE(e,this.span)}encode(t,e,n){return n===void 0&&(n=0),e.writeIntLE(t,n,this.span),this.span}}class yu extends Tr{constructor(t,e){if(super(t,e),6<this.span)throw new RangeError("span must not exceed 6 bytes")}decode(t,e){return e===void 0&&(e=0),t.readIntBE(e,this.span)}encode(t,e,n){return n===void 0&&(n=0),e.writeIntBE(t,n,this.span),this.span}}const cv=Math.pow(2,32);function Id(r){const t=Math.floor(r/cv);return{hi32:t,lo32:r-t*cv}}function Bd(r,t){return r*cv+t}class zK extends Tr{constructor(t){super(8,t)}decode(t,e){e===void 0&&(e=0);const n=t.readUInt32LE(e);return Bd(t.readUInt32LE(e+4),n)}encode(t,e,n){n===void 0&&(n=0);const s=Id(t);return e.writeUInt32LE(s.lo32,n),e.writeUInt32LE(s.hi32,n+4),8}}class qK extends Tr{constructor(t){super(8,t)}decode(t,e){return e===void 0&&(e=0),Bd(t.readUInt32BE(e),t.readUInt32BE(e+4))}encode(t,e,n){n===void 0&&(n=0);const s=Id(t);return e.writeUInt32BE(s.hi32,n),e.writeUInt32BE(s.lo32,n+4),8}}class FK extends Tr{constructor(t){super(8,t)}decode(t,e){e===void 0&&(e=0);const n=t.readUInt32LE(e);return Bd(t.readInt32LE(e+4),n)}encode(t,e,n){n===void 0&&(n=0);const s=Id(t);return e.writeUInt32LE(s.lo32,n),e.writeInt32LE(s.hi32,n+4),8}}class jK extends Tr{constructor(t){super(8,t)}decode(t,e){return e===void 0&&(e=0),Bd(t.readInt32BE(e),t.readUInt32BE(e+4))}encode(t,e,n){n===void 0&&(n=0);const s=Id(t);return e.writeInt32BE(s.hi32,n),e.writeUInt32BE(s.lo32,n+4),8}}class $4 extends Tr{constructor(t){super(4,t)}decode(t,e){return e===void 0&&(e=0),t.readFloatLE(e)}encode(t,e,n){return n===void 0&&(n=0),e.writeFloatLE(t,n),4}}class H4 extends Tr{constructor(t){super(4,t)}decode(t,e){return e===void 0&&(e=0),t.readFloatBE(e)}encode(t,e,n){return n===void 0&&(n=0),e.writeFloatBE(t,n),4}}class V4 extends Tr{constructor(t){super(8,t)}decode(t,e){return e===void 0&&(e=0),t.readDoubleLE(e)}encode(t,e,n){return n===void 0&&(n=0),e.writeDoubleLE(t,n),8}}class Z4 extends Tr{constructor(t){super(8,t)}decode(t,e){return e===void 0&&(e=0),t.readDoubleBE(e)}encode(t,e,n){return n===void 0&&(n=0),e.writeDoubleBE(t,n),8}}class W4 extends Tr{constructor(t,e,n){if(!(t instanceof Tr))throw new TypeError("elementLayout must be a Layout");if(!(e instanceof ni&&e.isCount()||Number.isInteger(e)&&0<=e))throw new TypeError("count must be non-negative integer or an unsigned integer ExternalLayout");let s=-1;!(e instanceof ni)&&0<t.span&&(s=e*t.span),super(s,n),this.elementLayout=t,this.count=e}getSpan(t,e){if(0<=this.span)return this.span;e===void 0&&(e=0);let n=0,s=this.count;if(s instanceof ni&&(s=s.decode(t,e)),0<this.elementLayout.span)n=s*this.elementLayout.span;else{let i=0;for(;i<s;)n+=this.elementLayout.getSpan(t,e+n),++i}return n}decode(t,e){e===void 0&&(e=0);const n=[];let s=0,i=this.count;for(i instanceof ni&&(i=i.decode(t,e));s<i;)n.push(this.elementLayout.decode(t,e)),e+=this.elementLayout.getSpan(t,e),s+=1;return n}encode(t,e,n){n===void 0&&(n=0);const s=this.elementLayout,i=t.reduce((c,l)=>c+s.encode(l,e,n+c),0);return this.count instanceof ni&&this.count.encode(t.length,e,n),i}}class G4 extends Tr{constructor(t,e,n){if(!Array.isArray(t)||!t.reduce((i,c)=>i&&c instanceof Tr,!0))throw new TypeError("fields must be array of Layout instances");typeof e=="boolean"&&n===void 0&&(n=e,e=void 0);for(const i of t)if(0>i.span&&i.property===void 0)throw new Error("fields cannot contain unnamed variable-length layout");let s=-1;try{s=t.reduce((i,c)=>i+c.getSpan(),0)}catch{}super(s,e),this.fields=t,this.decodePrefixes=!!n}getSpan(t,e){if(0<=this.span)return this.span;e===void 0&&(e=0);let n=0;try{n=this.fields.reduce((s,i)=>{const c=i.getSpan(t,e);return e+=c,s+c},0)}catch{throw new RangeError("indeterminate span")}return n}decode(t,e){e===void 0&&(e=0);const n=this.makeDestinationObject();for(const s of this.fields)if(s.property!==void 0&&(n[s.property]=s.decode(t,e)),e+=s.getSpan(t,e),this.decodePrefixes&&t.length===e)break;return n}encode(t,e,n){n===void 0&&(n=0);const s=n;let i=0,c=0;for(const l of this.fields){let p=l.span;if(c=0<p?p:0,l.property!==void 0){const m=t[l.property];m!==void 0&&(c=l.encode(m,e,n),0>p&&(p=l.getSpan(e,n)))}i=n,n+=p}return i+c-s}fromArray(t){const e=this.makeDestinationObject();for(const n of this.fields)n.property!==void 0&&0<t.length&&(e[n.property]=t.shift());return e}layoutFor(t){if(typeof t!="string")throw new TypeError("property must be string");for(const e of this.fields)if(e.property===t)return e}offsetOf(t){if(typeof t!="string")throw new TypeError("property must be string");let e=0;for(const n of this.fields){if(n.property===t)return e;0>n.span?e=-1:0<=e&&(e+=n.span)}}}class Oy{constructor(t){this.property=t}decode(){throw new Error("UnionDiscriminator is abstract")}encode(){throw new Error("UnionDiscriminator is abstract")}}class Pl extends Oy{constructor(t,e){if(!(t instanceof ni&&t.isCount()))throw new TypeError("layout must be an unsigned integer ExternalLayout");super(e||t.property||"variant"),this.layout=t}decode(t,e){return this.layout.decode(t,e)}encode(t,e,n){return this.layout.encode(t,e,n)}}class hv extends Tr{constructor(t,e,n){const s=t instanceof Po||t instanceof ds;if(s)t=new Pl(new fv(t));else if(t instanceof ni&&t.isCount())t=new Pl(t);else if(!(t instanceof Oy))throw new TypeError("discr must be a UnionDiscriminator or an unsigned integer layout");if(e===void 0&&(e=null),!(e===null||e instanceof Tr))throw new TypeError("defaultLayout must be null or a Layout");if(e!==null){if(0>e.span)throw new Error("defaultLayout must have constant span");e.property===void 0&&(e=e.replicate("content"))}let i=-1;e&&(i=e.span,0<=i&&s&&(i+=t.layout.span)),super(i,n),this.discriminator=t,this.usesPrefixDiscriminator=s,this.defaultLayout=e,this.registry={};let c=this.defaultGetSourceVariant.bind(this);this.getSourceVariant=function(l){return c(l)},this.configGetSourceVariant=function(l){c=l.bind(this)}}getSpan(t,e){if(0<=this.span)return this.span;e===void 0&&(e=0);const n=this.getVariant(t,e);if(!n)throw new Error("unable to determine span for unrecognized variant");return n.getSpan(t,e)}defaultGetSourceVariant(t){if(t.hasOwnProperty(this.discriminator.property)){if(this.defaultLayout&&t.hasOwnProperty(this.defaultLayout.property))return;const e=this.registry[t[this.discriminator.property]];if(e&&(!e.layout||t.hasOwnProperty(e.property)))return e}else for(const e in this.registry){const n=this.registry[e];if(t.hasOwnProperty(n.property))return n}throw new Error("unable to infer src variant")}decode(t,e){let n;e===void 0&&(e=0);const s=this.discriminator,i=s.decode(t,e);let c=this.registry[i];if(c===void 0){let l=0;c=this.defaultLayout,this.usesPrefixDiscriminator&&(l=s.layout.span),n=this.makeDestinationObject(),n[s.property]=i,n[c.property]=this.defaultLayout.decode(t,e+l)}else n=c.decode(t,e);return n}encode(t,e,n){n===void 0&&(n=0);const s=this.getSourceVariant(t);if(s===void 0){const i=this.discriminator,c=this.defaultLayout;let l=0;return this.usesPrefixDiscriminator&&(l=i.layout.span),i.encode(t[i.property],e,n),l+c.encode(t[c.property],e,n+l)}return s.encode(t,e,n)}addVariant(t,e,n){const s=new OA(this,t,e,n);return this.registry[t]=s,s}getVariant(t,e){let n=t;return Zt.Buffer.isBuffer(t)&&(e===void 0&&(e=0),n=this.discriminator.decode(t,e)),this.registry[n]}}class OA extends Tr{constructor(t,e,n,s){if(!(t instanceof hv))throw new TypeError("union must be a Union");if(!Number.isInteger(e)||0>e)throw new TypeError("variant must be a (non-negative) integer");if(typeof n=="string"&&s===void 0&&(s=n,n=null),n){if(!(n instanceof Tr))throw new TypeError("layout must be a Layout");if(t.defaultLayout!==null&&0<=n.span&&n.span>t.defaultLayout.span)throw new Error("variant span exceeds span of containing union");if(typeof s!="string")throw new TypeError("variant must have a String property")}let i=t.span;0>t.span&&(i=n?n.span:0,0<=i&&t.usesPrefixDiscriminator&&(i+=t.discriminator.layout.span)),super(i,s),this.union=t,this.variant=e,this.layout=n||null}getSpan(t,e){if(0<=this.span)return this.span;e===void 0&&(e=0);let n=0;return this.union.usesPrefixDiscriminator&&(n=this.union.discriminator.layout.span),n+this.layout.getSpan(t,e+n)}decode(t,e){const n=this.makeDestinationObject();if(e===void 0&&(e=0),this!==this.union.getVariant(t,e))throw new Error("variant mismatch");let s=0;return this.union.usesPrefixDiscriminator&&(s=this.union.discriminator.layout.span),this.layout?n[this.property]=this.layout.decode(t,e+s):this.property?n[this.property]=!0:this.union.usesPrefixDiscriminator&&(n[this.union.discriminator.property]=this.variant),n}encode(t,e,n){n===void 0&&(n=0);let s=0;if(this.union.usesPrefixDiscriminator&&(s=this.union.discriminator.layout.span),this.layout&&!t.hasOwnProperty(this.property))throw new TypeError("variant lacks property "+this.property);this.union.discriminator.encode(this.variant,e,n);let i=s;if(this.layout&&(this.layout.encode(t[this.property],e,n+s),i+=this.layout.getSpan(e,n+s),0<=this.union.span&&i>this.union.span))throw new Error("encoded variant overruns containing union");return i}fromArray(t){if(this.layout)return this.layout.fromArray(t)}}function Iu(r){return 0>r&&(r+=4294967296),r}class lv extends Tr{constructor(t,e,n){if(!(t instanceof Po||t instanceof ds))throw new TypeError("word must be a UInt or UIntBE layout");if(typeof e=="string"&&n===void 0&&(n=e,e=void 0),4<t.span)throw new RangeError("word cannot exceed 32 bits");super(t.span,n),this.word=t,this.msb=!!e,this.fields=[];let s=0;this._packedSetValue=function(i){return s=Iu(i),this},this._packedGetValue=function(){return s}}decode(t,e){const n=this.makeDestinationObject();e===void 0&&(e=0);const s=this.word.decode(t,e);this._packedSetValue(s);for(const i of this.fields)i.property!==void 0&&(n[i.property]=i.decode(s));return n}encode(t,e,n){n===void 0&&(n=0);const s=this.word.decode(e,n);this._packedSetValue(s);for(const i of this.fields)if(i.property!==void 0){const c=t[i.property];c!==void 0&&i.encode(c)}return this.word.encode(this._packedGetValue(),e,n)}addField(t,e){const n=new Bc(this,t,e);return this.fields.push(n),n}addBoolean(t){const e=new UA(this,t);return this.fields.push(e),e}fieldFor(t){if(typeof t!="string")throw new TypeError("property must be string");for(const e of this.fields)if(e.property===t)return e}}class Bc{constructor(t,e,n){if(!(t instanceof lv))throw new TypeError("container must be a BitStructure");if(!Number.isInteger(e)||0>=e)throw new TypeError("bits must be positive integer");const s=8*t.span,i=t.fields.reduce((c,l)=>c+l.bits,0);if(e+i>s)throw new Error("bits too long for span remainder ("+(s-i)+" of "+s+" remain)");this.container=t,this.bits=e,this.valueMask=(1<<e)-1,e===32&&(this.valueMask=4294967295),this.start=i,this.container.msb&&(this.start=s-i-e),this.wordMask=Iu(this.valueMask<<this.start),this.property=n}decode(){return Iu(this.container._packedGetValue()&this.wordMask)>>>this.start}encode(t){if(!Number.isInteger(t)||t!==Iu(t&this.valueMask))throw new TypeError(Ly("BitField.encode",this)+" value must be integer not exceeding "+this.valueMask);const e=this.container._packedGetValue(),n=Iu(t<<this.start);this.container._packedSetValue(Iu(e&~this.wordMask)|n)}}class UA extends Bc{constructor(t,e){super(t,1,e)}decode(t,e){return!!Bc.prototype.decode.call(this,t,e)}encode(t){return typeof t=="boolean"&&(t=+t),Bc.prototype.encode.call(this,t)}}class Y4 extends Tr{constructor(t,e){if(!(t instanceof ni&&t.isCount()||Number.isInteger(t)&&0<=t))throw new TypeError("length must be positive integer or an unsigned integer ExternalLayout");let n=-1;t instanceof ni||(n=t),super(n,e),this.length=t}getSpan(t,e){let n=this.span;return 0>n&&(n=this.length.decode(t,e)),n}decode(t,e){e===void 0&&(e=0);let n=this.span;return 0>n&&(n=this.length.decode(t,e)),t.slice(e,e+n)}encode(t,e,n){let s=this.length;if(this.length instanceof ni&&(s=t.length),!Zt.Buffer.isBuffer(t)||s!==t.length)throw new TypeError(Ly("Blob.encode",this)+" requires (length "+s+") Buffer as src");if(n+s>e.length)throw new RangeError("encoding overruns Buffer");return e.write(t.toString("hex"),n,s,"hex"),this.length instanceof ni&&this.length.encode(s,e,n),s}}class X4 extends Tr{constructor(t){super(-1,t)}getSpan(t,e){if(!Zt.Buffer.isBuffer(t))throw new TypeError("b must be a Buffer");e===void 0&&(e=0);let n=e;for(;n<t.length&&t[n]!==0;)n+=1;return 1+n-e}decode(t,e,n){e===void 0&&(e=0);let s=this.getSpan(t,e);return t.slice(e,e+s-1).toString("utf-8")}encode(t,e,n){n===void 0&&(n=0),typeof t!="string"&&(t=t.toString());const s=new Zt.Buffer(t,"utf8"),i=s.length;if(n+i>e.length)throw new RangeError("encoding overruns Buffer");return s.copy(e,n),e[n+i]=0,i+1}}class J4 extends Tr{constructor(t,e){if(typeof t=="string"&&e===void 0&&(e=t,t=void 0),t===void 0)t=-1;else if(!Number.isInteger(t))throw new TypeError("maxSpan must be an integer");super(-1,e),this.maxSpan=t}getSpan(t,e){if(!Zt.Buffer.isBuffer(t))throw new TypeError("b must be a Buffer");return e===void 0&&(e=0),t.length-e}decode(t,e,n){e===void 0&&(e=0);let s=this.getSpan(t,e);if(0<=this.maxSpan&&this.maxSpan<s)throw new RangeError("text length exceeds maxSpan");return t.slice(e,e+s).toString("utf-8")}encode(t,e,n){n===void 0&&(n=0),typeof t!="string"&&(t=t.toString());const s=new Zt.Buffer(t,"utf8"),i=s.length;if(0<=this.maxSpan&&this.maxSpan<i)throw new RangeError("text length exceeds maxSpan");if(n+i>e.length)throw new RangeError("encoding overruns Buffer");return s.copy(e,n),i}}class Q4 extends Tr{constructor(t,e){super(0,e),this.value=t}decode(t,e,n){return this.value}encode(t,e,n){return 0}}Be.ExternalLayout=ni,Be.GreedyCount=K4,Be.OffsetLayout=fv,Be.UInt=Po,Be.UIntBE=ds,Be.Int=va,Be.IntBE=yu,Be.Float=$4,Be.FloatBE=H4,Be.Double=V4,Be.DoubleBE=Z4,Be.Sequence=W4,Be.Structure=G4,Be.UnionDiscriminator=Oy,Be.UnionLayoutDiscriminator=Pl,Be.Union=hv,Be.VariantLayout=OA,Be.BitStructure=lv,Be.BitField=Bc,Be.Boolean=UA,Be.Blob=Y4,Be.CString=X4,Be.UTF8=J4,Be.Constant=Q4,Be.greedy=(r,t)=>new K4(r,t),Be.offset=(r,t,e)=>new fv(r,t,e),Be.u8=r=>new Po(1,r),Be.u16=r=>new Po(2,r),Be.u24=r=>new Po(3,r),Be.u32=r=>new Po(4,r),Be.u40=r=>new Po(5,r),Be.u48=r=>new Po(6,r),Be.nu64=r=>new zK(r),Be.u16be=r=>new ds(2,r),Be.u24be=r=>new ds(3,r),Be.u32be=r=>new ds(4,r),Be.u40be=r=>new ds(5,r),Be.u48be=r=>new ds(6,r),Be.nu64be=r=>new qK(r),Be.s8=r=>new va(1,r),Be.s16=r=>new va(2,r),Be.s24=r=>new va(3,r),Be.s32=r=>new va(4,r),Be.s40=r=>new va(5,r),Be.s48=r=>new va(6,r),Be.ns64=r=>new FK(r),Be.s16be=r=>new yu(2,r),Be.s24be=r=>new yu(3,r),Be.s32be=r=>new yu(4,r),Be.s40be=r=>new yu(5,r),Be.s48be=r=>new yu(6,r),Be.ns64be=r=>new jK(r),Be.f32=r=>new $4(r),Be.f32be=r=>new H4(r),Be.f64=r=>new V4(r),Be.f64be=r=>new Z4(r),Be.struct=(r,t,e)=>new G4(r,t,e),Be.bits=(r,t,e)=>new lv(r,t,e),Be.seq=(r,t,e)=>new W4(r,t,e),Be.union=(r,t,e)=>new hv(r,t,e),Be.unionLayoutDiscriminator=(r,t)=>new Pl(r,t),Be.blob=(r,t)=>new Y4(r,t),Be.cstr=r=>new X4(r),Be.utf8=(r,t)=>new J4(r,t),Be.const=(r,t)=>new Q4(r,t),function(r){var t=$e&&$e.__importDefault||function(x){return x&&x.__esModule?x:{default:x}};Object.defineProperty(r,"__esModule",{value:!0}),r.map=r.array=r.rustEnum=r.str=r.vecU8=r.tagged=r.vec=r.bool=r.option=r.publicKey=r.i256=r.u256=r.i128=r.u128=r.i64=r.u64=r.struct=r.f64=r.f32=r.i32=r.u32=r.i16=r.u16=r.i8=r.u8=void 0;const e=Be,n=sv,s=t(ay);var i=Be;Object.defineProperty(r,"u8",{enumerable:!0,get:function(){return i.u8}}),Object.defineProperty(r,"i8",{enumerable:!0,get:function(){return i.s8}}),Object.defineProperty(r,"u16",{enumerable:!0,get:function(){return i.u16}}),Object.defineProperty(r,"i16",{enumerable:!0,get:function(){return i.s16}}),Object.defineProperty(r,"u32",{enumerable:!0,get:function(){return i.u32}}),Object.defineProperty(r,"i32",{enumerable:!0,get:function(){return i.s32}}),Object.defineProperty(r,"f32",{enumerable:!0,get:function(){return i.f32}}),Object.defineProperty(r,"f64",{enumerable:!0,get:function(){return i.f64}}),Object.defineProperty(r,"struct",{enumerable:!0,get:function(){return i.struct}});class c extends e.Layout{constructor(A,B,P){super(A,P),this.blob=(0,e.blob)(A),this.signed=B}decode(A,B=0){const P=new s.default(this.blob.decode(A,B),10,"le");return this.signed?P.fromTwos(8*this.span).clone():P}encode(A,B,P=0){return this.signed&&(A=A.toTwos(8*this.span)),this.blob.encode(A.toArrayLike(Zt.Buffer,"le",this.span),B,P)}}function l(x){return new c(8,!1,x)}r.u64=l,r.i64=function(x){return new c(8,!0,x)},r.u128=function(x){return new c(16,!1,x)},r.i128=function(x){return new c(16,!0,x)},r.u256=function(x){return new c(32,!1,x)},r.i256=function(x){return new c(32,!0,x)};class p extends e.Layout{constructor(A,B,P,R){super(A.span,R),this.layout=A,this.decoder=B,this.encoder=P}decode(A,B){return this.decoder(this.layout.decode(A,B))}encode(A,B,P){return this.layout.encode(this.encoder(A),B,P)}getSpan(A,B){return this.layout.getSpan(A,B)}}r.publicKey=function(x){return new p((0,e.blob)(32),A=>new n.PublicKey(A),A=>A.toBuffer(),x)};class m extends e.Layout{constructor(A,B){super(-1,B),this.layout=A,this.discriminator=(0,e.u8)()}encode(A,B,P=0){return A==null?this.discriminator.encode(0,B,P):(this.discriminator.encode(1,B,P),this.layout.encode(A,B,P+1)+1)}decode(A,B=0){const P=this.discriminator.decode(A,B);if(P===0)return null;if(P===1)return this.layout.decode(A,B+1);throw new Error("Invalid option "+this.property)}getSpan(A,B=0){const P=this.discriminator.decode(A,B);if(P===0)return 1;if(P===1)return this.layout.getSpan(A,B+1)+1;throw new Error("Invalid option "+this.property)}}function v(x){if(x===0)return!1;if(x===1)return!0;throw new Error("Invalid bool: "+x)}function _(x){return x?1:0}function E(x){const A=(0,e.u32)("length"),B=(0,e.struct)([A,(0,e.blob)((0,e.offset)(A,-A.span),"data")]);return new p(B,({data:P})=>P,P=>({data:P}),x)}r.option=function(x,A){return new m(x,A)},r.bool=function(x){return new p((0,e.u8)(),v,_,x)},r.vec=function(x,A){const B=(0,e.u32)("length"),P=(0,e.struct)([B,(0,e.seq)(x,(0,e.offset)(B,-B.span),"values")]);return new p(P,({values:R})=>R,R=>({values:R}),A)},r.tagged=function(x,A,B){const P=(0,e.struct)([l("tag"),A.replicate("data")]);return new p(P,function({tag:R,data:C}){if(!R.eq(x))throw new Error("Invalid tag, expected: "+x.toString("hex")+", got: "+R.toString("hex"));return C},R=>({tag:x,data:R}),B)},r.vecU8=E,r.str=function(x){return new p(E(),A=>A.toString("utf-8"),A=>Zt.Buffer.from(A,"utf-8"),x)},r.rustEnum=function(x,A,B){const P=(0,e.union)(B??(0,e.u8)(),A);return x.forEach((R,C)=>P.addVariant(C,R,R.property)),P},r.array=function(x,A,B){const P=(0,e.struct)([(0,e.seq)(x,A,"values")]);return new p(P,({values:R})=>R,R=>({values:R}),B)};class w extends e.Layout{constructor(A,B,P){super(A.span+B.span,P),this.keyLayout=A,this.valueLayout=B}decode(A,B){return B=B||0,[this.keyLayout.decode(A,B),this.valueLayout.decode(A,B+this.keyLayout.getSpan(A,B))]}encode(A,B,P){P=P||0;const R=this.keyLayout.encode(A[0],B,P);return R+this.valueLayout.encode(A[1],B,P+R)}getSpan(A,B){return this.keyLayout.getSpan(A,B)+this.valueLayout.getSpan(A,B)}}r.map=function(x,A,B){const P=(0,e.u32)("length"),R=(0,e.struct)([P,(0,e.seq)(new w(x,A),(0,e.offset)(P,-P.span),"values")]);return new p(R,({values:C})=>new Map(C),C=>({values:Array.from(C.entries())}),B)}}(We);function Of(r){let t=r.length;for(;--t>=0;)r[t]=0}const KK=30,$K=new Array(576);Of($K);const HK=new Array(60);Of(HK);const VK=new Array(512);Of(VK);const ZK=new Array(256);Of(ZK);const WK=new Array(29);Of(WK);const GK=new Array(KK);Of(GK);var dv=(r,t,e,n)=>{let s=65535&r|0,i=r>>>16&65535|0,c=0;for(;e!==0;){c=e>2e3?2e3:e,e-=c;do s=s+t[n++]|0,i=i+s|0;while(--c);s%=65521,i%=65521}return s|i<<16|0};const YK=new Uint32Array((()=>{let r,t=[];for(var e=0;e<256;e++){r=e;for(var n=0;n<8;n++)r=1&r?3988292384^r>>>1:r>>>1;t[e]=r}return t})());var xo=(r,t,e,n)=>{const s=YK,i=n+e;r^=-1;for(let c=n;c<i;c++)r=r>>>8^s[255&(r^t[c])];return-1^r},pv={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"},Uy={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_MEM_ERROR:-4,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8};const XK=(r,t)=>Object.prototype.hasOwnProperty.call(r,t);var NA={assign:function(r){const t=Array.prototype.slice.call(arguments,1);for(;t.length;){const e=t.shift();if(e){if(typeof e!="object")throw new TypeError(e+"must be non-object");for(const n in e)XK(e,n)&&(r[n]=e[n])}}return r},flattenChunks:r=>{let t=0;for(let n=0,s=r.length;n<s;n++)t+=r[n].length;const e=new Uint8Array(t);for(let n=0,s=0,i=r.length;n<i;n++){let c=r[n];e.set(c,s),s+=c.length}return e}};let DA=!0;try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{DA=!1}const sh=new Uint8Array(256);for(let r=0;r<256;r++)sh[r]=r>=252?6:r>=248?5:r>=240?4:r>=224?3:r>=192?2:1;sh[254]=sh[254]=1;var mv={string2buf:r=>{if(typeof TextEncoder=="function"&&TextEncoder.prototype.encode)return new TextEncoder().encode(r);let t,e,n,s,i,c=r.length,l=0;for(s=0;s<c;s++)e=r.charCodeAt(s),(64512&e)==55296&&s+1<c&&(n=r.charCodeAt(s+1),(64512&n)==56320&&(e=65536+(e-55296<<10)+(n-56320),s++)),l+=e<128?1:e<2048?2:e<65536?3:4;for(t=new Uint8Array(l),i=0,s=0;i<l;s++)e=r.charCodeAt(s),(64512&e)==55296&&s+1<c&&(n=r.charCodeAt(s+1),(64512&n)==56320&&(e=65536+(e-55296<<10)+(n-56320),s++)),e<128?t[i++]=e:e<2048?(t[i++]=192|e>>>6,t[i++]=128|63&e):e<65536?(t[i++]=224|e>>>12,t[i++]=128|e>>>6&63,t[i++]=128|63&e):(t[i++]=240|e>>>18,t[i++]=128|e>>>12&63,t[i++]=128|e>>>6&63,t[i++]=128|63&e);return t},buf2string:(r,t)=>{const e=t||r.length;if(typeof TextDecoder=="function"&&TextDecoder.prototype.decode)return new TextDecoder().decode(r.subarray(0,t));let n,s;const i=new Array(2*e);for(s=0,n=0;n<e;){let c=r[n++];if(c<128){i[s++]=c;continue}let l=sh[c];if(l>4)i[s++]=65533,n+=l-1;else{for(c&=l===2?31:l===3?15:7;l>1&&n<e;)c=c<<6|63&r[n++],l--;l>1?i[s++]=65533:c<65536?i[s++]=c:(c-=65536,i[s++]=55296|c>>10&1023,i[s++]=56320|1023&c)}}return((c,l)=>{if(l<65534&&c.subarray&&DA)return String.fromCharCode.apply(null,c.length===l?c:c.subarray(0,l));let p="";for(let m=0;m<l;m++)p+=String.fromCharCode(c[m]);return p})(i,s)},utf8border:(r,t)=>{(t=t||r.length)>r.length&&(t=r.length);let e=t-1;for(;e>=0&&(192&r[e])==128;)e--;return e<0||e===0?t:e+sh[r[e]]>t?e:t}},JK=function(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0};const y0=16209;var QK=function(r,t){let e,n,s,i,c,l,p,m,v,_,E,w,x,A,B,P,R,C,O,z,H,tt,nt,G;const M=r.state;e=r.next_in,nt=r.input,n=e+(r.avail_in-5),s=r.next_out,G=r.output,i=s-(t-r.avail_out),c=s+(r.avail_out-257),l=M.dmax,p=M.wsize,m=M.whave,v=M.wnext,_=M.window,E=M.hold,w=M.bits,x=M.lencode,A=M.distcode,B=(1<<M.lenbits)-1,P=(1<<M.distbits)-1;t:do{w<15&&(E+=nt[e++]<<w,w+=8,E+=nt[e++]<<w,w+=8),R=x[E&B];e:for(;;){if(C=R>>>24,E>>>=C,w-=C,C=R>>>16&255,C===0)G[s++]=65535&R;else{if(!(16&C)){if(!(64&C)){R=x[(65535&R)+(E&(1<<C)-1)];continue e}if(32&C){M.mode=16191;break t}r.msg="invalid literal/length code",M.mode=y0;break t}O=65535&R,C&=15,C&&(w<C&&(E+=nt[e++]<<w,w+=8),O+=E&(1<<C)-1,E>>>=C,w-=C),w<15&&(E+=nt[e++]<<w,w+=8,E+=nt[e++]<<w,w+=8),R=A[E&P];r:for(;;){if(C=R>>>24,E>>>=C,w-=C,C=R>>>16&255,!(16&C)){if(!(64&C)){R=A[(65535&R)+(E&(1<<C)-1)];continue r}r.msg="invalid distance code",M.mode=y0;break t}if(z=65535&R,C&=15,w<C&&(E+=nt[e++]<<w,w+=8,w<C&&(E+=nt[e++]<<w,w+=8)),z+=E&(1<<C)-1,z>l){r.msg="invalid distance too far back",M.mode=y0;break t}if(E>>>=C,w-=C,C=s-i,z>C){if(C=z-C,C>m&&M.sane){r.msg="invalid distance too far back",M.mode=y0;break t}if(H=0,tt=_,v===0){if(H+=p-C,C<O){O-=C;do G[s++]=_[H++];while(--C);H=s-z,tt=G}}else if(v<C){if(H+=p+v-C,C-=v,C<O){O-=C;do G[s++]=_[H++];while(--C);if(H=0,v<O){C=v,O-=C;do G[s++]=_[H++];while(--C);H=s-z,tt=G}}}else if(H+=v-C,C<O){O-=C;do G[s++]=_[H++];while(--C);H=s-z,tt=G}for(;O>2;)G[s++]=tt[H++],G[s++]=tt[H++],G[s++]=tt[H++],O-=3;O&&(G[s++]=tt[H++],O>1&&(G[s++]=tt[H++]))}else{H=s-z;do G[s++]=G[H++],G[s++]=G[H++],G[s++]=G[H++],O-=3;while(O>2);O&&(G[s++]=G[H++],O>1&&(G[s++]=G[H++]))}break}}break}}while(e<n&&s<c);O=w>>3,e-=O,w-=O<<3,E&=(1<<w)-1,r.next_in=e,r.next_out=s,r.avail_in=e<n?n-e+5:5-(e-n),r.avail_out=s<c?c-s+257:257-(s-c),M.hold=E,M.bits=w};const b0=15,t$=new Uint16Array([3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0]),e$=new Uint8Array([16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78]),r$=new Uint16Array([1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0]),n$=new Uint8Array([16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64]);var Pc=(r,t,e,n,s,i,c,l)=>{const p=l.bits;let m,v,_,E,w,x,A=0,B=0,P=0,R=0,C=0,O=0,z=0,H=0,tt=0,nt=0,G=null;const M=new Uint16Array(16),d=new Uint16Array(16);let o,a,f,h=null;for(A=0;A<=b0;A++)M[A]=0;for(B=0;B<n;B++)M[t[e+B]]++;for(C=p,R=b0;R>=1&&M[R]===0;R--);if(C>R&&(C=R),R===0)return s[i++]=20971520,s[i++]=20971520,l.bits=1,0;for(P=1;P<R&&M[P]===0;P++);for(C<P&&(C=P),H=1,A=1;A<=b0;A++)if(H<<=1,H-=M[A],H<0)return-1;if(H>0&&(r===0||R!==1))return-1;for(d[1]=0,A=1;A<b0;A++)d[A+1]=d[A]+M[A];for(B=0;B<n;B++)t[e+B]!==0&&(c[d[t[e+B]]++]=B);if(r===0?(G=h=c,x=20):r===1?(G=t$,h=e$,x=257):(G=r$,h=n$,x=0),nt=0,B=0,A=P,w=i,O=C,z=0,_=-1,tt=1<<C,E=tt-1,r===1&&tt>852||r===2&&tt>592)return 1;for(;;){o=A-z,c[B]+1<x?(a=0,f=c[B]):c[B]>=x?(a=h[c[B]-x],f=G[c[B]-x]):(a=96,f=0),m=1<<A-z,v=1<<O,P=v;do v-=m,s[w+(nt>>z)+v]=o<<24|a<<16|f|0;while(v!==0);for(m=1<<A-1;nt&m;)m>>=1;if(m!==0?(nt&=m-1,nt+=m):nt=0,B++,--M[A]==0){if(A===R)break;A=t[e+c[B]]}if(A>C&&(nt&E)!==_){for(z===0&&(z=C),w+=P,O=A-z,H=1<<O;O+z<R&&(H-=M[O+z],!(H<=0));)O++,H<<=1;if(tt+=1<<O,r===1&&tt>852||r===2&&tt>592)return 1;_=nt&E,s[_]=C<<24|O<<16|w-i|0}}return nt!==0&&(s[w+nt]=A-z<<24|64<<16|0),l.bits=C,0};const{Z_FINISH:t8,Z_BLOCK:i$,Z_TREES:w0,Z_OK:ru,Z_STREAM_END:o$,Z_NEED_DICT:s$,Z_STREAM_ERROR:Vi,Z_DATA_ERROR:zA,Z_MEM_ERROR:qA,Z_BUF_ERROR:a$,Z_DEFLATED:e8}=Uy,Pd=16180,Rl=16190,ns=16191,om=16192,sm=16194,x0=16199,_0=16200,am=16206,jr=16209,r8=r=>(r>>>24&255)+(r>>>8&65280)+((65280&r)<<8)+((255&r)<<24);function u$(){this.strm=null,this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new Uint16Array(320),this.work=new Uint16Array(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}const hu=r=>{if(!r)return 1;const t=r.state;return!t||t.strm!==r||t.mode<Pd||t.mode>16211?1:0},FA=r=>{if(hu(r))return Vi;const t=r.state;return r.total_in=r.total_out=t.total=0,r.msg="",t.wrap&&(r.adler=1&t.wrap),t.mode=Pd,t.last=0,t.havedict=0,t.flags=-1,t.dmax=32768,t.head=null,t.hold=0,t.bits=0,t.lencode=t.lendyn=new Int32Array(852),t.distcode=t.distdyn=new Int32Array(592),t.sane=1,t.back=-1,ru},jA=r=>{if(hu(r))return Vi;const t=r.state;return t.wsize=0,t.whave=0,t.wnext=0,FA(r)},KA=(r,t)=>{let e;if(hu(r))return Vi;const n=r.state;return t<0?(e=0,t=-t):(e=5+(t>>4),t<48&&(t&=15)),t&&(t<8||t>15)?Vi:(n.window!==null&&n.wbits!==t&&(n.window=null),n.wrap=e,n.wbits=t,jA(r))},n8=(r,t)=>{if(!r)return Vi;const e=new u$;r.state=e,e.strm=r,e.window=null,e.mode=Pd;const n=KA(r,t);return n!==ru&&(r.state=null),n};let um,fm,i8=!0;const f$=r=>{if(i8){um=new Int32Array(512),fm=new Int32Array(32);let t=0;for(;t<144;)r.lens[t++]=8;for(;t<256;)r.lens[t++]=9;for(;t<280;)r.lens[t++]=7;for(;t<288;)r.lens[t++]=8;for(Pc(1,r.lens,0,288,um,0,r.work,{bits:9}),t=0;t<32;)r.lens[t++]=5;Pc(2,r.lens,0,32,fm,0,r.work,{bits:5}),i8=!1}r.lencode=um,r.lenbits=9,r.distcode=fm,r.distbits=5},$A=(r,t,e,n)=>{let s;const i=r.state;return i.window===null&&(i.wsize=1<<i.wbits,i.wnext=0,i.whave=0,i.window=new Uint8Array(i.wsize)),n>=i.wsize?(i.window.set(t.subarray(e-i.wsize,e),0),i.wnext=0,i.whave=i.wsize):(s=i.wsize-i.wnext,s>n&&(s=n),i.window.set(t.subarray(e-n,e-n+s),i.wnext),(n-=s)?(i.window.set(t.subarray(e-n,e),0),i.wnext=n,i.whave=i.wsize):(i.wnext+=s,i.wnext===i.wsize&&(i.wnext=0),i.whave<i.wsize&&(i.whave+=s))),0};var c$=(r,t)=>{let e,n,s,i,c,l,p,m,v,_,E,w,x,A,B,P,R,C,O,z,H,tt,nt=0;const G=new Uint8Array(4);let M,d;const o=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]);if(hu(r)||!r.output||!r.input&&r.avail_in!==0)return Vi;e=r.state,e.mode===ns&&(e.mode=om),c=r.next_out,s=r.output,p=r.avail_out,i=r.next_in,n=r.input,l=r.avail_in,m=e.hold,v=e.bits,_=l,E=p,tt=ru;t:for(;;)switch(e.mode){case Pd:if(e.wrap===0){e.mode=om;break}for(;v<16;){if(l===0)break t;l--,m+=n[i++]<<v,v+=8}if(2&e.wrap&&m===35615){e.wbits===0&&(e.wbits=15),e.check=0,G[0]=255&m,G[1]=m>>>8&255,e.check=xo(e.check,G,2,0),m=0,v=0,e.mode=16181;break}if(e.head&&(e.head.done=!1),!(1&e.wrap)||(((255&m)<<8)+(m>>8))%31){r.msg="incorrect header check",e.mode=jr;break}if((15&m)!==e8){r.msg="unknown compression method",e.mode=jr;break}if(m>>>=4,v-=4,H=8+(15&m),e.wbits===0&&(e.wbits=H),H>15||H>e.wbits){r.msg="invalid window size",e.mode=jr;break}e.dmax=1<<e.wbits,e.flags=0,r.adler=e.check=1,e.mode=512&m?16189:ns,m=0,v=0;break;case 16181:for(;v<16;){if(l===0)break t;l--,m+=n[i++]<<v,v+=8}if(e.flags=m,(255&e.flags)!==e8){r.msg="unknown compression method",e.mode=jr;break}if(57344&e.flags){r.msg="unknown header flags set",e.mode=jr;break}e.head&&(e.head.text=m>>8&1),512&e.flags&&4&e.wrap&&(G[0]=255&m,G[1]=m>>>8&255,e.check=xo(e.check,G,2,0)),m=0,v=0,e.mode=16182;case 16182:for(;v<32;){if(l===0)break t;l--,m+=n[i++]<<v,v+=8}e.head&&(e.head.time=m),512&e.flags&&4&e.wrap&&(G[0]=255&m,G[1]=m>>>8&255,G[2]=m>>>16&255,G[3]=m>>>24&255,e.check=xo(e.check,G,4,0)),m=0,v=0,e.mode=16183;case 16183:for(;v<16;){if(l===0)break t;l--,m+=n[i++]<<v,v+=8}e.head&&(e.head.xflags=255&m,e.head.os=m>>8),512&e.flags&&4&e.wrap&&(G[0]=255&m,G[1]=m>>>8&255,e.check=xo(e.check,G,2,0)),m=0,v=0,e.mode=16184;case 16184:if(1024&e.flags){for(;v<16;){if(l===0)break t;l--,m+=n[i++]<<v,v+=8}e.length=m,e.head&&(e.head.extra_len=m),512&e.flags&&4&e.wrap&&(G[0]=255&m,G[1]=m>>>8&255,e.check=xo(e.check,G,2,0)),m=0,v=0}else e.head&&(e.head.extra=null);e.mode=16185;case 16185:if(1024&e.flags&&(w=e.length,w>l&&(w=l),w&&(e.head&&(H=e.head.extra_len-e.length,e.head.extra||(e.head.extra=new Uint8Array(e.head.extra_len)),e.head.extra.set(n.subarray(i,i+w),H)),512&e.flags&&4&e.wrap&&(e.check=xo(e.check,n,w,i)),l-=w,i+=w,e.length-=w),e.length))break t;e.length=0,e.mode=16186;case 16186:if(2048&e.flags){if(l===0)break t;w=0;do H=n[i+w++],e.head&&H&&e.length<65536&&(e.head.name+=String.fromCharCode(H));while(H&&w<l);if(512&e.flags&&4&e.wrap&&(e.check=xo(e.check,n,w,i)),l-=w,i+=w,H)break t}else e.head&&(e.head.name=null);e.length=0,e.mode=16187;case 16187:if(4096&e.flags){if(l===0)break t;w=0;do H=n[i+w++],e.head&&H&&e.length<65536&&(e.head.comment+=String.fromCharCode(H));while(H&&w<l);if(512&e.flags&&4&e.wrap&&(e.check=xo(e.check,n,w,i)),l-=w,i+=w,H)break t}else e.head&&(e.head.comment=null);e.mode=16188;case 16188:if(512&e.flags){for(;v<16;){if(l===0)break t;l--,m+=n[i++]<<v,v+=8}if(4&e.wrap&&m!==(65535&e.check)){r.msg="header crc mismatch",e.mode=jr;break}m=0,v=0}e.head&&(e.head.hcrc=e.flags>>9&1,e.head.done=!0),r.adler=e.check=0,e.mode=ns;break;case 16189:for(;v<32;){if(l===0)break t;l--,m+=n[i++]<<v,v+=8}r.adler=e.check=r8(m),m=0,v=0,e.mode=Rl;case Rl:if(e.havedict===0)return r.next_out=c,r.avail_out=p,r.next_in=i,r.avail_in=l,e.hold=m,e.bits=v,s$;r.adler=e.check=1,e.mode=ns;case ns:if(t===i$||t===w0)break t;case om:if(e.last){m>>>=7&v,v-=7&v,e.mode=am;break}for(;v<3;){if(l===0)break t;l--,m+=n[i++]<<v,v+=8}switch(e.last=1&m,m>>>=1,v-=1,3&m){case 0:e.mode=16193;break;case 1:if(f$(e),e.mode=x0,t===w0){m>>>=2,v-=2;break t}break;case 2:e.mode=16196;break;case 3:r.msg="invalid block type",e.mode=jr}m>>>=2,v-=2;break;case 16193:for(m>>>=7&v,v-=7&v;v<32;){if(l===0)break t;l--,m+=n[i++]<<v,v+=8}if((65535&m)!=(m>>>16^65535)){r.msg="invalid stored block lengths",e.mode=jr;break}if(e.length=65535&m,m=0,v=0,e.mode=sm,t===w0)break t;case sm:e.mode=16195;case 16195:if(w=e.length,w){if(w>l&&(w=l),w>p&&(w=p),w===0)break t;s.set(n.subarray(i,i+w),c),l-=w,i+=w,p-=w,c+=w,e.length-=w;break}e.mode=ns;break;case 16196:for(;v<14;){if(l===0)break t;l--,m+=n[i++]<<v,v+=8}if(e.nlen=257+(31&m),m>>>=5,v-=5,e.ndist=1+(31&m),m>>>=5,v-=5,e.ncode=4+(15&m),m>>>=4,v-=4,e.nlen>286||e.ndist>30){r.msg="too many length or distance symbols",e.mode=jr;break}e.have=0,e.mode=16197;case 16197:for(;e.have<e.ncode;){for(;v<3;){if(l===0)break t;l--,m+=n[i++]<<v,v+=8}e.lens[o[e.have++]]=7&m,m>>>=3,v-=3}for(;e.have<19;)e.lens[o[e.have++]]=0;if(e.lencode=e.lendyn,e.lenbits=7,M={bits:e.lenbits},tt=Pc(0,e.lens,0,19,e.lencode,0,e.work,M),e.lenbits=M.bits,tt){r.msg="invalid code lengths set",e.mode=jr;break}e.have=0,e.mode=16198;case 16198:for(;e.have<e.nlen+e.ndist;){for(;nt=e.lencode[m&(1<<e.lenbits)-1],B=nt>>>24,P=nt>>>16&255,R=65535&nt,!(B<=v);){if(l===0)break t;l--,m+=n[i++]<<v,v+=8}if(R<16)m>>>=B,v-=B,e.lens[e.have++]=R;else{if(R===16){for(d=B+2;v<d;){if(l===0)break t;l--,m+=n[i++]<<v,v+=8}if(m>>>=B,v-=B,e.have===0){r.msg="invalid bit length repeat",e.mode=jr;break}H=e.lens[e.have-1],w=3+(3&m),m>>>=2,v-=2}else if(R===17){for(d=B+3;v<d;){if(l===0)break t;l--,m+=n[i++]<<v,v+=8}m>>>=B,v-=B,H=0,w=3+(7&m),m>>>=3,v-=3}else{for(d=B+7;v<d;){if(l===0)break t;l--,m+=n[i++]<<v,v+=8}m>>>=B,v-=B,H=0,w=11+(127&m),m>>>=7,v-=7}if(e.have+w>e.nlen+e.ndist){r.msg="invalid bit length repeat",e.mode=jr;break}for(;w--;)e.lens[e.have++]=H}}if(e.mode===jr)break;if(e.lens[256]===0){r.msg="invalid code -- missing end-of-block",e.mode=jr;break}if(e.lenbits=9,M={bits:e.lenbits},tt=Pc(1,e.lens,0,e.nlen,e.lencode,0,e.work,M),e.lenbits=M.bits,tt){r.msg="invalid literal/lengths set",e.mode=jr;break}if(e.distbits=6,e.distcode=e.distdyn,M={bits:e.distbits},tt=Pc(2,e.lens,e.nlen,e.ndist,e.distcode,0,e.work,M),e.distbits=M.bits,tt){r.msg="invalid distances set",e.mode=jr;break}if(e.mode=x0,t===w0)break t;case x0:e.mode=_0;case _0:if(l>=6&&p>=258){r.next_out=c,r.avail_out=p,r.next_in=i,r.avail_in=l,e.hold=m,e.bits=v,QK(r,E),c=r.next_out,s=r.output,p=r.avail_out,i=r.next_in,n=r.input,l=r.avail_in,m=e.hold,v=e.bits,e.mode===ns&&(e.back=-1);break}for(e.back=0;nt=e.lencode[m&(1<<e.lenbits)-1],B=nt>>>24,P=nt>>>16&255,R=65535&nt,!(B<=v);){if(l===0)break t;l--,m+=n[i++]<<v,v+=8}if(P&&!(240&P)){for(C=B,O=P,z=R;nt=e.lencode[z+((m&(1<<C+O)-1)>>C)],B=nt>>>24,P=nt>>>16&255,R=65535&nt,!(C+B<=v);){if(l===0)break t;l--,m+=n[i++]<<v,v+=8}m>>>=C,v-=C,e.back+=C}if(m>>>=B,v-=B,e.back+=B,e.length=R,P===0){e.mode=16205;break}if(32&P){e.back=-1,e.mode=ns;break}if(64&P){r.msg="invalid literal/length code",e.mode=jr;break}e.extra=15&P,e.mode=16201;case 16201:if(e.extra){for(d=e.extra;v<d;){if(l===0)break t;l--,m+=n[i++]<<v,v+=8}e.length+=m&(1<<e.extra)-1,m>>>=e.extra,v-=e.extra,e.back+=e.extra}e.was=e.length,e.mode=16202;case 16202:for(;nt=e.distcode[m&(1<<e.distbits)-1],B=nt>>>24,P=nt>>>16&255,R=65535&nt,!(B<=v);){if(l===0)break t;l--,m+=n[i++]<<v,v+=8}if(!(240&P)){for(C=B,O=P,z=R;nt=e.distcode[z+((m&(1<<C+O)-1)>>C)],B=nt>>>24,P=nt>>>16&255,R=65535&nt,!(C+B<=v);){if(l===0)break t;l--,m+=n[i++]<<v,v+=8}m>>>=C,v-=C,e.back+=C}if(m>>>=B,v-=B,e.back+=B,64&P){r.msg="invalid distance code",e.mode=jr;break}e.offset=R,e.extra=15&P,e.mode=16203;case 16203:if(e.extra){for(d=e.extra;v<d;){if(l===0)break t;l--,m+=n[i++]<<v,v+=8}e.offset+=m&(1<<e.extra)-1,m>>>=e.extra,v-=e.extra,e.back+=e.extra}if(e.offset>e.dmax){r.msg="invalid distance too far back",e.mode=jr;break}e.mode=16204;case 16204:if(p===0)break t;if(w=E-p,e.offset>w){if(w=e.offset-w,w>e.whave&&e.sane){r.msg="invalid distance too far back",e.mode=jr;break}w>e.wnext?(w-=e.wnext,x=e.wsize-w):x=e.wnext-w,w>e.length&&(w=e.length),A=e.window}else A=s,x=c-e.offset,w=e.length;w>p&&(w=p),p-=w,e.length-=w;do s[c++]=A[x++];while(--w);e.length===0&&(e.mode=_0);break;case 16205:if(p===0)break t;s[c++]=e.length,p--,e.mode=_0;break;case am:if(e.wrap){for(;v<32;){if(l===0)break t;l--,m|=n[i++]<<v,v+=8}if(E-=p,r.total_out+=E,e.total+=E,4&e.wrap&&E&&(r.adler=e.check=e.flags?xo(e.check,s,E,c-E):dv(e.check,s,E,c-E)),E=p,4&e.wrap&&(e.flags?m:r8(m))!==e.check){r.msg="incorrect data check",e.mode=jr;break}m=0,v=0}e.mode=16207;case 16207:if(e.wrap&&e.flags){for(;v<32;){if(l===0)break t;l--,m+=n[i++]<<v,v+=8}if(4&e.wrap&&m!==(4294967295&e.total)){r.msg="incorrect length check",e.mode=jr;break}m=0,v=0}e.mode=16208;case 16208:tt=o$;break t;case jr:tt=zA;break t;case 16210:return qA;default:return Vi}return r.next_out=c,r.avail_out=p,r.next_in=i,r.avail_in=l,e.hold=m,e.bits=v,(e.wsize||E!==r.avail_out&&e.mode<jr&&(e.mode<am||t!==t8))&&$A(r,r.output,r.next_out,E-r.avail_out),_-=r.avail_in,E-=r.avail_out,r.total_in+=_,r.total_out+=E,e.total+=E,4&e.wrap&&E&&(r.adler=e.check=e.flags?xo(e.check,s,E,r.next_out-E):dv(e.check,s,E,r.next_out-E)),r.data_type=e.bits+(e.last?64:0)+(e.mode===ns?128:0)+(e.mode===x0||e.mode===sm?256:0),(_===0&&E===0||t===t8)&&tt===ru&&(tt=a$),tt},h$=r=>{if(hu(r))return Vi;let t=r.state;return t.window&&(t.window=null),r.state=null,ru},l$=(r,t)=>{if(hu(r))return Vi;const e=r.state;return 2&e.wrap?(e.head=t,t.done=!1,ru):Vi},d$=(r,t)=>{const e=t.length;let n,s,i;return hu(r)?Vi:(n=r.state,n.wrap!==0&&n.mode!==Rl?Vi:n.mode===Rl&&(s=1,s=dv(s,t,e,0),s!==n.check)?zA:(i=$A(r,t,e,e),i?(n.mode=16210,qA):(n.havedict=1,ru)))},ps={inflateReset:jA,inflateReset2:KA,inflateResetKeep:FA,inflateInit:r=>n8(r,15),inflateInit2:n8,inflate:c$,inflateEnd:h$,inflateGetHeader:l$,inflateSetDictionary:d$,inflateInfo:"pako inflate (from Nodeca project)"},p$=function(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1};const HA=Object.prototype.toString,{Z_NO_FLUSH:m$,Z_FINISH:v$,Z_OK:Rc,Z_STREAM_END:cm,Z_NEED_DICT:hm,Z_STREAM_ERROR:g$,Z_DATA_ERROR:o8,Z_MEM_ERROR:y$}=Uy;function Cc(r){this.options=NA.assign({chunkSize:65536,windowBits:15,to:""},r||{});const t=this.options;t.raw&&t.windowBits>=0&&t.windowBits<16&&(t.windowBits=-t.windowBits,t.windowBits===0&&(t.windowBits=-15)),!(t.windowBits>=0&&t.windowBits<16)||r&&r.windowBits||(t.windowBits+=32),t.windowBits>15&&t.windowBits<48&&!(15&t.windowBits)&&(t.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new JK,this.strm.avail_out=0;let e=ps.inflateInit2(this.strm,t.windowBits);if(e!==Rc)throw new Error(pv[e]);if(this.header=new p$,ps.inflateGetHeader(this.strm,this.header),t.dictionary&&(typeof t.dictionary=="string"?t.dictionary=mv.string2buf(t.dictionary):HA.call(t.dictionary)==="[object ArrayBuffer]"&&(t.dictionary=new Uint8Array(t.dictionary)),t.raw&&(e=ps.inflateSetDictionary(this.strm,t.dictionary),e!==Rc)))throw new Error(pv[e])}function lm(r,t){const e=new Cc(t);if(e.push(r),e.err)throw e.msg||pv[e.err];return e.result}Cc.prototype.push=function(r,t){const e=this.strm,n=this.options.chunkSize,s=this.options.dictionary;let i,c,l;if(this.ended)return!1;for(c=t===~~t?t:t===!0?v$:m$,HA.call(r)==="[object ArrayBuffer]"?e.input=new Uint8Array(r):e.input=r,e.next_in=0,e.avail_in=e.input.length;;){for(e.avail_out===0&&(e.output=new Uint8Array(n),e.next_out=0,e.avail_out=n),i=ps.inflate(e,c),i===hm&&s&&(i=ps.inflateSetDictionary(e,s),i===Rc?i=ps.inflate(e,c):i===o8&&(i=hm));e.avail_in>0&&i===cm&&e.state.wrap>0&&r[e.next_in]!==0;)ps.inflateReset(e),i=ps.inflate(e,c);switch(i){case g$:case o8:case hm:case y$:return this.onEnd(i),this.ended=!0,!1}if(l=e.avail_out,e.next_out&&(e.avail_out===0||i===cm))if(this.options.to==="string"){let p=mv.utf8border(e.output,e.next_out),m=e.next_out-p,v=mv.buf2string(e.output,p);e.next_out=m,e.avail_out=n-m,m&&e.output.set(e.output.subarray(p,p+m),0),this.onData(v)}else this.onData(e.output.length===e.next_out?e.output:e.output.subarray(0,e.next_out));if(i!==Rc||l!==0){if(i===cm)return i=ps.inflateEnd(this.strm),this.onEnd(i),this.ended=!0,!0;if(e.avail_in===0)break}}return!0},Cc.prototype.onData=function(r){this.chunks.push(r)},Cc.prototype.onEnd=function(r){r===Rc&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=NA.flattenChunks(this.chunks)),this.chunks=[],this.err=r,this.msg=this.strm.msg};var b$={Inflate:Cc,inflate:lm,inflateRaw:function(r,t){return(t=t||{}).raw=!0,lm(r,t)},ungzip:lm,constants:Uy};const{Inflate:lG,inflate:w$,inflateRaw:dG,ungzip:pG}=b$;var x$=w$,_$=Yi(_y());const cc=r=>"version"in r;var M$=Object.freeze({__proto__:null,encode:function(r){return r.reduce((t,e)=>t+e.toString(16).padStart(2,"0"),"0x")},decode:function(r){r.indexOf("0x")===0&&(r=r.substr(2)),r.length%2==1&&(r="0"+r);let t=r.match(/.{2}/g);return t===null?Ae.Buffer.from([]):Ae.Buffer.from(t.map(e=>parseInt(e,16)))}});function VA(r){return new TextDecoder("utf-8").decode(r)}function ZA(r){return new TextEncoder().encode(r)}var E$=Object.freeze({__proto__:null,decode:VA,encode:ZA});function vv(r){return Wu.encode(r)}var A$=Object.freeze({__proto__:null,encode:vv,decode:function(r){return Wu.decode(r)}});function WA(r){return Ae.Buffer.from(YM(r))}var S$=Object.freeze({__proto__:null,encode:function(r){return U2(r)},decode:WA}),k$=Object.freeze({__proto__:null,hex:M$,utf8:E$,bs58:A$,base64:S$});function GA(r){const t=new Map;return r.errors&&r.errors.forEach(e=>{var n;let s=(n=e.msg)!==null&&n!==void 0?n:e.name;t.set(e.code,s)}),t}function YA(r,...t){if(r.args.length!=t.length)throw new Error("Invalid argument length");const e={};let n=0;return r.args.forEach(s=>{e[s.name]=t[n],n+=1}),e}function Ny(r,t={}){r.forEach(e=>{if("accounts"in e)Ny(e.accounts,t[e.name]);else if(t[e.name]===void 0)throw new Error(`Invalid arguments: ${e.name} not provided.`)})}function ai(r){return r instanceof Xt?r:new Xt(r)}class I$ extends TypeError{constructor(t,e){let n;const{message:s,...i}=t,{path:c}=t;super(c.length===0?s:"At path: "+c.join(".")+" -- "+s),this.value=void 0,this.key=void 0,this.type=void 0,this.refinement=void 0,this.path=void 0,this.branch=void 0,this.failures=void 0,Object.assign(this,i),this.name=this.constructor.name,this.failures=()=>{var l;return(l=n)!=null?l:n=[t,...e()]}}}function Gu(r){return typeof r=="object"&&r!=null}function ia(r){return typeof r=="string"?JSON.stringify(r):""+r}function B$(r,t,e,n){if(r===!0)return;r===!1?r={}:typeof r=="string"&&(r={message:r});const{path:s,branch:i}=t,{type:c}=e,{refinement:l,message:p="Expected a value of type `"+c+"`"+(l?" with refinement `"+l+"`":"")+", but received: `"+ia(n)+"`"}=r;return{value:n,type:c,refinement:l,key:s[s.length-1],path:s,branch:i,...r,message:p}}function*s8(r,t,e,n){(function(s){return Gu(s)&&typeof s[Symbol.iterator]=="function"})(r)||(r=[r]);for(const s of r){const i=B$(s,t,e,n);i&&(yield i)}}function*Dy(r,t,e){e===void 0&&(e={});const{path:n=[],branch:s=[r],coerce:i=!1,mask:c=!1}=e,l={path:n,branch:s};if(i&&(r=t.coercer(r,l),c&&t.type!=="type"&&Gu(t.schema)&&Gu(r)&&!Array.isArray(r)))for(const m in r)t.schema[m]===void 0&&delete r[m];let p=!0;for(const m of t.validator(r,l))p=!1,yield[m,void 0];for(let[m,v,_]of t.entries(r,l)){const E=Dy(v,_,{path:m===void 0?n:[...n,m],branch:m===void 0?s:[...s,v],coerce:i,mask:c});for(const w of E)w[0]?(p=!1,yield[w[0],void 0]):i&&(v=w[1],m===void 0?r=v:r instanceof Map?r.set(m,v):r instanceof Set?r.add(v):Gu(r)&&(r[m]=v))}if(p)for(const m of t.refiner(r,l))p=!1,yield[m,void 0];p&&(yield[void 0,r])}class ua{constructor(t){this.TYPE=void 0,this.type=void 0,this.schema=void 0,this.coercer=void 0,this.validator=void 0,this.refiner=void 0,this.entries=void 0;const{type:e,schema:n,validator:s,refiner:i,coercer:c=p=>p,entries:l=function*(){}}=t;this.type=e,this.schema=n,this.entries=l,this.coercer=c,this.validator=s?(p,m)=>s8(s(p,m),m,this,p):()=>[],this.refiner=i?(p,m)=>s8(i(p,m),m,this,p):()=>[]}assert(t){return function(e,n){const s=Tc(e,n);if(s[0])throw s[0]}(t,this)}create(t){return zy(t,this)}is(t){return XA(t,this)}mask(t){return function(e,n){const s=Tc(e,n,{coerce:!0,mask:!0});if(s[0])throw s[0];return s[1]}(t,this)}validate(t,e){return e===void 0&&(e={}),Tc(t,this,e)}}function zy(r,t){const e=Tc(r,t,{coerce:!0});if(e[0])throw e[0];return e[1]}function XA(r,t){return!Tc(r,t)[0]}function Tc(r,t,e){e===void 0&&(e={});const n=Dy(r,t,e),s=function(i){const{done:c,value:l}=i.next();return c?void 0:l}(n);return s[0]?[new I$(s[0],function*(){for(const c of n)c[0]&&(yield c[0])}),void 0]:[void 0,s[1]]}function Fh(r,t){return new ua({type:r,schema:null,validator:t})}function dm(r){return new ua({type:"array",schema:r,*entries(t){if(r&&Array.isArray(t))for(const[e,n]of t.entries())yield[e,n,r]},coercer:t=>Array.isArray(t)?t.slice():t,validator:t=>Array.isArray(t)||"Expected an array value, but received: "+ia(t)})}function a8(r){const t=ia(r),e=typeof r;return new ua({type:"literal",schema:e==="string"||e==="number"||e==="boolean"?r:null,validator:n=>n===r||"Expected the literal `"+t+"`, but received: "+ia(n)})}function M0(r){return new ua({...r,validator:(t,e)=>t===null||r.validator(t,e),refiner:(t,e)=>t===null||r.refiner(t,e)})}function E0(){return Fh("number",r=>typeof r=="number"&&!isNaN(r)||"Expected a number, but received: "+ia(r))}function nl(r){return new ua({...r,validator:(t,e)=>t===void 0||r.validator(t,e),refiner:(t,e)=>t===void 0||r.refiner(t,e)})}function Na(){return Fh("string",r=>typeof r=="string"||"Expected a string, but received: "+ia(r))}function Ks(r){const t=Object.keys(r);return new ua({type:"type",schema:r,*entries(e){if(Gu(e))for(const n of t)yield[n,e[n],r[n]]},validator:e=>Gu(e)||"Expected an object, but received: "+ia(e)})}function JA(r){const t=r.map(e=>e.type).join(" | ");return new ua({type:"union",schema:null,coercer(e,n){return(r.find(i=>{const[c]=i.validate(e,{coerce:!0});return!c})||qy()).coercer(e,n)},validator(e,n){const s=[];for(const i of r){const[...c]=Dy(e,i,n),[l]=c;if(!l[0])return[];for(const[p]of c)p&&s.push(p)}return["Expected the value to satisfy a union of `"+t+"`, but received: "+ia(e),...s]}})}function qy(){return Fh("unknown",()=>!0)}const u8=99;async function gv(r,t,e){if(t.length<=u8)return await f8(r,t,e);{const n=function(s,i){return Array.apply(0,new Array(Math.ceil(s.length/i))).map((c,l)=>s.slice(l*i,(l+1)*i))}(t,u8);return(await Promise.all(n.map(s=>f8(r,s,e)))).flat()}}async function f8(r,t,e){const n=e??r.commitment,{value:s,context:i}=await r.getMultipleAccountsInfoAndContext(t,n);return s.map((c,l)=>c===null?null:{publicKey:t[l],account:c,context:i})}async function QA(r,t,e,n,s){var i;e&&e.length>0&&t.sign(...e);const c=t._compile(),l=c.serialize(),p=t._serialize(l).toString("base64"),m={encoding:"base64",commitment:n??r.commitment};if(s){const E=(Array.isArray(s)?s:c.nonProgramIds()).map(w=>w.toBase58());m.accounts={encoding:"base64",addresses:E}}e&&(m.sigVerify=!0);const v=[p,m],_=zy(await r._rpcRequest("simulateTransaction",v),C$);if("error"in _){let E;if("data"in _.error&&(E=(i=_.error.data)===null||i===void 0?void 0:i.logs,E&&Array.isArray(E))){const w=`
    `,x=w+E.join(w);console.error(_.error.message,x)}throw new Ku("failed to simulate transaction: "+_.error.message,E)}return _.result}function P$(r){return function(t,e,n){return new ua({...t,coercer:(s,i)=>XA(s,e)?t.coercer(n(s,i),i):t.coercer(s,i)})}(tS(r),R$,t=>"error"in t?t:{...t,result:zy(t.result,r)})}const R$=tS(qy());function tS(r){return JA([Ks({jsonrpc:a8("2.0"),id:Na(),result:r}),Ks({jsonrpc:a8("2.0"),id:Na(),error:Ks({code:qy(),message:Na(),data:nl(Fh("any",()=>!0))})})])}const C$=(c8=Ks({err:M0(JA([Ks({}),Na()])),logs:M0(dm(Na())),accounts:nl(M0(dm(M0(Ks({executable:Fh("boolean",r=>typeof r=="boolean"),owner:Na(),lamports:E0(),data:dm(Na()),rentEpoch:nl(E0())}))))),unitsConsumed:nl(E0())}),P$(Ks({context:Ks({slot:E0()}),value:c8})));var c8,T$=Object.freeze({__proto__:null,invoke:async function(r,t,e,n){r=ai(r),n||(n=ah());const s=new wr;if(s.add(new Ir({programId:r,keys:t??[],data:e})),n.sendAndConfirm===void 0)throw new Error("This function requires 'Provider.sendAndConfirm' to be implemented.");return await n.sendAndConfirm(s,[])},getMultipleAccounts:async function(r,t,e){return(await gv(r,t,e)).map(n=>n?{publicKey:n.publicKey,account:n.account}:null)},getMultipleAccountsAndContext:gv,simulateTransaction:QA});class eS{constructor(t,e,n){this.connection=t,this.wallet=e,this.opts=n,this.publicKey=e==null?void 0:e.publicKey}static defaultOptions(){return{preflightCommitment:"processed",commitment:"processed"}}static local(t,e){throw new Error("Provider local is not available on browser.")}static env(){throw new Error("Provider env is not available on browser.")}async sendAndConfirm(t,e,n){var s,i,c,l;if(n===void 0&&(n=this.opts),cc(t))e&&t.sign(e);else if(t.feePayer=(s=t.feePayer)!==null&&s!==void 0?s:this.wallet.publicKey,t.recentBlockhash=(await this.connection.getLatestBlockhash(n.preflightCommitment)).blockhash,e)for(const m of e)t.partialSign(m);const p=(t=await this.wallet.signTransaction(t)).serialize();try{return await h8(this.connection,p,n)}catch(m){if(m instanceof yv){const v=vv(cc(t)?((i=t.signatures)===null||i===void 0?void 0:i[0])||new Uint8Array:(c=t.signature)!==null&&c!==void 0?c:new Uint8Array),_=await this.connection.getTransaction(v,{commitment:"confirmed"});if(_){const E=(l=_.meta)===null||l===void 0?void 0:l.logMessages;throw E?new Ku(m.message,E):m}throw m}throw m}}async sendAll(t,e){var n,s,i;e===void 0&&(e=this.opts);const c=(await this.connection.getLatestBlockhash(e.preflightCommitment)).blockhash;let l=t.map(v=>{var _,E;if(cc(v.tx)){let w=v.tx;return v.signers&&w.sign(v.signers),w}{let w=v.tx,x=(_=v.signers)!==null&&_!==void 0?_:[];return w.feePayer=(E=w.feePayer)!==null&&E!==void 0?E:this.wallet.publicKey,w.recentBlockhash=c,x.forEach(A=>{w.partialSign(A)}),w}});const p=await this.wallet.signAllTransactions(l),m=[];for(let v=0;v<l.length;v+=1){const _=p[v],E=_.serialize();try{m.push(await h8(this.connection,E,e))}catch(w){if(w instanceof yv){const x=vv(cc(_)?((n=_.signatures)===null||n===void 0?void 0:n[0])||new Uint8Array:(s=_.signature)!==null&&s!==void 0?s:new Uint8Array),A=await this.connection.getTransaction(x,{commitment:"confirmed"});if(A){const B=(i=A.meta)===null||i===void 0?void 0:i.logMessages;throw B?new Ku(w.message,B):w}throw w}throw w}}return m}async simulate(t,e,n,s){let i,c=(await this.connection.getLatestBlockhash(n??this.connection.commitment)).blockhash;if(cc(t)?(e&&(t.sign(e),t=await this.wallet.signTransaction(t)),i=await this.connection.simulateTransaction(t,{commitment:n})):(t.feePayer=t.feePayer||this.wallet.publicKey,t.recentBlockhash=c,e&&(t=await this.wallet.signTransaction(t)),i=await QA(this.connection,t,e,n,s)),i.value.err)throw new L$(i.value);return i.value}}class L$ extends Error{constructor(t,e){super(e),this.simulationResponse=t}}async function h8(r,t,e){const n=e&&{skipPreflight:e.skipPreflight,preflightCommitment:e.preflightCommitment||e.commitment},s=await r.sendRawTransaction(t,n),i=(await r.confirmTransaction(s,e&&e.commitment)).value;if(i.err)throw new yv(`Raw transaction ${s} failed (${JSON.stringify(i)})`);return s}class yv extends Error{constructor(t){super(t)}}function ah(){return bv===null?eS.local():bv}let bv=null;const O$=new Set(["anchor-deprecated-state","debug-logs"]),rS=new Map;function Fy(r){return rS.get(r)!==void 0}var U$=Object.freeze({__proto__:null,set:function(r){if(!O$.has(r))throw new Error("Invalid feature");rS.set(r,!0)},isSet:Fy});class uh extends Error{constructor(t){super(t),this.name="IdlError"}}class Uf{constructor(t){this.stack=t}static parse(t){var e;const n=/^Program (\w*) invoke/,s=/^Program \w* success/,i=[];for(let c=0;c<t.length;c++){if(s.exec(t[c])){i.pop();continue}const l=(e=n.exec(t[c]))===null||e===void 0?void 0:e[1];l&&i.push(new Xt(l))}return new Uf(i)}}class Yu extends Error{constructor(t,e,n,s,i,c){super(n.join(`
`).replace("Program log: ","")),this.errorLogs=n,this.logs=s,this.error={errorCode:t,errorMessage:e,comparedValues:c,origin:i},this._programErrorStack=Uf.parse(s)}static parse(t){if(!t)return null;const e=t.findIndex(m=>m.startsWith("Program log: AnchorError"));if(e===-1)return null;const n=t[e],s=[n];let i;if(e+1<t.length){if(t[e+1]==="Program log: Left:"){const m=/^Program log: (.*)$/,v=m.exec(t[e+2])[1],_=m.exec(t[e+4])[1];i=[new Xt(v),new Xt(_)],s.push(...t.slice(e+1,e+5))}else if(t[e+1].startsWith("Program log: Left:")){const m=/^Program log: (Left|Right): (.*)$/,v=m.exec(t[e+1])[2],_=m.exec(t[e+2])[2];s.push(...t.slice(e+1,e+3)),i=[v,_]}}const c=/^Program log: AnchorError occurred\. Error Code: (.*)\. Error Number: (\d*)\. Error Message: (.*)\./.exec(n),l=/^Program log: AnchorError thrown in (.*):(\d*)\. Error Code: (.*)\. Error Number: (\d*)\. Error Message: (.*)\./.exec(n),p=/^Program log: AnchorError caused by account: (.*)\. Error Code: (.*)\. Error Number: (\d*)\. Error Message: (.*)\./.exec(n);if(c){const[m,v,_]=c.slice(1,4),E={code:m,number:parseInt(v)};return new Yu(E,_,s,t,void 0,i)}if(l){const[m,v,_,E,w]=l.slice(1,6),x={code:_,number:parseInt(E)},A={file:m,line:parseInt(v)};return new Yu(x,w,s,t,A,i)}if(p){const[m,v,_,E]=p.slice(1,5),w=m,x={code:v,number:parseInt(_)};return new Yu(x,E,s,t,w,i)}return null}get program(){return this._programErrorStack.stack[this._programErrorStack.stack.length-1]}get programErrorStack(){return this._programErrorStack.stack}toString(){return this.message}}class fh extends Error{constructor(t,e,n){super(),this.code=t,this.msg=e,this.logs=n,n&&(this._programErrorStack=Uf.parse(n))}static parse(t,e){const n=t.toString();let s,i;if(n.includes("custom program error:")){let l=n.split("custom program error: ");if(l.length!==2)return null;s=l[1]}else{const l=n.match(/"Custom":([0-9]+)}/g);if(!l||l.length>1)return null;s=l[0].match(/([0-9]+)/g)[0]}try{i=parseInt(s)}catch{return null}let c=e.get(i);return c!==void 0?new fh(i,c,t.logs):(c=nS.get(i),c!==void 0?new fh(i,c,t.logs):null)}get program(){var t;return(t=this._programErrorStack)===null||t===void 0?void 0:t.stack[this._programErrorStack.stack.length-1]}get programErrorStack(){var t;return(t=this._programErrorStack)===null||t===void 0?void 0:t.stack}toString(){return this.msg}}function jy(r,t){Fy("debug-logs")&&console.log("Translating error:",r);const e=Yu.parse(r.logs);if(e)return e;const n=fh.parse(r,t);if(n)return n;if(r.logs){const s={get:function(i,c){return c==="programErrorStack"?i.programErrorStack.stack:c==="program"?i.programErrorStack.stack[r.programErrorStack.stack.length-1]:Reflect.get(...arguments)}};return r.programErrorStack=Uf.parse(r.logs),new Proxy(r,s)}return r}const qe={InstructionMissing:100,InstructionFallbackNotFound:101,InstructionDidNotDeserialize:102,InstructionDidNotSerialize:103,IdlInstructionStub:1e3,IdlInstructionInvalidProgram:1001,ConstraintMut:2e3,ConstraintHasOne:2001,ConstraintSigner:2002,ConstraintRaw:2003,ConstraintOwner:2004,ConstraintRentExempt:2005,ConstraintSeeds:2006,ConstraintExecutable:2007,ConstraintState:2008,ConstraintAssociated:2009,ConstraintAssociatedInit:2010,ConstraintClose:2011,ConstraintAddress:2012,ConstraintZero:2013,ConstraintTokenMint:2014,ConstraintTokenOwner:2015,ConstraintMintMintAuthority:2016,ConstraintMintFreezeAuthority:2017,ConstraintMintDecimals:2018,ConstraintSpace:2019,ConstraintAccountIsNone:2020,RequireViolated:2500,RequireEqViolated:2501,RequireKeysEqViolated:2502,RequireNeqViolated:2503,RequireKeysNeqViolated:2504,RequireGtViolated:2505,RequireGteViolated:2506,AccountDiscriminatorAlreadySet:3e3,AccountDiscriminatorNotFound:3001,AccountDiscriminatorMismatch:3002,AccountDidNotDeserialize:3003,AccountDidNotSerialize:3004,AccountNotEnoughKeys:3005,AccountNotMutable:3006,AccountOwnedByWrongProgram:3007,InvalidProgramId:3008,InvalidProgramExecutable:3009,AccountNotSigner:3010,AccountNotSystemOwned:3011,AccountNotInitialized:3012,AccountNotProgramData:3013,AccountNotAssociatedTokenAccount:3014,AccountSysvarMismatch:3015,AccountReallocExceedsLimit:3016,AccountDuplicateReallocs:3017,DeclaredProgramIdMismatch:4100,Deprecated:5e3},nS=new Map([[qe.InstructionMissing,"8 byte instruction identifier not provided"],[qe.InstructionFallbackNotFound,"Fallback functions are not supported"],[qe.InstructionDidNotDeserialize,"The program could not deserialize the given instruction"],[qe.InstructionDidNotSerialize,"The program could not serialize the given instruction"],[qe.IdlInstructionStub,"The program was compiled without idl instructions"],[qe.IdlInstructionInvalidProgram,"The transaction was given an invalid program for the IDL instruction"],[qe.ConstraintMut,"A mut constraint was violated"],[qe.ConstraintHasOne,"A has one constraint was violated"],[qe.ConstraintSigner,"A signer constraint was violated"],[qe.ConstraintRaw,"A raw constraint was violated"],[qe.ConstraintOwner,"An owner constraint was violated"],[qe.ConstraintRentExempt,"A rent exemption constraint was violated"],[qe.ConstraintSeeds,"A seeds constraint was violated"],[qe.ConstraintExecutable,"An executable constraint was violated"],[qe.ConstraintState,"Deprecated Error, feel free to replace with something else"],[qe.ConstraintAssociated,"An associated constraint was violated"],[qe.ConstraintAssociatedInit,"An associated init constraint was violated"],[qe.ConstraintClose,"A close constraint was violated"],[qe.ConstraintAddress,"An address constraint was violated"],[qe.ConstraintZero,"Expected zero account discriminant"],[qe.ConstraintTokenMint,"A token mint constraint was violated"],[qe.ConstraintTokenOwner,"A token owner constraint was violated"],[qe.ConstraintMintMintAuthority,"A mint mint authority constraint was violated"],[qe.ConstraintMintFreezeAuthority,"A mint freeze authority constraint was violated"],[qe.ConstraintMintDecimals,"A mint decimals constraint was violated"],[qe.ConstraintSpace,"A space constraint was violated"],[qe.ConstraintAccountIsNone,"A required account for the constraint is None"],[qe.RequireViolated,"A require expression was violated"],[qe.RequireEqViolated,"A require_eq expression was violated"],[qe.RequireKeysEqViolated,"A require_keys_eq expression was violated"],[qe.RequireNeqViolated,"A require_neq expression was violated"],[qe.RequireKeysNeqViolated,"A require_keys_neq expression was violated"],[qe.RequireGtViolated,"A require_gt expression was violated"],[qe.RequireGteViolated,"A require_gte expression was violated"],[qe.AccountDiscriminatorAlreadySet,"The account discriminator was already set on this account"],[qe.AccountDiscriminatorNotFound,"No 8 byte discriminator was found on the account"],[qe.AccountDiscriminatorMismatch,"8 byte discriminator did not match what was expected"],[qe.AccountDidNotDeserialize,"Failed to deserialize the account"],[qe.AccountDidNotSerialize,"Failed to serialize the account"],[qe.AccountNotEnoughKeys,"Not enough account keys given to the instruction"],[qe.AccountNotMutable,"The given account is not mutable"],[qe.AccountOwnedByWrongProgram,"The given account is owned by a different program than expected"],[qe.InvalidProgramId,"Program ID was not as expected"],[qe.InvalidProgramExecutable,"Program account is not executable"],[qe.AccountNotSigner,"The given account did not sign"],[qe.AccountNotSystemOwned,"The given account is not owned by the system program"],[qe.AccountNotInitialized,"The program expected this account to be already initialized"],[qe.AccountNotProgramData,"The given account is not a program data account"],[qe.AccountNotAssociatedTokenAccount,"The given account is not the associated token account"],[qe.AccountSysvarMismatch,"The given public key does not match the required sysvar"],[qe.AccountReallocExceedsLimit,"The account reallocation exceeds the MAX_PERMITTED_DATA_INCREASE limit"],[qe.AccountDuplicateReallocs,"The account was duplicated for more than one reallocation"],[qe.DeclaredProgramIdMismatch,"The declared program id does not match the actual program id"],[qe.Deprecated,"The API being used is deprecated and should no longer be used"]]);var wv=function(){return wv=Object.assign||function(r){for(var t,e=1,n=arguments.length;e<n;e++)for(var s in t=arguments[e])Object.prototype.hasOwnProperty.call(t,s)&&(r[s]=t[s]);return r},wv.apply(this,arguments)},xv=function(){return xv=Object.assign||function(r){for(var t,e=1,n=arguments.length;e<n;e++)for(var s in t=arguments[e])Object.prototype.hasOwnProperty.call(t,s)&&(r[s]=t[s]);return r},xv.apply(this,arguments)};function N$(r){return r.toLowerCase()}var D$=[/([a-z0-9])([A-Z])/g,/([A-Z])([A-Z][a-z])/g],z$=/[^A-Z0-9]+/gi;function l8(r,t,e){return t instanceof RegExp?r.replace(t,e):t.reduce(function(n,s){return n.replace(s,e)},r)}function q$(r,t){return t===void 0&&(t={}),function(e,n){n===void 0&&(n={});for(var s=n.splitRegexp,i=s===void 0?D$:s,c=n.stripRegexp,l=c===void 0?z$:c,p=n.transform,m=p===void 0?N$:p,v=n.delimiter,_=v===void 0?" ":v,E=l8(l8(e,i,"$1\0$2"),l,"\0"),w=0,x=E.length;E.charAt(w)==="\0";)w++;for(;E.charAt(x-1)==="\0";)x--;return E.slice(w,x).split("\0").map(m).join(_)}(r,xv({delimiter:"."},t))}class Mi{static fieldLayout(t,e){const n=t.name!==void 0?zr(t.name):void 0;switch(t.type){case"bool":return We.bool(n);case"u8":return We.u8(n);case"i8":return We.i8(n);case"u16":return We.u16(n);case"i16":return We.i16(n);case"u32":return We.u32(n);case"i32":return We.i32(n);case"f32":return We.f32(n);case"u64":return We.u64(n);case"i64":return We.i64(n);case"f64":return We.f64(n);case"u128":return We.u128(n);case"i128":return We.i128(n);case"u256":return We.u256(n);case"i256":return We.i256(n);case"bytes":return We.vecU8(n);case"string":return We.str(n);case"publicKey":return We.publicKey(n);default:if("vec"in t.type)return We.vec(Mi.fieldLayout({name:void 0,type:t.type.vec},e),n);if("option"in t.type)return We.option(Mi.fieldLayout({name:void 0,type:t.type.option},e),n);if("defined"in t.type){const s=t.type.defined;if(e===void 0)throw new uh("User defined types not provided");const i=e.filter(c=>c.name===s);if(i.length!==1)throw new uh(`Type not found: ${JSON.stringify(t)}`);return Mi.typeDefLayout(i[0],e,n)}if("array"in t.type){let s=t.type.array[0],i=t.type.array[1],c=Mi.fieldLayout({name:void 0,type:s},e);return We.array(c,i,n)}throw new Error(`Not yet implemented: ${t}`)}}static typeDefLayout(t,e=[],n){if(t.type.kind==="struct"){const s=t.type.fields.map(i=>Mi.fieldLayout(i,e));return We.struct(s,n)}if(t.type.kind==="enum"){let s=t.type.variants.map(i=>{const c=zr(i.name);if(i.fields===void 0)return We.struct([],c);const l=i.fields.map((p,m)=>p.hasOwnProperty("name")?Mi.fieldLayout(p,e):Mi.fieldLayout({type:p,name:m.toString()},e));return We.struct(l,c)});return n!==void 0?We.rustEnum(s).replicate(n):We.rustEnum(s,n)}throw new Error(`Unknown type kint: ${t}`)}}const d8="global";class Rd{constructor(t){this.idl=t,this.ixLayout=Rd.parseIxLayout(t);const e=new Map;t.instructions.forEach(n=>{const s=p8(d8,n.name);e.set(Wu.encode(s),{layout:this.ixLayout.get(n.name),name:n.name})}),this.sighashLayouts=e}encode(t,e){return this._encode(d8,t,e)}_encode(t,e,n){const s=Ae.Buffer.alloc(1e3),i=zr(e),c=this.ixLayout.get(i);if(!c)throw new Error(`Unknown method: ${i}`);const l=c.encode(n,s),p=s.slice(0,l);return Ae.Buffer.concat([p8(t,e),p])}static parseIxLayout(t){const e=t.instructions.map(n=>{let s=n.args.map(c=>{var l,p;return Mi.fieldLayout(c,Array.from([...(l=t.accounts)!==null&&l!==void 0?l:[],...(p=t.types)!==null&&p!==void 0?p:[]]))});const i=zr(n.name);return[i,We.struct(s,i)]});return new Map(e)}decode(t,e="hex"){typeof t=="string"&&(t=e==="hex"?Ae.Buffer.from(t,"hex"):Wu.decode(t));let n=Wu.encode(t.slice(0,8)),s=t.slice(8);const i=this.sighashLayouts.get(n);return i?{data:i.layout.decode(s),name:i.name}:null}format(t,e){return fs.format(t,e,this.idl)}}class fs{static format(t,e,n){const s=n.instructions.filter(l=>t.name===l.name)[0];if(s===void 0)return console.error("Invalid instruction given"),null;const i=s.args.map(l=>({name:l.name,type:fs.formatIdlType(l.type),data:fs.formatIdlData(l,t.data[l.name],n.types)})),c=fs.flattenIdlAccounts(s.accounts);return{args:i,accounts:e.map((l,p)=>p<c.length?{name:c[p].name,...l}:{name:void 0,...l})}}static formatIdlType(t){if(typeof t=="string")return t;if("vec"in t)return`Vec<${this.formatIdlType(t.vec)}>`;if("option"in t)return`Option<${this.formatIdlType(t.option)}>`;if("defined"in t)return t.defined;if("array"in t)return`Array<${t.array[0]}; ${t.array[1]}>`;throw new Error(`Unknown IDL type: ${t}`)}static formatIdlData(t,e,n){if(typeof t.type=="string")return e.toString();if(t.type.hasOwnProperty("vec"))return"["+e.map(s=>this.formatIdlData({name:"",type:t.type.vec},s)).join(", ")+"]";if(t.type.hasOwnProperty("option"))return e===null?"null":this.formatIdlData({name:"",type:t.type.option},e,n);if(t.type.hasOwnProperty("defined")){if(n===void 0)throw new Error("User defined types not provided");const s=n.filter(i=>i.name===t.type.defined);if(s.length!==1)throw new Error(`Type not found: ${t.type.defined}`);return fs.formatIdlDataDefined(s[0],e,n)}return"unknown"}static formatIdlDataDefined(t,e,n){if(t.type.kind==="struct"){const s=t.type;return"{ "+Object.keys(e).map(c=>{const l=s.fields.filter(p=>p.name===c)[0];if(l===void 0)throw new Error("Unable to find type");return c+": "+fs.formatIdlData(l,e[c],n)}).join(", ")+" }"}if(t.type.variants.length===0)return"{}";if(t.type.variants[0].name){const s=t.type.variants,i=Object.keys(e)[0],c=e[i],l=Object.keys(c).map(m=>{var v;const _=c[m],E=(v=s[i])===null||v===void 0?void 0:v.filter(w=>w.name===m)[0];if(E===void 0)throw new Error("Unable to find variant");return m+": "+fs.formatIdlData(E,_,n)}).join(", "),p=zr(i,{pascalCase:!0});return l.length===0?p:`${p} { ${l} }`}return"Tuple formatting not yet implemented"}static flattenIdlAccounts(t,e){return t.map(n=>{const s=function(i){const c=i.replace(/([A-Z])/g," $1");return c.charAt(0).toUpperCase()+c.slice(1)}(n.name);if(n.hasOwnProperty("accounts")){const i=e?`${e} > ${s}`:s;return fs.flattenIdlAccounts(n.accounts,i)}return{...n,name:e?`${e} > ${s}`:s}}).flat()}}function p8(r,t){var e;let n=`${r}:${e===void 0&&(e={}),q$(t,wv({delimiter:"_"},e))}`;return Ae.Buffer.from(tu(n).slice(0,8))}function Ky(r,t){if(t.type.kind==="enum"){const e=t.type.variants.map(n=>n.fields?n.fields.map(s=>Lc(r,typeof s=="object"&&"name"in s?s.type:s)).reduce((s,i)=>s+i,0):0);return Math.max(...e)+1}return t.type.fields.map(e=>Lc(r,e.type)).reduce((e,n)=>e+n,0)}function Lc(r,t){var e,n;switch(t){case"bool":case"u8":case"i8":case"bytes":case"string":return 1;case"i16":case"u16":return 2;case"u32":case"i32":case"f32":return 4;case"u64":case"i64":case"f64":return 8;case"u128":case"i128":return 16;case"u256":case"i256":case"publicKey":return 32;default:if("vec"in t)return 1;if("option"in t)return 1+Lc(r,t.option);if("coption"in t)return 4+Lc(r,t.coption);if("defined"in t){const s=(n=(e=r.types)===null||e===void 0?void 0:e.filter(i=>i.name===t.defined))!==null&&n!==void 0?n:[];if(s.length!==1)throw new uh(`Type not found: ${JSON.stringify(t)}`);return Ky(r,s[0])}if("array"in t){let s=t.array[0],i=t.array[1];return Lc(r,s)*i}throw new Error(`Invalid type ${JSON.stringify(t)}`)}}const Cl=8;function iS(r){return Zt.Buffer.from(tu(r).slice(0,Cl))}class Da{constructor(t){if(t.accounts===void 0)return void(this.accountLayouts=new Map);const e=t.accounts.map(n=>[n.name,Mi.typeDefLayout(n,t.types)]);this.accountLayouts=new Map(e),this.idl=t}async encode(t,e){const n=Ae.Buffer.alloc(1e3),s=this.accountLayouts.get(t);if(!s)throw new Error(`Unknown account: ${t}`);const i=s.encode(e,n);let c=n.slice(0,i),l=Da.accountDiscriminator(t);return Ae.Buffer.concat([l,c])}decode(t,e){if(Da.accountDiscriminator(t).compare(e.slice(0,8)))throw new Error("Invalid account discriminator");return this.decodeUnchecked(t,e)}decodeAny(t){const e=t.slice(0,8),n=Array.from(this.accountLayouts.keys()).find(s=>Da.accountDiscriminator(s).equals(e));if(!n)throw new Error("Account descriminator not found");return this.decodeUnchecked(n,t)}decodeUnchecked(t,e){const n=e.subarray(Cl),s=this.accountLayouts.get(t);if(!s)throw new Error(`Unknown account: ${t}`);return s.decode(n)}memcmp(t,e){const n=Da.accountDiscriminator(t);return{offset:0,bytes:Wu.encode(e?Ae.Buffer.concat([n,e]):n)}}size(t){var e;return Cl+((e=Ky(this.idl,t))!==null&&e!==void 0?e:0)}static accountDiscriminator(t){return iS(`account:${zr(t,{pascalCase:!0,preserveConsecutiveUppercase:!0})}`)}}class oS{constructor(t){if(t.events===void 0)return void(this.layouts=new Map);const e=t.events.map(n=>{let s={name:n.name,type:{kind:"struct",fields:n.fields.map(i=>({name:i.name,type:i.type}))}};return[n.name,Mi.typeDefLayout(s,t.types)]});this.layouts=new Map(e),this.discriminators=new Map(t.events===void 0?[]:t.events.map(n=>[U2(sS(n.name)),n.name]))}decode(t){let e;try{e=Ae.Buffer.from(YM(t))}catch{return null}const n=U2(e.slice(0,8)),s=this.discriminators.get(n);if(s===void 0)return null;const i=this.layouts.get(s);if(!i)throw new Error(`Unknown event: ${s}`);return{data:i.decode(e.slice(8)),name:s}}}function sS(r){return iS(`event:${r}`)}class F${constructor(t){if(t.types===void 0)return void(this.typeLayouts=new Map);const e=t.types.map(n=>[n.name,Mi.typeDefLayout(n,t.types)]);this.typeLayouts=new Map(e),this.idl=t}encode(t,e){const n=Ae.Buffer.alloc(1e3),s=this.typeLayouts.get(t);if(!s)throw new Error(`Unknown type: ${t}`);const i=s.encode(e,n);return n.slice(0,i)}decode(t,e){const n=this.typeLayouts.get(t);if(!n)throw new Error(`Unknown type: ${t}`);return n.decode(e)}}class $y{constructor(t){this.instruction=new Rd(t),this.accounts=new Da(t),this.events=new oS(t),this.types=new F$(t)}}var j$=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof Zt.global<"u"?Zt.global:typeof self<"u"?self:{};function K$(r){return r&&r.__esModule&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r}class li{constructor(t,e){if(!Number.isInteger(t))throw new TypeError("span must be an integer");this.span=t,this.property=e}makeDestinationObject(){return{}}decode(t,e){throw new Error("Layout is abstract")}encode(t,e,n){throw new Error("Layout is abstract")}getSpan(t,e){if(0>this.span)throw new RangeError("indeterminate span");return this.span}replicate(t){const e=Object.create(this.constructor.prototype);return Object.assign(e,this),e.property=t,e}fromArray(t){}}var Cd=li;class za extends li{isCount(){throw new Error("ExternalLayout is abstract")}}class aS extends za{constructor(t,e,n){if(!(t instanceof li))throw new TypeError("layout must be a Layout");if(e===void 0)e=0;else if(!Number.isInteger(e))throw new TypeError("offset must be integer or undefined");super(t.span,n||t.property),this.layout=t,this.offset=e}isCount(){return this.layout instanceof Td||this.layout instanceof uS}decode(t,e){return e===void 0&&(e=0),this.layout.decode(t,e+this.offset)}encode(t,e,n){return n===void 0&&(n=0),this.layout.encode(t,e,n+this.offset)}}class Td extends li{constructor(t,e){if(super(t,e),6<this.span)throw new RangeError("span must not exceed 6 bytes")}decode(t,e){return e===void 0&&(e=0),t.readUIntLE(e,this.span)}encode(t,e,n){return n===void 0&&(n=0),e.writeUIntLE(t,n,this.span),this.span}}class uS extends li{constructor(t,e){if(super(t,e),6<this.span)throw new RangeError("span must not exceed 6 bytes")}decode(t,e){return e===void 0&&(e=0),t.readUIntBE(e,this.span)}encode(t,e,n){return n===void 0&&(n=0),e.writeUIntBE(t,n,this.span),this.span}}const _v=Math.pow(2,32);function fS(r){const t=Math.floor(r/_v);return{hi32:t,lo32:r-t*_v}}function cS(r,t){return r*_v+t}class $$ extends li{constructor(t){super(8,t)}decode(t,e){e===void 0&&(e=0);const n=t.readUInt32LE(e);return cS(t.readUInt32LE(e+4),n)}encode(t,e,n){n===void 0&&(n=0);const s=fS(t);return e.writeUInt32LE(s.lo32,n),e.writeUInt32LE(s.hi32,n+4),8}}class H$ extends li{constructor(t){super(8,t)}decode(t,e){e===void 0&&(e=0);const n=t.readUInt32LE(e);return cS(t.readInt32LE(e+4),n)}encode(t,e,n){n===void 0&&(n=0);const s=fS(t);return e.writeUInt32LE(s.lo32,n),e.writeInt32LE(s.hi32,n+4),8}}class V$ extends li{constructor(t,e,n){if(!Array.isArray(t)||!t.reduce((i,c)=>i&&c instanceof li,!0))throw new TypeError("fields must be array of Layout instances");typeof e=="boolean"&&n===void 0&&(n=e,e=void 0);for(const i of t)if(0>i.span&&i.property===void 0)throw new Error("fields cannot contain unnamed variable-length layout");let s=-1;try{s=t.reduce((i,c)=>i+c.getSpan(),0)}catch{}super(s,e),this.fields=t,this.decodePrefixes=!!n}getSpan(t,e){if(0<=this.span)return this.span;e===void 0&&(e=0);let n=0;try{n=this.fields.reduce((s,i)=>{const c=i.getSpan(t,e);return e+=c,s+c},0)}catch{throw new RangeError("indeterminate span")}return n}decode(t,e){e===void 0&&(e=0);const n=this.makeDestinationObject();for(const s of this.fields)if(s.property!==void 0&&(n[s.property]=s.decode(t,e)),e+=s.getSpan(t,e),this.decodePrefixes&&t.length===e)break;return n}encode(t,e,n){n===void 0&&(n=0);const s=n;let i=0,c=0;for(const l of this.fields){let p=l.span;if(c=0<p?p:0,l.property!==void 0){const m=t[l.property];m!==void 0&&(c=l.encode(m,e,n),0>p&&(p=l.getSpan(e,n)))}i=n,n+=p}return i+c-s}fromArray(t){const e=this.makeDestinationObject();for(const n of this.fields)n.property!==void 0&&0<t.length&&(e[n.property]=t.shift());return e}layoutFor(t){if(typeof t!="string")throw new TypeError("property must be string");for(const e of this.fields)if(e.property===t)return e}offsetOf(t){if(typeof t!="string")throw new TypeError("property must be string");let e=0;for(const n of this.fields){if(n.property===t)return e;0>n.span?e=-1:0<=e&&(e+=n.span)}}}class hS{constructor(t){this.property=t}decode(){throw new Error("UnionDiscriminator is abstract")}encode(){throw new Error("UnionDiscriminator is abstract")}}class m8 extends hS{constructor(t,e){if(!(t instanceof za&&t.isCount()))throw new TypeError("layout must be an unsigned integer ExternalLayout");super(e||t.property||"variant"),this.layout=t}decode(t,e){return this.layout.decode(t,e)}encode(t,e,n){return this.layout.encode(t,e,n)}}class lS extends li{constructor(t,e,n){const s=t instanceof Td||t instanceof uS;if(s)t=new m8(new aS(t));else if(t instanceof za&&t.isCount())t=new m8(t);else if(!(t instanceof hS))throw new TypeError("discr must be a UnionDiscriminator or an unsigned integer layout");if(e===void 0&&(e=null),!(e===null||e instanceof li))throw new TypeError("defaultLayout must be null or a Layout");if(e!==null){if(0>e.span)throw new Error("defaultLayout must have constant span");e.property===void 0&&(e=e.replicate("content"))}let i=-1;e&&(i=e.span,0<=i&&s&&(i+=t.layout.span)),super(i,n),this.discriminator=t,this.usesPrefixDiscriminator=s,this.defaultLayout=e,this.registry={};let c=this.defaultGetSourceVariant.bind(this);this.getSourceVariant=function(l){return c(l)},this.configGetSourceVariant=function(l){c=l.bind(this)}}getSpan(t,e){if(0<=this.span)return this.span;e===void 0&&(e=0);const n=this.getVariant(t,e);if(!n)throw new Error("unable to determine span for unrecognized variant");return n.getSpan(t,e)}defaultGetSourceVariant(t){if(t.hasOwnProperty(this.discriminator.property)){if(this.defaultLayout&&t.hasOwnProperty(this.defaultLayout.property))return;const e=this.registry[t[this.discriminator.property]];if(e&&(!e.layout||t.hasOwnProperty(e.property)))return e}else for(const e in this.registry){const n=this.registry[e];if(t.hasOwnProperty(n.property))return n}throw new Error("unable to infer src variant")}decode(t,e){let n;e===void 0&&(e=0);const s=this.discriminator,i=s.decode(t,e);let c=this.registry[i];if(c===void 0){let l=0;c=this.defaultLayout,this.usesPrefixDiscriminator&&(l=s.layout.span),n=this.makeDestinationObject(),n[s.property]=i,n[c.property]=this.defaultLayout.decode(t,e+l)}else n=c.decode(t,e);return n}encode(t,e,n){n===void 0&&(n=0);const s=this.getSourceVariant(t);if(s===void 0){const i=this.discriminator,c=this.defaultLayout;let l=0;return this.usesPrefixDiscriminator&&(l=i.layout.span),i.encode(t[i.property],e,n),l+c.encode(t[c.property],e,n+l)}return s.encode(t,e,n)}addVariant(t,e,n){const s=new Z$(this,t,e,n);return this.registry[t]=s,s}getVariant(t,e){let n=t;return Zt.Buffer.isBuffer(t)&&(e===void 0&&(e=0),n=this.discriminator.decode(t,e)),this.registry[n]}}class Z$ extends li{constructor(t,e,n,s){if(!(t instanceof lS))throw new TypeError("union must be a Union");if(!Number.isInteger(e)||0>e)throw new TypeError("variant must be a (non-negative) integer");if(typeof n=="string"&&s===void 0&&(s=n,n=null),n){if(!(n instanceof li))throw new TypeError("layout must be a Layout");if(t.defaultLayout!==null&&0<=n.span&&n.span>t.defaultLayout.span)throw new Error("variant span exceeds span of containing union");if(typeof s!="string")throw new TypeError("variant must have a String property")}let i=t.span;0>t.span&&(i=n?n.span:0,0<=i&&t.usesPrefixDiscriminator&&(i+=t.discriminator.layout.span)),super(i,s),this.union=t,this.variant=e,this.layout=n||null}getSpan(t,e){if(0<=this.span)return this.span;e===void 0&&(e=0);let n=0;return this.union.usesPrefixDiscriminator&&(n=this.union.discriminator.layout.span),n+this.layout.getSpan(t,e+n)}decode(t,e){const n=this.makeDestinationObject();if(e===void 0&&(e=0),this!==this.union.getVariant(t,e))throw new Error("variant mismatch");let s=0;return this.union.usesPrefixDiscriminator&&(s=this.union.discriminator.layout.span),this.layout?n[this.property]=this.layout.decode(t,e+s):this.property?n[this.property]=!0:this.union.usesPrefixDiscriminator&&(n[this.union.discriminator.property]=this.variant),n}encode(t,e,n){n===void 0&&(n=0);let s=0;if(this.union.usesPrefixDiscriminator&&(s=this.union.discriminator.layout.span),this.layout&&!t.hasOwnProperty(this.property))throw new TypeError("variant lacks property "+this.property);this.union.discriminator.encode(this.variant,e,n);let i=s;if(this.layout&&(this.layout.encode(t[this.property],e,n+s),i+=this.layout.getSpan(e,n+s),0<=this.union.span&&i>this.union.span))throw new Error("encoded variant overruns containing union");return i}fromArray(t){if(this.layout)return this.layout.fromArray(t)}}class W$ extends li{constructor(t,e){if(!(t instanceof za&&t.isCount()||Number.isInteger(t)&&0<=t))throw new TypeError("length must be positive integer or an unsigned integer ExternalLayout");let n=-1;t instanceof za||(n=t),super(n,e),this.length=t}getSpan(t,e){let n=this.span;return 0>n&&(n=this.length.decode(t,e)),n}decode(t,e){e===void 0&&(e=0);let n=this.span;return 0>n&&(n=this.length.decode(t,e)),t.slice(e,e+n)}encode(t,e,n){let s=this.length;if(this.length instanceof za&&(s=t.length),!Zt.Buffer.isBuffer(t)||s!==t.length)throw new TypeError(function(i,c){return c.property?i+"["+c.property+"]":i}("Blob.encode",this)+" requires (length "+s+") Buffer as src");if(n+s>e.length)throw new RangeError("encoding overruns Buffer");return e.write(t.toString("hex"),n,s,"hex"),this.length instanceof za&&this.length.encode(s,e,n),s}}var G$=(r,t,e)=>new aS(r,t,e),_s=r=>new Td(4,r),is=r=>new H$(r),dn=(r,t,e)=>new V$(r,t,e),dS=(r,t,e)=>new lS(r,t,e),jh=(r,t)=>new W$(r,t);class Y${constructor(t){}encode(t,e){switch(zr(t)){case"createAccount":return function({lamports:n,space:s,owner:i}){return Ri({createAccount:{lamports:n,space:s,owner:i.toBuffer()}})}(e);case"assign":return function({owner:n}){return Ri({assign:{owner:n.toBuffer()}})}(e);case"transfer":return function({lamports:n}){return Ri({transfer:{lamports:n}})}(e);case"createAccountWithSeed":return function({base:n,seed:s,lamports:i,space:c,owner:l}){return Ri({createAccountWithSeed:{base:n.toBuffer(),seed:s,lamports:i,space:c,owner:l.toBuffer()}},wn.getVariant(3).span+s.length)}(e);case"advanceNonceAccount":return function({authorized:n}){return Ri({advanceNonceAccount:{authorized:n.toBuffer()}})}(e);case"withdrawNonceAccount":return function({lamports:n}){return Ri({withdrawNonceAccount:{lamports:n}})}(e);case"initializeNonceAccount":return function({authorized:n}){return Ri({initializeNonceAccount:{authorized:n.toBuffer()}})}(e);case"authorizeNonceAccount":return function({authorized:n}){return Ri({authorizeNonceAccount:{authorized:n.toBuffer()}})}(e);case"allocate":return function({space:n}){return Ri({allocate:{space:n}})}(e);case"allocateWithSeed":return function({base:n,seed:s,space:i,owner:c}){return Ri({allocateWithSeed:{base:n.toBuffer(),seed:s,space:i,owner:c.toBuffer()}},wn.getVariant(9).span+s.length)}(e);case"assignWithSeed":return function({base:n,seed:s,owner:i}){return Ri({assignWithSeed:{base:n.toBuffer(),seed:s,owner:i.toBuffer()}},wn.getVariant(10).span+s.length)}(e);case"transferWithSeed":return function({lamports:n,seed:s,owner:i}){return Ri({transferWithSeed:{lamports:n,seed:s,owner:i.toBuffer()}},wn.getVariant(11).span+s.length)}(e);default:throw new Error(`Invalid instruction: ${t}`)}}encodeState(t,e){throw new Error("System does not have state")}}class X$ extends Cd{constructor(t){super(-1,t),this.property=t,this.layout=dn([_s("length"),_s("lengthPadding"),jh(G$(_s(),-8),"chars")],this.property)}encode(t,e,n=0){if(t==null)return this.layout.span;const s={chars:Zt.Buffer.from(t,"utf8")};return this.layout.encode(s,e,n)}decode(t,e=0){return this.layout.decode(t,e).chars.toString()}getSpan(t,e=0){return _s().span+_s().span+new Jc(new Uint8Array(t).slice(e,e+4),10,"le").toNumber()}}function A0(r){return new X$(r)}function Pi(r){return jh(32,r)}const wn=dS(_s("instruction"));function Ri(r,t){const e=Zt.Buffer.alloc(t??J$),n=wn.encode(r,e);return t===void 0?e.slice(0,n):e}wn.addVariant(0,dn([is("lamports"),is("space"),Pi("owner")]),"createAccount"),wn.addVariant(1,dn([Pi("owner")]),"assign"),wn.addVariant(2,dn([is("lamports")]),"transfer"),wn.addVariant(3,dn([Pi("base"),A0("seed"),is("lamports"),is("space"),Pi("owner")]),"createAccountWithSeed"),wn.addVariant(4,dn([Pi("authorized")]),"advanceNonceAccount"),wn.addVariant(5,dn([is("lamports")]),"withdrawNonceAccount"),wn.addVariant(6,dn([Pi("authorized")]),"initializeNonceAccount"),wn.addVariant(7,dn([Pi("authorized")]),"authorizeNonceAccount"),wn.addVariant(8,dn([is("space")]),"allocate"),wn.addVariant(9,dn([Pi("base"),A0("seed"),is("space"),Pi("owner")]),"allocateWithSeed"),wn.addVariant(10,dn([Pi("base"),A0("seed"),Pi("owner")]),"assignWithSeed"),wn.addVariant(11,dn([is("lamports"),A0("seed"),Pi("owner")]),"transferWithSeed");const J$=Math.max(...Object.values(wn.registry).map(r=>r.span));class Q${constructor(t){this.idl=t}async encode(t,e){if(t==="nonce"){const n=Zt.Buffer.alloc(rh),s=g8.encode(e,n);return n.slice(0,s)}throw new Error(`Invalid account name: ${t}`)}decode(t,e){return this.decodeUnchecked(t,e)}decodeUnchecked(t,e){if(t==="nonce")return function(n){return g8.decode(n)}(e);throw new Error(`Invalid account name: ${t}`)}memcmp(t,e){if(t==="nonce")return{dataSize:rh};throw new Error(`Invalid account name: ${t}`)}size(t){var e;return(e=Ky(this.idl,t))!==null&&e!==void 0?e:0}}class tH extends Cd{constructor(t,e,n,s){super(t.span,s),this.layout=t,this.decoder=e,this.encoder=n}decode(t,e){return this.decoder(this.layout.decode(t,e))}encode(t,e,n){return this.layout.encode(this.encoder(t),e,n)}getSpan(t,e){return this.layout.getSpan(t,e)}}function v8(r){return new tH(jh(32),t=>new Xt(t),t=>t.toBuffer(),r)}const g8=dn([_s("version"),_s("state"),v8("authorizedPubkey"),v8("nonce"),dn([(y8="lamportsPerSignature",new $$(y8))],"feeCalculator")]);var y8;class eH{constructor(t){}decode(t){throw new Error("System program does not have events")}}class rH{constructor(t){}encode(t,e){throw new Error("System does not have user-defined types")}decode(t,e){throw new Error("System does not have user-defined types")}}class pS{constructor(t){this.instruction=new Y$(t),this.accounts=new Q$(t),this.events=new eH(t),this.types=new rH(t)}}var nH=Object.freeze({__proto__:null,hash:function(r){return new TextDecoder().decode(tu(r))}});function mS(r,...t){let e=[Ae.Buffer.from([97,110,99,104,111,114])];t.forEach(s=>{e.push(s instanceof Ae.Buffer?s:ai(s).toBuffer())});const[n]=Xt.findProgramAddressSync(e,ai(r));return n}var iH=Object.freeze({__proto__:null,createWithSeedSync:function(r,t,e){const n=Ae.Buffer.concat([r.toBuffer(),Ae.Buffer.from(t),e.toBuffer()]);return new Xt(tu(n))},associated:mS});const Mv=new Xt("TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA"),Ev=new Xt("ATokenGPvbdGVxr1b2hvZbsiqW5xWH25efTNsLJA8knL");var oH=Object.freeze({__proto__:null,TOKEN_PROGRAM_ID:Mv,ASSOCIATED_PROGRAM_ID:Ev,associatedAddress:function({mint:r,owner:t}){return Xt.findProgramAddressSync([t.toBuffer(),Mv.toBuffer(),r.toBuffer()],Ev)[0]}}),Av={exports:{}};(function(r,t){var e=typeof self<"u"?self:j$,n=function(){function i(){this.fetch=!1,this.DOMException=e.DOMException}return i.prototype=e,new i}();(function(i){(function(c){var l="URLSearchParams"in i,p="Symbol"in i&&"iterator"in Symbol,m="FileReader"in i&&"Blob"in i&&function(){try{return new Blob,!0}catch{return!1}}(),v="FormData"in i,_="ArrayBuffer"in i;if(_)var E=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],w=ArrayBuffer.isView||function(a){return a&&E.indexOf(Object.prototype.toString.call(a))>-1};function x(a){if(typeof a!="string"&&(a=String(a)),/[^a-z0-9\-#$%&'*+.^_`|~]/i.test(a))throw new TypeError("Invalid character in header field name");return a.toLowerCase()}function A(a){return typeof a!="string"&&(a=String(a)),a}function B(a){var f={next:function(){var h=a.shift();return{done:h===void 0,value:h}}};return p&&(f[Symbol.iterator]=function(){return f}),f}function P(a){this.map={},a instanceof P?a.forEach(function(f,h){this.append(h,f)},this):Array.isArray(a)?a.forEach(function(f){this.append(f[0],f[1])},this):a&&Object.getOwnPropertyNames(a).forEach(function(f){this.append(f,a[f])},this)}function R(a){if(a.bodyUsed)return Promise.reject(new TypeError("Already read"));a.bodyUsed=!0}function C(a){return new Promise(function(f,h){a.onload=function(){f(a.result)},a.onerror=function(){h(a.error)}})}function O(a){var f=new FileReader,h=C(f);return f.readAsArrayBuffer(a),h}function z(a){if(a.slice)return a.slice(0);var f=new Uint8Array(a.byteLength);return f.set(new Uint8Array(a)),f.buffer}function H(){return this.bodyUsed=!1,this._initBody=function(a){var f;this._bodyInit=a,a?typeof a=="string"?this._bodyText=a:m&&Blob.prototype.isPrototypeOf(a)?this._bodyBlob=a:v&&FormData.prototype.isPrototypeOf(a)?this._bodyFormData=a:l&&URLSearchParams.prototype.isPrototypeOf(a)?this._bodyText=a.toString():_&&m&&(f=a)&&DataView.prototype.isPrototypeOf(f)?(this._bodyArrayBuffer=z(a.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer])):_&&(ArrayBuffer.prototype.isPrototypeOf(a)||w(a))?this._bodyArrayBuffer=z(a):this._bodyText=a=Object.prototype.toString.call(a):this._bodyText="",this.headers.get("content-type")||(typeof a=="string"?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):l&&URLSearchParams.prototype.isPrototypeOf(a)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},m&&(this.blob=function(){var a=R(this);if(a)return a;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))},this.arrayBuffer=function(){return this._bodyArrayBuffer?R(this)||Promise.resolve(this._bodyArrayBuffer):this.blob().then(O)}),this.text=function(){var a=R(this);if(a)return a;if(this._bodyBlob)return function(f){var h=new FileReader,g=C(h);return h.readAsText(f),g}(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(function(f){for(var h=new Uint8Array(f),g=new Array(h.length),S=0;S<h.length;S++)g[S]=String.fromCharCode(h[S]);return g.join("")}(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},v&&(this.formData=function(){return this.text().then(G)}),this.json=function(){return this.text().then(JSON.parse)},this}P.prototype.append=function(a,f){a=x(a),f=A(f);var h=this.map[a];this.map[a]=h?h+", "+f:f},P.prototype.delete=function(a){delete this.map[x(a)]},P.prototype.get=function(a){return a=x(a),this.has(a)?this.map[a]:null},P.prototype.has=function(a){return this.map.hasOwnProperty(x(a))},P.prototype.set=function(a,f){this.map[x(a)]=A(f)},P.prototype.forEach=function(a,f){for(var h in this.map)this.map.hasOwnProperty(h)&&a.call(f,this.map[h],h,this)},P.prototype.keys=function(){var a=[];return this.forEach(function(f,h){a.push(h)}),B(a)},P.prototype.values=function(){var a=[];return this.forEach(function(f){a.push(f)}),B(a)},P.prototype.entries=function(){var a=[];return this.forEach(function(f,h){a.push([h,f])}),B(a)},p&&(P.prototype[Symbol.iterator]=P.prototype.entries);var tt=["DELETE","GET","HEAD","OPTIONS","POST","PUT"];function nt(a,f){var h,g,S=(f=f||{}).body;if(a instanceof nt){if(a.bodyUsed)throw new TypeError("Already read");this.url=a.url,this.credentials=a.credentials,f.headers||(this.headers=new P(a.headers)),this.method=a.method,this.mode=a.mode,this.signal=a.signal,S||a._bodyInit==null||(S=a._bodyInit,a.bodyUsed=!0)}else this.url=String(a);if(this.credentials=f.credentials||this.credentials||"same-origin",!f.headers&&this.headers||(this.headers=new P(f.headers)),this.method=(h=f.method||this.method||"GET",g=h.toUpperCase(),tt.indexOf(g)>-1?g:h),this.mode=f.mode||this.mode||null,this.signal=f.signal||this.signal,this.referrer=null,(this.method==="GET"||this.method==="HEAD")&&S)throw new TypeError("Body not allowed for GET or HEAD requests");this._initBody(S)}function G(a){var f=new FormData;return a.trim().split("&").forEach(function(h){if(h){var g=h.split("="),S=g.shift().replace(/\+/g," "),I=g.join("=").replace(/\+/g," ");f.append(decodeURIComponent(S),decodeURIComponent(I))}}),f}function M(a,f){f||(f={}),this.type="default",this.status=f.status===void 0?200:f.status,this.ok=this.status>=200&&this.status<300,this.statusText="statusText"in f?f.statusText:"OK",this.headers=new P(f.headers),this.url=f.url||"",this._initBody(a)}nt.prototype.clone=function(){return new nt(this,{body:this._bodyInit})},H.call(nt.prototype),H.call(M.prototype),M.prototype.clone=function(){return new M(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new P(this.headers),url:this.url})},M.error=function(){var a=new M(null,{status:0,statusText:""});return a.type="error",a};var d=[301,302,303,307,308];M.redirect=function(a,f){if(d.indexOf(f)===-1)throw new RangeError("Invalid status code");return new M(null,{status:f,headers:{location:a}})},c.DOMException=i.DOMException;try{new c.DOMException}catch{c.DOMException=function(f,h){this.message=f,this.name=h;var g=Error(f);this.stack=g.stack},c.DOMException.prototype=Object.create(Error.prototype),c.DOMException.prototype.constructor=c.DOMException}function o(a,f){return new Promise(function(h,g){var S=new nt(a,f);if(S.signal&&S.signal.aborted)return g(new c.DOMException("Aborted","AbortError"));var I=new XMLHttpRequest;function y(){I.abort()}I.onload=function(){var u,b,D={status:I.status,statusText:I.statusText,headers:(u=I.getAllResponseHeaders()||"",b=new P,u.replace(/\r?\n[\t ]+/g," ").split(/\r?\n/).forEach(function(F){var q=F.split(":"),it=q.shift().trim();if(it){var at=q.join(":").trim();b.append(it,at)}}),b)};D.url="responseURL"in I?I.responseURL:D.headers.get("X-Request-URL");var Z="response"in I?I.response:I.responseText;h(new M(Z,D))},I.onerror=function(){g(new TypeError("Network request failed"))},I.ontimeout=function(){g(new TypeError("Network request failed"))},I.onabort=function(){g(new c.DOMException("Aborted","AbortError"))},I.open(S.method,S.url,!0),S.credentials==="include"?I.withCredentials=!0:S.credentials==="omit"&&(I.withCredentials=!1),"responseType"in I&&m&&(I.responseType="blob"),S.headers.forEach(function(u,b){I.setRequestHeader(b,u)}),S.signal&&(S.signal.addEventListener("abort",y),I.onreadystatechange=function(){I.readyState===4&&S.signal.removeEventListener("abort",y)}),I.send(S._bodyInit===void 0?null:S._bodyInit)})}o.polyfill=!0,i.fetch||(i.fetch=o,i.Headers=P,i.Request=nt,i.Response=M),c.Headers=P,c.Request=nt,c.Response=M,c.fetch=o,Object.defineProperty(c,"__esModule",{value:!0})})({})})(n),n.fetch.ponyfill=!0,delete n.fetch.polyfill;var s=n;(t=s.fetch).default=s.fetch,t.fetch=s.fetch,t.Headers=s.Headers,t.Request=s.Request,t.Response=s.Response,r.exports=t})(Av,Av.exports);var sH=K$(Av.exports);async function b8(r,t){const e=await r.getAccountInfo(t);if(e===null)throw new Error("program account not found");const{program:n}=Sv(e.data),s=await r.getAccountInfo(n.programdataAddress);if(s===null)throw new Error("program data account not found");const{programData:i}=Sv(s.data);return i}const aH=We.rustEnum([We.struct([],"uninitialized"),We.struct([We.option(We.publicKey(),"authorityAddress")],"buffer"),We.struct([We.publicKey("programdataAddress")],"program"),We.struct([We.u64("slot"),We.option(We.publicKey(),"upgradeAuthorityAddress")],"programData")],void 0,We.u32());function Sv(r){return aH.decode(r)}var uH=Object.freeze({__proto__:null,verifiedBuild:async function(r,t,e=5){const n=`https://api.apr.dev/api/v0/program/${t.toString()}/latest?limit=${e}`,[s,i]=await Promise.all([b8(r,t),sH(n)]),c=(await i.json()).filter(p=>!p.aborted&&p.state==="Built"&&p.verified==="Verified");if(c.length===0)return null;const l=c[0];return s.slot.toNumber()!==l.verified_slot?null:l},fetchData:b8,decodeUpgradeableLoaderState:Sv}),fH=Object.freeze({__proto__:null,sha256:nH,rpc:T$,publicKey:iH,bytes:k$,token:oH,features:U$,registry:uH});function cH(r){return"accounts"in r}const hH=We.struct([We.publicKey("authority"),We.vecU8("data")]);function Kh(r,t){var e,n;let s={};const i=r.args?r.args.length:0;if(t.length>i){if(t.length!==i+1)throw new Error(`provided too many arguments ${t} to instruction ${r==null?void 0:r.name} expecting: ${(n=(e=r.args)===null||e===void 0?void 0:e.map(c=>c.name))!==null&&n!==void 0?n:[]}`);s=t.pop()}return[t,s]}class Tl{static build(t,e,n){if(t.name==="_inner")throw new uh("the _inner name is reserved");const s=(...i)=>{const[c,l]=Kh(t,[...i]);Ny(t.accounts,l.accounts);const p=s.accounts(l.accounts);return l.remainingAccounts!==void 0&&p.push(...l.remainingAccounts),Fy("debug-logs")&&console.log("Outgoing account metas:",p),new Ir({keys:p,programId:n,data:e(t.name,YA(t,...c))})};return s.accounts=i=>Tl.accountsArray(i,t.accounts,n,t.name),s}static accountsArray(t,e,n,s){return t?e.map(i=>{if(("accounts"in i?i.accounts:void 0)!==void 0){const c=t[i.name];return Tl.accountsArray(c,i.accounts,n,s).flat()}{const c=i;let l;try{l=ai(t[i.name])}catch{throw new Error(`Wrong input type for account "${i.name}" in the instruction accounts object${s!==void 0?' for instruction "'+s+'"':""}. Expected PublicKey or string.`)}const p=c.isOptional&&l.equals(n);return{pubkey:l,isWritable:c.isMut&&!p,isSigner:c.isSigner&&!p}}}).flat():[]}}class lH{static build(t,e){return(...n)=>{var s,i,c;const[,l]=Kh(t,[...n]),p=new wr;if(l.preInstructions&&l.instructions)throw new Error("instructions is deprecated, use preInstructions");return(s=l.preInstructions)===null||s===void 0||s.forEach(m=>p.add(m)),(i=l.instructions)===null||i===void 0||i.forEach(m=>p.add(m)),p.add(e(...n)),(c=l.postInstructions)===null||c===void 0||c.forEach(m=>p.add(m)),p}}}class dH{static build(t,e,n,s){return async(...i)=>{var c;const l=e(...i),[,p]=Kh(t,[...i]);if(s.sendAndConfirm===void 0)throw new Error("This function requires 'Provider.sendAndConfirm' to be implemented.");try{return await s.sendAndConfirm(l,(c=p.signers)!==null&&c!==void 0?c:[],p.options)}catch(m){throw jy(m,n)}}}}class pH{static build(t,e,n,s){var i;const c={};return(i=t.accounts)===null||i===void 0||i.forEach(l=>{const p=zr(l.name);c[p]=new vS(t,l,n,s,e)}),c}}class vS{get size(){return this._size}get programId(){return this._programId}get provider(){return this._provider}get coder(){return this._coder}get idlAccount(){return this._idlAccount}constructor(t,e,n,s,i){this._idlAccount=e,this._programId=n,this._provider=s??ah(),this._coder=i??new $y(t),this._size=this._coder.accounts.size(e)}async fetchNullable(t,e){const{data:n}=await this.fetchNullableAndContext(t,e);return n}async fetchNullableAndContext(t,e){const n=await this.getAccountInfoAndContext(t,e),{value:s,context:i}=n;return{data:s&&s.data.length!==0?this._coder.accounts.decode(this._idlAccount.name,s.data):null,context:i}}async fetch(t,e){const{data:n}=await this.fetchNullableAndContext(t,e);if(n===null)throw new Error(`Account does not exist or has no data ${t.toString()}`);return n}async fetchAndContext(t,e){const{data:n,context:s}=await this.fetchNullableAndContext(t,e);if(n===null)throw new Error(`Account does not exist ${t.toString()}`);return{data:n,context:s}}async fetchMultiple(t,e){return(await this.fetchMultipleAndContext(t,e)).map(n=>n?n.data:null)}async fetchMultipleAndContext(t,e){return(await gv(this._provider.connection,t.map(n=>ai(n)),e)).map(n=>{if(n==null)return null;const{account:s,context:i}=n;return{data:this._coder.accounts.decode(this._idlAccount.name,s.data),context:i}})}async all(t){const e=this.coder.accounts.memcmp(this._idlAccount.name,t instanceof Zt.Buffer?t:void 0),n=[];return(e==null?void 0:e.offset)!=null&&(e==null?void 0:e.bytes)!=null&&n.push({memcmp:{offset:e.offset,bytes:e.bytes}}),(e==null?void 0:e.dataSize)!=null&&n.push({dataSize:e.dataSize}),(await this._provider.connection.getProgramAccounts(this._programId,{commitment:this._provider.connection.commitment,filters:[...n,...Array.isArray(t)?t:[]]})).map(({pubkey:s,account:i})=>({publicKey:s,account:this._coder.accounts.decode(this._idlAccount.name,i.data)}))}subscribe(t,e){const n=hc.get(t.toString());if(n)return n.ee;const s=new _$;t=ai(t);const i=this._provider.connection.onAccountChange(t,c=>{const l=this._coder.accounts.decode(this._idlAccount.name,c.data);s.emit("change",l)},e);return hc.set(t.toString(),{ee:s,listener:i}),s}async unsubscribe(t){let e=hc.get(t.toString());e?hc&&await this._provider.connection.removeAccountChangeListener(e.listener).then(()=>{hc.delete(t.toString())}).catch(console.error):console.warn("Address is not subscribed")}async createInstruction(t,e){const n=this.size;if(this._provider.publicKey===void 0)throw new Error("This function requires the Provider interface implementor to have a 'publicKey' field.");return an.createAccount({fromPubkey:this._provider.publicKey,newAccountPubkey:t.publicKey,space:e??n,lamports:await this._provider.connection.getMinimumBalanceForRentExemption(e??n),programId:this._programId})}async associated(...t){const e=await this.associatedAddress(...t);return await this.fetch(e)}async associatedAddress(...t){return await mS(this._programId,...t)}async getAccountInfo(t,e){return await this._provider.connection.getAccountInfo(ai(t),e)}async getAccountInfoAndContext(t,e){return await this._provider.connection.getAccountInfoAndContext(ai(t),e)}}const hc=new Map,w8="Program log: ",mH="Program data: ";class gS{constructor(t,e,n){this._programId=t,this._provider=e,this._eventParser=new Hy(t,n),this._eventCallbacks=new Map,this._eventListeners=new Map,this._listenerIdCount=0}addEventListener(t,e){var n;let s=this._listenerIdCount;return this._listenerIdCount+=1,this._eventListeners.has(t)||this._eventListeners.set(t,[]),this._eventListeners.set(t,((n=this._eventListeners.get(t))!==null&&n!==void 0?n:[]).concat(s)),this._eventCallbacks.set(s,[t,e]),this._onLogsSubscriptionId!==void 0||(this._onLogsSubscriptionId=this._provider.connection.onLogs(this._programId,(i,c)=>{if(!i.err)for(const l of this._eventParser.parseLogs(i.logs)){const p=this._eventListeners.get(l.name);p&&p.forEach(m=>{const v=this._eventCallbacks.get(m);if(v){const[,_]=v;_(l.data,c.slot,i.signature)}})}})),s}async removeEventListener(t){const e=this._eventCallbacks.get(t);if(!e)throw new Error(`Event listener ${t} doesn't exist!`);const[n]=e;let s=this._eventListeners.get(n);if(!s)throw new Error(`Event listeners don't exist for ${n}!`);if(this._eventCallbacks.delete(t),s=s.filter(i=>i!==t),this._eventListeners.set(n,s),s.length===0&&this._eventListeners.delete(n),this._eventCallbacks.size===0){if(this._eventListeners.size!==0)throw new Error(`Expected event listeners size to be 0 but got ${this._eventListeners.size}`);this._onLogsSubscriptionId!==void 0&&(await this._provider.connection.removeOnLogsListener(this._onLogsSubscriptionId),this._onLogsSubscriptionId=void 0)}}}class Hy{constructor(t,e){this.coder=e,this.programId=t}*parseLogs(t,e=!1){const n=new gH(t),s=new vH;let i=n.next();for(;i!==null;){let[c,l,p]=this.handleLog(s,i,e);c&&(yield c),l&&s.push(l),p&&s.pop(),i=n.next()}}handleLog(t,e,n){return t.stack.length>0&&t.program()===this.programId.toString()?this.handleProgramLog(e,n):[null,...this.handleSystemLog(e)]}handleProgramLog(t,e){if(t.startsWith(w8)||t.startsWith(mH)){const n=t.startsWith(w8)?t.slice(13):t.slice(14),s=this.coder.events.decode(n);if(e&&s===null)throw new Error(`Unable to decode event ${n}`);return[s,null,!1]}return[null,...this.handleSystemLog(t)]}handleSystemLog(t){const e=t.split(":")[0];return e.match(/^Program (.*) success/g)!==null?[null,!0]:e.startsWith(`Program ${this.programId.toString()} invoke`)?[this.programId.toString(),!1]:e.includes("invoke")?["cpi",!1]:[null,!1]}}class vH{constructor(){this.stack=[]}program(){if(!this.stack.length)throw new Error("Expected the stack to have elements");return this.stack[this.stack.length-1]}push(t){this.stack.push(t)}pop(){if(!this.stack.length)throw new Error("Expected the stack to have elements");this.stack.pop()}}class gH{constructor(t){this.logs=t}next(){if(this.logs.length===0)return null;let t=this.logs[0];return this.logs=this.logs.slice(1),t}}class yH{static build(t,e,n,s,i,c,l){return async(...p)=>{var m;const v=e(...p),[,_]=Kh(t,[...p]);let E;if(s.simulate===void 0)throw new Error("This function requires 'Provider.simulate' to be implemented.");try{E=await s.simulate(v,_.signers,(m=_.options)===null||m===void 0?void 0:m.commitment)}catch(A){throw jy(A,n)}if(E===void 0)throw new Error("Unable to simulate transaction");const w=E.logs;if(!w)throw new Error("Simulated logs not found");const x=[];if(l.events){let A=new Hy(c,i);for(const B of A.parseLogs(w))x.push(B)}return{events:x,raw:w}}}}function pm(r){return new yS(jh(8),t=>Vy.fromBuffer(t),t=>t.toBuffer(),r)}function S0(r){return new yS(jh(32),t=>new Xt(t),t=>t.toBuffer(),r)}function mm(r,t){return new bH(r,t)}class yS extends Cd{constructor(t,e,n,s){super(t.span,s),this.layout=t,this.decoder=e,this.encoder=n}decode(t,e){return this.decoder(this.layout.decode(t,e))}encode(t,e,n){return this.layout.encode(this.encoder(t),e,n)}getSpan(t,e){return this.layout.getSpan(t,e)}}class bH extends Cd{constructor(t,e){super(-1,e),this.layout=t,this.discriminator=_s()}encode(t,e,n=0){return t==null?this.layout.span+this.discriminator.encode(0,e,n):(this.discriminator.encode(1,e,n),this.layout.encode(t,e,n+4)+4)}decode(t,e=0){const n=this.discriminator.decode(t,e);if(n===0)return null;if(n===1)return this.layout.decode(t,e+4);throw new Error("Invalid coption "+this.layout.property)}getSpan(t,e=0){return this.layout.getSpan(t,e+4)+4}}class Vy extends Jc{toBuffer(){const t=super.toArray().reverse(),e=Zt.Buffer.from(t);if(e.length===8)return e;if(e.length>=8)throw new Error("u64 too large");const n=Zt.Buffer.alloc(8);return e.copy(n),n}static fromBuffer(t){if(t.length!==8)throw new Error(`Invalid buffer length: ${t.length}`);return new Vy([...t].reverse().map(e=>`00${e.toString(16)}`.slice(-2)).join(""),16)}}const wH=dn([S0("mint"),S0("owner"),pm("amount"),mm(S0(),"delegate"),(r=>{const t=dS((e=>new Td(1,e))("discriminator"),null,"state");return t.addVariant(0,dn([]),"uninitialized"),t.addVariant(1,dn([]),"initialized"),t.addVariant(2,dn([]),"frozen"),t})(),mm(pm(),"isNative"),pm("delegatedAmount"),mm(S0(),"closeAuthority")]);class ch{constructor(t,e,n,s,i,c,l,p){this._accounts=e,this._provider=n,this._programId=s,this._idlIx=i,this._idlTypes=l,this._customResolver=p,this._args=t,this._accountStore=new xH(n,c,this._programId)}args(t){this._args=t}async resolve(){for(await this.resolveConst(this._idlIx.accounts),this._resolveEventCpi(this._idlIx.accounts);await this.resolvePdas(this._idlIx.accounts)+await this.resolveRelations(this._idlIx.accounts)+await this.resolveCustom()>0;);}async resolveCustom(){if(this._customResolver){const{accounts:t,resolved:e}=await this._customResolver({args:this._args,accounts:this._accounts,provider:this._provider,programId:this._programId,idlIx:this._idlIx});return this._accounts=t,e}return 0}resolveOptionalsHelper(t,e){const n={};for(const s of e){const i=s.name,c=t[i];c!==void 0&&(wS(c)?cH(s)?n[i]=this.resolveOptionalsHelper(c,s.accounts):n[i]=xS(c,!0):c!==null?n[i]=ai(c):s.isOptional&&(n[i]=this._programId))}return n}resolveOptionals(t){Object.assign(this._accounts,this.resolveOptionalsHelper(t,this._idlIx.accounts))}get(t){const e=t.reduce((n,s)=>n&&n[s],this._accounts);if(e&&e.toBase58)return e}set(t,e){let n=this._accounts;t.forEach((s,i)=>{i==t.length-1&&(n[s]=e),n[s]=n[s]||{},n=n[s]})}async resolveConst(t,e=[]){for(let n=0;n<t.length;n+=1){const s=t[n],i=s.accounts;i&&await this.resolveConst(i,[...e,zr(s.name)]);const c=s,l=zr(s.name);if(c.isSigner&&!this.get([...e,l])){if(this._provider.wallet===void 0)throw new Error("This function requires the Provider interface implementor to have a 'wallet' field.");this.set([...e,l],this._provider.wallet.publicKey)}Reflect.has(ch.CONST_ACCOUNTS,l)&&!this.get([...e,l])&&this.set([...e,l],ch.CONST_ACCOUNTS[l])}}_resolveEventCpi(t,e=[]){for(const n in t){const s=t[n],i=s.accounts;i&&this._resolveEventCpi(i,[...e,zr(s.name)]);const c=+n+1;if(c===t.length)return;const l=zr(t[n].name),p=zr(t[c].name);if(l==="eventAuthority"&&p==="program"){const m=[...e,l],v=[...e,p];return this.get(m)||this.set(m,Xt.findProgramAddressSync([Zt.Buffer.from("__event_authority")],this._programId)[0]),void(this.get(v)||this.set(v,this._programId))}}}async resolvePdas(t,e=[]){let n=0;for(let s=0;s<t.length;s+=1){const i=t[s],c=i.accounts;c&&(n+=await this.resolvePdas(c,[...e,zr(i.name)]));const l=i,p=zr(i.name);l.pda&&l.pda.seeds.length>0&&!this.get([...e,p])&&await this.autoPopulatePda(l,e)&&(n+=1)}return n}async resolveRelations(t,e=[]){let n=0;for(let s=0;s<t.length;s+=1){const i=t[s],c=i.accounts;c&&(n+=await this.resolveRelations(c,[...e,zr(i.name)]));const l=i.relations||[],p=zr(i.name),m=[...e,p],v=this.get(m);if(v){const _=l.filter(E=>!this.get([...e,zr(E)]));if(n+=_.length,_.length>0){const E=await this._accountStore.fetchAccount({publicKey:v});await Promise.all(_.map(async w=>{const x=zr(w);return this.set([...e,x],E[x]),E[x]}))}}}return n}async autoPopulatePda(t,e=[]){if(!t.pda||!t.pda.seeds)throw new Error("Must have seeds");const n=await Promise.all(t.pda.seeds.map(c=>this.toBuffer(c,e)));if(n.some(c=>c===void 0))return;const s=await this.parseProgramId(t,e);if(!s)return;const[i]=await Xt.findProgramAddress(n,s);this.set([...e,zr(t.name)],i)}async parseProgramId(t,e=[]){var n;if(!(!((n=t.pda)===null||n===void 0)&&n.programId))return this._programId;switch(t.pda.programId.kind){case"const":return new Xt(this.toBufferConst(t.pda.programId.value));case"arg":return this.argValue(t.pda.programId);case"account":return await this.accountValue(t.pda.programId,e);default:throw new Error(`Unexpected program seed kind: ${t.pda.programId.kind}`)}}async toBuffer(t,e=[]){switch(t.kind){case"const":return this.toBufferConst(t);case"arg":return await this.toBufferArg(t);case"account":return await this.toBufferAccount(t,e);default:throw new Error(`Unexpected seed kind: ${t.kind}`)}}getType(t,e=[]){if(e.length>0&&t.defined){const n=this._idlTypes.find(i=>i.name===t.defined);if(!n)throw new Error(`Cannot find type ${t.defined}`);const s=n.type.fields.find(i=>i.name===e[0]);return this.getType(s.type,e.slice(1))}return t}toBufferConst(t){return this.toBufferValue(this.getType(t.type,(t.path||"").split(".").slice(1)),t.value)}async toBufferArg(t){const e=this.argValue(t);if(e!==void 0)return this.toBufferValue(this.getType(t.type,(t.path||"").split(".").slice(1)),e)}argValue(t){const e=t.path.split("."),n=zr(e[0]),s=this._idlIx.args.findIndex(i=>i.name===n);if(s===-1)throw new Error(`Unable to find argument for seed: ${n}`);return e.slice(1).reduce((i,c)=>(i||{})[c],this._args[s])}async toBufferAccount(t,e=[]){const n=await this.accountValue(t,e);if(n)return this.toBufferValue(t.type,n)}async accountValue(t,e=[]){const n=t.path.split("."),s=n[0],i=this.get([...e,zr(s)]);if(i===null)throw new Error("fieldPubkey is null");if(n.length===1)return i;const c=await this._accountStore.fetchAccount({publicKey:i,name:t.account});return this.parseAccountValue(c,n.slice(1))}parseAccountValue(t,e){let n;for(;e.length>0;)n=t[zr(e[0])],e=e.slice(1);return n}toBufferValue(t,e){switch(t){case"u8":return Zt.Buffer.from([e]);case"u16":let n=Zt.Buffer.alloc(2);return n.writeUInt16LE(e),n;case"u32":let s=Zt.Buffer.alloc(4);return s.writeUInt32LE(e),s;case"u64":let i=Zt.Buffer.alloc(8);return i.writeBigUInt64LE(BigInt(e)),i;case"string":return Zt.Buffer.from(ZA(e));case"publicKey":return e.toBuffer();default:if(t.array)return Zt.Buffer.from(e);throw new Error(`Unexpected seed type: ${t}`)}}}ch.CONST_ACCOUNTS={associatedTokenProgram:Ev,rent:na,systemProgram:an.programId,tokenProgram:Mv,clock:oo};class xH{constructor(t,e,n){this._provider=t,this._programId=n,this._cache=new Map,this._idls={},this._idls[n.toBase58()]=e}async ensureIdl(t){if(!this._idls[t.toBase58()]){const e=await nu.fetchIdl(t,this._provider);if(e){const n=new nu(e,t,this._provider);this._idls[t.toBase58()]=n.account}}return this._idls[t.toBase58()]}async fetchAccount({publicKey:t,name:e,programId:n=this._programId}){const s=t.toString();if(!this._cache.has(s))if(e==="TokenAccount"){const i=await this._provider.connection.getAccountInfo(t);if(i===null)throw new Error(`invalid account info for ${s}`);const c=function(l){return wH.decode(l)}(i.data);this._cache.set(s,c)}else if(e){const i=await this.ensureIdl(n);if(i){const c=i[zr(e)];if(c){const l=await c.fetch(t);this._cache.set(s,l)}}}else{const i=await this._provider.connection.getAccountInfo(t);if(i===null)throw new Error(`invalid account info for ${s}`);const c=i.data,l=await this.ensureIdl(i.owner);if(l){const p=Object.values(l)[0];if(!p)throw new Error("No accounts for this program");const m=p.coder.accounts.decodeAny(c);this._cache.set(s,m)}}return this._cache.get(s)}}class bS{static build(t,e,n,s,i,c,l,p,m,v,_){return(...E)=>new _H(E,s,i,c,l,p,t,e,n,m,v,_)}}function wS(r){return typeof r=="object"&&r!==null&&!("_bn"in r)}function xS(r,t){const e={};for(const n in r){const s=r[n];if(s!==null)e[n]=wS(s)?xS(s,!0):ai(s);else if(t)throw new Error("Failed to resolve optionals due to IDL type mismatch with input accounts!")}return e}class _H{constructor(t,e,n,s,i,c,l,p,m,v,_,E){this._ixFn=e,this._txFn=n,this._rpcFn=s,this._simulateFn=i,this._viewFn=c,this._programId=p,this._accounts={},this._remainingAccounts=[],this._signers=[],this._preInstructions=[],this._postInstructions=[],this._autoResolveAccounts=!0,this._args=t,this._accountsResolver=new ch(t,this._accounts,l,p,m,v,_,E)}args(t){this._args=t,this._accountsResolver.args(t)}async pubkeys(){return this._autoResolveAccounts&&await this._accountsResolver.resolve(),this._accounts}accounts(t){return this._autoResolveAccounts=!0,this._accountsResolver.resolveOptionals(t),this}accountsStrict(t){return this._autoResolveAccounts=!1,this._accountsResolver.resolveOptionals(t),this}signers(t){return this._signers=this._signers.concat(t),this}remainingAccounts(t){return this._remainingAccounts=this._remainingAccounts.concat(t),this}preInstructions(t){return this._preInstructions=this._preInstructions.concat(t),this}postInstructions(t){return this._postInstructions=this._postInstructions.concat(t),this}async rpc(t){return this._autoResolveAccounts&&await this._accountsResolver.resolve(),this._rpcFn(...this._args,{accounts:this._accounts,signers:this._signers,remainingAccounts:this._remainingAccounts,preInstructions:this._preInstructions,postInstructions:this._postInstructions,options:t})}async rpcAndKeys(t){return{pubkeys:await this.pubkeys(),signature:await this.rpc(t)}}async view(t){if(this._autoResolveAccounts&&await this._accountsResolver.resolve(),!this._viewFn)throw new Error("Method does not support views");return this._viewFn(...this._args,{accounts:this._accounts,signers:this._signers,remainingAccounts:this._remainingAccounts,preInstructions:this._preInstructions,postInstructions:this._postInstructions,options:t})}async simulate(t){return this._autoResolveAccounts&&await this._accountsResolver.resolve(),this._simulateFn(...this._args,{accounts:this._accounts,signers:this._signers,remainingAccounts:this._remainingAccounts,preInstructions:this._preInstructions,postInstructions:this._postInstructions,options:t})}async instruction(){return this._autoResolveAccounts&&await this._accountsResolver.resolve(),this._ixFn(...this._args,{accounts:this._accounts,signers:this._signers,remainingAccounts:this._remainingAccounts,preInstructions:this._preInstructions,postInstructions:this._postInstructions})}async prepare(){return{instruction:await this.instruction(),pubkeys:await this.pubkeys(),signers:await this._signers}}async transaction(){return this._autoResolveAccounts&&await this._accountsResolver.resolve(),this._txFn(...this._args,{accounts:this._accounts,signers:this._signers,remainingAccounts:this._remainingAccounts,preInstructions:this._preInstructions,postInstructions:this._postInstructions})}}class MH{static build(t,e,n,s){const i=e.accounts.find(l=>l.isMut),c=!!e.returns;if(!(i||!c))return async(...l)=>{var p,m;let v=await n(...l);const _=`Program return: ${t} `;let E=v.raw.find(A=>A.startsWith(_));if(!E)throw new Error("View expected return log");let w=WA(E.slice(_.length)),x=e.returns;if(!x)throw new Error("View expected return type");return Mi.fieldLayout({type:x},Array.from([...(p=s.accounts)!==null&&p!==void 0?p:[],...(m=s.types)!==null&&m!==void 0?m:[]])).decode(w)}}}class EH{static build(t,e,n,s,i){const c={},l={},p={},m={},v={},_={},E=GA(t),w=t.accounts?pH.build(t,e,n,s):{};return t.instructions.forEach(x=>{const A=Tl.build(x,(H,tt)=>e.instruction.encode(H,tt),n),B=lH.build(x,A),P=dH.build(x,B,E,s),R=yH.build(x,B,E,s,e,n,t),C=MH.build(n,x,R,t),O=bS.build(s,n,x,A,B,P,R,C,w,t.types||[],i&&i(x)),z=zr(x.name);l[z]=A,p[z]=B,c[z]=P,m[z]=R,v[z]=O,C&&(_[z]=C)}),[c,l,p,w,m,v,_]}}class nu{get programId(){return this._programId}get idl(){return this._idl}get coder(){return this._coder}get provider(){return this._provider}constructor(t,e,n,s,i){e=ai(e),n||(n=ah()),this._idl=t,this._provider=n,this._programId=e,this._coder=s??new $y(t),this._events=new gS(this._programId,n,this._coder);const[c,l,p,m,v,_,E]=EH.build(t,this._coder,e,n,i??(()=>{}));this.rpc=c,this.instruction=l,this.transaction=p,this.account=m,this.simulate=v,this.methods=_,this.views=E}static async at(t,e){const n=ai(t),s=await nu.fetchIdl(n,e);if(!s)throw new Error(`IDL not found for program: ${t.toString()}`);return new nu(s,n,e)}static async fetchIdl(t,e){e=e??ah();const n=ai(t),s=await async function(p){const m=(await Xt.findProgramAddress([],p))[0];return await Xt.createWithSeed(m,"anchor:idl",p)}(n),i=await e.connection.getAccountInfo(s);if(!i)return null;let c=function(p){return hH.decode(p)}(i.data.slice(8));const l=x$(c.data);return JSON.parse(VA(l))}addEventListener(t,e){return this._events.addEventListener(t,e)}async removeEventListener(t){return await this._events.removeEventListener(t)}}const AH=new Xt("11111111111111111111111111111111");function SH(r){return new nu(x8,AH,r,new pS(x8))}const x8={version:"0.1.0",name:"system_program",instructions:[{name:"createAccount",accounts:[{name:"from",isMut:!0,isSigner:!0},{name:"to",isMut:!0,isSigner:!0}],args:[{name:"lamports",type:"u64"},{name:"space",type:"u64"},{name:"owner",type:"publicKey"}]},{name:"assign",accounts:[{name:"pubkey",isMut:!0,isSigner:!0}],args:[{name:"owner",type:"publicKey"}]},{name:"transfer",accounts:[{name:"from",isMut:!0,isSigner:!0},{name:"to",isMut:!0,isSigner:!1}],args:[{name:"lamports",type:"u64"}]},{name:"createAccountWithSeed",accounts:[{name:"from",isMut:!0,isSigner:!0},{name:"to",isMut:!0,isSigner:!1},{name:"base",isMut:!1,isSigner:!0}],args:[{name:"base",type:"publicKey"},{name:"seed",type:"string"},{name:"lamports",type:"u64"},{name:"space",type:"u64"},{name:"owner",type:"publicKey"}]},{name:"advanceNonceAccount",accounts:[{name:"nonce",isMut:!0,isSigner:!1},{name:"recentBlockhashes",isMut:!1,isSigner:!1},{name:"authorized",isMut:!1,isSigner:!0}],args:[{name:"authorized",type:"publicKey"}]},{name:"withdrawNonceAccount",accounts:[{name:"nonce",isMut:!0,isSigner:!1},{name:"to",isMut:!0,isSigner:!1},{name:"recentBlockhashes",isMut:!1,isSigner:!1},{name:"rent",isMut:!1,isSigner:!1},{name:"authorized",isMut:!1,isSigner:!0}],args:[{name:"lamports",type:"u64"}]},{name:"initializeNonceAccount",accounts:[{name:"nonce",isMut:!0,isSigner:!0},{name:"recentBlockhashes",isMut:!1,isSigner:!1},{name:"rent",isMut:!1,isSigner:!1}],args:[{name:"authorized",type:"publicKey"}]},{name:"authorizeNonceAccount",accounts:[{name:"nonce",isMut:!0,isSigner:!1},{name:"authorized",isMut:!1,isSigner:!0}],args:[{name:"authorized",type:"publicKey"}]},{name:"allocate",accounts:[{name:"pubkey",isMut:!0,isSigner:!0}],args:[{name:"space",type:"u64"}]},{name:"allocateWithSeed",accounts:[{name:"account",isMut:!0,isSigner:!1},{name:"base",isMut:!1,isSigner:!0}],args:[{name:"base",type:"publicKey"},{name:"seed",type:"string"},{name:"space",type:"u64"},{name:"owner",type:"publicKey"}]},{name:"assignWithSeed",accounts:[{name:"account",isMut:!0,isSigner:!1},{name:"base",isMut:!1,isSigner:!0}],args:[{name:"base",type:"publicKey"},{name:"seed",type:"string"},{name:"owner",type:"publicKey"}]},{name:"transferWithSeed",accounts:[{name:"from",isMut:!0,isSigner:!1},{name:"base",isMut:!1,isSigner:!0},{name:"to",isMut:!0,isSigner:!1}],args:[{name:"lamports",type:"u64"},{name:"seed",type:"string"},{name:"owner",type:"publicKey"}]}],accounts:[{name:"nonce",type:{kind:"struct",fields:[{name:"version",type:"u32"},{name:"state",type:"u32"},{name:"authorizedPubkey",type:"publicKey"},{name:"nonce",type:"publicKey"},{name:"feeCalculator",type:{defined:"FeeCalculator"}}]}}],types:[{name:"FeeCalculator",type:{kind:"struct",fields:[{name:"lamportsPerSignature",type:"u64"}]}}]};var _8,_S=Oh(Object.freeze({__proto__:null,web3:yA,AccountClient:vS,AnchorError:Yu,AnchorProvider:eS,BorshAccountsCoder:Da,BorshCoder:$y,BorshEventCoder:oS,BorshInstructionCoder:Rd,DISCRIMINATOR_SIZE:Cl,EventManager:gS,EventParser:Hy,IdlError:uh,LangErrorCode:qe,LangErrorMessage:nS,MethodsBuilderFactory:bS,Native:class{static system(r){return SH(r)}},Program:nu,ProgramError:fh,ProgramErrorStack:Uf,SystemCoder:pS,eventDiscriminator:sS,getProvider:ah,parseIdlErrors:GA,setProvider:function(r){bv=r},splitArgsAndCtx:Kh,toInstruction:YA,translateAddress:ai,translateError:jy,utils:fH,validateAccounts:Ny,BN:Jc})),lc={},dc={},M8,pc={};function kH(){if(M8)return pc;M8=1;var r=$e&&$e.__awaiter||function(n,s,i,c){return new(i||(i=Promise))(function(l,p){function m(E){try{_(c.next(E))}catch(w){p(w)}}function v(E){try{_(c.throw(E))}catch(w){p(w)}}function _(E){E.done?l(E.value):function(w){return w instanceof i?w:new i(function(x){x(w)})}(E.value).then(m,v)}_((c=c.apply(n,s||[])).next())})},t=$e&&$e.__generator||function(n,s){var i,c,l,p,m={label:0,sent:function(){if(1&l[0])throw l[1];return l[1]},trys:[],ops:[]};return p={next:v(0),throw:v(1),return:v(2)},typeof Symbol=="function"&&(p[Symbol.iterator]=function(){return this}),p;function v(_){return function(E){return function(w){if(i)throw new TypeError("Generator is already executing.");for(;m;)try{if(i=1,c&&(l=2&w[0]?c.return:w[0]?c.throw||((l=c.return)&&l.call(c),0):c.next)&&!(l=l.call(c,w[1])).done)return l;switch(c=0,l&&(w=[2&w[0],l.value]),w[0]){case 0:case 1:l=w;break;case 4:return m.label++,{value:w[1],done:!1};case 5:m.label++,c=w[1],w=[0];continue;case 7:w=m.ops.pop(),m.trys.pop();continue;default:if(l=m.trys,!((l=l.length>0&&l[l.length-1])||w[0]!==6&&w[0]!==2)){m=0;continue}if(w[0]===3&&(!l||w[1]>l[0]&&w[1]<l[3])){m.label=w[1];break}if(w[0]===6&&m.label<l[1]){m.label=l[1],l=w;break}if(l&&m.label<l[2]){m.label=l[2],m.ops.push(w);break}l[2]&&m.ops.pop(),m.trys.pop();continue}w=s.call(n,m)}catch(x){w=[6,x],c=0}finally{i=l=0}if(5&w[0])throw w[1];return{value:w[0]?w[1]:void 0,done:!0}}([_,E])}}};Object.defineProperty(pc,"__esModule",{value:!0}),pc.PythOracleAccountCoder=void 0;var e=function(){function n(s){this.idl=s}return n.prototype.encode=function(s,i){return r(this,void 0,void 0,function(){return t(this,function(c){throw new Error("Not implemented")})})},n.prototype.decode=function(s,i){throw new Error("Not implemented")},n.prototype.decodeUnchecked=function(s,i){throw new Error("Not implemented")},n.prototype.memcmp=function(s,i){throw new Error("Not implemented")},n.prototype.size=function(s){return 0},n}();return pc.PythOracleAccountCoder=e,pc}var mc={},IH=function(r){if(r.length>=255)throw new TypeError("Alphabet too long");for(var t=new Uint8Array(256),e=0;e<t.length;e++)t[e]=255;for(var n=0;n<r.length;n++){var s=r.charAt(n),i=s.charCodeAt(0);if(t[i]!==255)throw new TypeError(s+" is ambiguous");t[i]=n}var c=r.length,l=r.charAt(0),p=Math.log(c)/Math.log(256),m=Math.log(256)/Math.log(c);function v(_){if(typeof _!="string")throw new TypeError("Expected String");if(_.length===0)return new Uint8Array;for(var E=0,w=0,x=0;_[E]===l;)w++,E++;for(var A=(_.length-E)*p+1>>>0,B=new Uint8Array(A);_[E];){var P=t[_.charCodeAt(E)];if(P===255)return;for(var R=0,C=A-1;(P!==0||R<x)&&C!==-1;C--,R++)P+=c*B[C]>>>0,B[C]=P%256>>>0,P=P/256>>>0;if(P!==0)throw new Error("Non-zero carry");x=R,E++}for(var O=A-x;O!==A&&B[O]===0;)O++;for(var z=new Uint8Array(w+(A-O)),H=w;O!==A;)z[H++]=B[O++];return z}return{encode:function(_){if(_ instanceof Uint8Array||(ArrayBuffer.isView(_)?_=new Uint8Array(_.buffer,_.byteOffset,_.byteLength):Array.isArray(_)&&(_=Uint8Array.from(_))),!(_ instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(_.length===0)return"";for(var E=0,w=0,x=0,A=_.length;x!==A&&_[x]===0;)x++,E++;for(var B=(A-x)*m+1>>>0,P=new Uint8Array(B);x!==A;){for(var R=_[x],C=0,O=B-1;(R!==0||C<w)&&O!==-1;O--,C++)R+=256*P[O]>>>0,P[O]=R%c>>>0,R=R/c>>>0;if(R!==0)throw new Error("Non-zero carry");w=C,x++}for(var z=B-w;z!==B&&P[z]===0;)z++;for(var H=l.repeat(E);z<B;++z)H+=r.charAt(P[z]);return H},decodeUnsafe:v,decode:function(_){var E=v(_);if(E)return E;throw new Error("Non-base"+c+" character")}}},E8,A8,MS=IH("123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz");Yi(MS);var vc={};function BH(){if(A8)return mc;A8=1;var r=$e&&$e.__createBinding||(Object.create?function(_,E,w,x){x===void 0&&(x=w),Object.defineProperty(_,x,{enumerable:!0,get:function(){return E[w]}})}:function(_,E,w,x){x===void 0&&(x=w),_[x]=E[w]}),t=$e&&$e.__setModuleDefault||(Object.create?function(_,E){Object.defineProperty(_,"default",{enumerable:!0,value:E})}:function(_,E){_.default=E}),e=$e&&$e.__importStar||function(_){if(_&&_.__esModule)return _;var E={};if(_!=null)for(var w in _)w!=="default"&&Object.prototype.hasOwnProperty.call(_,w)&&r(E,_,w);return t(E,_),E},n=$e&&$e.__spreadArray||function(_,E){for(var w=0,x=E.length,A=_.length;w<x;w++,A++)_[A]=E[w];return _},s=$e&&$e.__importDefault||function(_){return _&&_.__esModule?_:{default:_}};Object.defineProperty(mc,"__esModule",{value:!0}),mc.PythOracleInstructionCoder=void 0;var i=s(MS),c=Ae,l=s(uv()),p=e(We),m=function(){if(E8)return vc;E8=1;var _=$e&&$e.__createBinding||(Object.create?function(C,O,z,H){H===void 0&&(H=z),Object.defineProperty(C,H,{enumerable:!0,get:function(){return O[z]}})}:function(C,O,z,H){H===void 0&&(H=z),C[H]=O[z]}),E=$e&&$e.__setModuleDefault||(Object.create?function(C,O){Object.defineProperty(C,"default",{enumerable:!0,value:O})}:function(C,O){C.default=O}),w=$e&&$e.__importStar||function(C){if(C&&C.__esModule)return C;var O={};if(C!=null)for(var z in C)z!=="default"&&Object.prototype.hasOwnProperty.call(C,z)&&_(O,C,z);return E(O,C),O},x=$e&&$e.__importDefault||function(C){return C&&C.__esModule?C:{default:C}};Object.defineProperty(vc,"__esModule",{value:!0}),vc.IdlCoder=void 0;var A=x(uv()),B=w(We),P=_S,R=function(){function C(){}return C.fieldLayout=function(O,z){var H=O.name!==void 0?A.default(O.name):void 0;switch(O.type){case"bool":return B.bool(H);case"u8":return B.u8(H);case"i8":return B.i8(H);case"u16":return B.u16(H);case"i16":return B.i16(H);case"u32":return B.u32(H);case"i32":return B.i32(H);case"f32":return B.f32(H);case"u64":return B.u64(H);case"i64":return B.i64(H);case"f64":return B.f64(H);case"u128":return B.u128(H);case"i128":return B.i128(H);case"u256":return B.u256(H);case"i256":return B.i256(H);case"bytes":return B.vecU8(H);case"string":return B.str(H);case"publicKey":return B.publicKey(H);default:if("vec"in O.type)return B.vec(C.fieldLayout({name:void 0,type:O.type.vec},z),H);if("option"in O.type)return B.option(C.fieldLayout({name:void 0,type:O.type.option},z),H);if("defined"in O.type){var tt=O.type.defined;if(z===void 0)throw new P.IdlError("User defined types not provided");var nt=z.filter(function(o){return o.name===tt});if(nt.length!==1)throw new P.IdlError("Type not found: "+JSON.stringify(O));return C.typeDefLayout(nt[0],z,H)}if("array"in O.type){var G=O.type.array[0],M=O.type.array[1],d=C.fieldLayout({name:void 0,type:G},z);return B.array(d,M,H)}throw new Error("Not yet implemented: "+O)}},C.typeDefLayout=function(O,z,H){if(z===void 0&&(z=[]),O.type.kind==="struct"){var tt=O.type.fields.map(function(G){return C.fieldLayout(G,z)});return B.struct(tt,H)}if(O.type.kind==="enum"){var nt=O.type.variants.map(function(G){var M=A.default(G.name);if(G.fields===void 0)return B.struct([],M);var d=G.fields.map(function(o,a){return o.hasOwnProperty("name")?C.fieldLayout(o,z):C.fieldLayout({type:o,name:a.toString()},z)});return B.struct(d,M)});return H!==void 0?B.rustEnum(nt).replicate(H):B.rustEnum(nt,H)}throw new Error("Unknown type kint: "+O)},C}();return vc.IdlCoder=R,vc}(),v=function(){function _(E){var w=this;this.idl=E,this.ixLayout=_.parseIxLayout(E);var x=new Map,A=new Map;E.instructions.forEach(function(B){var P,R=B;if(!R.discriminant)throw new Error("All instructions must have a discriminator");if(x.set(i.default.encode(c.Buffer.from(R.discriminant.value)),{layout:w.ixLayout.get(R.name),name:R.name}),A.set(R.name,c.Buffer.from(R.discriminant.value)),P=R.discriminant.value.length,w.discriminatorLength&&w.discriminatorLength!==P)throw new Error("All instructions must have the same discriminator length");w.discriminatorLength=P}),this.discriminatorLayouts=x,this.ixDiscriminator=A}return _.prototype.encodeState=function(E,w){return this.encode(E,w)},_.prototype.encode=function(E,w){var x=c.Buffer.alloc(1e3),A=l.default(E),B=this.ixLayout.get(A),P=this.ixDiscriminator.get(A);if(!B||!P)throw new Error("Unknown method: "+A);if(A==="updProduct"||A==="addProduct"){for(var R=0,C=0,O=Object.keys(w.productMetadata);C<O.length;C++){var z=O[C];R+=x.subarray(R).writeInt8(z.length),R+=x.subarray(R).write(z),R+=x.subarray(R).writeInt8(w.productMetadata[z].length),R+=x.subarray(R).write(w.productMetadata[z])}if(R>464)throw new Error("The metadata is too long");var H=x.subarray(0,R);return c.Buffer.concat([P,H])}var tt=B.encode(w,x);return H=x.subarray(0,tt),c.Buffer.concat([P,H])},_.parseIxLayout=function(E){var w=E.instructions.map(function(x){var A=x.args.map(function(P){var R,C;return m.IdlCoder.fieldLayout(P,Array.from(n(n([],(R=E.accounts)!==null&&R!==void 0?R:[]),(C=E.types)!==null&&C!==void 0?C:[])))}),B=l.default(x.name);return[B,p.struct(A,B)]});return new Map(w)},_.prototype.decode=function(E,w){w===void 0&&(w="hex"),typeof E=="string"&&(E=w==="hex"?c.Buffer.from(E,"hex"):c.Buffer.from(i.default.decode(E)));var x=i.default.encode(E.subarray(0,this.discriminatorLength)),A=E.subarray(this.discriminatorLength),B=this.discriminatorLayouts.get(x);if(!B)return null;if(B.name==="updProduct"||B.name==="addProduct"){for(var P={},R=0;R<A.length;){var C=A[R];if(R++,C){var O=A.slice(R,R+C).toString(),z=A[R+=C];R++;var H=A.slice(R,R+z).toString();R+=z,P[O]=H}}return{data:P,name:B.name}}return{data:B.layout.decode(A),name:B.name}},_}();return mc.PythOracleInstructionCoder=v,mc}var S8,gc={},k8,I8,yc={};function PH(){if(I8)return lc;I8=1,Object.defineProperty(lc,"__esModule",{value:!0}),lc.PythOracleCoder=void 0;var r=function(){if(_8)return dc;_8=1,Object.defineProperty(dc,"__esModule",{value:!0}),dc.PythOracleEventCoder=void 0;var c=function(){function l(){}return l.prototype.decode=function(p){throw new Error("Pyth oracle program does not have events")},l}();return dc.PythOracleEventCoder=c,dc}(),t=kH(),e=BH(),n=function(){if(S8)return gc;S8=1,Object.defineProperty(gc,"__esModule",{value:!0}),gc.PythOracleStateCoder=void 0;var c=function(){function l(){}return l.prototype.encode=function(p,m){throw new Error("Not implemented")},l.prototype.decode=function(p){throw new Error("Not implemented")},l}();return gc.PythOracleStateCoder=c,gc}(),s=function(){if(k8)return yc;k8=1,Object.defineProperty(yc,"__esModule",{value:!0}),yc.PythOracleTypesCoder=void 0;var c=function(){function l(){}return l.prototype.encode=function(p,m){throw new Error("Not implemented")},l.prototype.decode=function(p,m){throw new Error("Not implemented")},l}();return yc.PythOracleTypesCoder=c,yc}(),i=function(c){this.accounts=new t.PythOracleAccountCoder(c),this.events=new r.PythOracleEventCoder,this.instruction=new e.PythOracleInstructionCoder(c),this.state=new n.PythOracleStateCoder,this.types=new s.PythOracleTypesCoder};return lc.PythOracleCoder=i,lc}var B8,P8,R8,C8={version:"2.20.0",name:"pyth_oracle",instructions:[{name:"initMapping",discriminant:{value:[2,0,0,0,0,0,0,0]},accounts:[{name:"fundingAccount",isMut:!0,isSigner:!0},{name:"freshMappingAccount",isMut:!0,isSigner:!1},{name:"permissionsAccount",isMut:!1,isSigner:!1,pda:{seeds:[{kind:"const",type:"string",value:"permissions"}]}}],args:[]},{name:"addMapping",discriminant:{value:[2,0,0,0,1,0,0,0]},accounts:[{name:"fundingAccount",isMut:!0,isSigner:!0},{name:"curMapping",isMut:!0,isSigner:!1},{name:"nextMapping",isMut:!0,isSigner:!1},{name:"permissionsAccount",isMut:!1,isSigner:!1,pda:{seeds:[{kind:"const",type:"string",value:"permissions"}]}}],args:[]},{name:"addProduct",discriminant:{value:[2,0,0,0,2,0,0,0]},accounts:[{name:"fundingAccount",isMut:!0,isSigner:!0},{name:"tailMappingAccount",isMut:!0,isSigner:!1},{name:"productAccount",isMut:!0,isSigner:!1},{name:"permissionsAccount",isMut:!1,isSigner:!1,pda:{seeds:[{kind:"const",type:"string",value:"permissions"}]}}],args:[{name:"productMetadata",type:{defined:"ProductMetadata"}}]},{name:"updProduct",discriminant:{value:[2,0,0,0,3,0,0,0]},accounts:[{name:"fundingAccount",isMut:!0,isSigner:!0},{name:"productAccount",isMut:!0,isSigner:!1},{name:"permissionsAccount",isMut:!1,isSigner:!1,pda:{seeds:[{kind:"const",type:"string",value:"permissions"}]}}],args:[{name:"productMetadata",type:{defined:"ProductMetadata"}}]},{name:"addPrice",discriminant:{value:[2,0,0,0,4,0,0,0]},accounts:[{name:"fundingAccount",isMut:!0,isSigner:!0},{name:"productAccount",isMut:!0,isSigner:!1},{name:"priceAccount",isMut:!0,isSigner:!1},{name:"permissionsAccount",isMut:!1,isSigner:!1,pda:{seeds:[{kind:"const",type:"string",value:"permissions"}]}}],args:[{name:"expo",type:"i32"},{name:"pType",type:"u32"}]},{name:"addPublisher",discriminant:{value:[2,0,0,0,5,0,0,0]},accounts:[{name:"fundingAccount",isMut:!0,isSigner:!0},{name:"priceAccount",isMut:!0,isSigner:!1},{name:"permissionsAccount",isMut:!1,isSigner:!1,pda:{seeds:[{kind:"const",type:"string",value:"permissions"}]}}],args:[{name:"pub",type:"publicKey"}]},{name:"delPublisher",discriminant:{value:[2,0,0,0,6,0,0,0]},accounts:[{name:"fundingAccount",isMut:!0,isSigner:!0},{name:"priceAccount",isMut:!0,isSigner:!1},{name:"permissionsAccount",isMut:!1,isSigner:!1,pda:{seeds:[{kind:"const",type:"string",value:"permissions"}]}}],args:[{name:"pub",type:"publicKey"}]},{name:"updPrice",discriminant:{value:[2,0,0,0,7,0,0,0]},accounts:[{name:"fundingAccount",isMut:!0,isSigner:!0},{name:"priceAccount",isMut:!0,isSigner:!1},{name:"clock",isMut:!1,isSigner:!1}],args:[{name:"status",type:"u32"},{name:"unused",type:"u32"},{name:"price",type:"i64"},{name:"conf",type:"u64"},{name:"pubSlot",type:"u64"}]},{name:"aggPrice",discriminant:{value:[2,0,0,0,8,0,0,0]},accounts:[{name:"fundingAccount",isMut:!0,isSigner:!0},{name:"priceAccount",isMut:!0,isSigner:!1},{name:"clock",isMut:!1,isSigner:!1}],args:[{name:"status",type:"u32"},{name:"unused",type:"u32"},{name:"price",type:"i64"},{name:"conf",type:"u64"},{name:"pubSlot",type:"u64"}]},{name:"setExponent",discriminant:{value:[2,0,0,0,9,0,0,0]},accounts:[{name:"fundingAccount",isMut:!0,isSigner:!0},{name:"priceAccount",isMut:!0,isSigner:!1},{name:"permissionsAccount",isMut:!1,isSigner:!1,pda:{seeds:[{kind:"const",type:"string",value:"permissions"}]}}],args:[{name:"expo",type:"i32"},{name:"pType",type:"u32"}]},{name:"setMinPub",discriminant:{value:[2,0,0,0,12,0,0,0]},accounts:[{name:"fundingAccount",isMut:!0,isSigner:!0},{name:"priceAccount",isMut:!0,isSigner:!1},{name:"permissionsAccount",isMut:!1,isSigner:!1,pda:{seeds:[{kind:"const",type:"string",value:"permissions"}]}}],args:[{name:"minPub",type:"u8"},{name:"unused",type:{array:["u8",3]}}]},{name:"updPriceNoFailOnError",discriminant:{value:[2,0,0,0,13,0,0,0]},accounts:[{name:"fundingAccount",isMut:!0,isSigner:!0},{name:"priceAccount",isMut:!0,isSigner:!1},{name:"clock",isMut:!1,isSigner:!1}],args:[{name:"status",type:"u32"},{name:"unused",type:"u32"},{name:"price",type:"i64"},{name:"conf",type:"u64"},{name:"pubSlot",type:"u64"}]},{name:"delPrice",discriminant:{value:[2,0,0,0,15,0,0,0]},accounts:[{name:"fundingAccount",isMut:!0,isSigner:!0},{name:"productAccount",isMut:!0,isSigner:!1},{name:"priceAccount",isMut:!0,isSigner:!1},{name:"permissionsAccount",isMut:!1,isSigner:!1,pda:{seeds:[{kind:"const",type:"string",value:"permissions"}]}}],args:[]},{name:"delProduct",discriminant:{value:[2,0,0,0,16,0,0,0]},accounts:[{name:"fundingAccount",isMut:!0,isSigner:!0},{name:"mappingAccount",isMut:!0,isSigner:!1},{name:"productAccount",isMut:!0,isSigner:!1},{name:"permissionsAccount",isMut:!1,isSigner:!1,pda:{seeds:[{kind:"const",type:"string",value:"permissions"}]}}],args:[]},{name:"updPermissions",discriminant:{value:[2,0,0,0,17,0,0,0]},accounts:[{name:"upgradeAuthority",isMut:!0,isSigner:!0},{name:"programDataAccount",isMut:!1,isSigner:!1},{name:"permissionsAccount",isMut:!0,isSigner:!1,pda:{seeds:[{kind:"const",type:"string",value:"permissions"}]}},{name:"systemProgram",isMut:!1,isSigner:!1}],args:[{name:"masterAuthority",type:"publicKey"},{name:"dataCurationAuthority",type:"publicKey"},{name:"securityAuthority",type:"publicKey"}]}],types:[{name:"ProductMetadata",type:{kind:"struct",fields:[]}}]};function RH(){return P8||(P8=1,function(r){var t=$e&&$e.__createBinding||(Object.create?function(n,s,i,c){c===void 0&&(c=i),Object.defineProperty(n,c,{enumerable:!0,get:function(){return s[i]}})}:function(n,s,i,c){c===void 0&&(c=i),n[c]=s[i]}),e=$e&&$e.__exportStar||function(n,s){for(var i in n)i==="default"||Object.prototype.hasOwnProperty.call(s,i)||t(s,n,i)};Object.defineProperty(r,"__esModule",{value:!0}),e((B8||(B8=1,function(n){var s=$e&&$e.__importDefault||function(m){return m&&m.__esModule?m:{default:m}};Object.defineProperty(n,"__esModule",{value:!0}),n.pythIdl=n.pythOracleCoder=n.pythOracleProgram=void 0;var i=_S,c=PH(),l=s(C8);n.pythOracleProgram=function(m,v){return new i.Program(l.default,m,v,new c.PythOracleCoder(l.default))},n.pythOracleCoder=function(){return new c.PythOracleCoder(l.default)};var p=C8;Object.defineProperty(n,"pythIdl",{enumerable:!0,get:function(){return s(p).default}})}(j4)),j4),r)}(F4)),F4}function Zy(){return R8||(R8=1,function(r){Object.defineProperty(r,"__esModule",{value:!0}),r.pythIdl=r.pythOracleCoder=r.pythOracleProgram=r.getPythClusterApiUrl=r.getPythProgramKeyForCluster=r.PythHttpClient=r.PythConnection=r.parsePermissionData=r.parsePriceData=r.parseProductData=r.parseMappingData=r.parseBaseData=r.AccountType=r.DeriveType=r.PriceType=r.CorpAction=r.PriceStatus=r.MAX_SLOT_DIFFERENCE=r.Version=r.Version2=r.Magic=void 0;var t,e,n,s,i=sv,c=Ae,l=Zu;r.Magic=2712847316,r.Version2=2,r.Version=r.Version2,r.MAX_SLOT_DIFFERENCE=25,function(B){B[B.Unknown=0]="Unknown",B[B.Trading=1]="Trading",B[B.Halted=2]="Halted",B[B.Auction=3]="Auction",B[B.Ignored=4]="Ignored"}(t=r.PriceStatus||(r.PriceStatus={})),(e=r.CorpAction||(r.CorpAction={}))[e.NoCorpAct=0]="NoCorpAct",(n=r.PriceType||(r.PriceType={}))[n.Unknown=0]="Unknown",n[n.Price=1]="Price",(s=r.DeriveType||(r.DeriveType={}))[s.Unknown=0]="Unknown",s[s.Volatility=1]="Volatility",function(B){B[B.Unknown=0]="Unknown",B[B.Mapping=1]="Mapping",B[B.Product=2]="Product",B[B.Price=3]="Price",B[B.Test=4]="Test",B[B.Permission=5]="Permission"}(r.AccountType||(r.AccountType={}));var p=c.Buffer.alloc(32),m=function(B){return B.equals(p)?null:new i.PublicKey(B)};r.parseBaseData=function(B){if(!(B.byteLength<4)){var P=B.readUInt32LE(0);return P===r.Magic?{magic:P,version:B.readUInt32LE(4),type:B.readUInt32LE(8),size:B.readUInt32LE(12)}:void 0}},r.parseMappingData=function(B){for(var P=B.readUInt32LE(0),R=B.readUInt32LE(4),C=B.readUInt32LE(8),O=B.readUInt32LE(12),z=B.readUInt32LE(16),H=m(B.slice(24,56)),tt=56,nt=[],G=0;G<z;G++){var M=B.slice(tt,tt+32),d=new i.PublicKey(M);tt+=32,nt.push(d)}return{magic:P,version:R,type:C,size:O,nextMappingAccount:H,productAccountKeys:nt}},r.parseProductData=function(B){var P=B.readUInt32LE(0),R=B.readUInt32LE(4),C=B.readUInt32LE(8),O=B.readUInt32LE(12),z=B.slice(16,48),H=m(z),tt={};H&&(tt.price_account=H.toBase58());for(var nt=48;nt<O;){var G=B[nt];if(nt++,G){var M=B.slice(nt,nt+G).toString(),d=B[nt+=G];nt++;var o=B.slice(nt,nt+d).toString();nt+=d,tt[M]=o}}return{magic:P,version:R,type:C,size:O,priceAccountKey:H,product:tt}};var v=function(B,P){var R=l.readBigInt64LE(B,0);return{valueComponent:R,value:Number(R)*Math.pow(10,P),numerator:l.readBigInt64LE(B,8),denominator:l.readBigInt64LE(B,16)}},_=function(B,P){var R=l.readBigInt64LE(B,0),C=Number(R)*Math.pow(10,P),O=l.readBigUInt64LE(B,8);return{priceComponent:R,price:C,confidenceComponent:O,confidence:Number(O)*Math.pow(10,P),status:B.readUInt32LE(16),corporateAction:B.readUInt32LE(20),publishSlot:Number(l.readBigUInt64LE(B,24))}};r.parsePriceData=function(B,P){var R,C,O=B.readUInt32LE(0),z=B.readUInt32LE(4),H=B.readUInt32LE(8),tt=B.readUInt32LE(12),nt=B.readUInt32LE(16),G=B.readInt32LE(20),M=B.readUInt32LE(24),d=B.readUInt32LE(28),o=l.readBigUInt64LE(B,32),a=l.readBigUInt64LE(B,40),f=v(B.slice(48,72),G),h=v(B.slice(72,96),G),g=l.readBigInt64LE(B,96),S=B.readUInt8(104),I=B.readInt8(105),y=B.readInt16LE(106),u=B.readInt32LE(108),b=new i.PublicKey(B.slice(112,144)),D=m(B.slice(144,176)),Z=l.readBigUInt64LE(B,176),F=l.readBigInt64LE(B,184),q=Number(F)*Math.pow(10,G),it=l.readBigUInt64LE(B,192),at=Number(it)*Math.pow(10,G),Bt=l.readBigInt64LE(B,200),yt=_(B.slice(208,240),G),pt=yt.status;P&&pt===t.Trading&&P-yt.publishSlot>r.MAX_SLOT_DIFFERENCE&&(pt=t.Unknown),pt===t.Trading&&(R=yt.price,C=yt.confidence);for(var Ft=[],lt=240;Ft.length<M;){var ct=new i.PublicKey(B.slice(lt,lt+32));lt+=32;var Tt=_(B.slice(lt,lt+32),G);lt+=32;var kt=_(B.slice(lt,lt+32),G);lt+=32,Ft.push({publisher:ct,aggregate:Tt,latest:kt})}return{magic:O,version:z,type:H,size:tt,priceType:nt,exponent:G,numComponentPrices:M,numQuoters:d,lastSlot:o,validSlot:a,emaPrice:f,emaConfidence:h,timestamp:g,minPublishers:S,drv2:I,drv3:y,drv4:u,productAccountKey:b,nextPriceAccountKey:D,previousSlot:Z,previousPriceComponent:F,previousPrice:q,previousConfidenceComponent:it,previousConfidence:at,previousTimestamp:Bt,aggregate:yt,priceComponents:Ft,price:R,confidence:C,status:pt}},r.parsePermissionData=function(B){return{magic:B.readUInt32LE(0),version:B.readUInt32LE(4),type:B.readUInt32LE(8),size:B.readUInt32LE(12),masterAuthority:new i.PublicKey(B.slice(16,48)),dataCurationAuthority:new i.PublicKey(B.slice(48,80)),securityAuthority:new i.PublicKey(B.slice(80,112))}};var E=NK();Object.defineProperty(r,"PythConnection",{enumerable:!0,get:function(){return E.PythConnection}});var w=DK();Object.defineProperty(r,"PythHttpClient",{enumerable:!0,get:function(){return w.PythHttpClient}});var x=function(){if(z4)return ma;z4=1,Object.defineProperty(ma,"__esModule",{value:!0}),ma.getPythClusterApiUrl=ma.getPythProgramKeyForCluster=void 0;var B=sv,P={"mainnet-beta":"FsJ3A3u2vn5cTVofAjvy6y5kwABJAqYWpe4975bi2epH",devnet:"gSbePebfvPy7tRqimPoVecS2UsBvYv46ynrzWocc92s","pythtest-crosschain":"gSbePebfvPy7tRqimPoVecS2UsBvYv46ynrzWocc92s",testnet:"8tfDNiaEyrV6Q1U4DEXrEigs9DoDtkugzFbybENEbCDz","pythtest-conformance":"8tfDNiaEyrV6Q1U4DEXrEigs9DoDtkugzFbybENEbCDz",pythnet:"FsJ3A3u2vn5cTVofAjvy6y5kwABJAqYWpe4975bi2epH",localnet:"gMYYig2utAxVoXnM9UhtTWrt8e7x2SVBZqsWZJeT5Gw"};return ma.getPythProgramKeyForCluster=function(R){if(P[R]!==void 0)return new B.PublicKey(P[R]);throw new Error("Invalid Solana cluster name: "+R+". Valid options are: "+JSON.stringify(Object.keys(P)))},ma.getPythClusterApiUrl=function(R){return R==="pythtest-conformance"||R==="pythtest-crosschain"?"https://api.pythtest.pyth.network":R==="pythnet"?"https://pythnet.rpcpool.com":R==="localnet"?"http://localhost:8899":B.clusterApiUrl(R)},ma}();Object.defineProperty(r,"getPythProgramKeyForCluster",{enumerable:!0,get:function(){return x.getPythProgramKeyForCluster}}),Object.defineProperty(r,"getPythClusterApiUrl",{enumerable:!0,get:function(){return x.getPythClusterApiUrl}});var A=RH();Object.defineProperty(r,"pythOracleProgram",{enumerable:!0,get:function(){return A.pythOracleProgram}}),Object.defineProperty(r,"pythOracleCoder",{enumerable:!0,get:function(){return A.pythOracleCoder}}),Object.defineProperty(r,"pythIdl",{enumerable:!0,get:function(){return A.pythIdl}})}(L4)),L4}var T8=Zy(),ho=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof Zt.global<"u"?Zt.global:typeof self<"u"?self:{};function ES(r){return r&&r.__esModule&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r}function Wy(r){if(r.__esModule)return r;var t=r.default;if(typeof t=="function"){var e=function n(){return this instanceof n?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};e.prototype=t.prototype}else e={};return Object.defineProperty(e,"__esModule",{value:!0}),Object.keys(r).forEach(function(n){var s=Object.getOwnPropertyDescriptor(r,n);Object.defineProperty(e,n,s.get?s:{enumerable:!0,get:function(){return r[n]}})}),e}for(var Vr={},CH={byteLength:function(r){var t=O8(r),e=t[0],n=t[1];return 3*(e+n)/4-n},toByteArray:function(r){var t,e,n=O8(r),s=n[0],i=n[1],c=new TH(function(m,v,_){return 3*(v+_)/4-_}(0,s,i)),l=0,p=i>0?s-4:s;for(e=0;e<p;e+=4)t=Oi[r.charCodeAt(e)]<<18|Oi[r.charCodeAt(e+1)]<<12|Oi[r.charCodeAt(e+2)]<<6|Oi[r.charCodeAt(e+3)],c[l++]=t>>16&255,c[l++]=t>>8&255,c[l++]=255&t;return i===2&&(t=Oi[r.charCodeAt(e)]<<2|Oi[r.charCodeAt(e+1)]>>4,c[l++]=255&t),i===1&&(t=Oi[r.charCodeAt(e)]<<10|Oi[r.charCodeAt(e+1)]<<4|Oi[r.charCodeAt(e+2)]>>2,c[l++]=t>>8&255,c[l++]=255&t),c},fromByteArray:function(r){for(var t,e=r.length,n=e%3,s=[],i=16383,c=0,l=e-n;c<l;c+=i)s.push(LH(r,c,c+i>l?l:c+i));return n===1?(t=r[e-1],s.push(No[t>>2]+No[t<<4&63]+"==")):n===2&&(t=(r[e-2]<<8)+r[e-1],s.push(No[t>>10]+No[t>>4&63]+No[t<<2&63]+"=")),s.join("")}},No=[],Oi=[],TH=typeof Uint8Array<"u"?Uint8Array:Array,L8="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",bu=0;bu<64;++bu)No[bu]=L8[bu],Oi[L8.charCodeAt(bu)]=bu;function O8(r){var t=r.length;if(t%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var e=r.indexOf("=");return e===-1&&(e=t),[e,e===t?0:4-e%4]}function LH(r,t,e){for(var n,s,i=[],c=t;c<e;c+=3)n=(r[c]<<16&16711680)+(r[c+1]<<8&65280)+(255&r[c+2]),i.push(No[(s=n)>>18&63]+No[s>>12&63]+No[s>>6&63]+No[63&s]);return i.join("")}Oi["-".charCodeAt(0)]=62,Oi["_".charCodeAt(0)]=63;var vm={};/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */function U8(r){if(!Number.isSafeInteger(r)||r<0)throw new Error(`Wrong positive integer: ${r}`)}function AS(r,...t){if(!(r instanceof Uint8Array))throw new Error("Expected Uint8Array");if(t.length>0&&!t.includes(r.length))throw new Error(`Expected Uint8Array of length ${t}, not of length=${r.length}`)}function Ll(r,t=!0){if(r.destroyed)throw new Error("Hash instance has been destroyed");if(t&&r.finished)throw new Error("Hash#digest() has already been called")}vm.read=function(r,t,e,n,s){var i,c,l=8*s-n-1,p=(1<<l)-1,m=p>>1,v=-7,_=e?s-1:0,E=e?-1:1,w=r[t+_];for(_+=E,i=w&(1<<-v)-1,w>>=-v,v+=l;v>0;i=256*i+r[t+_],_+=E,v-=8);for(c=i&(1<<-v)-1,i>>=-v,v+=n;v>0;c=256*c+r[t+_],_+=E,v-=8);if(i===0)i=1-m;else{if(i===p)return c?NaN:1/0*(w?-1:1);c+=Math.pow(2,n),i-=m}return(w?-1:1)*c*Math.pow(2,i-n)},vm.write=function(r,t,e,n,s,i){var c,l,p,m=8*i-s-1,v=(1<<m)-1,_=v>>1,E=s===23?Math.pow(2,-24)-Math.pow(2,-77):0,w=n?0:i-1,x=n?1:-1,A=t<0||t===0&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(l=isNaN(t)?1:0,c=v):(c=Math.floor(Math.log(t)/Math.LN2),t*(p=Math.pow(2,-c))<1&&(c--,p*=2),(t+=c+_>=1?E/p:E*Math.pow(2,1-_))*p>=2&&(c++,p/=2),c+_>=v?(l=0,c=v):c+_>=1?(l=(t*p-1)*Math.pow(2,s),c+=_):(l=t*Math.pow(2,_-1)*Math.pow(2,s),c=0));s>=8;r[e+w]=255&l,w+=x,l/=256,s-=8);for(c=c<<s|l,m+=s;m>0;r[e+w]=255&c,w+=x,c/=256,m-=8);r[e+w-x]|=128*A},function(r){const t=CH,e=vm,n=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null;r.Buffer=c,r.SlowBuffer=function(k){return+k!=k&&(k=0),c.alloc(+k)},r.INSPECT_MAX_BYTES=50;const s=2147483647;function i(k){if(k>s)throw new RangeError('The value "'+k+'" is invalid for option "size"');const T=new Uint8Array(k);return Object.setPrototypeOf(T,c.prototype),T}function c(k,T,L){if(typeof k=="number"){if(typeof T=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return m(k)}return l(k,T,L)}function l(k,T,L){if(typeof k=="string")return function(Q,ot){if(typeof ot=="string"&&ot!==""||(ot="utf8"),!c.isEncoding(ot))throw new TypeError("Unknown encoding: "+ot);const qt=0|w(Q,ot);let It=i(qt);const xt=It.write(Q,ot);return xt!==qt&&(It=It.slice(0,xt)),It}(k,T);if(ArrayBuffer.isView(k))return function(Q){if(Ft(Q,Uint8Array)){const ot=new Uint8Array(Q);return _(ot.buffer,ot.byteOffset,ot.byteLength)}return v(Q)}(k);if(k==null)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof k);if(Ft(k,ArrayBuffer)||k&&Ft(k.buffer,ArrayBuffer)||typeof SharedArrayBuffer<"u"&&(Ft(k,SharedArrayBuffer)||k&&Ft(k.buffer,SharedArrayBuffer)))return _(k,T,L);if(typeof k=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');const j=k.valueOf&&k.valueOf();if(j!=null&&j!==k)return c.from(j,T,L);const rt=function(Q){if(c.isBuffer(Q)){const ot=0|E(Q.length),qt=i(ot);return qt.length===0||Q.copy(qt,0,0,ot),qt}return Q.length!==void 0?typeof Q.length!="number"||lt(Q.length)?i(0):v(Q):Q.type==="Buffer"&&Array.isArray(Q.data)?v(Q.data):void 0}(k);if(rt)return rt;if(typeof Symbol<"u"&&Symbol.toPrimitive!=null&&typeof k[Symbol.toPrimitive]=="function")return c.from(k[Symbol.toPrimitive]("string"),T,L);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof k)}function p(k){if(typeof k!="number")throw new TypeError('"size" argument must be of type number');if(k<0)throw new RangeError('The value "'+k+'" is invalid for option "size"')}function m(k){return p(k),i(k<0?0:0|E(k))}function v(k){const T=k.length<0?0:0|E(k.length),L=i(T);for(let j=0;j<T;j+=1)L[j]=255&k[j];return L}function _(k,T,L){if(T<0||k.byteLength<T)throw new RangeError('"offset" is outside of buffer bounds');if(k.byteLength<T+(L||0))throw new RangeError('"length" is outside of buffer bounds');let j;return j=T===void 0&&L===void 0?new Uint8Array(k):L===void 0?new Uint8Array(k,T):new Uint8Array(k,T,L),Object.setPrototypeOf(j,c.prototype),j}function E(k){if(k>=s)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+s.toString(16)+" bytes");return 0|k}function w(k,T){if(c.isBuffer(k))return k.length;if(ArrayBuffer.isView(k)||Ft(k,ArrayBuffer))return k.byteLength;if(typeof k!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof k);const L=k.length,j=arguments.length>2&&arguments[2]===!0;if(!j&&L===0)return 0;let rt=!1;for(;;)switch(T){case"ascii":case"latin1":case"binary":return L;case"utf8":case"utf-8":return Bt(k).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*L;case"hex":return L>>>1;case"base64":return yt(k).length;default:if(rt)return j?-1:Bt(k).length;T=(""+T).toLowerCase(),rt=!0}}function x(k,T,L){let j=!1;if((T===void 0||T<0)&&(T=0),T>this.length||((L===void 0||L>this.length)&&(L=this.length),L<=0)||(L>>>=0)<=(T>>>=0))return"";for(k||(k="utf8");;)switch(k){case"hex":return o(this,T,L);case"utf8":case"utf-8":return nt(this,T,L);case"ascii":return M(this,T,L);case"latin1":case"binary":return d(this,T,L);case"base64":return tt(this,T,L);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return a(this,T,L);default:if(j)throw new TypeError("Unknown encoding: "+k);k=(k+"").toLowerCase(),j=!0}}function A(k,T,L){const j=k[T];k[T]=k[L],k[L]=j}function B(k,T,L,j,rt){if(k.length===0)return-1;if(typeof L=="string"?(j=L,L=0):L>2147483647?L=2147483647:L<-2147483648&&(L=-2147483648),lt(L=+L)&&(L=rt?0:k.length-1),L<0&&(L=k.length+L),L>=k.length){if(rt)return-1;L=k.length-1}else if(L<0){if(!rt)return-1;L=0}if(typeof T=="string"&&(T=c.from(T,j)),c.isBuffer(T))return T.length===0?-1:P(k,T,L,j,rt);if(typeof T=="number")return T&=255,typeof Uint8Array.prototype.indexOf=="function"?rt?Uint8Array.prototype.indexOf.call(k,T,L):Uint8Array.prototype.lastIndexOf.call(k,T,L):P(k,[T],L,j,rt);throw new TypeError("val must be string, number or Buffer")}function P(k,T,L,j,rt){let Q,ot=1,qt=k.length,It=T.length;if(j!==void 0&&((j=String(j).toLowerCase())==="ucs2"||j==="ucs-2"||j==="utf16le"||j==="utf-16le")){if(k.length<2||T.length<2)return-1;ot=2,qt/=2,It/=2,L/=2}function xt(Qt,Ct){return ot===1?Qt[Ct]:Qt.readUInt16BE(Ct*ot)}if(rt){let Qt=-1;for(Q=L;Q<qt;Q++)if(xt(k,Q)===xt(T,Qt===-1?0:Q-Qt)){if(Qt===-1&&(Qt=Q),Q-Qt+1===It)return Qt*ot}else Qt!==-1&&(Q-=Q-Qt),Qt=-1}else for(L+It>qt&&(L=qt-It),Q=L;Q>=0;Q--){let Qt=!0;for(let Ct=0;Ct<It;Ct++)if(xt(k,Q+Ct)!==xt(T,Ct)){Qt=!1;break}if(Qt)return Q}return-1}function R(k,T,L,j){L=Number(L)||0;const rt=k.length-L;j?(j=Number(j))>rt&&(j=rt):j=rt;const Q=T.length;let ot;for(j>Q/2&&(j=Q/2),ot=0;ot<j;++ot){const qt=parseInt(T.substr(2*ot,2),16);if(lt(qt))return ot;k[L+ot]=qt}return ot}function C(k,T,L,j){return pt(Bt(T,k.length-L),k,L,j)}function O(k,T,L,j){return pt(function(rt){const Q=[];for(let ot=0;ot<rt.length;++ot)Q.push(255&rt.charCodeAt(ot));return Q}(T),k,L,j)}function z(k,T,L,j){return pt(yt(T),k,L,j)}function H(k,T,L,j){return pt(function(rt,Q){let ot,qt,It;const xt=[];for(let Qt=0;Qt<rt.length&&!((Q-=2)<0);++Qt)ot=rt.charCodeAt(Qt),qt=ot>>8,It=ot%256,xt.push(It),xt.push(qt);return xt}(T,k.length-L),k,L,j)}function tt(k,T,L){return T===0&&L===k.length?t.fromByteArray(k):t.fromByteArray(k.slice(T,L))}function nt(k,T,L){L=Math.min(k.length,L);const j=[];let rt=T;for(;rt<L;){const Q=k[rt];let ot=null,qt=Q>239?4:Q>223?3:Q>191?2:1;if(rt+qt<=L){let It,xt,Qt,Ct;switch(qt){case 1:Q<128&&(ot=Q);break;case 2:It=k[rt+1],(192&It)==128&&(Ct=(31&Q)<<6|63&It,Ct>127&&(ot=Ct));break;case 3:It=k[rt+1],xt=k[rt+2],(192&It)==128&&(192&xt)==128&&(Ct=(15&Q)<<12|(63&It)<<6|63&xt,Ct>2047&&(Ct<55296||Ct>57343)&&(ot=Ct));break;case 4:It=k[rt+1],xt=k[rt+2],Qt=k[rt+3],(192&It)==128&&(192&xt)==128&&(192&Qt)==128&&(Ct=(15&Q)<<18|(63&It)<<12|(63&xt)<<6|63&Qt,Ct>65535&&Ct<1114112&&(ot=Ct))}}ot===null?(ot=65533,qt=1):ot>65535&&(ot-=65536,j.push(ot>>>10&1023|55296),ot=56320|1023&ot),j.push(ot),rt+=qt}return function(Q){const ot=Q.length;if(ot<=G)return String.fromCharCode.apply(String,Q);let qt="",It=0;for(;It<ot;)qt+=String.fromCharCode.apply(String,Q.slice(It,It+=G));return qt}(j)}r.kMaxLength=s,c.TYPED_ARRAY_SUPPORT=function(){try{const k=new Uint8Array(1),T={foo:function(){return 42}};return Object.setPrototypeOf(T,Uint8Array.prototype),Object.setPrototypeOf(k,T),k.foo()===42}catch{return!1}}(),c.TYPED_ARRAY_SUPPORT||typeof console>"u"||typeof console.error!="function"||console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support."),Object.defineProperty(c.prototype,"parent",{enumerable:!0,get:function(){if(c.isBuffer(this))return this.buffer}}),Object.defineProperty(c.prototype,"offset",{enumerable:!0,get:function(){if(c.isBuffer(this))return this.byteOffset}}),c.poolSize=8192,c.from=function(k,T,L){return l(k,T,L)},Object.setPrototypeOf(c.prototype,Uint8Array.prototype),Object.setPrototypeOf(c,Uint8Array),c.alloc=function(k,T,L){return function(j,rt,Q){return p(j),j<=0?i(j):rt!==void 0?typeof Q=="string"?i(j).fill(rt,Q):i(j).fill(rt):i(j)}(k,T,L)},c.allocUnsafe=function(k){return m(k)},c.allocUnsafeSlow=function(k){return m(k)},c.isBuffer=function(k){return k!=null&&k._isBuffer===!0&&k!==c.prototype},c.compare=function(k,T){if(Ft(k,Uint8Array)&&(k=c.from(k,k.offset,k.byteLength)),Ft(T,Uint8Array)&&(T=c.from(T,T.offset,T.byteLength)),!c.isBuffer(k)||!c.isBuffer(T))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(k===T)return 0;let L=k.length,j=T.length;for(let rt=0,Q=Math.min(L,j);rt<Q;++rt)if(k[rt]!==T[rt]){L=k[rt],j=T[rt];break}return L<j?-1:j<L?1:0},c.isEncoding=function(k){switch(String(k).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},c.concat=function(k,T){if(!Array.isArray(k))throw new TypeError('"list" argument must be an Array of Buffers');if(k.length===0)return c.alloc(0);let L;if(T===void 0)for(T=0,L=0;L<k.length;++L)T+=k[L].length;const j=c.allocUnsafe(T);let rt=0;for(L=0;L<k.length;++L){let Q=k[L];if(Ft(Q,Uint8Array))rt+Q.length>j.length?(c.isBuffer(Q)||(Q=c.from(Q)),Q.copy(j,rt)):Uint8Array.prototype.set.call(j,Q,rt);else{if(!c.isBuffer(Q))throw new TypeError('"list" argument must be an Array of Buffers');Q.copy(j,rt)}rt+=Q.length}return j},c.byteLength=w,c.prototype._isBuffer=!0,c.prototype.swap16=function(){const k=this.length;if(k%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(let T=0;T<k;T+=2)A(this,T,T+1);return this},c.prototype.swap32=function(){const k=this.length;if(k%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(let T=0;T<k;T+=4)A(this,T,T+3),A(this,T+1,T+2);return this},c.prototype.swap64=function(){const k=this.length;if(k%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(let T=0;T<k;T+=8)A(this,T,T+7),A(this,T+1,T+6),A(this,T+2,T+5),A(this,T+3,T+4);return this},c.prototype.toString=function(){const k=this.length;return k===0?"":arguments.length===0?nt(this,0,k):x.apply(this,arguments)},c.prototype.toLocaleString=c.prototype.toString,c.prototype.equals=function(k){if(!c.isBuffer(k))throw new TypeError("Argument must be a Buffer");return this===k||c.compare(this,k)===0},c.prototype.inspect=function(){let k="";const T=r.INSPECT_MAX_BYTES;return k=this.toString("hex",0,T).replace(/(.{2})/g,"$1 ").trim(),this.length>T&&(k+=" ... "),"<Buffer "+k+">"},n&&(c.prototype[n]=c.prototype.inspect),c.prototype.compare=function(k,T,L,j,rt){if(Ft(k,Uint8Array)&&(k=c.from(k,k.offset,k.byteLength)),!c.isBuffer(k))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof k);if(T===void 0&&(T=0),L===void 0&&(L=k?k.length:0),j===void 0&&(j=0),rt===void 0&&(rt=this.length),T<0||L>k.length||j<0||rt>this.length)throw new RangeError("out of range index");if(j>=rt&&T>=L)return 0;if(j>=rt)return-1;if(T>=L)return 1;if(this===k)return 0;let Q=(rt>>>=0)-(j>>>=0),ot=(L>>>=0)-(T>>>=0);const qt=Math.min(Q,ot),It=this.slice(j,rt),xt=k.slice(T,L);for(let Qt=0;Qt<qt;++Qt)if(It[Qt]!==xt[Qt]){Q=It[Qt],ot=xt[Qt];break}return Q<ot?-1:ot<Q?1:0},c.prototype.includes=function(k,T,L){return this.indexOf(k,T,L)!==-1},c.prototype.indexOf=function(k,T,L){return B(this,k,T,L,!0)},c.prototype.lastIndexOf=function(k,T,L){return B(this,k,T,L,!1)},c.prototype.write=function(k,T,L,j){if(T===void 0)j="utf8",L=this.length,T=0;else if(L===void 0&&typeof T=="string")j=T,L=this.length,T=0;else{if(!isFinite(T))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");T>>>=0,isFinite(L)?(L>>>=0,j===void 0&&(j="utf8")):(j=L,L=void 0)}const rt=this.length-T;if((L===void 0||L>rt)&&(L=rt),k.length>0&&(L<0||T<0)||T>this.length)throw new RangeError("Attempt to write outside buffer bounds");j||(j="utf8");let Q=!1;for(;;)switch(j){case"hex":return R(this,k,T,L);case"utf8":case"utf-8":return C(this,k,T,L);case"ascii":case"latin1":case"binary":return O(this,k,T,L);case"base64":return z(this,k,T,L);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return H(this,k,T,L);default:if(Q)throw new TypeError("Unknown encoding: "+j);j=(""+j).toLowerCase(),Q=!0}},c.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};const G=4096;function M(k,T,L){let j="";L=Math.min(k.length,L);for(let rt=T;rt<L;++rt)j+=String.fromCharCode(127&k[rt]);return j}function d(k,T,L){let j="";L=Math.min(k.length,L);for(let rt=T;rt<L;++rt)j+=String.fromCharCode(k[rt]);return j}function o(k,T,L){const j=k.length;(!T||T<0)&&(T=0),(!L||L<0||L>j)&&(L=j);let rt="";for(let Q=T;Q<L;++Q)rt+=ct[k[Q]];return rt}function a(k,T,L){const j=k.slice(T,L);let rt="";for(let Q=0;Q<j.length-1;Q+=2)rt+=String.fromCharCode(j[Q]+256*j[Q+1]);return rt}function f(k,T,L){if(k%1!=0||k<0)throw new RangeError("offset is not uint");if(k+T>L)throw new RangeError("Trying to access beyond buffer length")}function h(k,T,L,j,rt,Q){if(!c.isBuffer(k))throw new TypeError('"buffer" argument must be a Buffer instance');if(T>rt||T<Q)throw new RangeError('"value" argument is out of bounds');if(L+j>k.length)throw new RangeError("Index out of range")}function g(k,T,L,j,rt){F(T,j,rt,k,L,7);let Q=Number(T&BigInt(4294967295));k[L++]=Q,Q>>=8,k[L++]=Q,Q>>=8,k[L++]=Q,Q>>=8,k[L++]=Q;let ot=Number(T>>BigInt(32)&BigInt(4294967295));return k[L++]=ot,ot>>=8,k[L++]=ot,ot>>=8,k[L++]=ot,ot>>=8,k[L++]=ot,L}function S(k,T,L,j,rt){F(T,j,rt,k,L,7);let Q=Number(T&BigInt(4294967295));k[L+7]=Q,Q>>=8,k[L+6]=Q,Q>>=8,k[L+5]=Q,Q>>=8,k[L+4]=Q;let ot=Number(T>>BigInt(32)&BigInt(4294967295));return k[L+3]=ot,ot>>=8,k[L+2]=ot,ot>>=8,k[L+1]=ot,ot>>=8,k[L]=ot,L+8}function I(k,T,L,j,rt,Q){if(L+j>k.length)throw new RangeError("Index out of range");if(L<0)throw new RangeError("Index out of range")}function y(k,T,L,j,rt){return T=+T,L>>>=0,rt||I(k,0,L,4),e.write(k,T,L,j,23,4),L+4}function u(k,T,L,j,rt){return T=+T,L>>>=0,rt||I(k,0,L,8),e.write(k,T,L,j,52,8),L+8}c.prototype.slice=function(k,T){const L=this.length;(k=~~k)<0?(k+=L)<0&&(k=0):k>L&&(k=L),(T=T===void 0?L:~~T)<0?(T+=L)<0&&(T=0):T>L&&(T=L),T<k&&(T=k);const j=this.subarray(k,T);return Object.setPrototypeOf(j,c.prototype),j},c.prototype.readUintLE=c.prototype.readUIntLE=function(k,T,L){k>>>=0,T>>>=0,L||f(k,T,this.length);let j=this[k],rt=1,Q=0;for(;++Q<T&&(rt*=256);)j+=this[k+Q]*rt;return j},c.prototype.readUintBE=c.prototype.readUIntBE=function(k,T,L){k>>>=0,T>>>=0,L||f(k,T,this.length);let j=this[k+--T],rt=1;for(;T>0&&(rt*=256);)j+=this[k+--T]*rt;return j},c.prototype.readUint8=c.prototype.readUInt8=function(k,T){return k>>>=0,T||f(k,1,this.length),this[k]},c.prototype.readUint16LE=c.prototype.readUInt16LE=function(k,T){return k>>>=0,T||f(k,2,this.length),this[k]|this[k+1]<<8},c.prototype.readUint16BE=c.prototype.readUInt16BE=function(k,T){return k>>>=0,T||f(k,2,this.length),this[k]<<8|this[k+1]},c.prototype.readUint32LE=c.prototype.readUInt32LE=function(k,T){return k>>>=0,T||f(k,4,this.length),(this[k]|this[k+1]<<8|this[k+2]<<16)+16777216*this[k+3]},c.prototype.readUint32BE=c.prototype.readUInt32BE=function(k,T){return k>>>=0,T||f(k,4,this.length),16777216*this[k]+(this[k+1]<<16|this[k+2]<<8|this[k+3])},c.prototype.readBigUInt64LE=Tt(function(k){q(k>>>=0,"offset");const T=this[k],L=this[k+7];T!==void 0&&L!==void 0||it(k,this.length-8);const j=T+256*this[++k]+65536*this[++k]+this[++k]*2**24,rt=this[++k]+256*this[++k]+65536*this[++k]+L*2**24;return BigInt(j)+(BigInt(rt)<<BigInt(32))}),c.prototype.readBigUInt64BE=Tt(function(k){q(k>>>=0,"offset");const T=this[k],L=this[k+7];T!==void 0&&L!==void 0||it(k,this.length-8);const j=T*2**24+65536*this[++k]+256*this[++k]+this[++k],rt=this[++k]*2**24+65536*this[++k]+256*this[++k]+L;return(BigInt(j)<<BigInt(32))+BigInt(rt)}),c.prototype.readIntLE=function(k,T,L){k>>>=0,T>>>=0,L||f(k,T,this.length);let j=this[k],rt=1,Q=0;for(;++Q<T&&(rt*=256);)j+=this[k+Q]*rt;return rt*=128,j>=rt&&(j-=Math.pow(2,8*T)),j},c.prototype.readIntBE=function(k,T,L){k>>>=0,T>>>=0,L||f(k,T,this.length);let j=T,rt=1,Q=this[k+--j];for(;j>0&&(rt*=256);)Q+=this[k+--j]*rt;return rt*=128,Q>=rt&&(Q-=Math.pow(2,8*T)),Q},c.prototype.readInt8=function(k,T){return k>>>=0,T||f(k,1,this.length),128&this[k]?-1*(255-this[k]+1):this[k]},c.prototype.readInt16LE=function(k,T){k>>>=0,T||f(k,2,this.length);const L=this[k]|this[k+1]<<8;return 32768&L?4294901760|L:L},c.prototype.readInt16BE=function(k,T){k>>>=0,T||f(k,2,this.length);const L=this[k+1]|this[k]<<8;return 32768&L?4294901760|L:L},c.prototype.readInt32LE=function(k,T){return k>>>=0,T||f(k,4,this.length),this[k]|this[k+1]<<8|this[k+2]<<16|this[k+3]<<24},c.prototype.readInt32BE=function(k,T){return k>>>=0,T||f(k,4,this.length),this[k]<<24|this[k+1]<<16|this[k+2]<<8|this[k+3]},c.prototype.readBigInt64LE=Tt(function(k){q(k>>>=0,"offset");const T=this[k],L=this[k+7];T!==void 0&&L!==void 0||it(k,this.length-8);const j=this[k+4]+256*this[k+5]+65536*this[k+6]+(L<<24);return(BigInt(j)<<BigInt(32))+BigInt(T+256*this[++k]+65536*this[++k]+this[++k]*2**24)}),c.prototype.readBigInt64BE=Tt(function(k){q(k>>>=0,"offset");const T=this[k],L=this[k+7];T!==void 0&&L!==void 0||it(k,this.length-8);const j=(T<<24)+65536*this[++k]+256*this[++k]+this[++k];return(BigInt(j)<<BigInt(32))+BigInt(this[++k]*2**24+65536*this[++k]+256*this[++k]+L)}),c.prototype.readFloatLE=function(k,T){return k>>>=0,T||f(k,4,this.length),e.read(this,k,!0,23,4)},c.prototype.readFloatBE=function(k,T){return k>>>=0,T||f(k,4,this.length),e.read(this,k,!1,23,4)},c.prototype.readDoubleLE=function(k,T){return k>>>=0,T||f(k,8,this.length),e.read(this,k,!0,52,8)},c.prototype.readDoubleBE=function(k,T){return k>>>=0,T||f(k,8,this.length),e.read(this,k,!1,52,8)},c.prototype.writeUintLE=c.prototype.writeUIntLE=function(k,T,L,j){k=+k,T>>>=0,L>>>=0,j||h(this,k,T,L,Math.pow(2,8*L)-1,0);let rt=1,Q=0;for(this[T]=255&k;++Q<L&&(rt*=256);)this[T+Q]=k/rt&255;return T+L},c.prototype.writeUintBE=c.prototype.writeUIntBE=function(k,T,L,j){k=+k,T>>>=0,L>>>=0,j||h(this,k,T,L,Math.pow(2,8*L)-1,0);let rt=L-1,Q=1;for(this[T+rt]=255&k;--rt>=0&&(Q*=256);)this[T+rt]=k/Q&255;return T+L},c.prototype.writeUint8=c.prototype.writeUInt8=function(k,T,L){return k=+k,T>>>=0,L||h(this,k,T,1,255,0),this[T]=255&k,T+1},c.prototype.writeUint16LE=c.prototype.writeUInt16LE=function(k,T,L){return k=+k,T>>>=0,L||h(this,k,T,2,65535,0),this[T]=255&k,this[T+1]=k>>>8,T+2},c.prototype.writeUint16BE=c.prototype.writeUInt16BE=function(k,T,L){return k=+k,T>>>=0,L||h(this,k,T,2,65535,0),this[T]=k>>>8,this[T+1]=255&k,T+2},c.prototype.writeUint32LE=c.prototype.writeUInt32LE=function(k,T,L){return k=+k,T>>>=0,L||h(this,k,T,4,4294967295,0),this[T+3]=k>>>24,this[T+2]=k>>>16,this[T+1]=k>>>8,this[T]=255&k,T+4},c.prototype.writeUint32BE=c.prototype.writeUInt32BE=function(k,T,L){return k=+k,T>>>=0,L||h(this,k,T,4,4294967295,0),this[T]=k>>>24,this[T+1]=k>>>16,this[T+2]=k>>>8,this[T+3]=255&k,T+4},c.prototype.writeBigUInt64LE=Tt(function(k,T=0){return g(this,k,T,BigInt(0),BigInt("0xffffffffffffffff"))}),c.prototype.writeBigUInt64BE=Tt(function(k,T=0){return S(this,k,T,BigInt(0),BigInt("0xffffffffffffffff"))}),c.prototype.writeIntLE=function(k,T,L,j){if(k=+k,T>>>=0,!j){const qt=Math.pow(2,8*L-1);h(this,k,T,L,qt-1,-qt)}let rt=0,Q=1,ot=0;for(this[T]=255&k;++rt<L&&(Q*=256);)k<0&&ot===0&&this[T+rt-1]!==0&&(ot=1),this[T+rt]=(k/Q>>0)-ot&255;return T+L},c.prototype.writeIntBE=function(k,T,L,j){if(k=+k,T>>>=0,!j){const qt=Math.pow(2,8*L-1);h(this,k,T,L,qt-1,-qt)}let rt=L-1,Q=1,ot=0;for(this[T+rt]=255&k;--rt>=0&&(Q*=256);)k<0&&ot===0&&this[T+rt+1]!==0&&(ot=1),this[T+rt]=(k/Q>>0)-ot&255;return T+L},c.prototype.writeInt8=function(k,T,L){return k=+k,T>>>=0,L||h(this,k,T,1,127,-128),k<0&&(k=255+k+1),this[T]=255&k,T+1},c.prototype.writeInt16LE=function(k,T,L){return k=+k,T>>>=0,L||h(this,k,T,2,32767,-32768),this[T]=255&k,this[T+1]=k>>>8,T+2},c.prototype.writeInt16BE=function(k,T,L){return k=+k,T>>>=0,L||h(this,k,T,2,32767,-32768),this[T]=k>>>8,this[T+1]=255&k,T+2},c.prototype.writeInt32LE=function(k,T,L){return k=+k,T>>>=0,L||h(this,k,T,4,2147483647,-2147483648),this[T]=255&k,this[T+1]=k>>>8,this[T+2]=k>>>16,this[T+3]=k>>>24,T+4},c.prototype.writeInt32BE=function(k,T,L){return k=+k,T>>>=0,L||h(this,k,T,4,2147483647,-2147483648),k<0&&(k=4294967295+k+1),this[T]=k>>>24,this[T+1]=k>>>16,this[T+2]=k>>>8,this[T+3]=255&k,T+4},c.prototype.writeBigInt64LE=Tt(function(k,T=0){return g(this,k,T,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),c.prototype.writeBigInt64BE=Tt(function(k,T=0){return S(this,k,T,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),c.prototype.writeFloatLE=function(k,T,L){return y(this,k,T,!0,L)},c.prototype.writeFloatBE=function(k,T,L){return y(this,k,T,!1,L)},c.prototype.writeDoubleLE=function(k,T,L){return u(this,k,T,!0,L)},c.prototype.writeDoubleBE=function(k,T,L){return u(this,k,T,!1,L)},c.prototype.copy=function(k,T,L,j){if(!c.isBuffer(k))throw new TypeError("argument should be a Buffer");if(L||(L=0),j||j===0||(j=this.length),T>=k.length&&(T=k.length),T||(T=0),j>0&&j<L&&(j=L),j===L||k.length===0||this.length===0)return 0;if(T<0)throw new RangeError("targetStart out of bounds");if(L<0||L>=this.length)throw new RangeError("Index out of range");if(j<0)throw new RangeError("sourceEnd out of bounds");j>this.length&&(j=this.length),k.length-T<j-L&&(j=k.length-T+L);const rt=j-L;return this===k&&typeof Uint8Array.prototype.copyWithin=="function"?this.copyWithin(T,L,j):Uint8Array.prototype.set.call(k,this.subarray(L,j),T),rt},c.prototype.fill=function(k,T,L,j){if(typeof k=="string"){if(typeof T=="string"?(j=T,T=0,L=this.length):typeof L=="string"&&(j=L,L=this.length),j!==void 0&&typeof j!="string")throw new TypeError("encoding must be a string");if(typeof j=="string"&&!c.isEncoding(j))throw new TypeError("Unknown encoding: "+j);if(k.length===1){const Q=k.charCodeAt(0);(j==="utf8"&&Q<128||j==="latin1")&&(k=Q)}}else typeof k=="number"?k&=255:typeof k=="boolean"&&(k=Number(k));if(T<0||this.length<T||this.length<L)throw new RangeError("Out of range index");if(L<=T)return this;let rt;if(T>>>=0,L=L===void 0?this.length:L>>>0,k||(k=0),typeof k=="number")for(rt=T;rt<L;++rt)this[rt]=k;else{const Q=c.isBuffer(k)?k:c.from(k,j),ot=Q.length;if(ot===0)throw new TypeError('The value "'+k+'" is invalid for argument "value"');for(rt=0;rt<L-T;++rt)this[rt+T]=Q[rt%ot]}return this};const b={};function D(k,T,L){b[k]=class extends L{constructor(){super(),Object.defineProperty(this,"message",{value:T.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${k}]`,this.stack,delete this.name}get code(){return k}set code(j){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:j,writable:!0})}toString(){return`${this.name} [${k}]: ${this.message}`}}}function Z(k){let T="",L=k.length;const j=k[0]==="-"?1:0;for(;L>=j+4;L-=3)T=`_${k.slice(L-3,L)}${T}`;return`${k.slice(0,L)}${T}`}function F(k,T,L,j,rt,Q){if(k>L||k<T){const ot=typeof T=="bigint"?"n":"";let qt;throw qt=Q>3?T===0||T===BigInt(0)?`>= 0${ot} and < 2${ot} ** ${8*(Q+1)}${ot}`:`>= -(2${ot} ** ${8*(Q+1)-1}${ot}) and < 2 ** ${8*(Q+1)-1}${ot}`:`>= ${T}${ot} and <= ${L}${ot}`,new b.ERR_OUT_OF_RANGE("value",qt,k)}(function(ot,qt,It){q(qt,"offset"),ot[qt]!==void 0&&ot[qt+It]!==void 0||it(qt,ot.length-(It+1))})(j,rt,Q)}function q(k,T){if(typeof k!="number")throw new b.ERR_INVALID_ARG_TYPE(T,"number",k)}function it(k,T,L){throw Math.floor(k)!==k?(q(k,L),new b.ERR_OUT_OF_RANGE(L||"offset","an integer",k)):T<0?new b.ERR_BUFFER_OUT_OF_BOUNDS:new b.ERR_OUT_OF_RANGE(L||"offset",`>= ${L?1:0} and <= ${T}`,k)}D("ERR_BUFFER_OUT_OF_BOUNDS",function(k){return k?`${k} is outside of buffer bounds`:"Attempt to access memory outside buffer bounds"},RangeError),D("ERR_INVALID_ARG_TYPE",function(k,T){return`The "${k}" argument must be of type number. Received type ${typeof T}`},TypeError),D("ERR_OUT_OF_RANGE",function(k,T,L){let j=`The value of "${k}" is out of range.`,rt=L;return Number.isInteger(L)&&Math.abs(L)>2**32?rt=Z(String(L)):typeof L=="bigint"&&(rt=String(L),(L>BigInt(2)**BigInt(32)||L<-(BigInt(2)**BigInt(32)))&&(rt=Z(rt)),rt+="n"),j+=` It must be ${T}. Received ${rt}`,j},RangeError);const at=/[^+/0-9A-Za-z-_]/g;function Bt(k,T){let L;T=T||1/0;const j=k.length;let rt=null;const Q=[];for(let ot=0;ot<j;++ot){if(L=k.charCodeAt(ot),L>55295&&L<57344){if(!rt){if(L>56319){(T-=3)>-1&&Q.push(239,191,189);continue}if(ot+1===j){(T-=3)>-1&&Q.push(239,191,189);continue}rt=L;continue}if(L<56320){(T-=3)>-1&&Q.push(239,191,189),rt=L;continue}L=65536+(rt-55296<<10|L-56320)}else rt&&(T-=3)>-1&&Q.push(239,191,189);if(rt=null,L<128){if((T-=1)<0)break;Q.push(L)}else if(L<2048){if((T-=2)<0)break;Q.push(L>>6|192,63&L|128)}else if(L<65536){if((T-=3)<0)break;Q.push(L>>12|224,L>>6&63|128,63&L|128)}else{if(!(L<1114112))throw new Error("Invalid code point");if((T-=4)<0)break;Q.push(L>>18|240,L>>12&63|128,L>>6&63|128,63&L|128)}}return Q}function yt(k){return t.toByteArray(function(T){if((T=(T=T.split("=")[0]).trim().replace(at,"")).length<2)return"";for(;T.length%4!=0;)T+="=";return T}(k))}function pt(k,T,L,j){let rt;for(rt=0;rt<j&&!(rt+L>=T.length||rt>=k.length);++rt)T[rt+L]=k[rt];return rt}function Ft(k,T){return k instanceof T||k!=null&&k.constructor!=null&&k.constructor.name!=null&&k.constructor.name===T.name}function lt(k){return k!=k}const ct=function(){const k="0123456789abcdef",T=new Array(256);for(let L=0;L<16;++L){const j=16*L;for(let rt=0;rt<16;++rt)T[j+rt]=k[L]+k[rt]}return T}();function Tt(k){return typeof BigInt>"u"?kt:k}function kt(){throw new Error("BigInt not supported")}}(Vr);const gm=typeof globalThis=="object"&&"crypto"in globalThis?globalThis.crypto:void 0,SS=r=>r instanceof Uint8Array,ym=r=>new DataView(r.buffer,r.byteOffset,r.byteLength),_o=(r,t)=>r<<32-t|r>>>t;if(new Uint8Array(new Uint32Array([287454020]).buffer)[0]!==68)throw new Error("Non little-endian hardware is not supported");function Gy(r){if(typeof r=="string"&&(r=function(t){if(typeof t!="string")throw new Error("utf8ToBytes expected string, got "+typeof t);return new Uint8Array(new TextEncoder().encode(t))}(r)),!SS(r))throw new Error("expected Uint8Array, got "+typeof r);return r}class kS{clone(){return this._cloneInto()}}function IS(r){const t=n=>r().update(Gy(n)).digest(),e=r();return t.outputLen=e.outputLen,t.blockLen=e.blockLen,t.create=()=>r(),t}function BS(r=32){if(gm&&typeof gm.getRandomValues=="function")return gm.getRandomValues(new Uint8Array(r));throw new Error("crypto.getRandomValues must be defined")}class PS extends kS{constructor(t,e,n,s){super(),this.blockLen=t,this.outputLen=e,this.padOffset=n,this.isLE=s,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(t),this.view=ym(this.buffer)}update(t){Ll(this);const{view:e,buffer:n,blockLen:s}=this,i=(t=Gy(t)).length;for(let c=0;c<i;){const l=Math.min(s-this.pos,i-c);if(l!==s)n.set(t.subarray(c,c+l),this.pos),this.pos+=l,c+=l,this.pos===s&&(this.process(e,0),this.pos=0);else{const p=ym(t);for(;s<=i-c;c+=s)this.process(p,c)}}return this.length+=t.length,this.roundClean(),this}digestInto(t){Ll(this),function(_,E){AS(_);const w=E.outputLen;if(_.length<w)throw new Error(`digestInto() expects output buffer of length at least ${w}`)}(t,this),this.finished=!0;const{buffer:e,view:n,blockLen:s,isLE:i}=this;let{pos:c}=this;e[c++]=128,this.buffer.subarray(c).fill(0),this.padOffset>s-c&&(this.process(n,0),c=0);for(let _=c;_<s;_++)e[_]=0;(function(_,E,w,x){if(typeof _.setBigUint64=="function")return _.setBigUint64(E,w,x);const A=BigInt(32),B=BigInt(4294967295),P=Number(w>>A&B),R=Number(w&B),C=x?4:0,O=x?0:4;_.setUint32(E+C,P,x),_.setUint32(E+O,R,x)})(n,s-8,BigInt(8*this.length),i),this.process(n,0);const l=ym(t),p=this.outputLen;if(p%4)throw new Error("_sha2: outputLen should be aligned to 32bit");const m=p/4,v=this.get();if(m>v.length)throw new Error("_sha2: outputLen bigger than state");for(let _=0;_<m;_++)l.setUint32(4*_,v[_],i)}digest(){const{buffer:t,outputLen:e}=this;this.digestInto(t);const n=t.slice(0,e);return this.destroy(),n}_cloneInto(t){t||(t=new this.constructor),t.set(...this.get());const{blockLen:e,buffer:n,length:s,finished:i,destroyed:c,pos:l}=this;return t.length=s,t.pos=l,t.finished=i,t.destroyed=c,s%e&&t.buffer.set(n),t}}const k0=BigInt(2**32-1),kv=BigInt(32);function N8(r,t=!1){return t?{h:Number(r&k0),l:Number(r>>kv&k0)}:{h:0|Number(r>>kv&k0),l:0|Number(r&k0)}}const OH={fromBig:N8,split:function(r,t=!1){let e=new Uint32Array(r.length),n=new Uint32Array(r.length);for(let s=0;s<r.length;s++){const{h:i,l:c}=N8(r[s],t);[e[s],n[s]]=[i,c]}return[e,n]},toBig:(r,t)=>BigInt(r>>>0)<<kv|BigInt(t>>>0),shrSH:(r,t,e)=>r>>>e,shrSL:(r,t,e)=>r<<32-e|t>>>e,rotrSH:(r,t,e)=>r>>>e|t<<32-e,rotrSL:(r,t,e)=>r<<32-e|t>>>e,rotrBH:(r,t,e)=>r<<64-e|t>>>e-32,rotrBL:(r,t,e)=>r>>>e-32|t<<64-e,rotr32H:(r,t)=>t,rotr32L:(r,t)=>r,rotlSH:(r,t,e)=>r<<e|t>>>32-e,rotlSL:(r,t,e)=>t<<e|r>>>32-e,rotlBH:(r,t,e)=>t<<e-32|r>>>64-e,rotlBL:(r,t,e)=>r<<e-32|t>>>64-e,add:function(r,t,e,n){const s=(t>>>0)+(n>>>0);return{h:r+e+(s/2**32|0)|0,l:0|s}},add3L:(r,t,e)=>(r>>>0)+(t>>>0)+(e>>>0),add3H:(r,t,e,n)=>t+e+n+(r/2**32|0)|0,add4L:(r,t,e,n)=>(r>>>0)+(t>>>0)+(e>>>0)+(n>>>0),add4H:(r,t,e,n,s)=>t+e+n+s+(r/2**32|0)|0,add5H:(r,t,e,n,s,i)=>t+e+n+s+i+(r/2**32|0)|0,add5L:(r,t,e,n,s)=>(r>>>0)+(t>>>0)+(e>>>0)+(n>>>0)+(s>>>0)};var er=OH;const[UH,NH]=er.split(["0x428a2f98d728ae22","0x7137449123ef65cd","0xb5c0fbcfec4d3b2f","0xe9b5dba58189dbbc","0x3956c25bf348b538","0x59f111f1b605d019","0x923f82a4af194f9b","0xab1c5ed5da6d8118","0xd807aa98a3030242","0x12835b0145706fbe","0x243185be4ee4b28c","0x550c7dc3d5ffb4e2","0x72be5d74f27b896f","0x80deb1fe3b1696b1","0x9bdc06a725c71235","0xc19bf174cf692694","0xe49b69c19ef14ad2","0xefbe4786384f25e3","0x0fc19dc68b8cd5b5","0x240ca1cc77ac9c65","0x2de92c6f592b0275","0x4a7484aa6ea6e483","0x5cb0a9dcbd41fbd4","0x76f988da831153b5","0x983e5152ee66dfab","0xa831c66d2db43210","0xb00327c898fb213f","0xbf597fc7beef0ee4","0xc6e00bf33da88fc2","0xd5a79147930aa725","0x06ca6351e003826f","0x142929670a0e6e70","0x27b70a8546d22ffc","0x2e1b21385c26c926","0x4d2c6dfc5ac42aed","0x53380d139d95b3df","0x650a73548baf63de","0x766a0abb3c77b2a8","0x81c2c92e47edaee6","0x92722c851482353b","0xa2bfe8a14cf10364","0xa81a664bbc423001","0xc24b8b70d0f89791","0xc76c51a30654be30","0xd192e819d6ef5218","0xd69906245565a910","0xf40e35855771202a","0x106aa07032bbd1b8","0x19a4c116b8d2d0c8","0x1e376c085141ab53","0x2748774cdf8eeb99","0x34b0bcb5e19b48a8","0x391c0cb3c5c95a63","0x4ed8aa4ae3418acb","0x5b9cca4f7763e373","0x682e6ff3d6b2b8a3","0x748f82ee5defb2fc","0x78a5636f43172f60","0x84c87814a1f0ab72","0x8cc702081a6439ec","0x90befffa23631e28","0xa4506cebde82bde9","0xbef9a3f7b2c67915","0xc67178f2e372532b","0xca273eceea26619c","0xd186b8c721c0c207","0xeada7dd6cde0eb1e","0xf57d4f7fee6ed178","0x06f067aa72176fba","0x0a637dc5a2c898a6","0x113f9804bef90dae","0x1b710b35131c471b","0x28db77f523047d84","0x32caab7b40c72493","0x3c9ebe0a15c9bebc","0x431d67c49c100d4c","0x4cc5d4becb3e42b6","0x597f299cfc657e2a","0x5fcb6fab3ad6faec","0x6c44198c4a475817"].map(r=>BigInt(r))),Ds=new Uint32Array(80),zs=new Uint32Array(80);class DH extends PS{constructor(){super(128,64,16,!1),this.Ah=1779033703,this.Al=-205731576,this.Bh=-1150833019,this.Bl=-2067093701,this.Ch=1013904242,this.Cl=-23791573,this.Dh=-1521486534,this.Dl=1595750129,this.Eh=1359893119,this.El=-1377402159,this.Fh=-1694144372,this.Fl=725511199,this.Gh=528734635,this.Gl=-79577749,this.Hh=1541459225,this.Hl=327033209}get(){const{Ah:t,Al:e,Bh:n,Bl:s,Ch:i,Cl:c,Dh:l,Dl:p,Eh:m,El:v,Fh:_,Fl:E,Gh:w,Gl:x,Hh:A,Hl:B}=this;return[t,e,n,s,i,c,l,p,m,v,_,E,w,x,A,B]}set(t,e,n,s,i,c,l,p,m,v,_,E,w,x,A,B){this.Ah=0|t,this.Al=0|e,this.Bh=0|n,this.Bl=0|s,this.Ch=0|i,this.Cl=0|c,this.Dh=0|l,this.Dl=0|p,this.Eh=0|m,this.El=0|v,this.Fh=0|_,this.Fl=0|E,this.Gh=0|w,this.Gl=0|x,this.Hh=0|A,this.Hl=0|B}process(t,e){for(let C=0;C<16;C++,e+=4)Ds[C]=t.getUint32(e),zs[C]=t.getUint32(e+=4);for(let C=16;C<80;C++){const O=0|Ds[C-15],z=0|zs[C-15],H=er.rotrSH(O,z,1)^er.rotrSH(O,z,8)^er.shrSH(O,z,7),tt=er.rotrSL(O,z,1)^er.rotrSL(O,z,8)^er.shrSL(O,z,7),nt=0|Ds[C-2],G=0|zs[C-2],M=er.rotrSH(nt,G,19)^er.rotrBH(nt,G,61)^er.shrSH(nt,G,6),d=er.rotrSL(nt,G,19)^er.rotrBL(nt,G,61)^er.shrSL(nt,G,6),o=er.add4L(tt,d,zs[C-7],zs[C-16]),a=er.add4H(o,H,M,Ds[C-7],Ds[C-16]);Ds[C]=0|a,zs[C]=0|o}let{Ah:n,Al:s,Bh:i,Bl:c,Ch:l,Cl:p,Dh:m,Dl:v,Eh:_,El:E,Fh:w,Fl:x,Gh:A,Gl:B,Hh:P,Hl:R}=this;for(let C=0;C<80;C++){const O=er.rotrSH(_,E,14)^er.rotrSH(_,E,18)^er.rotrBH(_,E,41),z=er.rotrSL(_,E,14)^er.rotrSL(_,E,18)^er.rotrBL(_,E,41),H=_&w^~_&A,tt=E&x^~E&B,nt=er.add5L(R,z,tt,NH[C],zs[C]),G=er.add5H(nt,P,O,H,UH[C],Ds[C]),M=0|nt,d=er.rotrSH(n,s,28)^er.rotrBH(n,s,34)^er.rotrBH(n,s,39),o=er.rotrSL(n,s,28)^er.rotrBL(n,s,34)^er.rotrBL(n,s,39),a=n&i^n&l^i&l,f=s&c^s&p^c&p;P=0|A,R=0|B,A=0|w,B=0|x,w=0|_,x=0|E,{h:_,l:E}=er.add(0|m,0|v,0|G,0|M),m=0|l,v=0|p,l=0|i,p=0|c,i=0|n,c=0|s;const h=er.add3L(M,o,f);n=er.add3H(h,G,d,a),s=0|h}({h:n,l:s}=er.add(0|this.Ah,0|this.Al,0|n,0|s)),{h:i,l:c}=er.add(0|this.Bh,0|this.Bl,0|i,0|c),{h:l,l:p}=er.add(0|this.Ch,0|this.Cl,0|l,0|p),{h:m,l:v}=er.add(0|this.Dh,0|this.Dl,0|m,0|v),{h:_,l:E}=er.add(0|this.Eh,0|this.El,0|_,0|E),{h:w,l:x}=er.add(0|this.Fh,0|this.Fl,0|w,0|x),{h:A,l:B}=er.add(0|this.Gh,0|this.Gl,0|A,0|B),{h:P,l:R}=er.add(0|this.Hh,0|this.Hl,0|P,0|R),this.set(n,s,i,c,l,p,m,v,_,E,w,x,A,B,P,R)}roundClean(){Ds.fill(0),zs.fill(0)}destroy(){this.buffer.fill(0),this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)}}const zH=IS(()=>new DH),D8=BigInt(0),il=BigInt(1),qH=BigInt(2),Ld=r=>r instanceof Uint8Array,FH=Array.from({length:256},(r,t)=>t.toString(16).padStart(2,"0"));/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */function $a(r){if(!Ld(r))throw new Error("Uint8Array expected");let t="";for(let e=0;e<r.length;e++)t+=FH[r[e]];return t}function z8(r){const t=r.toString(16);return 1&t.length?`0${t}`:t}function Yy(r){if(typeof r!="string")throw new Error("hex string expected, got "+typeof r);return BigInt(r===""?"0":`0x${r}`)}function vf(r){if(typeof r!="string")throw new Error("hex string expected, got "+typeof r);const t=r.length;if(t%2)throw new Error("padded hex string expected, got unpadded hex of length "+t);const e=new Uint8Array(t/2);for(let n=0;n<e.length;n++){const s=2*n,i=r.slice(s,s+2),c=Number.parseInt(i,16);if(Number.isNaN(c)||c<0)throw new Error("Invalid byte sequence");e[n]=c}return e}function Aa(r){return Yy($a(r))}function Xu(r){if(!Ld(r))throw new Error("Uint8Array expected");return Yy($a(Uint8Array.from(r).reverse()))}function Ju(r,t){return vf(r.toString(16).padStart(2*t,"0"))}function hh(r,t){return Ju(r,t).reverse()}function pn(r,t,e){let n;if(typeof t=="string")try{n=vf(t)}catch(i){throw new Error(`${r} must be valid hex string, got "${t}". Cause: ${i}`)}else{if(!Ld(t))throw new Error(`${r} must be hex string or Uint8Array`);n=Uint8Array.from(t)}const s=n.length;if(typeof e=="number"&&s!==e)throw new Error(`${r} expected ${e} bytes, got ${s}`);return n}function Ha(...r){const t=new Uint8Array(r.reduce((n,s)=>n+s.length,0));let e=0;return r.forEach(n=>{if(!Ld(n))throw new Error("Uint8Array expected");t.set(n,e),e+=n.length}),t}const Xy=r=>(qH<<BigInt(r-1))-il,bm=r=>new Uint8Array(r),q8=r=>Uint8Array.from(r);function RS(r,t,e){if(typeof r!="number"||r<2)throw new Error("hashLen must be a number");if(typeof t!="number"||t<2)throw new Error("qByteLen must be a number");if(typeof e!="function")throw new Error("hmacFn must be a function");let n=bm(r),s=bm(r),i=0;const c=()=>{n.fill(1),s.fill(0),i=0},l=(...v)=>e(s,n,...v),p=(v=bm())=>{s=l(q8([0]),v),n=l(),v.length!==0&&(s=l(q8([1]),v),n=l())},m=()=>{if(i++>=1e3)throw new Error("drbg: tried 1000 values");let v=0;const _=[];for(;v<t;){n=l();const E=n.slice();_.push(E),v+=n.length}return Ha(..._)};return(v,_)=>{let E;for(c(),p(v);!(E=_(m()));)p();return c(),E}}const jH={bigint:r=>typeof r=="bigint",function:r=>typeof r=="function",boolean:r=>typeof r=="boolean",string:r=>typeof r=="string",stringOrUint8Array:r=>typeof r=="string"||r instanceof Uint8Array,isSafeInteger:r=>Number.isSafeInteger(r),array:r=>Array.isArray(r),field:(r,t)=>t.Fp.isValid(r),hash:r=>typeof r=="function"&&Number.isSafeInteger(r.outputLen)};function gf(r,t,e={}){const n=(s,i,c)=>{const l=jH[i];if(typeof l!="function")throw new Error(`Invalid validator "${i}", expected function`);const p=r[s];if(!(c&&p===void 0||l(p,r)))throw new Error(`Invalid param ${String(s)}=${p} (${typeof p}), expected ${i}`)};for(const[s,i]of Object.entries(t))n(s,i,!1);for(const[s,i]of Object.entries(e))n(s,i,!0);return r}var KH=Object.freeze({__proto__:null,bytesToHex:$a,numberToHexUnpadded:z8,hexToNumber:Yy,hexToBytes:vf,bytesToNumberBE:Aa,bytesToNumberLE:Xu,numberToBytesBE:Ju,numberToBytesLE:hh,numberToVarBytesBE:function(r){return vf(z8(r))},ensureBytes:pn,concatBytes:Ha,equalBytes:function(r,t){if(r.length!==t.length)return!1;for(let e=0;e<r.length;e++)if(r[e]!==t[e])return!1;return!0},utf8ToBytes:function(r){if(typeof r!="string")throw new Error("utf8ToBytes expected string, got "+typeof r);return new Uint8Array(new TextEncoder().encode(r))},bitLen:function(r){let t;for(t=0;r>D8;r>>=il,t+=1);return t},bitGet:function(r,t){return r>>BigInt(t)&il},bitSet:(r,t,e)=>r|(e?il:D8)<<BigInt(t),bitMask:Xy,createHmacDrbg:RS,validateObject:gf});/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const Mn=BigInt(0),Hr=BigInt(1),ga=BigInt(2),$H=BigInt(3),wm=BigInt(4),F8=BigInt(5),j8=BigInt(8);function $r(r,t){const e=r%t;return e>=Mn?e:t+e}function HH(r,t,e){if(e<=Mn||t<Mn)throw new Error("Expected power/modulo > 0");if(e===Hr)return Mn;let n=Hr;for(;t>Mn;)t&Hr&&(n=n*r%e),r=r*r%e,t>>=Hr;return n}function rn(r,t,e){let n=r;for(;t-- >Mn;)n*=n,n%=e;return n}function Iv(r,t){if(r===Mn||t<=Mn)throw new Error(`invert: expected positive integers, got n=${r} mod=${t}`);let e=$r(r,t),n=t,s=Mn,i=Hr;for(;e!==Mn;){const c=n%e,l=s-i*(n/e);n=e,e=c,s=i,i=l}if(n!==Hr)throw new Error("invert: does not exist");return $r(s,t)}BigInt(9),BigInt(16);const VH=["create","isValid","is0","neg","inv","sqrt","sqr","eql","add","sub","mul","pow","div","addN","subN","mulN","sqrN"];function CS(r,t){const e=t!==void 0?t:r.toString(2).length;return{nBitLength:e,nByteLength:Math.ceil(e/8)}}function TS(r,t,e=!1,n={}){if(r<=Mn)throw new Error(`Expected Field ORDER > 0, got ${r}`);const{nBitLength:s,nByteLength:i}=CS(r,t);if(i>2048)throw new Error("Field lengths over 2048 bytes are not supported");const c=function(p){if(p%wm===$H){const m=(p+Hr)/wm;return function(v,_){const E=v.pow(_,m);if(!v.eql(v.sqr(E),_))throw new Error("Cannot find square root");return E}}if(p%j8===F8){const m=(p-F8)/j8;return function(v,_){const E=v.mul(_,ga),w=v.pow(E,m),x=v.mul(_,w),A=v.mul(v.mul(x,ga),w),B=v.mul(x,v.sub(A,v.ONE));if(!v.eql(v.sqr(B),_))throw new Error("Cannot find square root");return B}}return function(m){const v=(m-Hr)/ga;let _,E,w;for(_=m-Hr,E=0;_%ga===Mn;_/=ga,E++);for(w=ga;w<m&&HH(w,v,m)!==m-Hr;w++);if(E===1){const A=(m+Hr)/wm;return function(B,P){const R=B.pow(P,A);if(!B.eql(B.sqr(R),P))throw new Error("Cannot find square root");return R}}const x=(_+Hr)/ga;return function(A,B){if(A.pow(B,v)===A.neg(A.ONE))throw new Error("Cannot find square root");let P=E,R=A.pow(A.mul(A.ONE,w),_),C=A.pow(B,x),O=A.pow(B,_);for(;!A.eql(O,A.ONE);){if(A.eql(O,A.ZERO))return A.ZERO;let z=1;for(let tt=A.sqr(O);z<P&&!A.eql(tt,A.ONE);z++)tt=A.sqr(tt);const H=A.pow(R,Hr<<BigInt(P-z-1));R=A.sqr(H),C=A.mul(C,H),O=A.mul(O,R),P=z}return C}}(p)}(r),l=Object.freeze({ORDER:r,BITS:s,BYTES:i,MASK:Xy(s),ZERO:Mn,ONE:Hr,create:p=>$r(p,r),isValid:p=>{if(typeof p!="bigint")throw new Error("Invalid field element: expected bigint, got "+typeof p);return Mn<=p&&p<r},is0:p=>p===Mn,isOdd:p=>(p&Hr)===Hr,neg:p=>$r(-p,r),eql:(p,m)=>p===m,sqr:p=>$r(p*p,r),add:(p,m)=>$r(p+m,r),sub:(p,m)=>$r(p-m,r),mul:(p,m)=>$r(p*m,r),pow:(p,m)=>function(v,_,E){if(E<Mn)throw new Error("Expected power > 0");if(E===Mn)return v.ONE;if(E===Hr)return _;let w=v.ONE,x=_;for(;E>Mn;)E&Hr&&(w=v.mul(w,x)),x=v.sqr(x),E>>=Hr;return w}(l,p,m),div:(p,m)=>$r(p*Iv(m,r),r),sqrN:p=>p*p,addN:(p,m)=>p+m,subN:(p,m)=>p-m,mulN:(p,m)=>p*m,inv:p=>Iv(p,r),sqrt:n.sqrt||(p=>c(l,p)),invertBatch:p=>function(m,v){const _=new Array(v.length),E=v.reduce((x,A,B)=>m.is0(A)?x:(_[B]=x,m.mul(x,A)),m.ONE),w=m.inv(E);return v.reduceRight((x,A,B)=>m.is0(A)?x:(_[B]=m.mul(x,_[B]),m.mul(x,A)),w),_}(l,p),cmov:(p,m,v)=>v?m:p,toBytes:p=>e?hh(p,i):Ju(p,i),fromBytes:p=>{if(p.length!==i)throw new Error(`Fp.fromBytes: expected ${i}, got ${p.length}`);return e?Xu(p):Aa(p)}});return Object.freeze(l)}function LS(r){if(typeof r!="bigint")throw new Error("field order must be bigint");const t=r.toString(2).length;return Math.ceil(t/8)}function K8(r){const t=LS(r);return t+Math.ceil(t/2)}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const ZH=BigInt(0),xm=BigInt(1);function OS(r,t){const e=(s,i)=>{const c=i.negate();return s?c:i},n=s=>({windows:Math.ceil(t/s)+1,windowSize:2**(s-1)});return{constTimeNegate:e,unsafeLadder(s,i){let c=r.ZERO,l=s;for(;i>ZH;)i&xm&&(c=c.add(l)),l=l.double(),i>>=xm;return c},precomputeWindow(s,i){const{windows:c,windowSize:l}=n(i),p=[];let m=s,v=m;for(let _=0;_<c;_++){v=m,p.push(v);for(let E=1;E<l;E++)v=v.add(m),p.push(v);m=v.double()}return p},wNAF(s,i,c){const{windows:l,windowSize:p}=n(s);let m=r.ZERO,v=r.BASE;const _=BigInt(2**s-1),E=2**s,w=BigInt(s);for(let x=0;x<l;x++){const A=x*p;let B=Number(c&_);c>>=w,B>p&&(B-=E,c+=xm);const P=A,R=A+Math.abs(B)-1,C=x%2!=0,O=B<0;B===0?v=v.add(e(C,i[P])):m=m.add(e(O,i[R]))}return{p:m,f:v}},wNAFCached(s,i,c,l){const p=s._WINDOW_SIZE||1;let m=i.get(s);return m||(m=this.precomputeWindow(s,p),p!==1&&i.set(s,l(m))),this.wNAF(p,m,c)}}}function Bv(r){return gf(r.Fp,VH.reduce((t,e)=>(t[e]="function",t),{ORDER:"bigint",MASK:"bigint",BYTES:"isSafeInteger",BITS:"isSafeInteger"})),gf(r,{n:"bigint",h:"bigint",Gx:"field",Gy:"field"},{nBitLength:"isSafeInteger",nByteLength:"isSafeInteger"}),Object.freeze({...CS(r.n,r.nBitLength),...r,p:r.Fp.ORDER});/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */}const to=BigInt(0),vi=BigInt(1),I0=BigInt(2),WH=BigInt(8),GH={zip215:!0};/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const Pv=BigInt("57896044618658097711785492504343953926634992332820282019728792003956564819949"),$8=BigInt("19681161376707505956807079304988542015446066515923890162744021073123829784752");BigInt(0);const YH=BigInt(1),Rv=BigInt(2),XH=BigInt(5),H8=BigInt(10),JH=BigInt(20),QH=BigInt(40),V8=BigInt(80),cs=TS(Pv,void 0,!0),tV={a:BigInt(-1),d:BigInt("37095705934669439343138083508754565189542113879843219016388785533085940283555"),Fp:cs,n:BigInt("7237005577332262213973186563042994240857116359379907606001950938285454250989"),h:BigInt(8),Gx:BigInt("15112221349535400772501151409588531511454012693041857206046113283949847762202"),Gy:BigInt("46316835694926478169428394003475163141307993866256225615783033603165251855960"),hash:zH,randomBytes:BS,adjustScalarBytes:function(r){return r[0]&=248,r[31]&=127,r[31]|=64,r},uvRatio:function(r,t){const e=Pv,n=$r(t*t*t,e),s=function(E){const w=Pv,x=E*E%w*E%w,A=rn(x,Rv,w)*x%w,B=rn(A,YH,w)*E%w,P=rn(B,XH,w)*B%w,R=rn(P,H8,w)*P%w,C=rn(R,JH,w)*R%w,O=rn(C,QH,w)*C%w,z=rn(O,V8,w)*O%w,H=rn(z,V8,w)*O%w,tt=rn(H,H8,w)*P%w;return{pow_p_5_8:rn(tt,Rv,w)*E%w,b2:x}}(r*$r(n*n*t,e)).pow_p_5_8;let i=$r(r*n*s,e);const c=$r(t*i*i,e),l=i,p=$r(i*$8,e),m=c===r,v=c===$r(-r,e),_=c===$r(-r*$8,e);return m&&(i=l),(v||_)&&(i=p),($r(i,e)&Hr)===Hr&&(i=$r(-i,e)),{isValid:m||v,value:i}}},eV=function(r){const t=function(f){const h=Bv(f);return gf(f,{hash:"function",a:"bigint",d:"bigint",randomBytes:"function"},{adjustScalarBytes:"function",domain:"function",uvRatio:"function",mapToCurve:"function"}),Object.freeze({...h})}(r),{Fp:e,n,prehash:s,hash:i,randomBytes:c,nByteLength:l,h:p}=t,m=I0<<BigInt(8*l)-vi,v=e.create,_=t.uvRatio||((f,h)=>{try{return{isValid:!0,value:e.sqrt(f*e.inv(h))}}catch{return{isValid:!1,value:to}}}),E=t.adjustScalarBytes||(f=>f),w=t.domain||((f,h,g)=>{if(h.length||g)throw new Error("Contexts/pre-hash are not supported");return f}),x=f=>typeof f=="bigint"&&to<f,A=(f,h)=>x(f)&&x(h)&&f<h,B=f=>f===to||A(f,m);function P(f,h){if(A(f,h))return f;throw new Error(`Expected valid scalar < ${h}, got ${typeof f} ${f}`)}function R(f){return f===to?f:P(f,n)}const C=new Map;function O(f){if(!(f instanceof z))throw new Error("ExtendedPoint expected")}class z{constructor(h,g,S,I){if(this.ex=h,this.ey=g,this.ez=S,this.et=I,!B(h))throw new Error("x required");if(!B(g))throw new Error("y required");if(!B(S))throw new Error("z required");if(!B(I))throw new Error("t required")}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static fromAffine(h){if(h instanceof z)throw new Error("extended point not allowed");const{x:g,y:S}=h||{};if(!B(g)||!B(S))throw new Error("invalid affine point");return new z(g,S,vi,v(g*S))}static normalizeZ(h){const g=e.invertBatch(h.map(S=>S.ez));return h.map((S,I)=>S.toAffine(g[I])).map(z.fromAffine)}_setWindowSize(h){this._WINDOW_SIZE=h,C.delete(this)}assertValidity(){const{a:h,d:g}=t;if(this.is0())throw new Error("bad point: ZERO");const{ex:S,ey:I,ez:y,et:u}=this,b=v(S*S),D=v(I*I),Z=v(y*y),F=v(Z*Z),q=v(b*h);if(v(Z*v(q+D))!==v(F+v(g*v(b*D))))throw new Error("bad point: equation left != right (1)");if(v(S*I)!==v(y*u))throw new Error("bad point: equation left != right (2)")}equals(h){O(h);const{ex:g,ey:S,ez:I}=this,{ex:y,ey:u,ez:b}=h,D=v(g*b),Z=v(y*I),F=v(S*b),q=v(u*I);return D===Z&&F===q}is0(){return this.equals(z.ZERO)}negate(){return new z(v(-this.ex),this.ey,this.ez,v(-this.et))}double(){const{a:h}=t,{ex:g,ey:S,ez:I}=this,y=v(g*g),u=v(S*S),b=v(I0*v(I*I)),D=v(h*y),Z=g+S,F=v(v(Z*Z)-y-u),q=D+u,it=q-b,at=D-u,Bt=v(F*it),yt=v(q*at),pt=v(F*at),Ft=v(it*q);return new z(Bt,yt,Ft,pt)}add(h){O(h);const{a:g,d:S}=t,{ex:I,ey:y,ez:u,et:b}=this,{ex:D,ey:Z,ez:F,et:q}=h;if(g===BigInt(-1)){const L=v((y-I)*(Z+D)),j=v((y+I)*(Z-D)),rt=v(j-L);if(rt===to)return this.double();const Q=v(u*I0*q),ot=v(b*I0*F),qt=ot+Q,It=j+L,xt=ot-Q,Qt=v(qt*rt),Ct=v(It*xt),Dt=v(qt*xt),Se=v(rt*It);return new z(Qt,Ct,Se,Dt)}const it=v(I*D),at=v(y*Z),Bt=v(b*S*q),yt=v(u*F),pt=v((I+y)*(D+Z)-it-at),Ft=yt-Bt,lt=yt+Bt,ct=v(at-g*it),Tt=v(pt*Ft),kt=v(lt*ct),k=v(pt*ct),T=v(Ft*lt);return new z(Tt,kt,T,k)}subtract(h){return this.add(h.negate())}wNAF(h){return nt.wNAFCached(this,C,h,z.normalizeZ)}multiply(h){const{p:g,f:S}=this.wNAF(P(h,n));return z.normalizeZ([g,S])[0]}multiplyUnsafe(h){let g=R(h);return g===to?tt:this.equals(tt)||g===vi?this:this.equals(H)?this.wNAF(g).p:nt.unsafeLadder(this,g)}isSmallOrder(){return this.multiplyUnsafe(p).is0()}isTorsionFree(){return nt.unsafeLadder(this,n).is0()}toAffine(h){const{ex:g,ey:S,ez:I}=this,y=this.is0();h==null&&(h=y?WH:e.inv(I));const u=v(g*h),b=v(S*h),D=v(I*h);if(y)return{x:to,y:vi};if(D!==vi)throw new Error("invZ was invalid");return{x:u,y:b}}clearCofactor(){const{h}=t;return h===vi?this:this.multiplyUnsafe(h)}static fromHex(h,g=!1){const{d:S,a:I}=t,y=e.BYTES,u=(h=pn("pointHex",h,y)).slice(),b=h[y-1];u[y-1]=-129&b;const D=Xu(u);D===to||P(D,g?m:e.ORDER);const Z=v(D*D),F=v(Z-vi),q=v(S*Z-I);let{isValid:it,value:at}=_(F,q);if(!it)throw new Error("Point.fromHex: invalid y coordinate");const Bt=(at&vi)===vi,yt=(128&b)!=0;if(!g&&at===to&&yt)throw new Error("Point.fromHex: x=0 and x_0=1");return yt!==Bt&&(at=v(-at)),z.fromAffine({x:at,y:D})}static fromPrivateKey(h){return d(h).point}toRawBytes(){const{x:h,y:g}=this.toAffine(),S=hh(g,e.BYTES);return S[S.length-1]|=h&vi?128:0,S}toHex(){return $a(this.toRawBytes())}}z.BASE=new z(t.Gx,t.Gy,vi,v(t.Gx*t.Gy)),z.ZERO=new z(to,vi,vi,to);const{BASE:H,ZERO:tt}=z,nt=OS(z,8*l);function G(f){return $r(f,n)}function M(f){return G(Xu(f))}function d(f){const h=l;f=pn("private key",f,h);const g=pn("hashed private key",i(f),2*h),S=E(g.slice(0,h)),I=g.slice(h,2*h),y=M(S),u=H.multiply(y),b=u.toRawBytes();return{head:S,prefix:I,scalar:y,point:u,pointBytes:b}}function o(f=new Uint8Array,...h){const g=Ha(...h);return M(i(w(g,pn("context",f),!!s)))}const a=GH;return H._setWindowSize(8),{CURVE:t,getPublicKey:function(f){return d(f).pointBytes},sign:function(f,h,g={}){f=pn("message",f),s&&(f=s(f));const{prefix:S,scalar:I,pointBytes:y}=d(h),u=o(g.context,S,f),b=H.multiply(u).toRawBytes(),D=G(u+o(g.context,b,y,f)*I);return R(D),pn("result",Ha(b,hh(D,e.BYTES)),2*l)},verify:function(f,h,g,S=a){const{context:I,zip215:y}=S,u=e.BYTES;f=pn("signature",f,2*u),h=pn("message",h),s&&(h=s(h));const b=Xu(f.slice(u,2*u));let D,Z,F;try{D=z.fromHex(g,y),Z=z.fromHex(f.slice(0,u),y),F=H.multiplyUnsafe(b)}catch{return!1}if(!y&&D.isSmallOrder())return!1;const q=o(I,Z.toRawBytes(),D.toRawBytes(),h);return Z.add(D.multiplyUnsafe(q)).subtract(F).clearCofactor().equals(z.ZERO)},ExtendedPoint:z,utils:{getExtendedPublicKey:d,randomPrivateKey:()=>c(e.BYTES),precompute:(f=8,h=z.BASE)=>(h._setWindowSize(f),h.multiply(BigInt(3)),h)}}}(tV),rV=(cs.ORDER+BigInt(3))/BigInt(8);cs.pow(Rv,rV),cs.sqrt(cs.neg(cs.ONE)),cs.ORDER,BigInt(5),BigInt(8),BigInt(486662),function(r,t){if(!r.isOdd)throw new Error("Field doesn't have isOdd");const e=r.sqrt(t);r.isOdd(e)&&r.neg(e)}(cs,cs.neg(BigInt(486664))),BigInt("25063068953384623474111414158702152701244531502492656460079210482610430750235"),BigInt("54469307008909316920995813868745141605393597292927456921205312896311721017578"),BigInt("1159843021668779879193775521855586647937357759715417654439879720876111806838"),BigInt("40440834346308536858101042469323190826248399146238708352240133220865137265952"),BigInt("0x7fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff");var Cv={exports:{}},nV=Wy(Object.freeze({__proto__:null,default:{}}));(function(r,t){function e(M,d){if(!M)throw new Error(d||"Assertion failed")}function n(M,d){M.super_=d;var o=function(){};o.prototype=d.prototype,M.prototype=new o,M.prototype.constructor=M}function s(M,d,o){if(s.isBN(M))return M;this.negative=0,this.words=null,this.length=0,this.red=null,M!==null&&(d!=="le"&&d!=="be"||(o=d,d=10),this._init(M||0,d||10,o||"be"))}var i;typeof Cv=="object"?Cv.exports=s:t.BN=s,s.BN=s,s.wordSize=26;try{i=typeof window<"u"&&window.Buffer!==void 0?window.Buffer:nV.Buffer}catch{}function c(M,d){var o=M.charCodeAt(d);return o>=48&&o<=57?o-48:o>=65&&o<=70?o-55:o>=97&&o<=102?o-87:void e(!1,"Invalid character in "+M)}function l(M,d,o){var a=c(M,o);return o-1>=d&&(a|=c(M,o-1)<<4),a}function p(M,d,o,a){for(var f=0,h=0,g=Math.min(M.length,o),S=d;S<g;S++){var I=M.charCodeAt(S)-48;f*=a,h=I>=49?I-49+10:I>=17?I-17+10:I,e(I>=0&&h<a,"Invalid character"),f+=h}return f}function m(M,d){M.words=d.words,M.length=d.length,M.negative=d.negative,M.red=d.red}if(s.isBN=function(M){return M instanceof s||M!==null&&typeof M=="object"&&M.constructor.wordSize===s.wordSize&&Array.isArray(M.words)},s.max=function(M,d){return M.cmp(d)>0?M:d},s.min=function(M,d){return M.cmp(d)<0?M:d},s.prototype._init=function(M,d,o){if(typeof M=="number")return this._initNumber(M,d,o);if(typeof M=="object")return this._initArray(M,d,o);d==="hex"&&(d=16),e(d===(0|d)&&d>=2&&d<=36);var a=0;(M=M.toString().replace(/\s+/g,""))[0]==="-"&&(a++,this.negative=1),a<M.length&&(d===16?this._parseHex(M,a,o):(this._parseBase(M,d,a),o==="le"&&this._initArray(this.toArray(),d,o)))},s.prototype._initNumber=function(M,d,o){M<0&&(this.negative=1,M=-M),M<67108864?(this.words=[67108863&M],this.length=1):M<4503599627370496?(this.words=[67108863&M,M/67108864&67108863],this.length=2):(e(M<9007199254740992),this.words=[67108863&M,M/67108864&67108863,1],this.length=3),o==="le"&&this._initArray(this.toArray(),d,o)},s.prototype._initArray=function(M,d,o){if(e(typeof M.length=="number"),M.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(M.length/3),this.words=new Array(this.length);for(var a=0;a<this.length;a++)this.words[a]=0;var f,h,g=0;if(o==="be")for(a=M.length-1,f=0;a>=0;a-=3)h=M[a]|M[a-1]<<8|M[a-2]<<16,this.words[f]|=h<<g&67108863,this.words[f+1]=h>>>26-g&67108863,(g+=24)>=26&&(g-=26,f++);else if(o==="le")for(a=0,f=0;a<M.length;a+=3)h=M[a]|M[a+1]<<8|M[a+2]<<16,this.words[f]|=h<<g&67108863,this.words[f+1]=h>>>26-g&67108863,(g+=24)>=26&&(g-=26,f++);return this._strip()},s.prototype._parseHex=function(M,d,o){this.length=Math.ceil((M.length-d)/6),this.words=new Array(this.length);for(var a=0;a<this.length;a++)this.words[a]=0;var f,h=0,g=0;if(o==="be")for(a=M.length-1;a>=d;a-=2)f=l(M,d,a)<<h,this.words[g]|=67108863&f,h>=18?(h-=18,g+=1,this.words[g]|=f>>>26):h+=8;else for(a=(M.length-d)%2==0?d+1:d;a<M.length;a+=2)f=l(M,d,a)<<h,this.words[g]|=67108863&f,h>=18?(h-=18,g+=1,this.words[g]|=f>>>26):h+=8;this._strip()},s.prototype._parseBase=function(M,d,o){this.words=[0],this.length=1;for(var a=0,f=1;f<=67108863;f*=d)a++;a--,f=f/d|0;for(var h=M.length-o,g=h%a,S=Math.min(h,h-g)+o,I=0,y=o;y<S;y+=a)I=p(M,y,y+a,d),this.imuln(f),this.words[0]+I<67108864?this.words[0]+=I:this._iaddn(I);if(g!==0){var u=1;for(I=p(M,y,M.length,d),y=0;y<g;y++)u*=d;this.imuln(u),this.words[0]+I<67108864?this.words[0]+=I:this._iaddn(I)}this._strip()},s.prototype.copy=function(M){M.words=new Array(this.length);for(var d=0;d<this.length;d++)M.words[d]=this.words[d];M.length=this.length,M.negative=this.negative,M.red=this.red},s.prototype._move=function(M){m(M,this)},s.prototype.clone=function(){var M=new s(null);return this.copy(M),M},s.prototype._expand=function(M){for(;this.length<M;)this.words[this.length++]=0;return this},s.prototype._strip=function(){for(;this.length>1&&this.words[this.length-1]===0;)this.length--;return this._normSign()},s.prototype._normSign=function(){return this.length===1&&this.words[0]===0&&(this.negative=0),this},typeof Symbol<"u"&&typeof Symbol.for=="function")try{s.prototype[Symbol.for("nodejs.util.inspect.custom")]=v}catch{s.prototype.inspect=v}else s.prototype.inspect=v;function v(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"}var _=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],E=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],w=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];function x(M,d,o){o.negative=d.negative^M.negative;var a=M.length+d.length|0;o.length=a,a=a-1|0;var f=0|M.words[0],h=0|d.words[0],g=f*h,S=67108863&g,I=g/67108864|0;o.words[0]=S;for(var y=1;y<a;y++){for(var u=I>>>26,b=67108863&I,D=Math.min(y,d.length-1),Z=Math.max(0,y-M.length+1);Z<=D;Z++){var F=y-Z|0;u+=(g=(f=0|M.words[F])*(h=0|d.words[Z])+b)/67108864|0,b=67108863&g}o.words[y]=0|b,I=0|u}return I!==0?o.words[y]=0|I:o.length--,o._strip()}s.prototype.toString=function(M,d){var o;if(d=0|d||1,(M=M||10)===16||M==="hex"){o="";for(var a=0,f=0,h=0;h<this.length;h++){var g=this.words[h],S=(16777215&(g<<a|f)).toString(16);f=g>>>24-a&16777215,(a+=2)>=26&&(a-=26,h--),o=f!==0||h!==this.length-1?_[6-S.length]+S+o:S+o}for(f!==0&&(o=f.toString(16)+o);o.length%d!=0;)o="0"+o;return this.negative!==0&&(o="-"+o),o}if(M===(0|M)&&M>=2&&M<=36){var I=E[M],y=w[M];o="";var u=this.clone();for(u.negative=0;!u.isZero();){var b=u.modrn(y).toString(M);o=(u=u.idivn(y)).isZero()?b+o:_[I-b.length]+b+o}for(this.isZero()&&(o="0"+o);o.length%d!=0;)o="0"+o;return this.negative!==0&&(o="-"+o),o}e(!1,"Base should be between 2 and 36")},s.prototype.toNumber=function(){var M=this.words[0];return this.length===2?M+=67108864*this.words[1]:this.length===3&&this.words[2]===1?M+=4503599627370496+67108864*this.words[1]:this.length>2&&e(!1,"Number can only safely store up to 53 bits"),this.negative!==0?-M:M},s.prototype.toJSON=function(){return this.toString(16,2)},i&&(s.prototype.toBuffer=function(M,d){return this.toArrayLike(i,M,d)}),s.prototype.toArray=function(M,d){return this.toArrayLike(Array,M,d)},s.prototype.toArrayLike=function(M,d,o){this._strip();var a=this.byteLength(),f=o||Math.max(1,a);e(a<=f,"byte array longer than desired length"),e(f>0,"Requested array length <= 0");var h=function(g,S){return g.allocUnsafe?g.allocUnsafe(S):new g(S)}(M,f);return this["_toArrayLike"+(d==="le"?"LE":"BE")](h,a),h},s.prototype._toArrayLikeLE=function(M,d){for(var o=0,a=0,f=0,h=0;f<this.length;f++){var g=this.words[f]<<h|a;M[o++]=255&g,o<M.length&&(M[o++]=g>>8&255),o<M.length&&(M[o++]=g>>16&255),h===6?(o<M.length&&(M[o++]=g>>24&255),a=0,h=0):(a=g>>>24,h+=2)}if(o<M.length)for(M[o++]=a;o<M.length;)M[o++]=0},s.prototype._toArrayLikeBE=function(M,d){for(var o=M.length-1,a=0,f=0,h=0;f<this.length;f++){var g=this.words[f]<<h|a;M[o--]=255&g,o>=0&&(M[o--]=g>>8&255),o>=0&&(M[o--]=g>>16&255),h===6?(o>=0&&(M[o--]=g>>24&255),a=0,h=0):(a=g>>>24,h+=2)}if(o>=0)for(M[o--]=a;o>=0;)M[o--]=0},Math.clz32?s.prototype._countBits=function(M){return 32-Math.clz32(M)}:s.prototype._countBits=function(M){var d=M,o=0;return d>=4096&&(o+=13,d>>>=13),d>=64&&(o+=7,d>>>=7),d>=8&&(o+=4,d>>>=4),d>=2&&(o+=2,d>>>=2),o+d},s.prototype._zeroBits=function(M){if(M===0)return 26;var d=M,o=0;return!(8191&d)&&(o+=13,d>>>=13),!(127&d)&&(o+=7,d>>>=7),!(15&d)&&(o+=4,d>>>=4),!(3&d)&&(o+=2,d>>>=2),!(1&d)&&o++,o},s.prototype.bitLength=function(){var M=this.words[this.length-1],d=this._countBits(M);return 26*(this.length-1)+d},s.prototype.zeroBits=function(){if(this.isZero())return 0;for(var M=0,d=0;d<this.length;d++){var o=this._zeroBits(this.words[d]);if(M+=o,o!==26)break}return M},s.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},s.prototype.toTwos=function(M){return this.negative!==0?this.abs().inotn(M).iaddn(1):this.clone()},s.prototype.fromTwos=function(M){return this.testn(M-1)?this.notn(M).iaddn(1).ineg():this.clone()},s.prototype.isNeg=function(){return this.negative!==0},s.prototype.neg=function(){return this.clone().ineg()},s.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},s.prototype.iuor=function(M){for(;this.length<M.length;)this.words[this.length++]=0;for(var d=0;d<M.length;d++)this.words[d]=this.words[d]|M.words[d];return this._strip()},s.prototype.ior=function(M){return e((this.negative|M.negative)==0),this.iuor(M)},s.prototype.or=function(M){return this.length>M.length?this.clone().ior(M):M.clone().ior(this)},s.prototype.uor=function(M){return this.length>M.length?this.clone().iuor(M):M.clone().iuor(this)},s.prototype.iuand=function(M){var d;d=this.length>M.length?M:this;for(var o=0;o<d.length;o++)this.words[o]=this.words[o]&M.words[o];return this.length=d.length,this._strip()},s.prototype.iand=function(M){return e((this.negative|M.negative)==0),this.iuand(M)},s.prototype.and=function(M){return this.length>M.length?this.clone().iand(M):M.clone().iand(this)},s.prototype.uand=function(M){return this.length>M.length?this.clone().iuand(M):M.clone().iuand(this)},s.prototype.iuxor=function(M){var d,o;this.length>M.length?(d=this,o=M):(d=M,o=this);for(var a=0;a<o.length;a++)this.words[a]=d.words[a]^o.words[a];if(this!==d)for(;a<d.length;a++)this.words[a]=d.words[a];return this.length=d.length,this._strip()},s.prototype.ixor=function(M){return e((this.negative|M.negative)==0),this.iuxor(M)},s.prototype.xor=function(M){return this.length>M.length?this.clone().ixor(M):M.clone().ixor(this)},s.prototype.uxor=function(M){return this.length>M.length?this.clone().iuxor(M):M.clone().iuxor(this)},s.prototype.inotn=function(M){e(typeof M=="number"&&M>=0);var d=0|Math.ceil(M/26),o=M%26;this._expand(d),o>0&&d--;for(var a=0;a<d;a++)this.words[a]=67108863&~this.words[a];return o>0&&(this.words[a]=~this.words[a]&67108863>>26-o),this._strip()},s.prototype.notn=function(M){return this.clone().inotn(M)},s.prototype.setn=function(M,d){e(typeof M=="number"&&M>=0);var o=M/26|0,a=M%26;return this._expand(o+1),this.words[o]=d?this.words[o]|1<<a:this.words[o]&~(1<<a),this._strip()},s.prototype.iadd=function(M){var d,o,a;if(this.negative!==0&&M.negative===0)return this.negative=0,d=this.isub(M),this.negative^=1,this._normSign();if(this.negative===0&&M.negative!==0)return M.negative=0,d=this.isub(M),M.negative=1,d._normSign();this.length>M.length?(o=this,a=M):(o=M,a=this);for(var f=0,h=0;h<a.length;h++)d=(0|o.words[h])+(0|a.words[h])+f,this.words[h]=67108863&d,f=d>>>26;for(;f!==0&&h<o.length;h++)d=(0|o.words[h])+f,this.words[h]=67108863&d,f=d>>>26;if(this.length=o.length,f!==0)this.words[this.length]=f,this.length++;else if(o!==this)for(;h<o.length;h++)this.words[h]=o.words[h];return this},s.prototype.add=function(M){var d;return M.negative!==0&&this.negative===0?(M.negative=0,d=this.sub(M),M.negative^=1,d):M.negative===0&&this.negative!==0?(this.negative=0,d=M.sub(this),this.negative=1,d):this.length>M.length?this.clone().iadd(M):M.clone().iadd(this)},s.prototype.isub=function(M){if(M.negative!==0){M.negative=0;var d=this.iadd(M);return M.negative=1,d._normSign()}if(this.negative!==0)return this.negative=0,this.iadd(M),this.negative=1,this._normSign();var o,a,f=this.cmp(M);if(f===0)return this.negative=0,this.length=1,this.words[0]=0,this;f>0?(o=this,a=M):(o=M,a=this);for(var h=0,g=0;g<a.length;g++)h=(d=(0|o.words[g])-(0|a.words[g])+h)>>26,this.words[g]=67108863&d;for(;h!==0&&g<o.length;g++)h=(d=(0|o.words[g])+h)>>26,this.words[g]=67108863&d;if(h===0&&g<o.length&&o!==this)for(;g<o.length;g++)this.words[g]=o.words[g];return this.length=Math.max(this.length,g),o!==this&&(this.negative=1),this._strip()},s.prototype.sub=function(M){return this.clone().isub(M)};var A=function(M,d,o){var a,f,h,g=M.words,S=d.words,I=o.words,y=0,u=0|g[0],b=8191&u,D=u>>>13,Z=0|g[1],F=8191&Z,q=Z>>>13,it=0|g[2],at=8191&it,Bt=it>>>13,yt=0|g[3],pt=8191&yt,Ft=yt>>>13,lt=0|g[4],ct=8191&lt,Tt=lt>>>13,kt=0|g[5],k=8191&kt,T=kt>>>13,L=0|g[6],j=8191&L,rt=L>>>13,Q=0|g[7],ot=8191&Q,qt=Q>>>13,It=0|g[8],xt=8191&It,Qt=It>>>13,Ct=0|g[9],Dt=8191&Ct,Se=Ct>>>13,te=0|S[0],Ut=8191&te,Te=te>>>13,J=0|S[1],X=8191&J,st=J>>>13,N=0|S[2],$=8191&N,gt=N>>>13,ft=0|S[3],mt=8191&ft,vt=ft>>>13,At=0|S[4],_t=8191&At,Gt=At>>>13,Rt=0|S[5],wt=8191&Rt,se=Rt>>>13,Lt=0|S[6],Et=8191&Lt,de=Lt>>>13,Pt=0|S[7],Mt=8191&Pt,K=Pt>>>13,Y=0|S[8],V=8191&Y,U=Y>>>13,W=0|S[9],et=8191&W,dt=W>>>13;o.negative=M.negative^d.negative,o.length=19;var ut=(y+(a=Math.imul(b,Ut))|0)+((8191&(f=(f=Math.imul(b,Te))+Math.imul(D,Ut)|0))<<13)|0;y=((h=Math.imul(D,Te))+(f>>>13)|0)+(ut>>>26)|0,ut&=67108863,a=Math.imul(F,Ut),f=(f=Math.imul(F,Te))+Math.imul(q,Ut)|0,h=Math.imul(q,Te);var ht=(y+(a=a+Math.imul(b,X)|0)|0)+((8191&(f=(f=f+Math.imul(b,st)|0)+Math.imul(D,X)|0))<<13)|0;y=((h=h+Math.imul(D,st)|0)+(f>>>13)|0)+(ht>>>26)|0,ht&=67108863,a=Math.imul(at,Ut),f=(f=Math.imul(at,Te))+Math.imul(Bt,Ut)|0,h=Math.imul(Bt,Te),a=a+Math.imul(F,X)|0,f=(f=f+Math.imul(F,st)|0)+Math.imul(q,X)|0,h=h+Math.imul(q,st)|0;var zt=(y+(a=a+Math.imul(b,$)|0)|0)+((8191&(f=(f=f+Math.imul(b,gt)|0)+Math.imul(D,$)|0))<<13)|0;y=((h=h+Math.imul(D,gt)|0)+(f>>>13)|0)+(zt>>>26)|0,zt&=67108863,a=Math.imul(pt,Ut),f=(f=Math.imul(pt,Te))+Math.imul(Ft,Ut)|0,h=Math.imul(Ft,Te),a=a+Math.imul(at,X)|0,f=(f=f+Math.imul(at,st)|0)+Math.imul(Bt,X)|0,h=h+Math.imul(Bt,st)|0,a=a+Math.imul(F,$)|0,f=(f=f+Math.imul(F,gt)|0)+Math.imul(q,$)|0,h=h+Math.imul(q,gt)|0;var Wt=(y+(a=a+Math.imul(b,mt)|0)|0)+((8191&(f=(f=f+Math.imul(b,vt)|0)+Math.imul(D,mt)|0))<<13)|0;y=((h=h+Math.imul(D,vt)|0)+(f>>>13)|0)+(Wt>>>26)|0,Wt&=67108863,a=Math.imul(ct,Ut),f=(f=Math.imul(ct,Te))+Math.imul(Tt,Ut)|0,h=Math.imul(Tt,Te),a=a+Math.imul(pt,X)|0,f=(f=f+Math.imul(pt,st)|0)+Math.imul(Ft,X)|0,h=h+Math.imul(Ft,st)|0,a=a+Math.imul(at,$)|0,f=(f=f+Math.imul(at,gt)|0)+Math.imul(Bt,$)|0,h=h+Math.imul(Bt,gt)|0,a=a+Math.imul(F,mt)|0,f=(f=f+Math.imul(F,vt)|0)+Math.imul(q,mt)|0,h=h+Math.imul(q,vt)|0;var ye=(y+(a=a+Math.imul(b,_t)|0)|0)+((8191&(f=(f=f+Math.imul(b,Gt)|0)+Math.imul(D,_t)|0))<<13)|0;y=((h=h+Math.imul(D,Gt)|0)+(f>>>13)|0)+(ye>>>26)|0,ye&=67108863,a=Math.imul(k,Ut),f=(f=Math.imul(k,Te))+Math.imul(T,Ut)|0,h=Math.imul(T,Te),a=a+Math.imul(ct,X)|0,f=(f=f+Math.imul(ct,st)|0)+Math.imul(Tt,X)|0,h=h+Math.imul(Tt,st)|0,a=a+Math.imul(pt,$)|0,f=(f=f+Math.imul(pt,gt)|0)+Math.imul(Ft,$)|0,h=h+Math.imul(Ft,gt)|0,a=a+Math.imul(at,mt)|0,f=(f=f+Math.imul(at,vt)|0)+Math.imul(Bt,mt)|0,h=h+Math.imul(Bt,vt)|0,a=a+Math.imul(F,_t)|0,f=(f=f+Math.imul(F,Gt)|0)+Math.imul(q,_t)|0,h=h+Math.imul(q,Gt)|0;var Yt=(y+(a=a+Math.imul(b,wt)|0)|0)+((8191&(f=(f=f+Math.imul(b,se)|0)+Math.imul(D,wt)|0))<<13)|0;y=((h=h+Math.imul(D,se)|0)+(f>>>13)|0)+(Yt>>>26)|0,Yt&=67108863,a=Math.imul(j,Ut),f=(f=Math.imul(j,Te))+Math.imul(rt,Ut)|0,h=Math.imul(rt,Te),a=a+Math.imul(k,X)|0,f=(f=f+Math.imul(k,st)|0)+Math.imul(T,X)|0,h=h+Math.imul(T,st)|0,a=a+Math.imul(ct,$)|0,f=(f=f+Math.imul(ct,gt)|0)+Math.imul(Tt,$)|0,h=h+Math.imul(Tt,gt)|0,a=a+Math.imul(pt,mt)|0,f=(f=f+Math.imul(pt,vt)|0)+Math.imul(Ft,mt)|0,h=h+Math.imul(Ft,vt)|0,a=a+Math.imul(at,_t)|0,f=(f=f+Math.imul(at,Gt)|0)+Math.imul(Bt,_t)|0,h=h+Math.imul(Bt,Gt)|0,a=a+Math.imul(F,wt)|0,f=(f=f+Math.imul(F,se)|0)+Math.imul(q,wt)|0,h=h+Math.imul(q,se)|0;var pe=(y+(a=a+Math.imul(b,Et)|0)|0)+((8191&(f=(f=f+Math.imul(b,de)|0)+Math.imul(D,Et)|0))<<13)|0;y=((h=h+Math.imul(D,de)|0)+(f>>>13)|0)+(pe>>>26)|0,pe&=67108863,a=Math.imul(ot,Ut),f=(f=Math.imul(ot,Te))+Math.imul(qt,Ut)|0,h=Math.imul(qt,Te),a=a+Math.imul(j,X)|0,f=(f=f+Math.imul(j,st)|0)+Math.imul(rt,X)|0,h=h+Math.imul(rt,st)|0,a=a+Math.imul(k,$)|0,f=(f=f+Math.imul(k,gt)|0)+Math.imul(T,$)|0,h=h+Math.imul(T,gt)|0,a=a+Math.imul(ct,mt)|0,f=(f=f+Math.imul(ct,vt)|0)+Math.imul(Tt,mt)|0,h=h+Math.imul(Tt,vt)|0,a=a+Math.imul(pt,_t)|0,f=(f=f+Math.imul(pt,Gt)|0)+Math.imul(Ft,_t)|0,h=h+Math.imul(Ft,Gt)|0,a=a+Math.imul(at,wt)|0,f=(f=f+Math.imul(at,se)|0)+Math.imul(Bt,wt)|0,h=h+Math.imul(Bt,se)|0,a=a+Math.imul(F,Et)|0,f=(f=f+Math.imul(F,de)|0)+Math.imul(q,Et)|0,h=h+Math.imul(q,de)|0;var ve=(y+(a=a+Math.imul(b,Mt)|0)|0)+((8191&(f=(f=f+Math.imul(b,K)|0)+Math.imul(D,Mt)|0))<<13)|0;y=((h=h+Math.imul(D,K)|0)+(f>>>13)|0)+(ve>>>26)|0,ve&=67108863,a=Math.imul(xt,Ut),f=(f=Math.imul(xt,Te))+Math.imul(Qt,Ut)|0,h=Math.imul(Qt,Te),a=a+Math.imul(ot,X)|0,f=(f=f+Math.imul(ot,st)|0)+Math.imul(qt,X)|0,h=h+Math.imul(qt,st)|0,a=a+Math.imul(j,$)|0,f=(f=f+Math.imul(j,gt)|0)+Math.imul(rt,$)|0,h=h+Math.imul(rt,gt)|0,a=a+Math.imul(k,mt)|0,f=(f=f+Math.imul(k,vt)|0)+Math.imul(T,mt)|0,h=h+Math.imul(T,vt)|0,a=a+Math.imul(ct,_t)|0,f=(f=f+Math.imul(ct,Gt)|0)+Math.imul(Tt,_t)|0,h=h+Math.imul(Tt,Gt)|0,a=a+Math.imul(pt,wt)|0,f=(f=f+Math.imul(pt,se)|0)+Math.imul(Ft,wt)|0,h=h+Math.imul(Ft,se)|0,a=a+Math.imul(at,Et)|0,f=(f=f+Math.imul(at,de)|0)+Math.imul(Bt,Et)|0,h=h+Math.imul(Bt,de)|0,a=a+Math.imul(F,Mt)|0,f=(f=f+Math.imul(F,K)|0)+Math.imul(q,Mt)|0,h=h+Math.imul(q,K)|0;var ge=(y+(a=a+Math.imul(b,V)|0)|0)+((8191&(f=(f=f+Math.imul(b,U)|0)+Math.imul(D,V)|0))<<13)|0;y=((h=h+Math.imul(D,U)|0)+(f>>>13)|0)+(ge>>>26)|0,ge&=67108863,a=Math.imul(Dt,Ut),f=(f=Math.imul(Dt,Te))+Math.imul(Se,Ut)|0,h=Math.imul(Se,Te),a=a+Math.imul(xt,X)|0,f=(f=f+Math.imul(xt,st)|0)+Math.imul(Qt,X)|0,h=h+Math.imul(Qt,st)|0,a=a+Math.imul(ot,$)|0,f=(f=f+Math.imul(ot,gt)|0)+Math.imul(qt,$)|0,h=h+Math.imul(qt,gt)|0,a=a+Math.imul(j,mt)|0,f=(f=f+Math.imul(j,vt)|0)+Math.imul(rt,mt)|0,h=h+Math.imul(rt,vt)|0,a=a+Math.imul(k,_t)|0,f=(f=f+Math.imul(k,Gt)|0)+Math.imul(T,_t)|0,h=h+Math.imul(T,Gt)|0,a=a+Math.imul(ct,wt)|0,f=(f=f+Math.imul(ct,se)|0)+Math.imul(Tt,wt)|0,h=h+Math.imul(Tt,se)|0,a=a+Math.imul(pt,Et)|0,f=(f=f+Math.imul(pt,de)|0)+Math.imul(Ft,Et)|0,h=h+Math.imul(Ft,de)|0,a=a+Math.imul(at,Mt)|0,f=(f=f+Math.imul(at,K)|0)+Math.imul(Bt,Mt)|0,h=h+Math.imul(Bt,K)|0,a=a+Math.imul(F,V)|0,f=(f=f+Math.imul(F,U)|0)+Math.imul(q,V)|0,h=h+Math.imul(q,U)|0;var ie=(y+(a=a+Math.imul(b,et)|0)|0)+((8191&(f=(f=f+Math.imul(b,dt)|0)+Math.imul(D,et)|0))<<13)|0;y=((h=h+Math.imul(D,dt)|0)+(f>>>13)|0)+(ie>>>26)|0,ie&=67108863,a=Math.imul(Dt,X),f=(f=Math.imul(Dt,st))+Math.imul(Se,X)|0,h=Math.imul(Se,st),a=a+Math.imul(xt,$)|0,f=(f=f+Math.imul(xt,gt)|0)+Math.imul(Qt,$)|0,h=h+Math.imul(Qt,gt)|0,a=a+Math.imul(ot,mt)|0,f=(f=f+Math.imul(ot,vt)|0)+Math.imul(qt,mt)|0,h=h+Math.imul(qt,vt)|0,a=a+Math.imul(j,_t)|0,f=(f=f+Math.imul(j,Gt)|0)+Math.imul(rt,_t)|0,h=h+Math.imul(rt,Gt)|0,a=a+Math.imul(k,wt)|0,f=(f=f+Math.imul(k,se)|0)+Math.imul(T,wt)|0,h=h+Math.imul(T,se)|0,a=a+Math.imul(ct,Et)|0,f=(f=f+Math.imul(ct,de)|0)+Math.imul(Tt,Et)|0,h=h+Math.imul(Tt,de)|0,a=a+Math.imul(pt,Mt)|0,f=(f=f+Math.imul(pt,K)|0)+Math.imul(Ft,Mt)|0,h=h+Math.imul(Ft,K)|0,a=a+Math.imul(at,V)|0,f=(f=f+Math.imul(at,U)|0)+Math.imul(Bt,V)|0,h=h+Math.imul(Bt,U)|0;var ue=(y+(a=a+Math.imul(F,et)|0)|0)+((8191&(f=(f=f+Math.imul(F,dt)|0)+Math.imul(q,et)|0))<<13)|0;y=((h=h+Math.imul(q,dt)|0)+(f>>>13)|0)+(ue>>>26)|0,ue&=67108863,a=Math.imul(Dt,$),f=(f=Math.imul(Dt,gt))+Math.imul(Se,$)|0,h=Math.imul(Se,gt),a=a+Math.imul(xt,mt)|0,f=(f=f+Math.imul(xt,vt)|0)+Math.imul(Qt,mt)|0,h=h+Math.imul(Qt,vt)|0,a=a+Math.imul(ot,_t)|0,f=(f=f+Math.imul(ot,Gt)|0)+Math.imul(qt,_t)|0,h=h+Math.imul(qt,Gt)|0,a=a+Math.imul(j,wt)|0,f=(f=f+Math.imul(j,se)|0)+Math.imul(rt,wt)|0,h=h+Math.imul(rt,se)|0,a=a+Math.imul(k,Et)|0,f=(f=f+Math.imul(k,de)|0)+Math.imul(T,Et)|0,h=h+Math.imul(T,de)|0,a=a+Math.imul(ct,Mt)|0,f=(f=f+Math.imul(ct,K)|0)+Math.imul(Tt,Mt)|0,h=h+Math.imul(Tt,K)|0,a=a+Math.imul(pt,V)|0,f=(f=f+Math.imul(pt,U)|0)+Math.imul(Ft,V)|0,h=h+Math.imul(Ft,U)|0;var fe=(y+(a=a+Math.imul(at,et)|0)|0)+((8191&(f=(f=f+Math.imul(at,dt)|0)+Math.imul(Bt,et)|0))<<13)|0;y=((h=h+Math.imul(Bt,dt)|0)+(f>>>13)|0)+(fe>>>26)|0,fe&=67108863,a=Math.imul(Dt,mt),f=(f=Math.imul(Dt,vt))+Math.imul(Se,mt)|0,h=Math.imul(Se,vt),a=a+Math.imul(xt,_t)|0,f=(f=f+Math.imul(xt,Gt)|0)+Math.imul(Qt,_t)|0,h=h+Math.imul(Qt,Gt)|0,a=a+Math.imul(ot,wt)|0,f=(f=f+Math.imul(ot,se)|0)+Math.imul(qt,wt)|0,h=h+Math.imul(qt,se)|0,a=a+Math.imul(j,Et)|0,f=(f=f+Math.imul(j,de)|0)+Math.imul(rt,Et)|0,h=h+Math.imul(rt,de)|0,a=a+Math.imul(k,Mt)|0,f=(f=f+Math.imul(k,K)|0)+Math.imul(T,Mt)|0,h=h+Math.imul(T,K)|0,a=a+Math.imul(ct,V)|0,f=(f=f+Math.imul(ct,U)|0)+Math.imul(Tt,V)|0,h=h+Math.imul(Tt,U)|0;var ce=(y+(a=a+Math.imul(pt,et)|0)|0)+((8191&(f=(f=f+Math.imul(pt,dt)|0)+Math.imul(Ft,et)|0))<<13)|0;y=((h=h+Math.imul(Ft,dt)|0)+(f>>>13)|0)+(ce>>>26)|0,ce&=67108863,a=Math.imul(Dt,_t),f=(f=Math.imul(Dt,Gt))+Math.imul(Se,_t)|0,h=Math.imul(Se,Gt),a=a+Math.imul(xt,wt)|0,f=(f=f+Math.imul(xt,se)|0)+Math.imul(Qt,wt)|0,h=h+Math.imul(Qt,se)|0,a=a+Math.imul(ot,Et)|0,f=(f=f+Math.imul(ot,de)|0)+Math.imul(qt,Et)|0,h=h+Math.imul(qt,de)|0,a=a+Math.imul(j,Mt)|0,f=(f=f+Math.imul(j,K)|0)+Math.imul(rt,Mt)|0,h=h+Math.imul(rt,K)|0,a=a+Math.imul(k,V)|0,f=(f=f+Math.imul(k,U)|0)+Math.imul(T,V)|0,h=h+Math.imul(T,U)|0;var Kt=(y+(a=a+Math.imul(ct,et)|0)|0)+((8191&(f=(f=f+Math.imul(ct,dt)|0)+Math.imul(Tt,et)|0))<<13)|0;y=((h=h+Math.imul(Tt,dt)|0)+(f>>>13)|0)+(Kt>>>26)|0,Kt&=67108863,a=Math.imul(Dt,wt),f=(f=Math.imul(Dt,se))+Math.imul(Se,wt)|0,h=Math.imul(Se,se),a=a+Math.imul(xt,Et)|0,f=(f=f+Math.imul(xt,de)|0)+Math.imul(Qt,Et)|0,h=h+Math.imul(Qt,de)|0,a=a+Math.imul(ot,Mt)|0,f=(f=f+Math.imul(ot,K)|0)+Math.imul(qt,Mt)|0,h=h+Math.imul(qt,K)|0,a=a+Math.imul(j,V)|0,f=(f=f+Math.imul(j,U)|0)+Math.imul(rt,V)|0,h=h+Math.imul(rt,U)|0;var oe=(y+(a=a+Math.imul(k,et)|0)|0)+((8191&(f=(f=f+Math.imul(k,dt)|0)+Math.imul(T,et)|0))<<13)|0;y=((h=h+Math.imul(T,dt)|0)+(f>>>13)|0)+(oe>>>26)|0,oe&=67108863,a=Math.imul(Dt,Et),f=(f=Math.imul(Dt,de))+Math.imul(Se,Et)|0,h=Math.imul(Se,de),a=a+Math.imul(xt,Mt)|0,f=(f=f+Math.imul(xt,K)|0)+Math.imul(Qt,Mt)|0,h=h+Math.imul(Qt,K)|0,a=a+Math.imul(ot,V)|0,f=(f=f+Math.imul(ot,U)|0)+Math.imul(qt,V)|0,h=h+Math.imul(qt,U)|0;var Jt=(y+(a=a+Math.imul(j,et)|0)|0)+((8191&(f=(f=f+Math.imul(j,dt)|0)+Math.imul(rt,et)|0))<<13)|0;y=((h=h+Math.imul(rt,dt)|0)+(f>>>13)|0)+(Jt>>>26)|0,Jt&=67108863,a=Math.imul(Dt,Mt),f=(f=Math.imul(Dt,K))+Math.imul(Se,Mt)|0,h=Math.imul(Se,K),a=a+Math.imul(xt,V)|0,f=(f=f+Math.imul(xt,U)|0)+Math.imul(Qt,V)|0,h=h+Math.imul(Qt,U)|0;var le=(y+(a=a+Math.imul(ot,et)|0)|0)+((8191&(f=(f=f+Math.imul(ot,dt)|0)+Math.imul(qt,et)|0))<<13)|0;y=((h=h+Math.imul(qt,dt)|0)+(f>>>13)|0)+(le>>>26)|0,le&=67108863,a=Math.imul(Dt,V),f=(f=Math.imul(Dt,U))+Math.imul(Se,V)|0,h=Math.imul(Se,U);var ae=(y+(a=a+Math.imul(xt,et)|0)|0)+((8191&(f=(f=f+Math.imul(xt,dt)|0)+Math.imul(Qt,et)|0))<<13)|0;y=((h=h+Math.imul(Qt,dt)|0)+(f>>>13)|0)+(ae>>>26)|0,ae&=67108863;var ne=(y+(a=Math.imul(Dt,et))|0)+((8191&(f=(f=Math.imul(Dt,dt))+Math.imul(Se,et)|0))<<13)|0;return y=((h=Math.imul(Se,dt))+(f>>>13)|0)+(ne>>>26)|0,ne&=67108863,I[0]=ut,I[1]=ht,I[2]=zt,I[3]=Wt,I[4]=ye,I[5]=Yt,I[6]=pe,I[7]=ve,I[8]=ge,I[9]=ie,I[10]=ue,I[11]=fe,I[12]=ce,I[13]=Kt,I[14]=oe,I[15]=Jt,I[16]=le,I[17]=ae,I[18]=ne,y!==0&&(I[19]=y,o.length++),o};function B(M,d,o){o.negative=d.negative^M.negative,o.length=M.length+d.length;for(var a=0,f=0,h=0;h<o.length-1;h++){var g=f;f=0;for(var S=67108863&a,I=Math.min(h,d.length-1),y=Math.max(0,h-M.length+1);y<=I;y++){var u=h-y,b=(0|M.words[u])*(0|d.words[y]),D=67108863&b;S=67108863&(D=D+S|0),f+=(g=(g=g+(b/67108864|0)|0)+(D>>>26)|0)>>>26,g&=67108863}o.words[h]=S,a=g,g=f}return a!==0?o.words[h]=a:o.length--,o._strip()}function P(M,d,o){return B(M,d,o)}Math.imul||(A=x),s.prototype.mulTo=function(M,d){var o=this.length+M.length;return this.length===10&&M.length===10?A(this,M,d):o<63?x(this,M,d):o<1024?B(this,M,d):P(this,M,d)},s.prototype.mul=function(M){var d=new s(null);return d.words=new Array(this.length+M.length),this.mulTo(M,d)},s.prototype.mulf=function(M){var d=new s(null);return d.words=new Array(this.length+M.length),P(this,M,d)},s.prototype.imul=function(M){return this.clone().mulTo(M,this)},s.prototype.imuln=function(M){var d=M<0;d&&(M=-M),e(typeof M=="number"),e(M<67108864);for(var o=0,a=0;a<this.length;a++){var f=(0|this.words[a])*M,h=(67108863&f)+(67108863&o);o>>=26,o+=f/67108864|0,o+=h>>>26,this.words[a]=67108863&h}return o!==0&&(this.words[a]=o,this.length++),d?this.ineg():this},s.prototype.muln=function(M){return this.clone().imuln(M)},s.prototype.sqr=function(){return this.mul(this)},s.prototype.isqr=function(){return this.imul(this.clone())},s.prototype.pow=function(M){var d=function(h){for(var g=new Array(h.bitLength()),S=0;S<g.length;S++){var I=S/26|0,y=S%26;g[S]=h.words[I]>>>y&1}return g}(M);if(d.length===0)return new s(1);for(var o=this,a=0;a<d.length&&d[a]===0;a++,o=o.sqr());if(++a<d.length)for(var f=o.sqr();a<d.length;a++,f=f.sqr())d[a]!==0&&(o=o.mul(f));return o},s.prototype.iushln=function(M){e(typeof M=="number"&&M>=0);var d,o=M%26,a=(M-o)/26,f=67108863>>>26-o<<26-o;if(o!==0){var h=0;for(d=0;d<this.length;d++){var g=this.words[d]&f,S=(0|this.words[d])-g<<o;this.words[d]=S|h,h=g>>>26-o}h&&(this.words[d]=h,this.length++)}if(a!==0){for(d=this.length-1;d>=0;d--)this.words[d+a]=this.words[d];for(d=0;d<a;d++)this.words[d]=0;this.length+=a}return this._strip()},s.prototype.ishln=function(M){return e(this.negative===0),this.iushln(M)},s.prototype.iushrn=function(M,d,o){var a;e(typeof M=="number"&&M>=0),a=d?(d-d%26)/26:0;var f=M%26,h=Math.min((M-f)/26,this.length),g=67108863^67108863>>>f<<f,S=o;if(a-=h,a=Math.max(0,a),S){for(var I=0;I<h;I++)S.words[I]=this.words[I];S.length=h}if(h!==0)if(this.length>h)for(this.length-=h,I=0;I<this.length;I++)this.words[I]=this.words[I+h];else this.words[0]=0,this.length=1;var y=0;for(I=this.length-1;I>=0&&(y!==0||I>=a);I--){var u=0|this.words[I];this.words[I]=y<<26-f|u>>>f,y=u&g}return S&&y!==0&&(S.words[S.length++]=y),this.length===0&&(this.words[0]=0,this.length=1),this._strip()},s.prototype.ishrn=function(M,d,o){return e(this.negative===0),this.iushrn(M,d,o)},s.prototype.shln=function(M){return this.clone().ishln(M)},s.prototype.ushln=function(M){return this.clone().iushln(M)},s.prototype.shrn=function(M){return this.clone().ishrn(M)},s.prototype.ushrn=function(M){return this.clone().iushrn(M)},s.prototype.testn=function(M){e(typeof M=="number"&&M>=0);var d=M%26,o=(M-d)/26,a=1<<d;return!(this.length<=o||!(this.words[o]&a))},s.prototype.imaskn=function(M){e(typeof M=="number"&&M>=0);var d=M%26,o=(M-d)/26;if(e(this.negative===0,"imaskn works only with positive numbers"),this.length<=o)return this;if(d!==0&&o++,this.length=Math.min(o,this.length),d!==0){var a=67108863^67108863>>>d<<d;this.words[this.length-1]&=a}return this._strip()},s.prototype.maskn=function(M){return this.clone().imaskn(M)},s.prototype.iaddn=function(M){return e(typeof M=="number"),e(M<67108864),M<0?this.isubn(-M):this.negative!==0?this.length===1&&(0|this.words[0])<=M?(this.words[0]=M-(0|this.words[0]),this.negative=0,this):(this.negative=0,this.isubn(M),this.negative=1,this):this._iaddn(M)},s.prototype._iaddn=function(M){this.words[0]+=M;for(var d=0;d<this.length&&this.words[d]>=67108864;d++)this.words[d]-=67108864,d===this.length-1?this.words[d+1]=1:this.words[d+1]++;return this.length=Math.max(this.length,d+1),this},s.prototype.isubn=function(M){if(e(typeof M=="number"),e(M<67108864),M<0)return this.iaddn(-M);if(this.negative!==0)return this.negative=0,this.iaddn(M),this.negative=1,this;if(this.words[0]-=M,this.length===1&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var d=0;d<this.length&&this.words[d]<0;d++)this.words[d]+=67108864,this.words[d+1]-=1;return this._strip()},s.prototype.addn=function(M){return this.clone().iaddn(M)},s.prototype.subn=function(M){return this.clone().isubn(M)},s.prototype.iabs=function(){return this.negative=0,this},s.prototype.abs=function(){return this.clone().iabs()},s.prototype._ishlnsubmul=function(M,d,o){var a,f,h=M.length+o;this._expand(h);var g=0;for(a=0;a<M.length;a++){f=(0|this.words[a+o])+g;var S=(0|M.words[a])*d;g=((f-=67108863&S)>>26)-(S/67108864|0),this.words[a+o]=67108863&f}for(;a<this.length-o;a++)g=(f=(0|this.words[a+o])+g)>>26,this.words[a+o]=67108863&f;if(g===0)return this._strip();for(e(g===-1),g=0,a=0;a<this.length;a++)g=(f=-(0|this.words[a])+g)>>26,this.words[a]=67108863&f;return this.negative=1,this._strip()},s.prototype._wordDiv=function(M,d){var o=(this.length,M.length),a=this.clone(),f=M,h=0|f.words[f.length-1];(o=26-this._countBits(h))!=0&&(f=f.ushln(o),a.iushln(o),h=0|f.words[f.length-1]);var g,S=a.length-f.length;if(d!=="mod"){(g=new s(null)).length=S+1,g.words=new Array(g.length);for(var I=0;I<g.length;I++)g.words[I]=0}var y=a.clone()._ishlnsubmul(f,1,S);y.negative===0&&(a=y,g&&(g.words[S]=1));for(var u=S-1;u>=0;u--){var b=67108864*(0|a.words[f.length+u])+(0|a.words[f.length+u-1]);for(b=Math.min(b/h|0,67108863),a._ishlnsubmul(f,b,u);a.negative!==0;)b--,a.negative=0,a._ishlnsubmul(f,1,u),a.isZero()||(a.negative^=1);g&&(g.words[u]=b)}return g&&g._strip(),a._strip(),d!=="div"&&o!==0&&a.iushrn(o),{div:g||null,mod:a}},s.prototype.divmod=function(M,d,o){return e(!M.isZero()),this.isZero()?{div:new s(0),mod:new s(0)}:this.negative!==0&&M.negative===0?(h=this.neg().divmod(M,d),d!=="mod"&&(a=h.div.neg()),d!=="div"&&(f=h.mod.neg(),o&&f.negative!==0&&f.iadd(M)),{div:a,mod:f}):this.negative===0&&M.negative!==0?(h=this.divmod(M.neg(),d),d!=="mod"&&(a=h.div.neg()),{div:a,mod:h.mod}):this.negative&M.negative?(h=this.neg().divmod(M.neg(),d),d!=="div"&&(f=h.mod.neg(),o&&f.negative!==0&&f.isub(M)),{div:h.div,mod:f}):M.length>this.length||this.cmp(M)<0?{div:new s(0),mod:this}:M.length===1?d==="div"?{div:this.divn(M.words[0]),mod:null}:d==="mod"?{div:null,mod:new s(this.modrn(M.words[0]))}:{div:this.divn(M.words[0]),mod:new s(this.modrn(M.words[0]))}:this._wordDiv(M,d);var a,f,h},s.prototype.div=function(M){return this.divmod(M,"div",!1).div},s.prototype.mod=function(M){return this.divmod(M,"mod",!1).mod},s.prototype.umod=function(M){return this.divmod(M,"mod",!0).mod},s.prototype.divRound=function(M){var d=this.divmod(M);if(d.mod.isZero())return d.div;var o=d.div.negative!==0?d.mod.isub(M):d.mod,a=M.ushrn(1),f=M.andln(1),h=o.cmp(a);return h<0||f===1&&h===0?d.div:d.div.negative!==0?d.div.isubn(1):d.div.iaddn(1)},s.prototype.modrn=function(M){var d=M<0;d&&(M=-M),e(M<=67108863);for(var o=(1<<26)%M,a=0,f=this.length-1;f>=0;f--)a=(o*a+(0|this.words[f]))%M;return d?-a:a},s.prototype.modn=function(M){return this.modrn(M)},s.prototype.idivn=function(M){var d=M<0;d&&(M=-M),e(M<=67108863);for(var o=0,a=this.length-1;a>=0;a--){var f=(0|this.words[a])+67108864*o;this.words[a]=f/M|0,o=f%M}return this._strip(),d?this.ineg():this},s.prototype.divn=function(M){return this.clone().idivn(M)},s.prototype.egcd=function(M){e(M.negative===0),e(!M.isZero());var d=this,o=M.clone();d=d.negative!==0?d.umod(M):d.clone();for(var a=new s(1),f=new s(0),h=new s(0),g=new s(1),S=0;d.isEven()&&o.isEven();)d.iushrn(1),o.iushrn(1),++S;for(var I=o.clone(),y=d.clone();!d.isZero();){for(var u=0,b=1;!(d.words[0]&b)&&u<26;++u,b<<=1);if(u>0)for(d.iushrn(u);u-- >0;)(a.isOdd()||f.isOdd())&&(a.iadd(I),f.isub(y)),a.iushrn(1),f.iushrn(1);for(var D=0,Z=1;!(o.words[0]&Z)&&D<26;++D,Z<<=1);if(D>0)for(o.iushrn(D);D-- >0;)(h.isOdd()||g.isOdd())&&(h.iadd(I),g.isub(y)),h.iushrn(1),g.iushrn(1);d.cmp(o)>=0?(d.isub(o),a.isub(h),f.isub(g)):(o.isub(d),h.isub(a),g.isub(f))}return{a:h,b:g,gcd:o.iushln(S)}},s.prototype._invmp=function(M){e(M.negative===0),e(!M.isZero());var d=this,o=M.clone();d=d.negative!==0?d.umod(M):d.clone();for(var a,f=new s(1),h=new s(0),g=o.clone();d.cmpn(1)>0&&o.cmpn(1)>0;){for(var S=0,I=1;!(d.words[0]&I)&&S<26;++S,I<<=1);if(S>0)for(d.iushrn(S);S-- >0;)f.isOdd()&&f.iadd(g),f.iushrn(1);for(var y=0,u=1;!(o.words[0]&u)&&y<26;++y,u<<=1);if(y>0)for(o.iushrn(y);y-- >0;)h.isOdd()&&h.iadd(g),h.iushrn(1);d.cmp(o)>=0?(d.isub(o),f.isub(h)):(o.isub(d),h.isub(f))}return(a=d.cmpn(1)===0?f:h).cmpn(0)<0&&a.iadd(M),a},s.prototype.gcd=function(M){if(this.isZero())return M.abs();if(M.isZero())return this.abs();var d=this.clone(),o=M.clone();d.negative=0,o.negative=0;for(var a=0;d.isEven()&&o.isEven();a++)d.iushrn(1),o.iushrn(1);for(;;){for(;d.isEven();)d.iushrn(1);for(;o.isEven();)o.iushrn(1);var f=d.cmp(o);if(f<0){var h=d;d=o,o=h}else if(f===0||o.cmpn(1)===0)break;d.isub(o)}return o.iushln(a)},s.prototype.invm=function(M){return this.egcd(M).a.umod(M)},s.prototype.isEven=function(){return(1&this.words[0])==0},s.prototype.isOdd=function(){return(1&this.words[0])==1},s.prototype.andln=function(M){return this.words[0]&M},s.prototype.bincn=function(M){e(typeof M=="number");var d=M%26,o=(M-d)/26,a=1<<d;if(this.length<=o)return this._expand(o+1),this.words[o]|=a,this;for(var f=a,h=o;f!==0&&h<this.length;h++){var g=0|this.words[h];f=(g+=f)>>>26,g&=67108863,this.words[h]=g}return f!==0&&(this.words[h]=f,this.length++),this},s.prototype.isZero=function(){return this.length===1&&this.words[0]===0},s.prototype.cmpn=function(M){var d,o=M<0;if(this.negative!==0&&!o)return-1;if(this.negative===0&&o)return 1;if(this._strip(),this.length>1)d=1;else{o&&(M=-M),e(M<=67108863,"Number is too big");var a=0|this.words[0];d=a===M?0:a<M?-1:1}return this.negative!==0?0|-d:d},s.prototype.cmp=function(M){if(this.negative!==0&&M.negative===0)return-1;if(this.negative===0&&M.negative!==0)return 1;var d=this.ucmp(M);return this.negative!==0?0|-d:d},s.prototype.ucmp=function(M){if(this.length>M.length)return 1;if(this.length<M.length)return-1;for(var d=0,o=this.length-1;o>=0;o--){var a=0|this.words[o],f=0|M.words[o];if(a!==f){a<f?d=-1:a>f&&(d=1);break}}return d},s.prototype.gtn=function(M){return this.cmpn(M)===1},s.prototype.gt=function(M){return this.cmp(M)===1},s.prototype.gten=function(M){return this.cmpn(M)>=0},s.prototype.gte=function(M){return this.cmp(M)>=0},s.prototype.ltn=function(M){return this.cmpn(M)===-1},s.prototype.lt=function(M){return this.cmp(M)===-1},s.prototype.lten=function(M){return this.cmpn(M)<=0},s.prototype.lte=function(M){return this.cmp(M)<=0},s.prototype.eqn=function(M){return this.cmpn(M)===0},s.prototype.eq=function(M){return this.cmp(M)===0},s.red=function(M){return new nt(M)},s.prototype.toRed=function(M){return e(!this.red,"Already a number in reduction context"),e(this.negative===0,"red works only with positives"),M.convertTo(this)._forceRed(M)},s.prototype.fromRed=function(){return e(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},s.prototype._forceRed=function(M){return this.red=M,this},s.prototype.forceRed=function(M){return e(!this.red,"Already a number in reduction context"),this._forceRed(M)},s.prototype.redAdd=function(M){return e(this.red,"redAdd works only with red numbers"),this.red.add(this,M)},s.prototype.redIAdd=function(M){return e(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,M)},s.prototype.redSub=function(M){return e(this.red,"redSub works only with red numbers"),this.red.sub(this,M)},s.prototype.redISub=function(M){return e(this.red,"redISub works only with red numbers"),this.red.isub(this,M)},s.prototype.redShl=function(M){return e(this.red,"redShl works only with red numbers"),this.red.shl(this,M)},s.prototype.redMul=function(M){return e(this.red,"redMul works only with red numbers"),this.red._verify2(this,M),this.red.mul(this,M)},s.prototype.redIMul=function(M){return e(this.red,"redMul works only with red numbers"),this.red._verify2(this,M),this.red.imul(this,M)},s.prototype.redSqr=function(){return e(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},s.prototype.redISqr=function(){return e(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},s.prototype.redSqrt=function(){return e(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},s.prototype.redInvm=function(){return e(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},s.prototype.redNeg=function(){return e(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},s.prototype.redPow=function(M){return e(this.red&&!M.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,M)};var R={k256:null,p224:null,p192:null,p25519:null};function C(M,d){this.name=M,this.p=new s(d,16),this.n=this.p.bitLength(),this.k=new s(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}function O(){C.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}function z(){C.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}function H(){C.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}function tt(){C.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}function nt(M){if(typeof M=="string"){var d=s._prime(M);this.m=d.p,this.prime=d}else e(M.gtn(1),"modulus must be greater than 1"),this.m=M,this.prime=null}function G(M){nt.call(this,M),this.shift=this.m.bitLength(),this.shift%26!=0&&(this.shift+=26-this.shift%26),this.r=new s(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}C.prototype._tmp=function(){var M=new s(null);return M.words=new Array(Math.ceil(this.n/13)),M},C.prototype.ireduce=function(M){var d,o=M;do this.split(o,this.tmp),d=(o=(o=this.imulK(o)).iadd(this.tmp)).bitLength();while(d>this.n);var a=d<this.n?-1:o.ucmp(this.p);return a===0?(o.words[0]=0,o.length=1):a>0?o.isub(this.p):o.strip!==void 0?o.strip():o._strip(),o},C.prototype.split=function(M,d){M.iushrn(this.n,0,d)},C.prototype.imulK=function(M){return M.imul(this.k)},n(O,C),O.prototype.split=function(M,d){for(var o=4194303,a=Math.min(M.length,9),f=0;f<a;f++)d.words[f]=M.words[f];if(d.length=a,M.length<=9)return M.words[0]=0,void(M.length=1);var h=M.words[9];for(d.words[d.length++]=h&o,f=10;f<M.length;f++){var g=0|M.words[f];M.words[f-10]=(g&o)<<4|h>>>22,h=g}h>>>=22,M.words[f-10]=h,h===0&&M.length>10?M.length-=10:M.length-=9},O.prototype.imulK=function(M){M.words[M.length]=0,M.words[M.length+1]=0,M.length+=2;for(var d=0,o=0;o<M.length;o++){var a=0|M.words[o];d+=977*a,M.words[o]=67108863&d,d=64*a+(d/67108864|0)}return M.words[M.length-1]===0&&(M.length--,M.words[M.length-1]===0&&M.length--),M},n(z,C),n(H,C),n(tt,C),tt.prototype.imulK=function(M){for(var d=0,o=0;o<M.length;o++){var a=19*(0|M.words[o])+d,f=67108863&a;a>>>=26,M.words[o]=f,d=a}return d!==0&&(M.words[M.length++]=d),M},s._prime=function(M){if(R[M])return R[M];var d;if(M==="k256")d=new O;else if(M==="p224")d=new z;else if(M==="p192")d=new H;else{if(M!=="p25519")throw new Error("Unknown prime "+M);d=new tt}return R[M]=d,d},nt.prototype._verify1=function(M){e(M.negative===0,"red works only with positives"),e(M.red,"red works only with red numbers")},nt.prototype._verify2=function(M,d){e((M.negative|d.negative)==0,"red works only with positives"),e(M.red&&M.red===d.red,"red works only with red numbers")},nt.prototype.imod=function(M){return this.prime?this.prime.ireduce(M)._forceRed(this):(m(M,M.umod(this.m)._forceRed(this)),M)},nt.prototype.neg=function(M){return M.isZero()?M.clone():this.m.sub(M)._forceRed(this)},nt.prototype.add=function(M,d){this._verify2(M,d);var o=M.add(d);return o.cmp(this.m)>=0&&o.isub(this.m),o._forceRed(this)},nt.prototype.iadd=function(M,d){this._verify2(M,d);var o=M.iadd(d);return o.cmp(this.m)>=0&&o.isub(this.m),o},nt.prototype.sub=function(M,d){this._verify2(M,d);var o=M.sub(d);return o.cmpn(0)<0&&o.iadd(this.m),o._forceRed(this)},nt.prototype.isub=function(M,d){this._verify2(M,d);var o=M.isub(d);return o.cmpn(0)<0&&o.iadd(this.m),o},nt.prototype.shl=function(M,d){return this._verify1(M),this.imod(M.ushln(d))},nt.prototype.imul=function(M,d){return this._verify2(M,d),this.imod(M.imul(d))},nt.prototype.mul=function(M,d){return this._verify2(M,d),this.imod(M.mul(d))},nt.prototype.isqr=function(M){return this.imul(M,M.clone())},nt.prototype.sqr=function(M){return this.mul(M,M)},nt.prototype.sqrt=function(M){if(M.isZero())return M.clone();var d=this.m.andln(3);if(e(d%2==1),d===3){var o=this.m.add(new s(1)).iushrn(2);return this.pow(M,o)}for(var a=this.m.subn(1),f=0;!a.isZero()&&a.andln(1)===0;)f++,a.iushrn(1);e(!a.isZero());var h=new s(1).toRed(this),g=h.redNeg(),S=this.m.subn(1).iushrn(1),I=this.m.bitLength();for(I=new s(2*I*I).toRed(this);this.pow(I,S).cmp(g)!==0;)I.redIAdd(g);for(var y=this.pow(I,a),u=this.pow(M,a.addn(1).iushrn(1)),b=this.pow(M,a),D=f;b.cmp(h)!==0;){for(var Z=b,F=0;Z.cmp(h)!==0;F++)Z=Z.redSqr();e(F<D);var q=this.pow(y,new s(1).iushln(D-F-1));u=u.redMul(q),y=q.redSqr(),b=b.redMul(y),D=F}return u},nt.prototype.invm=function(M){var d=M._invmp(this.m);return d.negative!==0?(d.negative=0,this.imod(d).redNeg()):this.imod(d)},nt.prototype.pow=function(M,d){if(d.isZero())return new s(1).toRed(this);if(d.cmpn(1)===0)return M.clone();var o=new Array(16);o[0]=new s(1).toRed(this),o[1]=M;for(var a=2;a<o.length;a++)o[a]=this.mul(o[a-1],M);var f=o[0],h=0,g=0,S=d.bitLength()%26;for(S===0&&(S=26),a=d.length-1;a>=0;a--){for(var I=d.words[a],y=S-1;y>=0;y--){var u=I>>y&1;f!==o[0]&&(f=this.sqr(f)),u!==0||h!==0?(h<<=1,h|=u,(++g==4||a===0&&y===0)&&(f=this.mul(f,o[h]),g=0,h=0)):g=0}S=26}return f},nt.prototype.convertTo=function(M){var d=M.umod(this.m);return d===M?d.clone():d},nt.prototype.convertFrom=function(M){var d=M.clone();return d.red=null,d},s.mont=function(M){return new G(M)},n(G,nt),G.prototype.convertTo=function(M){return this.imod(M.ushln(this.shift))},G.prototype.convertFrom=function(M){var d=this.imod(M.mul(this.rinv));return d.red=null,d},G.prototype.imul=function(M,d){if(M.isZero()||d.isZero())return M.words[0]=0,M.length=1,M;var o=M.imul(d),a=o.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),f=o.isub(a).iushrn(this.shift),h=f;return f.cmp(this.m)>=0?h=f.isub(this.m):f.cmpn(0)<0&&(h=f.iadd(this.m)),h._forceRed(this)},G.prototype.mul=function(M,d){if(M.isZero()||d.isZero())return new s(0)._forceRed(this);var o=M.mul(d),a=o.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),f=o.isub(a).iushrn(this.shift),h=f;return f.cmp(this.m)>=0?h=f.isub(this.m):f.cmpn(0)<0&&(h=f.iadd(this.m)),h._forceRed(this)},G.prototype.invm=function(M){return this.imod(M._invmp(this.m).mul(this.r2))._forceRed(this)}})(0,ho);var US=Cv.exports,Z8=ES(US),Tv={exports:{}};(function(r,t){var e=Vr,n=e.Buffer;function s(c,l){for(var p in c)l[p]=c[p]}function i(c,l,p){return n(c,l,p)}n.from&&n.alloc&&n.allocUnsafe&&n.allocUnsafeSlow?r.exports=e:(s(e,t),t.Buffer=i),i.prototype=Object.create(n.prototype),s(n,i),i.from=function(c,l,p){if(typeof c=="number")throw new TypeError("Argument must not be a number");return n(c,l,p)},i.alloc=function(c,l,p){if(typeof c!="number")throw new TypeError("Argument must be a number");var m=n(c);return l!==void 0?typeof p=="string"?m.fill(l,p):m.fill(l):m.fill(0),m},i.allocUnsafe=function(c){if(typeof c!="number")throw new TypeError("Argument must be a number");return n(c)},i.allocUnsafeSlow=function(c){if(typeof c!="number")throw new TypeError("Argument must be a number");return e.SlowBuffer(c)}})(Tv,Tv.exports);var B0=Tv.exports.Buffer,NS=function(r){if(r.length>=255)throw new TypeError("Alphabet too long");for(var t=new Uint8Array(256),e=0;e<t.length;e++)t[e]=255;for(var n=0;n<r.length;n++){var s=r.charAt(n),i=s.charCodeAt(0);if(t[i]!==255)throw new TypeError(s+" is ambiguous");t[i]=n}var c=r.length,l=r.charAt(0),p=Math.log(c)/Math.log(256),m=Math.log(256)/Math.log(c);function v(_){if(typeof _!="string")throw new TypeError("Expected String");if(_.length===0)return B0.alloc(0);for(var E=0,w=0,x=0;_[E]===l;)w++,E++;for(var A=(_.length-E)*p+1>>>0,B=new Uint8Array(A);_[E];){var P=t[_.charCodeAt(E)];if(P===255)return;for(var R=0,C=A-1;(P!==0||R<x)&&C!==-1;C--,R++)P+=c*B[C]>>>0,B[C]=P%256>>>0,P=P/256>>>0;if(P!==0)throw new Error("Non-zero carry");x=R,E++}for(var O=A-x;O!==A&&B[O]===0;)O++;var z=B0.allocUnsafe(w+(A-O));z.fill(0,0,w);for(var H=w;O!==A;)z[H++]=B[O++];return z}return{encode:function(_){if((Array.isArray(_)||_ instanceof Uint8Array)&&(_=B0.from(_)),!B0.isBuffer(_))throw new TypeError("Expected Buffer");if(_.length===0)return"";for(var E=0,w=0,x=0,A=_.length;x!==A&&_[x]===0;)x++,E++;for(var B=(A-x)*m+1>>>0,P=new Uint8Array(B);x!==A;){for(var R=_[x],C=0,O=B-1;(R!==0||C<w)&&O!==-1;O--,C++)R+=256*P[O]>>>0,P[O]=R%c>>>0,R=R/c>>>0;if(R!==0)throw new Error("Non-zero carry");w=C,x++}for(var z=B-w;z!==B&&P[z]===0;)z++;for(var H=l.repeat(E);z<B;++z)H+=r.charAt(P[z]);return H},decodeUnsafe:v,decode:function(_){var E=v(_);if(E)return E;throw new Error("Non-base"+c+" character")}}}("123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"),W8=ES(NS);const iV=(r,t,e)=>r&t^r&e^t&e,oV=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),qs=new Uint32Array([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),Fs=new Uint32Array(64);class sV extends PS{constructor(){super(64,32,8,!1),this.A=0|qs[0],this.B=0|qs[1],this.C=0|qs[2],this.D=0|qs[3],this.E=0|qs[4],this.F=0|qs[5],this.G=0|qs[6],this.H=0|qs[7]}get(){const{A:t,B:e,C:n,D:s,E:i,F:c,G:l,H:p}=this;return[t,e,n,s,i,c,l,p]}set(t,e,n,s,i,c,l,p){this.A=0|t,this.B=0|e,this.C=0|n,this.D=0|s,this.E=0|i,this.F=0|c,this.G=0|l,this.H=0|p}process(t,e){for(let E=0;E<16;E++,e+=4)Fs[E]=t.getUint32(e,!1);for(let E=16;E<64;E++){const w=Fs[E-15],x=Fs[E-2],A=_o(w,7)^_o(w,18)^w>>>3,B=_o(x,17)^_o(x,19)^x>>>10;Fs[E]=B+Fs[E-7]+A+Fs[E-16]|0}let{A:n,B:s,C:i,D:c,E:l,F:p,G:m,H:v}=this;for(let E=0;E<64;E++){const w=v+(_o(l,6)^_o(l,11)^_o(l,25))+((_=l)&p^~_&m)+oV[E]+Fs[E]|0,x=(_o(n,2)^_o(n,13)^_o(n,22))+iV(n,s,i)|0;v=m,m=p,p=l,l=c+w|0,c=i,i=s,s=n,n=w+x|0}var _;n=n+this.A|0,s=s+this.B|0,i=i+this.C|0,c=c+this.D|0,l=l+this.E|0,p=p+this.F|0,m=m+this.G|0,v=v+this.H|0,this.set(n,s,i,c,l,p,m,v)}roundClean(){Fs.fill(0)}destroy(){this.set(0,0,0,0,0,0,0,0),this.buffer.fill(0)}}const Lv=IS(()=>new sV);var Tn={};function Ms(r,t,e){return t<=r&&r<=e}function Ol(r){if(r===void 0)return{};if(r===Object(r))return r;throw TypeError("Could not convert argument to dictionary")}function Ov(r){this.tokens=[].slice.call(r)}Ov.prototype={endOfStream:function(){return!this.tokens.length},read:function(){return this.tokens.length?this.tokens.shift():-1},prepend:function(r){if(Array.isArray(r))for(var t=r;t.length;)this.tokens.unshift(t.pop());else this.tokens.unshift(r)},push:function(r){if(Array.isArray(r))for(var t=r;t.length;)this.tokens.push(t.shift());else this.tokens.push(r)}};var Cu=-1;function _m(r,t){if(r)throw TypeError("Decoder error");return t||65533}var Ul="utf-8";function Nl(r,t){if(!(this instanceof Nl))return new Nl(r,t);if((r=r!==void 0?String(r).toLowerCase():Ul)!==Ul)throw new Error("Encoding not supported. Only utf-8 is supported");t=Ol(t),this._streaming=!1,this._BOMseen=!1,this._decoder=null,this._fatal=!!t.fatal,this._ignoreBOM=!!t.ignoreBOM,Object.defineProperty(this,"encoding",{value:"utf-8"}),Object.defineProperty(this,"fatal",{value:this._fatal}),Object.defineProperty(this,"ignoreBOM",{value:this._ignoreBOM})}function Dl(r,t){if(!(this instanceof Dl))return new Dl(r,t);if((r=r!==void 0?String(r).toLowerCase():Ul)!==Ul)throw new Error("Encoding not supported. Only utf-8 is supported");t=Ol(t),this._streaming=!1,this._encoder=null,this._options={fatal:!!t.fatal},Object.defineProperty(this,"encoding",{value:"utf-8"})}function aV(r){var t=r.fatal,e=0,n=0,s=0,i=128,c=191;this.handler=function(l,p){if(p===-1&&s!==0)return s=0,_m(t);if(p===-1)return Cu;if(s===0){if(Ms(p,0,127))return p;if(Ms(p,194,223))s=1,e=p-192;else if(Ms(p,224,239))p===224&&(i=160),p===237&&(c=159),s=2,e=p-224;else{if(!Ms(p,240,244))return _m(t);p===240&&(i=144),p===244&&(c=143),s=3,e=p-240}return e<<=6*s,null}if(!Ms(p,i,c))return e=s=n=0,i=128,c=191,l.prepend(p),_m(t);if(i=128,c=191,e+=p-128<<6*(s-(n+=1)),n!==s)return null;var m=e;return e=s=n=0,m}}function uV(r){r.fatal,this.handler=function(t,e){if(e===-1)return Cu;if(Ms(e,0,127))return e;var n,s;Ms(e,128,2047)?(n=1,s=192):Ms(e,2048,65535)?(n=2,s=224):Ms(e,65536,1114111)&&(n=3,s=240);for(var i=[(e>>6*n)+s];n>0;){var c=e>>6*(n-1);i.push(128|63&c),n-=1}return i}}Nl.prototype={decode:function(r,t){var e;e=typeof r=="object"&&r instanceof ArrayBuffer?new Uint8Array(r):typeof r=="object"&&"buffer"in r&&r.buffer instanceof ArrayBuffer?new Uint8Array(r.buffer,r.byteOffset,r.byteLength):new Uint8Array(0),t=Ol(t),this._streaming||(this._decoder=new aV({fatal:this._fatal}),this._BOMseen=!1),this._streaming=!!t.stream;for(var n,s=new Ov(e),i=[];!s.endOfStream()&&(n=this._decoder.handler(s,s.read()))!==Cu;)n!==null&&(Array.isArray(n)?i.push.apply(i,n):i.push(n));if(!this._streaming){do{if((n=this._decoder.handler(s,s.read()))===Cu)break;n!==null&&(Array.isArray(n)?i.push.apply(i,n):i.push(n))}while(!s.endOfStream());this._decoder=null}return i.length&&(["utf-8"].indexOf(this.encoding)===-1||this._ignoreBOM||this._BOMseen||(i[0]===65279?(this._BOMseen=!0,i.shift()):this._BOMseen=!0)),function(c){for(var l="",p=0;p<c.length;++p){var m=c[p];m<=65535?l+=String.fromCharCode(m):(m-=65536,l+=String.fromCharCode(55296+(m>>10),56320+(1023&m)))}return l}(i)}},Dl.prototype={encode:function(r,t){r=r?String(r):"",t=Ol(t),this._streaming||(this._encoder=new uV(this._options)),this._streaming=!!t.stream;for(var e,n=[],s=new Ov(function(i){for(var c=String(i),l=c.length,p=0,m=[];p<l;){var v=c.charCodeAt(p);if(v<55296||v>57343)m.push(v);else if(56320<=v&&v<=57343)m.push(65533);else if(55296<=v&&v<=56319)if(p===l-1)m.push(65533);else{var _=i.charCodeAt(p+1);if(56320<=_&&_<=57343){var E=1023&v,w=1023&_;m.push(65536+(E<<10)+w),p+=1}else m.push(65533)}p+=1}return m}(r));!s.endOfStream()&&(e=this._encoder.handler(s,s.read()))!==Cu;)Array.isArray(e)?n.push.apply(n,e):n.push(e);if(!this._streaming){for(;(e=this._encoder.handler(s,s.read()))!==Cu;)Array.isArray(e)?n.push.apply(n,e):n.push(e);this._encoder=null}return new Uint8Array(n)}};var fV=Wy(Object.freeze({__proto__:null,TextEncoder:Dl,TextDecoder:Nl})),cV=ho&&ho.__createBinding||(Object.create?function(r,t,e,n){n===void 0&&(n=e),Object.defineProperty(r,n,{enumerable:!0,get:function(){return t[e]}})}:function(r,t,e,n){n===void 0&&(n=e),r[n]=t[e]}),hV=ho&&ho.__setModuleDefault||(Object.create?function(r,t){Object.defineProperty(r,"default",{enumerable:!0,value:t})}:function(r,t){r.default=t}),Mo=ho&&ho.__decorate||function(r,t,e,n){var s,i=arguments.length,c=i<3?t:n===null?n=Object.getOwnPropertyDescriptor(t,e):n;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")c=Reflect.decorate(r,t,e,n);else for(var l=r.length-1;l>=0;l--)(s=r[l])&&(c=(i<3?s(c):i>3?s(t,e,c):s(t,e))||c);return i>3&&c&&Object.defineProperty(t,e,c),c},lV=ho&&ho.__importStar||function(r){if(r&&r.__esModule)return r;var t={};if(r!=null)for(var e in r)e!=="default"&&Object.hasOwnProperty.call(r,e)&&cV(t,r,e);return hV(t,r),t},DS=ho&&ho.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(Tn,"__esModule",{value:!0});var zS=Tn.deserializeUnchecked=$S=Tn.deserialize=KS=Tn.serialize=Tn.BinaryReader=Tn.BinaryWriter=Tn.BorshError=Tn.baseDecode=Tn.baseEncode=void 0;const Zs=DS(US),G8=DS(NS),dV=lV(fV),pV=new(typeof TextDecoder!="function"?dV.TextDecoder:TextDecoder)("utf-8",{fatal:!0});Tn.baseEncode=function(r){return typeof r=="string"&&(r=Zt.Buffer.from(r,"utf8")),G8.default.encode(Zt.Buffer.from(r))},Tn.baseDecode=function(r){return Zt.Buffer.from(G8.default.decode(r))};const Mm=1024;class Qn extends Error{constructor(t){super(t),this.fieldPath=[],this.originalMessage=t}addToFieldPath(t){this.fieldPath.splice(0,0,t),this.message=this.originalMessage+": "+this.fieldPath.join(".")}}Tn.BorshError=Qn;class qS{constructor(){this.buf=Zt.Buffer.alloc(Mm),this.length=0}maybeResize(){this.buf.length<16+this.length&&(this.buf=Zt.Buffer.concat([this.buf,Zt.Buffer.alloc(Mm)]))}writeU8(t){this.maybeResize(),this.buf.writeUInt8(t,this.length),this.length+=1}writeU16(t){this.maybeResize(),this.buf.writeUInt16LE(t,this.length),this.length+=2}writeU32(t){this.maybeResize(),this.buf.writeUInt32LE(t,this.length),this.length+=4}writeU64(t){this.maybeResize(),this.writeBuffer(Zt.Buffer.from(new Zs.default(t).toArray("le",8)))}writeU128(t){this.maybeResize(),this.writeBuffer(Zt.Buffer.from(new Zs.default(t).toArray("le",16)))}writeU256(t){this.maybeResize(),this.writeBuffer(Zt.Buffer.from(new Zs.default(t).toArray("le",32)))}writeU512(t){this.maybeResize(),this.writeBuffer(Zt.Buffer.from(new Zs.default(t).toArray("le",64)))}writeBuffer(t){this.buf=Zt.Buffer.concat([Zt.Buffer.from(this.buf.subarray(0,this.length)),t,Zt.Buffer.alloc(Mm)]),this.length+=t.length}writeString(t){this.maybeResize();const e=Zt.Buffer.from(t,"utf8");this.writeU32(e.length),this.writeBuffer(e)}writeFixedArray(t){this.writeBuffer(Zt.Buffer.from(t))}writeArray(t,e){this.maybeResize(),this.writeU32(t.length);for(const n of t)this.maybeResize(),e(n)}toArray(){return this.buf.subarray(0,this.length)}}function Eo(r,t,e){const n=e.value;e.value=function(...s){try{return n.apply(this,s)}catch(i){if(i instanceof RangeError){const c=i.code;if(["ERR_BUFFER_OUT_OF_BOUNDS","ERR_OUT_OF_RANGE"].indexOf(c)>=0)throw new Qn("Reached the end of buffer when deserializing")}throw i}}}Tn.BinaryWriter=qS;class yi{constructor(t){this.buf=t,this.offset=0}readU8(){const t=this.buf.readUInt8(this.offset);return this.offset+=1,t}readU16(){const t=this.buf.readUInt16LE(this.offset);return this.offset+=2,t}readU32(){const t=this.buf.readUInt32LE(this.offset);return this.offset+=4,t}readU64(){const t=this.readBuffer(8);return new Zs.default(t,"le")}readU128(){const t=this.readBuffer(16);return new Zs.default(t,"le")}readU256(){const t=this.readBuffer(32);return new Zs.default(t,"le")}readU512(){const t=this.readBuffer(64);return new Zs.default(t,"le")}readBuffer(t){if(this.offset+t>this.buf.length)throw new Qn(`Expected buffer length ${t} isn't within bounds`);const e=this.buf.slice(this.offset,this.offset+t);return this.offset+=t,e}readString(){const t=this.readU32(),e=this.readBuffer(t);try{return pV.decode(e)}catch(n){throw new Qn(`Error decoding UTF-8 string: ${n}`)}}readFixedArray(t){return new Uint8Array(this.readBuffer(t))}readArray(t){const e=this.readU32(),n=Array();for(let s=0;s<e;++s)n.push(t());return n}}function FS(r){return r.charAt(0).toUpperCase()+r.slice(1)}function Sa(r,t,e,n,s){try{if(typeof n=="string")s[`write${FS(n)}`](e);else if(n instanceof Array)if(typeof n[0]=="number"){if(e.length!==n[0])throw new Qn(`Expecting byte array of length ${n[0]}, but got ${e.length} bytes`);s.writeFixedArray(e)}else if(n.length===2&&typeof n[1]=="number"){if(e.length!==n[1])throw new Qn(`Expecting byte array of length ${n[1]}, but got ${e.length} bytes`);for(let i=0;i<n[1];i++)Sa(r,null,e[i],n[0],s)}else s.writeArray(e,i=>{Sa(r,t,i,n[0],s)});else if(n.kind!==void 0)switch(n.kind){case"option":e==null?s.writeU8(0):(s.writeU8(1),Sa(r,t,e,n.type,s));break;case"map":s.writeU32(e.size),e.forEach((i,c)=>{Sa(r,t,c,n.key,s),Sa(r,t,i,n.value,s)});break;default:throw new Qn(`FieldType ${n} unrecognized`)}else jS(r,e,s)}catch(i){throw i instanceof Qn&&i.addToFieldPath(t),i}}function jS(r,t,e){if(typeof t.borshSerialize=="function")return void t.borshSerialize(e);const n=r.get(t.constructor);if(!n)throw new Qn(`Class ${t.constructor.name} is missing in schema`);if(n.kind==="struct")n.fields.map(([s,i])=>{Sa(r,s,t[s],i,e)});else{if(n.kind!=="enum")throw new Qn(`Unexpected schema kind: ${n.kind} for ${t.constructor.name}`);{const s=t[n.field];for(let i=0;i<n.values.length;++i){const[c,l]=n.values[i];if(c===s){e.writeU8(i),Sa(r,c,t[c],l,e);break}}}}}Mo([Eo],yi.prototype,"readU8",null),Mo([Eo],yi.prototype,"readU16",null),Mo([Eo],yi.prototype,"readU32",null),Mo([Eo],yi.prototype,"readU64",null),Mo([Eo],yi.prototype,"readU128",null),Mo([Eo],yi.prototype,"readU256",null),Mo([Eo],yi.prototype,"readU512",null),Mo([Eo],yi.prototype,"readString",null),Mo([Eo],yi.prototype,"readFixedArray",null),Mo([Eo],yi.prototype,"readArray",null),Tn.BinaryReader=yi;var KS=Tn.serialize=function(r,t,e=qS){const n=new e;return jS(r,t,n),n.toArray()};function ka(r,t,e,n){try{if(typeof e=="string")return n[`read${FS(e)}`]();if(e instanceof Array){if(typeof e[0]=="number")return n.readFixedArray(e[0]);if(typeof e[1]=="number"){const s=[];for(let i=0;i<e[1];i++)s.push(ka(r,null,e[0],n));return s}return n.readArray(()=>ka(r,t,e[0],n))}if(e.kind==="option")return n.readU8()?ka(r,t,e.type,n):void 0;if(e.kind==="map"){let s=new Map;const i=n.readU32();for(let c=0;c<i;c++){const l=ka(r,t,e.key,n),p=ka(r,t,e.value,n);s.set(l,p)}return s}return Jy(r,e,n)}catch(s){throw s instanceof Qn&&s.addToFieldPath(t),s}}function Jy(r,t,e){if(typeof t.borshDeserialize=="function")return t.borshDeserialize(e);const n=r.get(t);if(!n)throw new Qn(`Class ${t.name} is missing in schema`);if(n.kind==="struct"){const s={};for(const[i,c]of r.get(t).fields)s[i]=ka(r,i,c,e);return new t(s)}if(n.kind==="enum"){const s=e.readU8();if(s>=n.values.length)throw new Qn(`Enum index: ${s} is out of range`);const[i,c]=n.values[s];return new t({[i]:ka(r,i,c,e)})}throw new Qn(`Unexpected schema kind: ${n.kind} for ${t.constructor.name}`)}var $S=Tn.deserialize=function(r,t,e,n=yi){const s=new n(e),i=Jy(r,t,s);if(s.offset<e.length)throw new Qn(`Unexpected ${e.length-s.offset} bytes after deserialized data`);return i};zS=Tn.deserializeUnchecked=function(r,t,e,n=yi){return Jy(r,t,new n(e))};var Vt={};Object.defineProperty(Vt,"__esModule",{value:!0}),Vt.s16=Vt.s8=Vt.nu64be=Vt.u48be=Vt.u40be=Vt.u32be=Vt.u24be=Vt.u16be=Bn=Vt.nu64=Vt.u48=Vt.u40=Ke=Vt.u32=Vt.u24=Ti=Vt.u16=cn=Vt.u8=Va=Vt.offset=Vt.greedy=Vt.Constant=Vt.UTF8=Vt.CString=Vt.Blob=Vt.Boolean=Vt.BitField=Vt.BitStructure=Vt.VariantLayout=Vt.Union=Vt.UnionLayoutDiscriminator=Vt.UnionDiscriminator=Vt.Structure=Vt.Sequence=Vt.DoubleBE=Vt.Double=Vt.FloatBE=Vt.Float=Vt.NearInt64BE=Vt.NearInt64=Vt.NearUInt64BE=Vt.NearUInt64=Vt.IntBE=Vt.Int=Vt.UIntBE=Vt.UInt=Vt.OffsetLayout=Vt.GreedyCount=Vt.ExternalLayout=Vt.bindConstructorLayout=Vt.nameWithProperty=Vt.Layout=Vt.uint8ArrayToBuffer=Vt.checkUint8Array=void 0,Vt.constant=Vt.utf8=Vt.cstr=yf=Vt.blob=Vt.unionLayoutDiscriminator=Vt.union=qa=Vt.seq=Vt.bits=je=Vt.struct=Vt.f64be=Vt.f64=Vt.f32be=Vt.f32=Vt.ns64be=Vt.s48be=Vt.s40be=Vt.s32be=Vt.s24be=Vt.s16be=Ei=Vt.ns64=Vt.s48=Vt.s40=Vt.s32=Vt.s24=void 0;const Qy=Vr;function Nf(r){if(!(r instanceof Uint8Array))throw new TypeError("b must be a Uint8Array")}function Mr(r){return Nf(r),Qy.Buffer.from(r.buffer,r.byteOffset,r.length)}Vt.checkUint8Array=Nf,Vt.uint8ArrayToBuffer=Mr;class Lr{constructor(t,e){if(!Number.isInteger(t))throw new TypeError("span must be an integer");this.span=t,this.property=e}makeDestinationObject(){return{}}getSpan(t,e){if(0>this.span)throw new RangeError("indeterminate span");return this.span}replicate(t){const e=Object.create(this.constructor.prototype);return Object.assign(e,this),e.property=t,e}fromArray(t){}}function tb(r,t){return t.property?r+"["+t.property+"]":r}Vt.Layout=Lr,Vt.nameWithProperty=tb,Vt.bindConstructorLayout=function(r,t){if(typeof r!="function")throw new TypeError("Class must be constructor");if(Object.prototype.hasOwnProperty.call(r,"layout_"))throw new Error("Class is already bound to a layout");if(!(t&&t instanceof Lr))throw new TypeError("layout must be a Layout");if(Object.prototype.hasOwnProperty.call(t,"boundConstructor_"))throw new Error("layout is already bound to a constructor");r.layout_=t,t.boundConstructor_=r,t.makeDestinationObject=()=>new r,Object.defineProperty(r.prototype,"encode",{value(e,n){return t.encode(this,e,n)},writable:!0}),Object.defineProperty(r,"decode",{value:(e,n)=>t.decode(e,n),writable:!0})};class ii extends Lr{isCount(){throw new Error("ExternalLayout is abstract")}}Vt.ExternalLayout=ii;class HS extends ii{constructor(t=1,e){if(!Number.isInteger(t)||0>=t)throw new TypeError("elementSpan must be a (positive) integer");super(-1,e),this.elementSpan=t}isCount(){return!0}decode(t,e=0){Nf(t);const n=t.length-e;return Math.floor(n/this.elementSpan)}encode(t,e,n){return 0}}Vt.GreedyCount=HS;class eb extends ii{constructor(t,e=0,n){if(!(t instanceof Lr))throw new TypeError("layout must be a Layout");if(!Number.isInteger(e))throw new TypeError("offset must be integer or undefined");super(t.span,n||t.property),this.layout=t,this.offset=e}isCount(){return this.layout instanceof Ki||this.layout instanceof ao}decode(t,e=0){return this.layout.decode(t,e+this.offset)}encode(t,e,n=0){return this.layout.encode(t,e,n+this.offset)}}Vt.OffsetLayout=eb;class Ki extends Lr{constructor(t,e){if(super(t,e),6<this.span)throw new RangeError("span must not exceed 6 bytes")}decode(t,e=0){return Mr(t).readUIntLE(e,this.span)}encode(t,e,n=0){return Mr(e).writeUIntLE(t,n,this.span),this.span}}Vt.UInt=Ki;class ao extends Lr{constructor(t,e){if(super(t,e),6<this.span)throw new RangeError("span must not exceed 6 bytes")}decode(t,e=0){return Mr(t).readUIntBE(e,this.span)}encode(t,e,n=0){return Mr(e).writeUIntBE(t,n,this.span),this.span}}Vt.UIntBE=ao;class _a extends Lr{constructor(t,e){if(super(t,e),6<this.span)throw new RangeError("span must not exceed 6 bytes")}decode(t,e=0){return Mr(t).readIntLE(e,this.span)}encode(t,e,n=0){return Mr(e).writeIntLE(t,n,this.span),this.span}}Vt.Int=_a;class Bu extends Lr{constructor(t,e){if(super(t,e),6<this.span)throw new RangeError("span must not exceed 6 bytes")}decode(t,e=0){return Mr(t).readIntBE(e,this.span)}encode(t,e,n=0){return Mr(e).writeIntBE(t,n,this.span),this.span}}Vt.IntBE=Bu;const Uv=Math.pow(2,32);function Od(r){const t=Math.floor(r/Uv);return{hi32:t,lo32:r-t*Uv}}function Ud(r,t){return r*Uv+t}class VS extends Lr{constructor(t){super(8,t)}decode(t,e=0){const n=Mr(t),s=n.readUInt32LE(e);return Ud(n.readUInt32LE(e+4),s)}encode(t,e,n=0){const s=Od(t),i=Mr(e);return i.writeUInt32LE(s.lo32,n),i.writeUInt32LE(s.hi32,n+4),8}}Vt.NearUInt64=VS;class ZS extends Lr{constructor(t){super(8,t)}decode(t,e=0){const n=Mr(t);return Ud(n.readUInt32BE(e),n.readUInt32BE(e+4))}encode(t,e,n=0){const s=Od(t),i=Mr(e);return i.writeUInt32BE(s.hi32,n),i.writeUInt32BE(s.lo32,n+4),8}}Vt.NearUInt64BE=ZS;class WS extends Lr{constructor(t){super(8,t)}decode(t,e=0){const n=Mr(t),s=n.readUInt32LE(e);return Ud(n.readInt32LE(e+4),s)}encode(t,e,n=0){const s=Od(t),i=Mr(e);return i.writeUInt32LE(s.lo32,n),i.writeInt32LE(s.hi32,n+4),8}}Vt.NearInt64=WS;class GS extends Lr{constructor(t){super(8,t)}decode(t,e=0){const n=Mr(t);return Ud(n.readInt32BE(e),n.readUInt32BE(e+4))}encode(t,e,n=0){const s=Od(t),i=Mr(e);return i.writeInt32BE(s.hi32,n),i.writeUInt32BE(s.lo32,n+4),8}}Vt.NearInt64BE=GS;class YS extends Lr{constructor(t){super(4,t)}decode(t,e=0){return Mr(t).readFloatLE(e)}encode(t,e,n=0){return Mr(e).writeFloatLE(t,n),4}}Vt.Float=YS;class XS extends Lr{constructor(t){super(4,t)}decode(t,e=0){return Mr(t).readFloatBE(e)}encode(t,e,n=0){return Mr(e).writeFloatBE(t,n),4}}Vt.FloatBE=XS;class JS extends Lr{constructor(t){super(8,t)}decode(t,e=0){return Mr(t).readDoubleLE(e)}encode(t,e,n=0){return Mr(e).writeDoubleLE(t,n),8}}Vt.Double=JS;class QS extends Lr{constructor(t){super(8,t)}decode(t,e=0){return Mr(t).readDoubleBE(e)}encode(t,e,n=0){return Mr(e).writeDoubleBE(t,n),8}}Vt.DoubleBE=QS;class tk extends Lr{constructor(t,e,n){if(!(t instanceof Lr))throw new TypeError("elementLayout must be a Layout");if(!(e instanceof ii&&e.isCount()||Number.isInteger(e)&&0<=e))throw new TypeError("count must be non-negative integer or an unsigned integer ExternalLayout");let s=-1;!(e instanceof ii)&&0<t.span&&(s=e*t.span),super(s,n),this.elementLayout=t,this.count=e}getSpan(t,e=0){if(0<=this.span)return this.span;let n=0,s=this.count;if(s instanceof ii&&(s=s.decode(t,e)),0<this.elementLayout.span)n=s*this.elementLayout.span;else{let i=0;for(;i<s;)n+=this.elementLayout.getSpan(t,e+n),++i}return n}decode(t,e=0){const n=[];let s=0,i=this.count;for(i instanceof ii&&(i=i.decode(t,e));s<i;)n.push(this.elementLayout.decode(t,e)),e+=this.elementLayout.getSpan(t,e),s+=1;return n}encode(t,e,n=0){const s=this.elementLayout,i=t.reduce((c,l)=>c+s.encode(l,e,n+c),0);return this.count instanceof ii&&this.count.encode(t.length,e,n),i}}Vt.Sequence=tk;class ek extends Lr{constructor(t,e,n){if(!Array.isArray(t)||!t.reduce((i,c)=>i&&c instanceof Lr,!0))throw new TypeError("fields must be array of Layout instances");typeof e=="boolean"&&n===void 0&&(n=e,e=void 0);for(const i of t)if(0>i.span&&i.property===void 0)throw new Error("fields cannot contain unnamed variable-length layout");let s=-1;try{s=t.reduce((i,c)=>i+c.getSpan(),0)}catch{}super(s,e),this.fields=t,this.decodePrefixes=!!n}getSpan(t,e=0){if(0<=this.span)return this.span;let n=0;try{n=this.fields.reduce((s,i)=>{const c=i.getSpan(t,e);return e+=c,s+c},0)}catch{throw new RangeError("indeterminate span")}return n}decode(t,e=0){Nf(t);const n=this.makeDestinationObject();for(const s of this.fields)if(s.property!==void 0&&(n[s.property]=s.decode(t,e)),e+=s.getSpan(t,e),this.decodePrefixes&&t.length===e)break;return n}encode(t,e,n=0){const s=n;let i=0,c=0;for(const l of this.fields){let p=l.span;if(c=0<p?p:0,l.property!==void 0){const m=t[l.property];m!==void 0&&(c=l.encode(m,e,n),0>p&&(p=l.getSpan(e,n)))}i=n,n+=p}return i+c-s}fromArray(t){const e=this.makeDestinationObject();for(const n of this.fields)n.property!==void 0&&0<t.length&&(e[n.property]=t.shift());return e}layoutFor(t){if(typeof t!="string")throw new TypeError("property must be string");for(const e of this.fields)if(e.property===t)return e}offsetOf(t){if(typeof t!="string")throw new TypeError("property must be string");let e=0;for(const n of this.fields){if(n.property===t)return e;0>n.span?e=-1:0<=e&&(e+=n.span)}}}Vt.Structure=ek;class rb{constructor(t){this.property=t}decode(t,e){throw new Error("UnionDiscriminator is abstract")}encode(t,e,n){throw new Error("UnionDiscriminator is abstract")}}Vt.UnionDiscriminator=rb;class zl extends rb{constructor(t,e){if(!(t instanceof ii&&t.isCount()))throw new TypeError("layout must be an unsigned integer ExternalLayout");super(e||t.property||"variant"),this.layout=t}decode(t,e){return this.layout.decode(t,e)}encode(t,e,n){return this.layout.encode(t,e,n)}}Vt.UnionLayoutDiscriminator=zl;class nb extends Lr{constructor(t,e,n){let s;if(t instanceof Ki||t instanceof ao)s=new zl(new eb(t));else if(t instanceof ii&&t.isCount())s=new zl(t);else{if(!(t instanceof rb))throw new TypeError("discr must be a UnionDiscriminator or an unsigned integer layout");s=t}if(e===void 0&&(e=null),!(e===null||e instanceof Lr))throw new TypeError("defaultLayout must be null or a Layout");if(e!==null){if(0>e.span)throw new Error("defaultLayout must have constant span");e.property===void 0&&(e=e.replicate("content"))}let i=-1;e&&(i=e.span,0<=i&&(t instanceof Ki||t instanceof ao)&&(i+=s.layout.span)),super(i,n),this.discriminator=s,this.usesPrefixDiscriminator=t instanceof Ki||t instanceof ao,this.defaultLayout=e,this.registry={};let c=this.defaultGetSourceVariant.bind(this);this.getSourceVariant=function(l){return c(l)},this.configGetSourceVariant=function(l){c=l.bind(this)}}getSpan(t,e=0){if(0<=this.span)return this.span;const n=this.getVariant(t,e);if(!n)throw new Error("unable to determine span for unrecognized variant");return n.getSpan(t,e)}defaultGetSourceVariant(t){if(Object.prototype.hasOwnProperty.call(t,this.discriminator.property)){if(this.defaultLayout&&this.defaultLayout.property&&Object.prototype.hasOwnProperty.call(t,this.defaultLayout.property))return;const e=this.registry[t[this.discriminator.property]];if(e&&(!e.layout||e.property&&Object.prototype.hasOwnProperty.call(t,e.property)))return e}else for(const e in this.registry){const n=this.registry[e];if(n.property&&Object.prototype.hasOwnProperty.call(t,n.property))return n}throw new Error("unable to infer src variant")}decode(t,e=0){let n;const s=this.discriminator,i=s.decode(t,e),c=this.registry[i];if(c===void 0){const l=this.defaultLayout;let p=0;this.usesPrefixDiscriminator&&(p=s.layout.span),n=this.makeDestinationObject(),n[s.property]=i,n[l.property]=l.decode(t,e+p)}else n=c.decode(t,e);return n}encode(t,e,n=0){const s=this.getSourceVariant(t);if(s===void 0){const i=this.discriminator,c=this.defaultLayout;let l=0;return this.usesPrefixDiscriminator&&(l=i.layout.span),i.encode(t[i.property],e,n),l+c.encode(t[c.property],e,n+l)}return s.encode(t,e,n)}addVariant(t,e,n){const s=new rk(this,t,e,n);return this.registry[t]=s,s}getVariant(t,e=0){let n;return n=t instanceof Uint8Array?this.discriminator.decode(t,e):t,this.registry[n]}}Vt.Union=nb;class rk extends Lr{constructor(t,e,n,s){if(!(t instanceof nb))throw new TypeError("union must be a Union");if(!Number.isInteger(e)||0>e)throw new TypeError("variant must be a (non-negative) integer");if(typeof n=="string"&&s===void 0&&(s=n,n=null),n){if(!(n instanceof Lr))throw new TypeError("layout must be a Layout");if(t.defaultLayout!==null&&0<=n.span&&n.span>t.defaultLayout.span)throw new Error("variant span exceeds span of containing union");if(typeof s!="string")throw new TypeError("variant must have a String property")}let i=t.span;0>t.span&&(i=n?n.span:0,0<=i&&t.usesPrefixDiscriminator&&(i+=t.discriminator.layout.span)),super(i,s),this.union=t,this.variant=e,this.layout=n||null}getSpan(t,e=0){if(0<=this.span)return this.span;let n=0;this.union.usesPrefixDiscriminator&&(n=this.union.discriminator.layout.span);let s=0;return this.layout&&(s=this.layout.getSpan(t,e+n)),n+s}decode(t,e=0){const n=this.makeDestinationObject();if(this!==this.union.getVariant(t,e))throw new Error("variant mismatch");let s=0;return this.union.usesPrefixDiscriminator&&(s=this.union.discriminator.layout.span),this.layout?n[this.property]=this.layout.decode(t,e+s):this.property?n[this.property]=!0:this.union.usesPrefixDiscriminator&&(n[this.union.discriminator.property]=this.variant),n}encode(t,e,n=0){let s=0;if(this.union.usesPrefixDiscriminator&&(s=this.union.discriminator.layout.span),this.layout&&!Object.prototype.hasOwnProperty.call(t,this.property))throw new TypeError("variant lacks property "+this.property);this.union.discriminator.encode(this.variant,e,n);let i=s;if(this.layout&&(this.layout.encode(t[this.property],e,n+s),i+=this.layout.getSpan(e,n+s),0<=this.union.span&&i>this.union.span))throw new Error("encoded variant overruns containing union");return i}fromArray(t){if(this.layout)return this.layout.fromArray(t)}}function Pu(r){return 0>r&&(r+=4294967296),r}Vt.VariantLayout=rk;class ib extends Lr{constructor(t,e,n){if(!(t instanceof Ki||t instanceof ao))throw new TypeError("word must be a UInt or UIntBE layout");if(typeof e=="string"&&n===void 0&&(n=e,e=!1),4<t.span)throw new RangeError("word cannot exceed 32 bits");super(t.span,n),this.word=t,this.msb=!!e,this.fields=[];let s=0;this._packedSetValue=function(i){return s=Pu(i),this},this._packedGetValue=function(){return s}}decode(t,e=0){const n=this.makeDestinationObject(),s=this.word.decode(t,e);this._packedSetValue(s);for(const i of this.fields)i.property!==void 0&&(n[i.property]=i.decode(t));return n}encode(t,e,n=0){const s=this.word.decode(e,n);this._packedSetValue(s);for(const i of this.fields)if(i.property!==void 0){const c=t[i.property];c!==void 0&&i.encode(c)}return this.word.encode(this._packedGetValue(),e,n)}addField(t,e){const n=new ob(this,t,e);return this.fields.push(n),n}addBoolean(t){const e=new nk(this,t);return this.fields.push(e),e}fieldFor(t){if(typeof t!="string")throw new TypeError("property must be string");for(const e of this.fields)if(e.property===t)return e}}Vt.BitStructure=ib;class ob{constructor(t,e,n){if(!(t instanceof ib))throw new TypeError("container must be a BitStructure");if(!Number.isInteger(e)||0>=e)throw new TypeError("bits must be positive integer");const s=8*t.span,i=t.fields.reduce((c,l)=>c+l.bits,0);if(e+i>s)throw new Error("bits too long for span remainder ("+(s-i)+" of "+s+" remain)");this.container=t,this.bits=e,this.valueMask=(1<<e)-1,e===32&&(this.valueMask=4294967295),this.start=i,this.container.msb&&(this.start=s-i-e),this.wordMask=Pu(this.valueMask<<this.start),this.property=n}decode(t,e){return Pu(this.container._packedGetValue()&this.wordMask)>>>this.start}encode(t){if(typeof t!="number"||!Number.isInteger(t)||t!==Pu(t&this.valueMask))throw new TypeError(tb("BitField.encode",this)+" value must be integer not exceeding "+this.valueMask);const e=this.container._packedGetValue(),n=Pu(t<<this.start);this.container._packedSetValue(Pu(e&~this.wordMask)|n)}}Vt.BitField=ob;class nk extends ob{constructor(t,e){super(t,1,e)}decode(t,e){return!!super.decode(t,e)}encode(t){typeof t=="boolean"&&(t=+t),super.encode(t)}}Vt.Boolean=nk;class ik extends Lr{constructor(t,e){if(!(t instanceof ii&&t.isCount()||Number.isInteger(t)&&0<=t))throw new TypeError("length must be positive integer or an unsigned integer ExternalLayout");let n=-1;t instanceof ii||(n=t),super(n,e),this.length=t}getSpan(t,e){let n=this.span;return 0>n&&(n=this.length.decode(t,e)),n}decode(t,e=0){let n=this.span;return 0>n&&(n=this.length.decode(t,e)),Mr(t).slice(e,e+n)}encode(t,e,n){let s=this.length;if(this.length instanceof ii&&(s=t.length),!(t instanceof Uint8Array&&s===t.length))throw new TypeError(tb("Blob.encode",this)+" requires (length "+s+") Uint8Array as src");if(n+s>e.length)throw new RangeError("encoding overruns Uint8Array");const i=Mr(t);return Mr(e).write(i.toString("hex"),n,s,"hex"),this.length instanceof ii&&this.length.encode(s,e,n),s}}Vt.Blob=ik;class ok extends Lr{constructor(t){super(-1,t)}getSpan(t,e=0){Nf(t);let n=e;for(;n<t.length&&t[n]!==0;)n+=1;return 1+n-e}decode(t,e=0){const n=this.getSpan(t,e);return Mr(t).slice(e,e+n-1).toString("utf-8")}encode(t,e,n=0){typeof t!="string"&&(t=String(t));const s=Qy.Buffer.from(t,"utf8"),i=s.length;if(n+i>e.length)throw new RangeError("encoding overruns Buffer");const c=Mr(e);return s.copy(c,n),c[n+i]=0,i+1}}Vt.CString=ok;class sk extends Lr{constructor(t,e){if(typeof t=="string"&&e===void 0&&(e=t,t=void 0),t===void 0)t=-1;else if(!Number.isInteger(t))throw new TypeError("maxSpan must be an integer");super(-1,e),this.maxSpan=t}getSpan(t,e=0){return Nf(t),t.length-e}decode(t,e=0){const n=this.getSpan(t,e);if(0<=this.maxSpan&&this.maxSpan<n)throw new RangeError("text length exceeds maxSpan");return Mr(t).slice(e,e+n).toString("utf-8")}encode(t,e,n=0){typeof t!="string"&&(t=String(t));const s=Qy.Buffer.from(t,"utf8"),i=s.length;if(0<=this.maxSpan&&this.maxSpan<i)throw new RangeError("text length exceeds maxSpan");if(n+i>e.length)throw new RangeError("encoding overruns Buffer");return s.copy(Mr(e),n),i}}Vt.UTF8=sk;class ak extends Lr{constructor(t,e){super(0,e),this.value=t}decode(t,e){return this.value}encode(t,e,n){return 0}}Vt.Constant=ak,Vt.greedy=(r,t)=>new HS(r,t);var Va=Vt.offset=(r,t,e)=>new eb(r,t,e),cn=Vt.u8=r=>new Ki(1,r),Ti=Vt.u16=r=>new Ki(2,r);Vt.u24=r=>new Ki(3,r);var Ke=Vt.u32=r=>new Ki(4,r);Vt.u40=r=>new Ki(5,r),Vt.u48=r=>new Ki(6,r);var Bn=Vt.nu64=r=>new VS(r);Vt.u16be=r=>new ao(2,r),Vt.u24be=r=>new ao(3,r),Vt.u32be=r=>new ao(4,r),Vt.u40be=r=>new ao(5,r),Vt.u48be=r=>new ao(6,r),Vt.nu64be=r=>new ZS(r),Vt.s8=r=>new _a(1,r),Vt.s16=r=>new _a(2,r),Vt.s24=r=>new _a(3,r),Vt.s32=r=>new _a(4,r),Vt.s40=r=>new _a(5,r),Vt.s48=r=>new _a(6,r);var Ei=Vt.ns64=r=>new WS(r);Vt.s16be=r=>new Bu(2,r),Vt.s24be=r=>new Bu(3,r),Vt.s32be=r=>new Bu(4,r),Vt.s40be=r=>new Bu(5,r),Vt.s48be=r=>new Bu(6,r),Vt.ns64be=r=>new GS(r),Vt.f32=r=>new YS(r),Vt.f32be=r=>new XS(r),Vt.f64=r=>new JS(r),Vt.f64be=r=>new QS(r);var je=Vt.struct=(r,t,e)=>new ek(r,t,e);Vt.bits=(r,t,e)=>new ib(r,t,e);var qa=Vt.seq=(r,t,e)=>new tk(r,t,e);Vt.union=(r,t,e)=>new nb(r,t,e),Vt.unionLayoutDiscriminator=(r,t)=>new zl(r,t);var yf=Vt.blob=(r,t)=>new ik(r,t);Vt.cstr=r=>new ok(r),Vt.utf8=(r,t)=>new sk(r,t),Vt.constant=(r,t)=>new ak(r,t);var $h={};Object.defineProperty($h,"__esModule",{value:!0});var mV=$h.toBigIntLE=function(r){{const t=Zt.Buffer.from(r);t.reverse();const e=t.toString("hex");return e.length===0?BigInt(0):BigInt(`0x${e}`)}};$h.toBigIntBE=function(r){{const t=r.toString("hex");return t.length===0?BigInt(0):BigInt(`0x${t}`)}};var Em,vV=$h.toBufferLE=function(r,t){{const e=r.toString(16),n=Zt.Buffer.from(e.padStart(2*t,"0").slice(0,2*t),"hex");return n.reverse(),n}};$h.toBufferBE=function(r,t){{const e=r.toString(16);return Zt.Buffer.from(e.padStart(2*t,"0").slice(0,2*t),"hex")}};class gV extends TypeError{constructor(t,e){let n;const{message:s,...i}=t,{path:c}=t;super(c.length===0?s:"At path: "+c.join(".")+" -- "+s),Object.assign(this,i),this.name=this.constructor.name,this.failures=()=>{var l;return(l=n)!=null?l:n=[t,...e()]}}}function ea(r){return typeof r=="object"&&r!=null}function lo(r){return typeof r=="string"?JSON.stringify(r):""+r}function yV(r,t,e,n){if(r===!0)return;r===!1?r={}:typeof r=="string"&&(r={message:r});const{path:s,branch:i}=t,{type:c}=e,{refinement:l,message:p="Expected a value of type `"+c+"`"+(l?" with refinement `"+l+"`":"")+", but received: `"+lo(n)+"`"}=r;return{value:n,type:c,refinement:l,key:s[s.length-1],path:s,branch:i,...r,message:p}}function*Y8(r,t,e,n){var s;ea(s=r)&&typeof s[Symbol.iterator]=="function"||(r=[r]);for(const i of r){const c=yV(i,t,e,n);c&&(yield c)}}function*sb(r,t,e={}){const{path:n=[],branch:s=[r],coerce:i=!1,mask:c=!1}=e,l={path:n,branch:s};if(i&&(r=t.coercer(r,l),c&&t.type!=="type"&&ea(t.schema)&&ea(r)&&!Array.isArray(r)))for(const m in r)t.schema[m]===void 0&&delete r[m];let p=!0;for(const m of t.validator(r,l))p=!1,yield[m,void 0];for(let[m,v,_]of t.entries(r,l)){const E=sb(v,_,{path:m===void 0?n:[...n,m],branch:m===void 0?s:[...s,v],coerce:i,mask:c});for(const w of E)w[0]?(p=!1,yield[w[0],void 0]):i&&(v=w[1],m===void 0?r=v:r instanceof Map?r.set(m,v):r instanceof Set?r.add(v):ea(r)&&(r[m]=v))}if(p)for(const m of t.refiner(r,l))p=!1,yield[m,void 0];p&&(yield[void 0,r])}class ts{constructor(t){const{type:e,schema:n,validator:s,refiner:i,coercer:c=p=>p,entries:l=function*(){}}=t;this.type=e,this.schema=n,this.entries=l,this.coercer=c,this.validator=s?(p,m)=>Y8(s(p,m),m,this,p):()=>[],this.refiner=i?(p,m)=>Y8(i(p,m),m,this,p):()=>[]}assert(t){return function(e,n){const s=Oc(e,n);if(s[0])throw s[0]}(t,this)}create(t){return Nd(t,this)}is(t){return uk(t,this)}mask(t){return function(e,n){const s=Oc(e,n,{coerce:!0,mask:!0});if(s[0])throw s[0];return s[1]}(t,this)}validate(t,e={}){return Oc(t,this,e)}}function Nd(r,t){const e=Oc(r,t,{coerce:!0});if(e[0])throw e[0];return e[1]}function uk(r,t){return!Oc(r,t)[0]}function Oc(r,t,e={}){const n=sb(r,t,e),s=function(i){const{done:c,value:l}=i.next();return c?void 0:l}(n);return s[0]?[new gV(s[0],function*(){for(const i of n)i[0]&&(yield i[0])}),void 0]:[void 0,s[1]]}function lu(r,t){return new ts({type:r,schema:null,validator:t})}function Oe(r){return new ts({type:"array",schema:r,*entries(t){if(r&&Array.isArray(t))for(const[e,n]of t.entries())yield[e,n,r]},coercer:t=>Array.isArray(t)?t.slice():t,validator:t=>Array.isArray(t)||"Expected an array value, but received: "+lo(t)})}function Yo(){return lu("boolean",r=>typeof r=="boolean")}function ab(r){return lu("instance",t=>t instanceof r||"Expected a `"+r.name+"` instance, but received: "+lo(t))}function Gr(r){const t=lo(r),e=typeof r;return new ts({type:"literal",schema:e==="string"||e==="number"||e==="boolean"?r:null,validator:n=>n===r||"Expected the literal `"+t+"`, but received: "+lo(n)})}function Le(r){return new ts({...r,validator:(t,e)=>t===null||r.validator(t,e),refiner:(t,e)=>t===null||r.refiner(t,e)})}function $t(){return lu("number",r=>typeof r=="number"&&!isNaN(r)||"Expected a number, but received: "+lo(r))}function He(r){return new ts({...r,validator:(t,e)=>t===void 0||r.validator(t,e),refiner:(t,e)=>t===void 0||r.refiner(t,e)})}function fk(r,t){return new ts({type:"record",schema:null,*entries(e){if(ea(e))for(const n in e){const s=e[n];yield[n,n,r],yield[n,s,t]}},validator:e=>ea(e)||"Expected an object, but received: "+lo(e)})}function Me(){return lu("string",r=>typeof r=="string"||"Expected a string, but received: "+lo(r))}function ub(r){const t=lu("never",()=>!1);return new ts({type:"tuple",schema:null,*entries(e){if(Array.isArray(e)){const n=Math.max(r.length,e.length);for(let s=0;s<n;s++)yield[s,e[s],r[s]||t]}},validator:e=>Array.isArray(e)||"Expected an array, but received: "+lo(e)})}function be(r){const t=Object.keys(r);return new ts({type:"type",schema:r,*entries(e){if(ea(e))for(const n of t)yield[n,e[n],r[n]]},validator:e=>ea(e)||"Expected an object, but received: "+lo(e)})}function di(r){const t=r.map(e=>e.type).join(" | ");return new ts({type:"union",schema:null,validator(e,n){const s=[];for(const i of r){const[...c]=sb(e,i,n),[l]=c;if(!l[0])return[];for(const[p]of c)p&&s.push(p)}return["Expected the value to satisfy a union of `"+t+"`, but received: "+lo(e),...s]}})}function Hh(){return lu("unknown",()=>!0)}function Vh(r,t,e){return new ts({...r,coercer:(n,s)=>uk(n,t)?r.coercer(e(n,s),s):r.coercer(n,s)})}var bV=new Uint8Array(16);function X8(){if(!Em&&!(Em=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||typeof msCrypto<"u"&&typeof msCrypto.getRandomValues=="function"&&msCrypto.getRandomValues.bind(msCrypto)))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return Em(bV)}var wV=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;function ql(r){return typeof r=="string"&&wV.test(r)}for(var J8,Am,kn=[],Sm=0;Sm<256;++Sm)kn.push((Sm+256).toString(16).substr(1));function ol(r){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,e=(kn[r[t+0]]+kn[r[t+1]]+kn[r[t+2]]+kn[r[t+3]]+"-"+kn[r[t+4]]+kn[r[t+5]]+"-"+kn[r[t+6]]+kn[r[t+7]]+"-"+kn[r[t+8]]+kn[r[t+9]]+"-"+kn[r[t+10]]+kn[r[t+11]]+kn[r[t+12]]+kn[r[t+13]]+kn[r[t+14]]+kn[r[t+15]]).toLowerCase();if(!ql(e))throw TypeError("Stringified UUID is invalid");return e}var km=0,Im=0;function ck(r){if(!ql(r))throw TypeError("Invalid UUID");var t,e=new Uint8Array(16);return e[0]=(t=parseInt(r.slice(0,8),16))>>>24,e[1]=t>>>16&255,e[2]=t>>>8&255,e[3]=255&t,e[4]=(t=parseInt(r.slice(9,13),16))>>>8,e[5]=255&t,e[6]=(t=parseInt(r.slice(14,18),16))>>>8,e[7]=255&t,e[8]=(t=parseInt(r.slice(19,23),16))>>>8,e[9]=255&t,e[10]=(t=parseInt(r.slice(24,36),16))/1099511627776&255,e[11]=t/4294967296&255,e[12]=t>>>24&255,e[13]=t>>>16&255,e[14]=t>>>8&255,e[15]=255&t,e}function hk(r,t,e){function n(s,i,c,l){if(typeof s=="string"&&(s=function(v){v=unescape(encodeURIComponent(v));for(var _=[],E=0;E<v.length;++E)_.push(v.charCodeAt(E));return _}(s)),typeof i=="string"&&(i=ck(i)),i.length!==16)throw TypeError("Namespace must be array-like (16 iterable integer values, 0-255)");var p=new Uint8Array(16+s.length);if(p.set(i),p.set(s,i.length),(p=e(p))[6]=15&p[6]|t,p[8]=63&p[8]|128,c){l=l||0;for(var m=0;m<16;++m)c[l+m]=p[m];return c}return ol(p)}try{n.name=r}catch{}return n.DNS="6ba7b810-9dad-11d1-80b4-00c04fd430c8",n.URL="6ba7b811-9dad-11d1-80b4-00c04fd430c8",n}function Q8(r){return 14+(r+64>>>9<<4)+1}function Ws(r,t){var e=(65535&r)+(65535&t);return(r>>16)+(t>>16)+(e>>16)<<16|65535&e}function Dd(r,t,e,n,s,i){return Ws((c=Ws(Ws(t,r),Ws(n,i)))<<(l=s)|c>>>32-l,e);var c,l}function Zn(r,t,e,n,s,i,c){return Dd(t&e|~t&n,r,t,s,i,c)}function Wn(r,t,e,n,s,i,c){return Dd(t&n|e&~n,r,t,s,i,c)}function Gn(r,t,e,n,s,i,c){return Dd(t^e^n,r,t,s,i,c)}function Yn(r,t,e,n,s,i,c){return Dd(e^(t|~n),r,t,s,i,c)}var xV=hk("v3",48,function(r){if(typeof r=="string"){var t=unescape(encodeURIComponent(r));r=new Uint8Array(t.length);for(var e=0;e<t.length;++e)r[e]=t.charCodeAt(e)}return function(n){for(var s=[],i=32*n.length,c="0123456789abcdef",l=0;l<i;l+=8){var p=n[l>>5]>>>l%32&255,m=parseInt(c.charAt(p>>>4&15)+c.charAt(15&p),16);s.push(m)}return s}(function(n,s){n[s>>5]|=128<<s%32,n[Q8(s)-1]=s;for(var i=1732584193,c=-271733879,l=-1732584194,p=271733878,m=0;m<n.length;m+=16){var v=i,_=c,E=l,w=p;i=Zn(i,c,l,p,n[m],7,-680876936),p=Zn(p,i,c,l,n[m+1],12,-389564586),l=Zn(l,p,i,c,n[m+2],17,606105819),c=Zn(c,l,p,i,n[m+3],22,-1044525330),i=Zn(i,c,l,p,n[m+4],7,-176418897),p=Zn(p,i,c,l,n[m+5],12,1200080426),l=Zn(l,p,i,c,n[m+6],17,-1473231341),c=Zn(c,l,p,i,n[m+7],22,-45705983),i=Zn(i,c,l,p,n[m+8],7,1770035416),p=Zn(p,i,c,l,n[m+9],12,-1958414417),l=Zn(l,p,i,c,n[m+10],17,-42063),c=Zn(c,l,p,i,n[m+11],22,-1990404162),i=Zn(i,c,l,p,n[m+12],7,1804603682),p=Zn(p,i,c,l,n[m+13],12,-40341101),l=Zn(l,p,i,c,n[m+14],17,-1502002290),i=Wn(i,c=Zn(c,l,p,i,n[m+15],22,1236535329),l,p,n[m+1],5,-165796510),p=Wn(p,i,c,l,n[m+6],9,-1069501632),l=Wn(l,p,i,c,n[m+11],14,643717713),c=Wn(c,l,p,i,n[m],20,-373897302),i=Wn(i,c,l,p,n[m+5],5,-701558691),p=Wn(p,i,c,l,n[m+10],9,38016083),l=Wn(l,p,i,c,n[m+15],14,-660478335),c=Wn(c,l,p,i,n[m+4],20,-405537848),i=Wn(i,c,l,p,n[m+9],5,568446438),p=Wn(p,i,c,l,n[m+14],9,-1019803690),l=Wn(l,p,i,c,n[m+3],14,-187363961),c=Wn(c,l,p,i,n[m+8],20,1163531501),i=Wn(i,c,l,p,n[m+13],5,-1444681467),p=Wn(p,i,c,l,n[m+2],9,-51403784),l=Wn(l,p,i,c,n[m+7],14,1735328473),i=Gn(i,c=Wn(c,l,p,i,n[m+12],20,-1926607734),l,p,n[m+5],4,-378558),p=Gn(p,i,c,l,n[m+8],11,-2022574463),l=Gn(l,p,i,c,n[m+11],16,1839030562),c=Gn(c,l,p,i,n[m+14],23,-35309556),i=Gn(i,c,l,p,n[m+1],4,-1530992060),p=Gn(p,i,c,l,n[m+4],11,1272893353),l=Gn(l,p,i,c,n[m+7],16,-155497632),c=Gn(c,l,p,i,n[m+10],23,-1094730640),i=Gn(i,c,l,p,n[m+13],4,681279174),p=Gn(p,i,c,l,n[m],11,-358537222),l=Gn(l,p,i,c,n[m+3],16,-722521979),c=Gn(c,l,p,i,n[m+6],23,76029189),i=Gn(i,c,l,p,n[m+9],4,-640364487),p=Gn(p,i,c,l,n[m+12],11,-421815835),l=Gn(l,p,i,c,n[m+15],16,530742520),i=Yn(i,c=Gn(c,l,p,i,n[m+2],23,-995338651),l,p,n[m],6,-198630844),p=Yn(p,i,c,l,n[m+7],10,1126891415),l=Yn(l,p,i,c,n[m+14],15,-1416354905),c=Yn(c,l,p,i,n[m+5],21,-57434055),i=Yn(i,c,l,p,n[m+12],6,1700485571),p=Yn(p,i,c,l,n[m+3],10,-1894986606),l=Yn(l,p,i,c,n[m+10],15,-1051523),c=Yn(c,l,p,i,n[m+1],21,-2054922799),i=Yn(i,c,l,p,n[m+8],6,1873313359),p=Yn(p,i,c,l,n[m+15],10,-30611744),l=Yn(l,p,i,c,n[m+6],15,-1560198380),c=Yn(c,l,p,i,n[m+13],21,1309151649),i=Yn(i,c,l,p,n[m+4],6,-145523070),p=Yn(p,i,c,l,n[m+11],10,-1120210379),l=Yn(l,p,i,c,n[m+2],15,718787259),c=Yn(c,l,p,i,n[m+9],21,-343485551),i=Ws(i,v),c=Ws(c,_),l=Ws(l,E),p=Ws(p,w)}return[i,c,l,p]}(function(n){if(n.length===0)return[];for(var s=8*n.length,i=new Uint32Array(Q8(s)),c=0;c<s;c+=8)i[c>>5]|=(255&n[c/8])<<c%32;return i}(r),8*r.length))}),_V=xV;function MV(r,t,e,n){switch(r){case 0:return t&e^~t&n;case 1:case 3:return t^e^n;case 2:return t&e^t&n^e&n}}function Bm(r,t){return r<<t|r>>>32-t}var EV=hk("v5",80,function(r){var t=[1518500249,1859775393,2400959708,3395469782],e=[1732584193,4023233417,2562383102,271733878,3285377520];if(typeof r=="string"){var n=unescape(encodeURIComponent(r));r=[];for(var s=0;s<n.length;++s)r.push(n.charCodeAt(s))}else Array.isArray(r)||(r=Array.prototype.slice.call(r));r.push(128);for(var i=r.length/4+2,c=Math.ceil(i/16),l=new Array(c),p=0;p<c;++p){for(var m=new Uint32Array(16),v=0;v<16;++v)m[v]=r[64*p+4*v]<<24|r[64*p+4*v+1]<<16|r[64*p+4*v+2]<<8|r[64*p+4*v+3];l[p]=m}l[c-1][14]=8*(r.length-1)/Math.pow(2,32),l[c-1][14]=Math.floor(l[c-1][14]),l[c-1][15]=8*(r.length-1)&4294967295;for(var _=0;_<c;++_){for(var E=new Uint32Array(80),w=0;w<16;++w)E[w]=l[_][w];for(var x=16;x<80;++x)E[x]=Bm(E[x-3]^E[x-8]^E[x-14]^E[x-16],1);for(var A=e[0],B=e[1],P=e[2],R=e[3],C=e[4],O=0;O<80;++O){var z=Math.floor(O/20),H=Bm(A,5)+MV(z,B,P,R)+C+t[z]+E[O]>>>0;C=R,R=P,P=Bm(B,30)>>>0,B=A,A=H}e[0]=e[0]+A>>>0,e[1]=e[1]+B>>>0,e[2]=e[2]+P>>>0,e[3]=e[3]+R>>>0,e[4]=e[4]+C>>>0}return[e[0]>>24&255,e[0]>>16&255,e[0]>>8&255,255&e[0],e[1]>>24&255,e[1]>>16&255,e[1]>>8&255,255&e[1],e[2]>>24&255,e[2]>>16&255,e[2]>>8&255,255&e[2],e[3]>>24&255,e[3]>>16&255,e[3]>>8&255,255&e[3],e[4]>>24&255,e[4]>>16&255,e[4]>>8&255,255&e[4]]}),AV=EV,SV=Object.freeze({__proto__:null,v1:function(r,t,e){var n=t&&e||0,s=t||new Array(16),i=(r=r||{}).node||J8,c=r.clockseq!==void 0?r.clockseq:Am;if(i==null||c==null){var l=r.random||(r.rng||X8)();i==null&&(i=J8=[1|l[0],l[1],l[2],l[3],l[4],l[5]]),c==null&&(c=Am=16383&(l[6]<<8|l[7]))}var p=r.msecs!==void 0?r.msecs:Date.now(),m=r.nsecs!==void 0?r.nsecs:Im+1,v=p-km+(m-Im)/1e4;if(v<0&&r.clockseq===void 0&&(c=c+1&16383),(v<0||p>km)&&r.nsecs===void 0&&(m=0),m>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");km=p,Im=m,Am=c;var _=(1e4*(268435455&(p+=122192928e5))+m)%4294967296;s[n++]=_>>>24&255,s[n++]=_>>>16&255,s[n++]=_>>>8&255,s[n++]=255&_;var E=p/4294967296*1e4&268435455;s[n++]=E>>>8&255,s[n++]=255&E,s[n++]=E>>>24&15|16,s[n++]=E>>>16&255,s[n++]=c>>>8|128,s[n++]=255&c;for(var w=0;w<6;++w)s[n+w]=i[w];return t||ol(s)},v3:_V,v4:function(r,t,e){var n=(r=r||{}).random||(r.rng||X8)();if(n[6]=15&n[6]|64,n[8]=63&n[8]|128,t){e=e||0;for(var s=0;s<16;++s)t[e+s]=n[s];return t}return ol(n)},v5:AV,NIL:"00000000-0000-0000-0000-000000000000",version:function(r){if(!ql(r))throw TypeError("Invalid UUID");return parseInt(r.substr(14,1),16)},validate:ql,stringify:ol,parse:ck}),tx=Wy(SV);tx.v4,tx.v4;var P0,lk={exports:{}};(P0=lk).exports=function(r){return r&&r.__esModule?r:{default:r}},P0.exports.__esModule=!0,P0.exports.default=P0.exports;var ex,rx,Pm,nx,ix=lk.exports,ox={exports:{}},sx={exports:{}};function lh(){return ex||(ex=1,function(r){function t(e){return r.exports=t=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(n){return typeof n}:function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},r.exports.__esModule=!0,r.exports.default=r.exports,t(e)}r.exports=t,r.exports.__esModule=!0,r.exports.default=r.exports}(sx)),sx.exports}var ax,ux,fx={exports:{}},cx={exports:{}};function hx(){return ux||(ux=1,function(r){r.exports=function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")},r.exports.__esModule=!0,r.exports.default=r.exports}(cx)),cx.exports}var lx,dx,px,mx={exports:{}},vx={exports:{}},gx={exports:{}};function kV(){return dx||(dx=1,function(r){var t=lh().default,e=(lx||(lx=1,function(n){var s=lh().default;n.exports=function(i,c){if(s(i)!=="object"||i===null)return i;var l=i[Symbol.toPrimitive];if(l!==void 0){var p=l.call(i,c||"default");if(s(p)!=="object")return p;throw new TypeError("@@toPrimitive must return a primitive value.")}return(c==="string"?String:Number)(i)},n.exports.__esModule=!0,n.exports.default=n.exports}(gx)),gx.exports);r.exports=function(n){var s=e(n,"string");return t(s)==="symbol"?s:String(s)},r.exports.__esModule=!0,r.exports.default=r.exports}(vx)),vx.exports}function yx(){return px||(px=1,function(r){var t=kV();function e(n,s){for(var i=0;i<s.length;i++){var c=s[i];c.enumerable=c.enumerable||!1,c.configurable=!0,"value"in c&&(c.writable=!0),Object.defineProperty(n,t(c.key),c)}}r.exports=function(n,s,i){return s&&e(n.prototype,s),i&&e(n,i),Object.defineProperty(n,"prototype",{writable:!1}),n},r.exports.__esModule=!0,r.exports.default=r.exports}(mx)),mx.exports}var bx,wx,xx={exports:{}},_x={exports:{}};function Mx(){return wx||(wx=1,function(r){var t=(bx||(bx=1,function(e){function n(s,i){return e.exports=n=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(c,l){return c.__proto__=l,c},e.exports.__esModule=!0,e.exports.default=e.exports,n(s,i)}e.exports=n,e.exports.__esModule=!0,e.exports.default=e.exports}(_x)),_x.exports);r.exports=function(e,n){if(typeof n!="function"&&n!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(n&&n.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),n&&t(e,n)},r.exports.__esModule=!0,r.exports.default=r.exports}(xx)),xx.exports}var Ex,Ax,Sx={exports:{}},kx={exports:{}};function Ix(){return Ax||(Ax=1,function(r){var t=lh().default,e=(Ex||(Ex=1,function(n){n.exports=function(s){if(s===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return s},n.exports.__esModule=!0,n.exports.default=n.exports}(kx)),kx.exports);r.exports=function(n,s){if(s&&(t(s)==="object"||typeof s=="function"))return s;if(s!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return e(n)},r.exports.__esModule=!0,r.exports.default=r.exports}(Sx)),Sx.exports}var Bx,Px={exports:{}};function Rx(){return Bx||(Bx=1,function(r){function t(e){return r.exports=t=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},r.exports.__esModule=!0,r.exports.default=r.exports,t(e)}r.exports=t,r.exports.__esModule=!0,r.exports.default=r.exports}(Px)),Px.exports}var Cx,Tx={exports:{}};function Lx(){return Cx||(Cx=1,function(r){var t=Object.prototype.hasOwnProperty,e="~";function n(){}function s(p,m,v){this.fn=p,this.context=m,this.once=v||!1}function i(p,m,v,_,E){if(typeof v!="function")throw new TypeError("The listener must be a function");var w=new s(v,_||p,E),x=e?e+m:m;return p._events[x]?p._events[x].fn?p._events[x]=[p._events[x],w]:p._events[x].push(w):(p._events[x]=w,p._eventsCount++),p}function c(p,m){--p._eventsCount==0?p._events=new n:delete p._events[m]}function l(){this._events=new n,this._eventsCount=0}Object.create&&(n.prototype=Object.create(null),new n().__proto__||(e=!1)),l.prototype.eventNames=function(){var p,m,v=[];if(this._eventsCount===0)return v;for(m in p=this._events)t.call(p,m)&&v.push(e?m.slice(1):m);return Object.getOwnPropertySymbols?v.concat(Object.getOwnPropertySymbols(p)):v},l.prototype.listeners=function(p){var m=e?e+p:p,v=this._events[m];if(!v)return[];if(v.fn)return[v.fn];for(var _=0,E=v.length,w=new Array(E);_<E;_++)w[_]=v[_].fn;return w},l.prototype.listenerCount=function(p){var m=e?e+p:p,v=this._events[m];return v?v.fn?1:v.length:0},l.prototype.emit=function(p,m,v,_,E,w){var x=e?e+p:p;if(!this._events[x])return!1;var A,B,P=this._events[x],R=arguments.length;if(P.fn){switch(P.once&&this.removeListener(p,P.fn,void 0,!0),R){case 1:return P.fn.call(P.context),!0;case 2:return P.fn.call(P.context,m),!0;case 3:return P.fn.call(P.context,m,v),!0;case 4:return P.fn.call(P.context,m,v,_),!0;case 5:return P.fn.call(P.context,m,v,_,E),!0;case 6:return P.fn.call(P.context,m,v,_,E,w),!0}for(B=1,A=new Array(R-1);B<R;B++)A[B-1]=arguments[B];P.fn.apply(P.context,A)}else{var C,O=P.length;for(B=0;B<O;B++)switch(P[B].once&&this.removeListener(p,P[B].fn,void 0,!0),R){case 1:P[B].fn.call(P[B].context);break;case 2:P[B].fn.call(P[B].context,m);break;case 3:P[B].fn.call(P[B].context,m,v);break;case 4:P[B].fn.call(P[B].context,m,v,_);break;default:if(!A)for(C=1,A=new Array(R-1);C<R;C++)A[C-1]=arguments[C];P[B].fn.apply(P[B].context,A)}}return!0},l.prototype.on=function(p,m,v){return i(this,p,m,v,!1)},l.prototype.once=function(p,m,v){return i(this,p,m,v,!0)},l.prototype.removeListener=function(p,m,v,_){var E=e?e+p:p;if(!this._events[E])return this;if(!m)return c(this,E),this;var w=this._events[E];if(w.fn)w.fn!==m||_&&!w.once||v&&w.context!==v||c(this,E);else{for(var x=0,A=[],B=w.length;x<B;x++)(w[x].fn!==m||_&&!w[x].once||v&&w[x].context!==v)&&A.push(w[x]);A.length?this._events[E]=A.length===1?A[0]:A:c(this,E)}return this},l.prototype.removeAllListeners=function(p){var m;return p?(m=e?e+p:p,this._events[m]&&c(this,m)):(this._events=new n,this._eventsCount=0),this},l.prototype.off=l.prototype.removeListener,l.prototype.addListener=l.prototype.on,l.prefixed=e,l.EventEmitter=l,r.exports=l}(Tx)),Tx.exports}(function(r){var t=ix;Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var e=t(function(){if(nx)return Pm;nx=1;var E=(rx||(rx=1,function(w){var x=lh().default;function A(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */w.exports=A=function(){return P},w.exports.__esModule=!0,w.exports.default=w.exports;var B,P={},R=Object.prototype,C=R.hasOwnProperty,O=Object.defineProperty||function(lt,ct,Tt){lt[ct]=Tt.value},z=typeof Symbol=="function"?Symbol:{},H=z.iterator||"@@iterator",tt=z.asyncIterator||"@@asyncIterator",nt=z.toStringTag||"@@toStringTag";function G(lt,ct,Tt){return Object.defineProperty(lt,ct,{value:Tt,enumerable:!0,configurable:!0,writable:!0}),lt[ct]}try{G({},"")}catch{G=function(ct,Tt,kt){return ct[Tt]=kt}}function M(lt,ct,Tt,kt){var k=ct&&ct.prototype instanceof S?ct:S,T=Object.create(k.prototype),L=new pt(kt||[]);return O(T,"_invoke",{value:it(lt,Tt,L)}),T}function d(lt,ct,Tt){try{return{type:"normal",arg:lt.call(ct,Tt)}}catch(kt){return{type:"throw",arg:kt}}}P.wrap=M;var o="suspendedStart",a="suspendedYield",f="executing",h="completed",g={};function S(){}function I(){}function y(){}var u={};G(u,H,function(){return this});var b=Object.getPrototypeOf,D=b&&b(b(Ft([])));D&&D!==R&&C.call(D,H)&&(u=D);var Z=y.prototype=S.prototype=Object.create(u);function F(lt){["next","throw","return"].forEach(function(ct){G(lt,ct,function(Tt){return this._invoke(ct,Tt)})})}function q(lt,ct){function Tt(k,T,L,j){var rt=d(lt[k],lt,T);if(rt.type!=="throw"){var Q=rt.arg,ot=Q.value;return ot&&x(ot)=="object"&&C.call(ot,"__await")?ct.resolve(ot.__await).then(function(qt){Tt("next",qt,L,j)},function(qt){Tt("throw",qt,L,j)}):ct.resolve(ot).then(function(qt){Q.value=qt,L(Q)},function(qt){return Tt("throw",qt,L,j)})}j(rt.arg)}var kt;O(this,"_invoke",{value:function(k,T){function L(){return new ct(function(j,rt){Tt(k,T,j,rt)})}return kt=kt?kt.then(L,L):L()}})}function it(lt,ct,Tt){var kt=o;return function(k,T){if(kt===f)throw new Error("Generator is already running");if(kt===h){if(k==="throw")throw T;return{value:B,done:!0}}for(Tt.method=k,Tt.arg=T;;){var L=Tt.delegate;if(L){var j=at(L,Tt);if(j){if(j===g)continue;return j}}if(Tt.method==="next")Tt.sent=Tt._sent=Tt.arg;else if(Tt.method==="throw"){if(kt===o)throw kt=h,Tt.arg;Tt.dispatchException(Tt.arg)}else Tt.method==="return"&&Tt.abrupt("return",Tt.arg);kt=f;var rt=d(lt,ct,Tt);if(rt.type==="normal"){if(kt=Tt.done?h:a,rt.arg===g)continue;return{value:rt.arg,done:Tt.done}}rt.type==="throw"&&(kt=h,Tt.method="throw",Tt.arg=rt.arg)}}}function at(lt,ct){var Tt=ct.method,kt=lt.iterator[Tt];if(kt===B)return ct.delegate=null,Tt==="throw"&&lt.iterator.return&&(ct.method="return",ct.arg=B,at(lt,ct),ct.method==="throw")||Tt!=="return"&&(ct.method="throw",ct.arg=new TypeError("The iterator does not provide a '"+Tt+"' method")),g;var k=d(kt,lt.iterator,ct.arg);if(k.type==="throw")return ct.method="throw",ct.arg=k.arg,ct.delegate=null,g;var T=k.arg;return T?T.done?(ct[lt.resultName]=T.value,ct.next=lt.nextLoc,ct.method!=="return"&&(ct.method="next",ct.arg=B),ct.delegate=null,g):T:(ct.method="throw",ct.arg=new TypeError("iterator result is not an object"),ct.delegate=null,g)}function Bt(lt){var ct={tryLoc:lt[0]};1 in lt&&(ct.catchLoc=lt[1]),2 in lt&&(ct.finallyLoc=lt[2],ct.afterLoc=lt[3]),this.tryEntries.push(ct)}function yt(lt){var ct=lt.completion||{};ct.type="normal",delete ct.arg,lt.completion=ct}function pt(lt){this.tryEntries=[{tryLoc:"root"}],lt.forEach(Bt,this),this.reset(!0)}function Ft(lt){if(lt||lt===""){var ct=lt[H];if(ct)return ct.call(lt);if(typeof lt.next=="function")return lt;if(!isNaN(lt.length)){var Tt=-1,kt=function k(){for(;++Tt<lt.length;)if(C.call(lt,Tt))return k.value=lt[Tt],k.done=!1,k;return k.value=B,k.done=!0,k};return kt.next=kt}}throw new TypeError(x(lt)+" is not iterable")}return I.prototype=y,O(Z,"constructor",{value:y,configurable:!0}),O(y,"constructor",{value:I,configurable:!0}),I.displayName=G(y,nt,"GeneratorFunction"),P.isGeneratorFunction=function(lt){var ct=typeof lt=="function"&&lt.constructor;return!!ct&&(ct===I||(ct.displayName||ct.name)==="GeneratorFunction")},P.mark=function(lt){return Object.setPrototypeOf?Object.setPrototypeOf(lt,y):(lt.__proto__=y,G(lt,nt,"GeneratorFunction")),lt.prototype=Object.create(Z),lt},P.awrap=function(lt){return{__await:lt}},F(q.prototype),G(q.prototype,tt,function(){return this}),P.AsyncIterator=q,P.async=function(lt,ct,Tt,kt,k){k===void 0&&(k=Promise);var T=new q(M(lt,ct,Tt,kt),k);return P.isGeneratorFunction(ct)?T:T.next().then(function(L){return L.done?L.value:T.next()})},F(Z),G(Z,nt,"Generator"),G(Z,H,function(){return this}),G(Z,"toString",function(){return"[object Generator]"}),P.keys=function(lt){var ct=Object(lt),Tt=[];for(var kt in ct)Tt.push(kt);return Tt.reverse(),function k(){for(;Tt.length;){var T=Tt.pop();if(T in ct)return k.value=T,k.done=!1,k}return k.done=!0,k}},P.values=Ft,pt.prototype={constructor:pt,reset:function(lt){if(this.prev=0,this.next=0,this.sent=this._sent=B,this.done=!1,this.delegate=null,this.method="next",this.arg=B,this.tryEntries.forEach(yt),!lt)for(var ct in this)ct.charAt(0)==="t"&&C.call(this,ct)&&!isNaN(+ct.slice(1))&&(this[ct]=B)},stop:function(){this.done=!0;var lt=this.tryEntries[0].completion;if(lt.type==="throw")throw lt.arg;return this.rval},dispatchException:function(lt){if(this.done)throw lt;var ct=this;function Tt(rt,Q){return T.type="throw",T.arg=lt,ct.next=rt,Q&&(ct.method="next",ct.arg=B),!!Q}for(var kt=this.tryEntries.length-1;kt>=0;--kt){var k=this.tryEntries[kt],T=k.completion;if(k.tryLoc==="root")return Tt("end");if(k.tryLoc<=this.prev){var L=C.call(k,"catchLoc"),j=C.call(k,"finallyLoc");if(L&&j){if(this.prev<k.catchLoc)return Tt(k.catchLoc,!0);if(this.prev<k.finallyLoc)return Tt(k.finallyLoc)}else if(L){if(this.prev<k.catchLoc)return Tt(k.catchLoc,!0)}else{if(!j)throw new Error("try statement without catch or finally");if(this.prev<k.finallyLoc)return Tt(k.finallyLoc)}}}},abrupt:function(lt,ct){for(var Tt=this.tryEntries.length-1;Tt>=0;--Tt){var kt=this.tryEntries[Tt];if(kt.tryLoc<=this.prev&&C.call(kt,"finallyLoc")&&this.prev<kt.finallyLoc){var k=kt;break}}k&&(lt==="break"||lt==="continue")&&k.tryLoc<=ct&&ct<=k.finallyLoc&&(k=null);var T=k?k.completion:{};return T.type=lt,T.arg=ct,k?(this.method="next",this.next=k.finallyLoc,g):this.complete(T)},complete:function(lt,ct){if(lt.type==="throw")throw lt.arg;return lt.type==="break"||lt.type==="continue"?this.next=lt.arg:lt.type==="return"?(this.rval=this.arg=lt.arg,this.method="return",this.next="end"):lt.type==="normal"&&ct&&(this.next=ct),g},finish:function(lt){for(var ct=this.tryEntries.length-1;ct>=0;--ct){var Tt=this.tryEntries[ct];if(Tt.finallyLoc===lt)return this.complete(Tt.completion,Tt.afterLoc),yt(Tt),g}},catch:function(lt){for(var ct=this.tryEntries.length-1;ct>=0;--ct){var Tt=this.tryEntries[ct];if(Tt.tryLoc===lt){var kt=Tt.completion;if(kt.type==="throw"){var k=kt.arg;yt(Tt)}return k}}throw new Error("illegal catch attempt")},delegateYield:function(lt,ct,Tt){return this.delegate={iterator:Ft(lt),resultName:ct,nextLoc:Tt},this.method==="next"&&(this.arg=B),g}},P}w.exports=A,w.exports.__esModule=!0,w.exports.default=w.exports}(ox)),ox.exports)();Pm=E;try{regeneratorRuntime=E}catch{typeof globalThis=="object"?globalThis.regeneratorRuntime=E:Function("r","regeneratorRuntime = r")(E)}return Pm}()),n=t((ax||(ax=1,function(E){function w(x,A,B,P,R,C,O){try{var z=x[C](O),H=z.value}catch(tt){return void B(tt)}z.done?A(H):Promise.resolve(H).then(P,R)}E.exports=function(x){return function(){var A=this,B=arguments;return new Promise(function(P,R){var C=x.apply(A,B);function O(H){w(C,P,R,O,z,"next",H)}function z(H){w(C,P,R,O,z,"throw",H)}O(void 0)})}},E.exports.__esModule=!0,E.exports.default=E.exports}(fx)),fx.exports)),s=t(lh()),i=t(hx()),c=t(yx()),l=t(Mx()),p=t(Ix()),m=t(Rx());function v(E){var w=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var x,A=(0,m.default)(E);if(w){var B=(0,m.default)(this).constructor;x=Reflect.construct(A,arguments,B)}else x=A.apply(this,arguments);return(0,p.default)(this,x)}}var _=function(E){(0,l.default)(R,E);var w,x,A,B,P=v(R);function R(C){var O,z=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"ws://localhost:8080",H=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},tt=arguments.length>3?arguments[3]:void 0;(0,i.default)(this,R);var nt=H.autoconnect,G=nt===void 0||nt,M=H.reconnect,d=M===void 0||M,o=H.reconnect_interval,a=o===void 0?1e3:o,f=H.max_reconnects,h=f===void 0?5:f,g=function(S,I){var y={};for(var u in S)Object.prototype.hasOwnProperty.call(S,u)&&I.indexOf(u)<0&&(y[u]=S[u]);if(S!=null&&typeof Object.getOwnPropertySymbols=="function"){var b=0;for(u=Object.getOwnPropertySymbols(S);b<u.length;b++)I.indexOf(u[b])<0&&Object.prototype.propertyIsEnumerable.call(S,u[b])&&(y[u[b]]=S[u[b]])}return y}(H,["autoconnect","reconnect","reconnect_interval","max_reconnects"]);return(O=P.call(this)).webSocketFactory=C,O.queue={},O.rpc_id=0,O.address=z,O.autoconnect=G,O.ready=!1,O.reconnect=d,O.reconnect_timer_id=void 0,O.reconnect_interval=a,O.max_reconnects=h,O.rest_options=g,O.current_reconnects=0,O.generate_request_id=tt||function(){return++O.rpc_id},O.autoconnect&&O._connect(O.address,Object.assign({autoconnect:O.autoconnect,reconnect:O.reconnect,reconnect_interval:O.reconnect_interval,max_reconnects:O.max_reconnects},O.rest_options)),O}return(0,c.default)(R,[{key:"connect",value:function(){this.socket||this._connect(this.address,Object.assign({autoconnect:this.autoconnect,reconnect:this.reconnect,reconnect_interval:this.reconnect_interval,max_reconnects:this.max_reconnects},this.rest_options))}},{key:"call",value:function(C,O,z,H){var tt=this;return H||(0,s.default)(z)!=="object"||(H=z,z=null),new Promise(function(nt,G){if(!tt.ready)return G(new Error("socket not ready"));var M=tt.generate_request_id(C,O),d={jsonrpc:"2.0",method:C,params:O||null,id:M};tt.socket.send(JSON.stringify(d),H,function(o){if(o)return G(o);tt.queue[M]={promise:[nt,G]},z&&(tt.queue[M].timeout=setTimeout(function(){delete tt.queue[M],G(new Error("reply timeout"))},z))})})}},{key:"login",value:(B=(0,n.default)(e.default.mark(function C(O){var z;return e.default.wrap(function(H){for(;;)switch(H.prev=H.next){case 0:return H.next=2,this.call("rpc.login",O);case 2:if(z=H.sent){H.next=5;break}throw new Error("authentication failed");case 5:return H.abrupt("return",z);case 6:case"end":return H.stop()}},C,this)})),function(C){return B.apply(this,arguments)})},{key:"listMethods",value:(A=(0,n.default)(e.default.mark(function C(){return e.default.wrap(function(O){for(;;)switch(O.prev=O.next){case 0:return O.next=2,this.call("__listMethods");case 2:return O.abrupt("return",O.sent);case 3:case"end":return O.stop()}},C,this)})),function(){return A.apply(this,arguments)})},{key:"notify",value:function(C,O){var z=this;return new Promise(function(H,tt){if(!z.ready)return tt(new Error("socket not ready"));var nt={jsonrpc:"2.0",method:C,params:O||null};z.socket.send(JSON.stringify(nt),function(G){if(G)return tt(G);H()})})}},{key:"subscribe",value:(x=(0,n.default)(e.default.mark(function C(O){var z;return e.default.wrap(function(H){for(;;)switch(H.prev=H.next){case 0:return typeof O=="string"&&(O=[O]),H.next=3,this.call("rpc.on",O);case 3:if(z=H.sent,typeof O!="string"||z[O]==="ok"){H.next=6;break}throw new Error("Failed subscribing to an event '"+O+"' with: "+z[O]);case 6:return H.abrupt("return",z);case 7:case"end":return H.stop()}},C,this)})),function(C){return x.apply(this,arguments)})},{key:"unsubscribe",value:(w=(0,n.default)(e.default.mark(function C(O){var z;return e.default.wrap(function(H){for(;;)switch(H.prev=H.next){case 0:return typeof O=="string"&&(O=[O]),H.next=3,this.call("rpc.off",O);case 3:if(z=H.sent,typeof O!="string"||z[O]==="ok"){H.next=6;break}throw new Error("Failed unsubscribing from an event with: "+z);case 6:return H.abrupt("return",z);case 7:case"end":return H.stop()}},C,this)})),function(C){return w.apply(this,arguments)})},{key:"close",value:function(C,O){this.socket.close(C||1e3,O)}},{key:"_connect",value:function(C,O){var z=this;clearTimeout(this.reconnect_timer_id),this.socket=this.webSocketFactory(C,O),this.socket.addEventListener("open",function(){z.ready=!0,z.emit("open"),z.current_reconnects=0}),this.socket.addEventListener("message",function(H){var tt=H.data;tt instanceof ArrayBuffer&&(tt=Zt.Buffer.from(tt).toString());try{tt=JSON.parse(tt)}catch{return}if(tt.notification&&z.listeners(tt.notification).length){if(!Object.keys(tt.params).length)return z.emit(tt.notification);var nt=[tt.notification];if(tt.params.constructor===Object)nt.push(tt.params);else for(var G=0;G<tt.params.length;G++)nt.push(tt.params[G]);return Promise.resolve().then(function(){z.emit.apply(z,nt)})}if(!z.queue[tt.id])return tt.method&&tt.params?Promise.resolve().then(function(){z.emit(tt.method,tt.params)}):void 0;"error"in tt=="result"in tt&&z.queue[tt.id].promise[1](new Error('Server response malformed. Response must include either "result" or "error", but not both.')),z.queue[tt.id].timeout&&clearTimeout(z.queue[tt.id].timeout),tt.error?z.queue[tt.id].promise[1](tt.error):z.queue[tt.id].promise[0](tt.result),delete z.queue[tt.id]}),this.socket.addEventListener("error",function(H){return z.emit("error",H)}),this.socket.addEventListener("close",function(H){var tt=H.code,nt=H.reason;z.ready&&setTimeout(function(){return z.emit("close",tt,nt)},0),z.ready=!1,z.socket=void 0,tt!==1e3&&(z.current_reconnects++,z.reconnect&&(z.max_reconnects>z.current_reconnects||z.max_reconnects===0)&&(z.reconnect_timer_id=setTimeout(function(){return z._connect(C,O)},z.reconnect_interval)))})}}]),R}(Lx().EventEmitter);r.default=_})({}),function(r){var t=ix;Object.defineProperty(r,"__esModule",{value:!0}),r.default=function(m,v){return new p(m,v)};var e=t(hx()),n=t(yx()),s=t(Mx()),i=t(Ix()),c=t(Rx());function l(m){var v=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var _,E=(0,c.default)(m);if(v){var w=(0,c.default)(this).constructor;_=Reflect.construct(E,arguments,w)}else _=E.apply(this,arguments);return(0,i.default)(this,_)}}var p=function(m){(0,s.default)(_,m);var v=l(_);function _(E,w,x){var A;return(0,e.default)(this,_),(A=v.call(this)).socket=new window.WebSocket(E,x),A.socket.onopen=function(){return A.emit("open")},A.socket.onmessage=function(B){return A.emit("message",B.data)},A.socket.onerror=function(B){return A.emit("error",B)},A.socket.onclose=function(B){A.emit("close",B.code,B.reason)},A}return(0,n.default)(_,[{key:"send",value:function(E,w,x){var A=x||w;try{this.socket.send(E),A()}catch(B){A(B)}}},{key:"close",value:function(E,w){this.socket.close(E,w)}},{key:"addEventListener",value:function(E,w,x){this.socket.addEventListener(E,w,x)}}]),_}(Lx().EventEmitter)}({});const{bytesToNumberBE:IV,hexToBytes:BV}=KH,Fa={Err:class extends Error{constructor(r=""){super(r)}},_parseInt(r){const{Err:t}=Fa;if(r.length<2||r[0]!==2)throw new t("Invalid signature integer tag");const e=r[1],n=r.subarray(2,e+2);if(!e||n.length!==e)throw new t("Invalid signature integer: wrong length");if(128&n[0])throw new t("Invalid signature integer: negative");if(n[0]===0&&!(128&n[1]))throw new t("Invalid signature integer: unnecessary leading zero");return{d:IV(n),l:r.subarray(e+2)}},toSig(r){const{Err:t}=Fa,e=typeof r=="string"?BV(r):r;if(!(e instanceof Uint8Array))throw new Error("ui8a expected");let n=e.length;if(n<2||e[0]!=48)throw new t("Invalid signature tag");if(e[1]!==n-2)throw new t("Invalid signature: incorrect length");const{d:s,l:i}=Fa._parseInt(e.subarray(2)),{d:c,l}=Fa._parseInt(i);if(l.length)throw new t("Invalid signature: left bytes after parsing");return{r:s,s:c}},hexFromSig(r){const t=m=>8&Number.parseInt(m[0],16)?"00"+m:m,e=m=>{const v=m.toString(16);return 1&v.length?`0${v}`:v},n=t(e(r.s)),s=t(e(r.r)),i=n.length/2,c=s.length/2,l=e(i),p=e(c);return`30${e(c+i+4)}02${p}${s}02${l}${n}`}},os=BigInt(0),Ci=BigInt(1);BigInt(2);const Ox=BigInt(3);function PV(r){const t=function(G){const M=Bv(G);return gf(M,{hash:"hash",hmac:"function",randomBytes:"function"},{bits2int:"function",bits2int_modN:"function",lowS:"boolean"}),Object.freeze({lowS:!0,...M})}(r),{Fp:e,n}=t,s=e.BYTES+1,i=2*e.BYTES+1;function c(G){return $r(G,n)}function l(G){return Iv(G,n)}const{ProjectivePoint:p,normPrivateKeyToScalar:m,weierstrassEquation:v,isWithinCurveOrder:_}=function(G){const M=function(Z){const F=Bv(Z);gf(F,{a:"field",b:"field"},{allowedPrivateKeyLengths:"array",wrapPrivateKey:"boolean",isTorsionFree:"function",clearCofactor:"function",allowInfinityPoint:"boolean",fromBytes:"function",toBytes:"function"});const{endo:q,Fp:it,a:at}=F;if(q){if(!it.eql(at,it.ZERO))throw new Error("Endomorphism can only be defined for Koblitz curves that have a=0");if(typeof q!="object"||typeof q.beta!="bigint"||typeof q.splitScalar!="function")throw new Error("Expected endomorphism with beta: bigint and splitScalar: function")}return Object.freeze({...F})}(G),{Fp:d}=M,o=M.toBytes||((Z,F,q)=>{const it=F.toAffine();return Ha(Uint8Array.from([4]),d.toBytes(it.x),d.toBytes(it.y))}),a=M.fromBytes||(Z=>{const F=Z.subarray(1);return{x:d.fromBytes(F.subarray(0,d.BYTES)),y:d.fromBytes(F.subarray(d.BYTES,2*d.BYTES))}});function f(Z){const{a:F,b:q}=M,it=d.sqr(Z),at=d.mul(it,Z);return d.add(d.add(at,d.mul(Z,F)),q)}if(!d.eql(d.sqr(M.Gy),f(M.Gx)))throw new Error("bad generator point: equation left != right");function h(Z){return typeof Z=="bigint"&&os<Z&&Z<M.n}function g(Z){if(!h(Z))throw new Error("Expected valid bigint: 0 < bigint < curve.n")}function S(Z){const{allowedPrivateKeyLengths:F,nByteLength:q,wrapPrivateKey:it,n:at}=M;if(F&&typeof Z!="bigint"){if(Z instanceof Uint8Array&&(Z=$a(Z)),typeof Z!="string"||!F.includes(Z.length))throw new Error("Invalid key");Z=Z.padStart(2*q,"0")}let Bt;try{Bt=typeof Z=="bigint"?Z:Aa(pn("private key",Z,q))}catch{throw new Error(`private key must be ${q} bytes, hex or bigint, not ${typeof Z}`)}return it&&(Bt=$r(Bt,at)),g(Bt),Bt}const I=new Map;function y(Z){if(!(Z instanceof u))throw new Error("ProjectivePoint expected")}class u{constructor(F,q,it){if(this.px=F,this.py=q,this.pz=it,F==null||!d.isValid(F))throw new Error("x required");if(q==null||!d.isValid(q))throw new Error("y required");if(it==null||!d.isValid(it))throw new Error("z required")}static fromAffine(F){const{x:q,y:it}=F||{};if(!F||!d.isValid(q)||!d.isValid(it))throw new Error("invalid affine point");if(F instanceof u)throw new Error("projective point not allowed");const at=Bt=>d.eql(Bt,d.ZERO);return at(q)&&at(it)?u.ZERO:new u(q,it,d.ONE)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static normalizeZ(F){const q=d.invertBatch(F.map(it=>it.pz));return F.map((it,at)=>it.toAffine(q[at])).map(u.fromAffine)}static fromHex(F){const q=u.fromAffine(a(pn("pointHex",F)));return q.assertValidity(),q}static fromPrivateKey(F){return u.BASE.multiply(S(F))}_setWindowSize(F){this._WINDOW_SIZE=F,I.delete(this)}assertValidity(){if(this.is0()){if(M.allowInfinityPoint&&!d.is0(this.py))return;throw new Error("bad point: ZERO")}const{x:F,y:q}=this.toAffine();if(!d.isValid(F)||!d.isValid(q))throw new Error("bad point: x or y not FE");const it=d.sqr(q),at=f(F);if(!d.eql(it,at))throw new Error("bad point: equation left != right");if(!this.isTorsionFree())throw new Error("bad point: not in prime-order subgroup")}hasEvenY(){const{y:F}=this.toAffine();if(d.isOdd)return!d.isOdd(F);throw new Error("Field doesn't support isOdd")}equals(F){y(F);const{px:q,py:it,pz:at}=this,{px:Bt,py:yt,pz:pt}=F,Ft=d.eql(d.mul(q,pt),d.mul(Bt,at)),lt=d.eql(d.mul(it,pt),d.mul(yt,at));return Ft&&lt}negate(){return new u(this.px,d.neg(this.py),this.pz)}double(){const{a:F,b:q}=M,it=d.mul(q,Ox),{px:at,py:Bt,pz:yt}=this;let pt=d.ZERO,Ft=d.ZERO,lt=d.ZERO,ct=d.mul(at,at),Tt=d.mul(Bt,Bt),kt=d.mul(yt,yt),k=d.mul(at,Bt);return k=d.add(k,k),lt=d.mul(at,yt),lt=d.add(lt,lt),pt=d.mul(F,lt),Ft=d.mul(it,kt),Ft=d.add(pt,Ft),pt=d.sub(Tt,Ft),Ft=d.add(Tt,Ft),Ft=d.mul(pt,Ft),pt=d.mul(k,pt),lt=d.mul(it,lt),kt=d.mul(F,kt),k=d.sub(ct,kt),k=d.mul(F,k),k=d.add(k,lt),lt=d.add(ct,ct),ct=d.add(lt,ct),ct=d.add(ct,kt),ct=d.mul(ct,k),Ft=d.add(Ft,ct),kt=d.mul(Bt,yt),kt=d.add(kt,kt),ct=d.mul(kt,k),pt=d.sub(pt,ct),lt=d.mul(kt,Tt),lt=d.add(lt,lt),lt=d.add(lt,lt),new u(pt,Ft,lt)}add(F){y(F);const{px:q,py:it,pz:at}=this,{px:Bt,py:yt,pz:pt}=F;let Ft=d.ZERO,lt=d.ZERO,ct=d.ZERO;const Tt=M.a,kt=d.mul(M.b,Ox);let k=d.mul(q,Bt),T=d.mul(it,yt),L=d.mul(at,pt),j=d.add(q,it),rt=d.add(Bt,yt);j=d.mul(j,rt),rt=d.add(k,T),j=d.sub(j,rt),rt=d.add(q,at);let Q=d.add(Bt,pt);return rt=d.mul(rt,Q),Q=d.add(k,L),rt=d.sub(rt,Q),Q=d.add(it,at),Ft=d.add(yt,pt),Q=d.mul(Q,Ft),Ft=d.add(T,L),Q=d.sub(Q,Ft),ct=d.mul(Tt,rt),Ft=d.mul(kt,L),ct=d.add(Ft,ct),Ft=d.sub(T,ct),ct=d.add(T,ct),lt=d.mul(Ft,ct),T=d.add(k,k),T=d.add(T,k),L=d.mul(Tt,L),rt=d.mul(kt,rt),T=d.add(T,L),L=d.sub(k,L),L=d.mul(Tt,L),rt=d.add(rt,L),k=d.mul(T,rt),lt=d.add(lt,k),k=d.mul(Q,rt),Ft=d.mul(j,Ft),Ft=d.sub(Ft,k),k=d.mul(j,T),ct=d.mul(Q,ct),ct=d.add(ct,k),new u(Ft,lt,ct)}subtract(F){return this.add(F.negate())}is0(){return this.equals(u.ZERO)}wNAF(F){return D.wNAFCached(this,I,F,q=>{const it=d.invertBatch(q.map(at=>at.pz));return q.map((at,Bt)=>at.toAffine(it[Bt])).map(u.fromAffine)})}multiplyUnsafe(F){const q=u.ZERO;if(F===os)return q;if(g(F),F===Ci)return this;const{endo:it}=M;if(!it)return D.unsafeLadder(this,F);let{k1neg:at,k1:Bt,k2neg:yt,k2:pt}=it.splitScalar(F),Ft=q,lt=q,ct=this;for(;Bt>os||pt>os;)Bt&Ci&&(Ft=Ft.add(ct)),pt&Ci&&(lt=lt.add(ct)),ct=ct.double(),Bt>>=Ci,pt>>=Ci;return at&&(Ft=Ft.negate()),yt&&(lt=lt.negate()),lt=new u(d.mul(lt.px,it.beta),lt.py,lt.pz),Ft.add(lt)}multiply(F){g(F);let q,it,at=F;const{endo:Bt}=M;if(Bt){const{k1neg:yt,k1:pt,k2neg:Ft,k2:lt}=Bt.splitScalar(at);let{p:ct,f:Tt}=this.wNAF(pt),{p:kt,f:k}=this.wNAF(lt);ct=D.constTimeNegate(yt,ct),kt=D.constTimeNegate(Ft,kt),kt=new u(d.mul(kt.px,Bt.beta),kt.py,kt.pz),q=ct.add(kt),it=Tt.add(k)}else{const{p:yt,f:pt}=this.wNAF(at);q=yt,it=pt}return u.normalizeZ([q,it])[0]}multiplyAndAddUnsafe(F,q,it){const at=u.BASE,Bt=(pt,Ft)=>Ft!==os&&Ft!==Ci&&pt.equals(at)?pt.multiply(Ft):pt.multiplyUnsafe(Ft),yt=Bt(this,q).add(Bt(F,it));return yt.is0()?void 0:yt}toAffine(F){const{px:q,py:it,pz:at}=this,Bt=this.is0();F==null&&(F=Bt?d.ONE:d.inv(at));const yt=d.mul(q,F),pt=d.mul(it,F),Ft=d.mul(at,F);if(Bt)return{x:d.ZERO,y:d.ZERO};if(!d.eql(Ft,d.ONE))throw new Error("invZ was invalid");return{x:yt,y:pt}}isTorsionFree(){const{h:F,isTorsionFree:q}=M;if(F===Ci)return!0;if(q)return q(u,this);throw new Error("isTorsionFree() has not been declared for the elliptic curve")}clearCofactor(){const{h:F,clearCofactor:q}=M;return F===Ci?this:q?q(u,this):this.multiplyUnsafe(M.h)}toRawBytes(F=!0){return this.assertValidity(),o(u,this,F)}toHex(F=!0){return $a(this.toRawBytes(F))}}u.BASE=new u(M.Gx,M.Gy,d.ONE),u.ZERO=new u(d.ZERO,d.ONE,d.ZERO);const b=M.nBitLength,D=OS(u,M.endo?Math.ceil(b/2):b);return{CURVE:M,ProjectivePoint:u,normPrivateKeyToScalar:S,weierstrassEquation:f,isWithinCurveOrder:h}}({...t,toBytes(G,M,d){const o=M.toAffine(),a=e.toBytes(o.x),f=Ha;return d?f(Uint8Array.from([M.hasEvenY()?2:3]),a):f(Uint8Array.from([4]),a,e.toBytes(o.y))},fromBytes(G){const M=G.length,d=G[0],o=G.subarray(1);if(M!==s||d!==2&&d!==3){if(M===i&&d===4)return{x:e.fromBytes(o.subarray(0,e.BYTES)),y:e.fromBytes(o.subarray(e.BYTES,2*e.BYTES))};throw new Error(`Point of length ${M} was invalid. Expected ${s} compressed bytes or ${i} uncompressed bytes`)}{const f=Aa(o);if(!(os<(a=f)&&a<e.ORDER))throw new Error("Point is not on curve");const h=v(f);let g=e.sqrt(h);return(1&d)==1!=((g&Ci)===Ci)&&(g=e.neg(g)),{x:f,y:g}}var a}}),E=G=>$a(Ju(G,t.nByteLength));function w(G){return G>n>>Ci}const x=(G,M,d)=>Aa(G.slice(M,d));class A{constructor(M,d,o){this.r=M,this.s=d,this.recovery=o,this.assertValidity()}static fromCompact(M){const d=t.nByteLength;return M=pn("compactSignature",M,2*d),new A(x(M,0,d),x(M,d,2*d))}static fromDER(M){const{r:d,s:o}=Fa.toSig(pn("DER",M));return new A(d,o)}assertValidity(){if(!_(this.r))throw new Error("r must be 0 < r < CURVE.n");if(!_(this.s))throw new Error("s must be 0 < s < CURVE.n")}addRecoveryBit(M){return new A(this.r,this.s,M)}recoverPublicKey(M){const{r:d,s:o,recovery:a}=this,f=C(pn("msgHash",M));if(a==null||![0,1,2,3].includes(a))throw new Error("recovery id invalid");const h=a===2||a===3?d+t.n:d;if(h>=e.ORDER)throw new Error("recovery id 2 or 3 invalid");const g=1&a?"03":"02",S=p.fromHex(g+E(h)),I=l(h),y=c(-f*I),u=c(o*I),b=p.BASE.multiplyAndAddUnsafe(S,y,u);if(!b)throw new Error("point at infinify");return b.assertValidity(),b}hasHighS(){return w(this.s)}normalizeS(){return this.hasHighS()?new A(this.r,c(-this.s),this.recovery):this}toDERRawBytes(){return vf(this.toDERHex())}toDERHex(){return Fa.hexFromSig({r:this.r,s:this.s})}toCompactRawBytes(){return vf(this.toCompactHex())}toCompactHex(){return E(this.r)+E(this.s)}}const B={isValidPrivateKey(G){try{return m(G),!0}catch{return!1}},normPrivateKeyToScalar:m,randomPrivateKey:()=>{const G=K8(t.n);return function(M,d,o=!1){const a=M.length,f=LS(d),h=K8(d);if(a<16||a<h||a>1024)throw new Error(`expected ${h}-1024 bytes of input, got ${a}`);const g=$r(o?Aa(M):Xu(M),d-Hr)+Hr;return o?hh(g,f):Ju(g,f)}(t.randomBytes(G),t.n)},precompute:(G=8,M=p.BASE)=>(M._setWindowSize(G),M.multiply(BigInt(3)),M)};function P(G){const M=G instanceof Uint8Array,d=typeof G=="string",o=(M||d)&&G.length;return M?o===s||o===i:d?o===2*s||o===2*i:G instanceof p}const R=t.bits2int||function(G){const M=Aa(G),d=8*G.length-t.nBitLength;return d>0?M>>BigInt(d):M},C=t.bits2int_modN||function(G){return c(R(G))},O=Xy(t.nBitLength);function z(G){if(typeof G!="bigint")throw new Error("bigint expected");if(!(os<=G&&G<O))throw new Error(`bigint expected < 2^${t.nBitLength}`);return Ju(G,t.nByteLength)}function H(G,M,d=tt){if(["recovered","canonical"].some(D=>D in d))throw new Error("sign() legacy options not supported");const{hash:o,randomBytes:a}=t;let{lowS:f,prehash:h,extraEntropy:g}=d;f==null&&(f=!0),G=pn("msgHash",G),h&&(G=pn("prehashed msgHash",o(G)));const S=C(G),I=m(M),y=[z(I),z(S)];if(g!=null){const D=g===!0?a(e.BYTES):g;y.push(pn("extraEntropy",D))}const u=Ha(...y),b=S;return{seed:u,k2sig:function(D){const Z=R(D);if(!_(Z))return;const F=l(Z),q=p.BASE.multiply(Z).toAffine(),it=c(q.x);if(it===os)return;const at=c(F*c(b+it*I));if(at===os)return;let Bt=(q.x===it?0:2)|Number(q.y&Ci),yt=at;return f&&w(at)&&(yt=function(pt){return w(pt)?c(-pt):pt}(at),Bt^=1),new A(it,yt,Bt)}}}const tt={lowS:t.lowS,prehash:!1},nt={lowS:t.lowS,prehash:!1};return p.BASE._setWindowSize(8),{CURVE:t,getPublicKey:function(G,M=!0){return p.fromPrivateKey(G).toRawBytes(M)},getSharedSecret:function(G,M,d=!0){if(P(G))throw new Error("first arg must be private key");if(!P(M))throw new Error("second arg must be public key");return p.fromHex(M).multiply(m(G)).toRawBytes(d)},sign:function(G,M,d=tt){const{seed:o,k2sig:a}=H(G,M,d),f=t;return RS(f.hash.outputLen,f.nByteLength,f.hmac)(o,a)},verify:function(G,M,d,o=nt){var q;const a=G;if(M=pn("msgHash",M),d=pn("publicKey",d),"strict"in o)throw new Error("options.strict was renamed to lowS");const{lowS:f,prehash:h}=o;let g,S;try{if(typeof a=="string"||a instanceof Uint8Array)try{g=A.fromDER(a)}catch(it){if(!(it instanceof Fa.Err))throw it;g=A.fromCompact(a)}else{if(typeof a!="object"||typeof a.r!="bigint"||typeof a.s!="bigint")throw new Error("PARSE");{const{r:it,s:at}=a;g=new A(it,at)}}S=p.fromHex(d)}catch(it){if(it.message==="PARSE")throw new Error("signature must be Signature instance, Uint8Array or hex string");return!1}if(f&&g.hasHighS())return!1;h&&(M=t.hash(M));const{r:I,s:y}=g,u=C(M),b=l(y),D=c(u*b),Z=c(I*b),F=(q=p.BASE.multiplyAndAddUnsafe(S,D,Z))==null?void 0:q.toAffine();return!!F&&c(F.x)===I},ProjectivePoint:p,Signature:A,utils:B}}BigInt(4);class dk extends kS{constructor(t,e){super(),this.finished=!1,this.destroyed=!1,function(c){if(typeof c!="function"||typeof c.create!="function")throw new Error("Hash should be wrapped by utils.wrapConstructor");U8(c.outputLen),U8(c.blockLen)}(t);const n=Gy(e);if(this.iHash=t.create(),typeof this.iHash.update!="function")throw new Error("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;const s=this.blockLen,i=new Uint8Array(s);i.set(n.length>s?t.create().update(n).digest():n);for(let c=0;c<i.length;c++)i[c]^=54;this.iHash.update(i),this.oHash=t.create();for(let c=0;c<i.length;c++)i[c]^=106;this.oHash.update(i),i.fill(0)}update(t){return Ll(this),this.iHash.update(t),this}digestInto(t){Ll(this),AS(t,this.outputLen),this.finished=!0,this.iHash.digestInto(t),this.oHash.update(t),this.oHash.digestInto(t),this.destroy()}digest(){const t=new Uint8Array(this.oHash.outputLen);return this.digestInto(t),t}_cloneInto(t){t||(t=Object.create(Object.getPrototypeOf(this),{}));const{oHash:e,iHash:n,finished:s,destroyed:i,blockLen:c,outputLen:l}=this;return t.finished=s,t.destroyed=i,t.blockLen=c,t.outputLen=l,t.oHash=e._cloneInto(t.oHash),t.iHash=n._cloneInto(t.iHash),t}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}}const pk=(r,t,e)=>new dk(r,t).update(e).digest();function RV(r){return{hash:r,hmac:(t,...e)=>pk(r,t,function(...n){const s=new Uint8Array(n.reduce((c,l)=>c+l.length,0));let i=0;return n.forEach(c=>{if(!SS(c))throw new Error("Uint8Array expected");s.set(c,i),i+=c.length}),s}(...e)),randomBytes:BS}}pk.create=(r,t)=>new dk(r,t);const Ux=BigInt("0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffefffffc2f"),Nx=BigInt("0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141"),CV=BigInt(1),Nv=BigInt(2),Dx=(r,t)=>(r+t/Nv)/t,Dv=TS(Ux,void 0,void 0,{sqrt:function(r){const t=Ux,e=BigInt(3),n=BigInt(6),s=BigInt(11),i=BigInt(22),c=BigInt(23),l=BigInt(44),p=BigInt(88),m=r*r*r%t,v=m*m*r%t,_=rn(v,e,t)*v%t,E=rn(_,e,t)*v%t,w=rn(E,Nv,t)*m%t,x=rn(w,s,t)*w%t,A=rn(x,i,t)*x%t,B=rn(A,l,t)*A%t,P=rn(B,p,t)*B%t,R=rn(P,l,t)*A%t,C=rn(R,e,t)*v%t,O=rn(C,c,t)*x%t,z=rn(O,n,t)*m%t,H=rn(z,Nv,t);if(!Dv.eql(Dv.sqr(H),r))throw new Error("Cannot find square root");return H}}),zv=function(r,t){const e=n=>PV({...r,...RV(n)});return Object.freeze({...e(t),create:e})}({a:BigInt(0),b:BigInt(7),Fp:Dv,n:Nx,Gx:BigInt("55066263022277343669578718895168534326250603453777594175500187360389116729240"),Gy:BigInt("32670510020758816978083085130507043184471273380659243275938904335757337482424"),h:BigInt(1),lowS:!0,endo:{beta:BigInt("0x7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee"),splitScalar:r=>{const t=Nx,e=BigInt("0x3086d221a7d46bcde86c90e49284eb15"),n=-CV*BigInt("0xe4437ed6010e88286f547fa90abfe4c3"),s=BigInt("0x114ca50f7a8e2f3f657c1108d9d44cfd8"),i=e,c=BigInt("0x100000000000000000000000000000000"),l=Dx(i*r,t),p=Dx(-n*r,t);let m=$r(r-l*e-p*s,t),v=$r(-l*n-p*i,t);const _=m>c,E=v>c;if(_&&(m=t-m),E&&(v=t-v),m>c||v>c)throw new Error("splitScalar: Endomorphism failed, k="+r);return{k1neg:_,k1:m,k2neg:E,k2:v}}}},Lv);function zx(r){try{return eV.ExtendedPoint.fromHex(r),!0}catch{return!1}}BigInt(0),zv.ProjectivePoint;const TV=r=>Vr.Buffer.isBuffer(r)?r:r instanceof Uint8Array?Vr.Buffer.from(r.buffer,r.byteOffset,r.byteLength):Vr.Buffer.from(r);class LV{constructor(t){Object.assign(this,t)}encode(){return Vr.Buffer.from(KS(sl,this))}static decode(t){return $S(sl,this,t)}static decodeUnchecked(t){return zS(sl,this,t)}}const sl=new Map;var qx;let mk;const Rm=32;let Fx=1;mk=Symbol.toStringTag;class lr extends LV{constructor(t){if(super({}),this._bn=void 0,function(e){return e._bn!==void 0}(t))this._bn=t._bn;else{if(typeof t=="string"){const e=W8.decode(t);if(e.length!=Rm)throw new Error("Invalid public key input");this._bn=new Z8(e)}else this._bn=new Z8(t);if(this._bn.byteLength()>Rm)throw new Error("Invalid public key input")}}static unique(){const t=new lr(Fx);return Fx+=1,new lr(t.toBuffer())}equals(t){return this._bn.eq(t._bn)}toBase58(){return W8.encode(this.toBytes())}toJSON(){return this.toBase58()}toBytes(){const t=this.toBuffer();return new Uint8Array(t.buffer,t.byteOffset,t.byteLength)}toBuffer(){const t=this._bn.toArrayLike(Vr.Buffer);if(t.length===Rm)return t;const e=Vr.Buffer.alloc(32);return t.copy(e,32-t.length),e}get[mk](){return`PublicKey(${this.toString()})`}toString(){return this.toBase58()}static async createWithSeed(t,e,n){const s=Vr.Buffer.concat([t.toBuffer(),Vr.Buffer.from(e),n.toBuffer()]),i=Lv(s);return new lr(i)}static createProgramAddressSync(t,e){let n=Vr.Buffer.alloc(0);t.forEach(function(i){if(i.length>32)throw new TypeError("Max seed length exceeded");n=Vr.Buffer.concat([n,TV(i)])}),n=Vr.Buffer.concat([n,e.toBuffer(),Vr.Buffer.from("ProgramDerivedAddress")]);const s=Lv(n);if(zx(s))throw new Error("Invalid seeds, address must fall off the curve");return new lr(s)}static async createProgramAddress(t,e){return this.createProgramAddressSync(t,e)}static findProgramAddressSync(t,e){let n,s=255;for(;s!=0;){try{const i=t.concat(Vr.Buffer.from([s]));n=this.createProgramAddressSync(i,e)}catch(i){if(i instanceof TypeError)throw i;s--;continue}return[n,s]}throw new Error("Unable to find a viable program address nonce")}static async findProgramAddress(t,e){return this.findProgramAddressSync(t,e)}static isOnCurve(t){return zx(new lr(t).toBytes())}}qx=lr,lr.default=new qx("11111111111111111111111111111111"),sl.set(lr,{kind:"struct",fields:[["_bn","u256"]]}),new lr("BPFLoader1111111111111111111111111111111111");const kr=(r="publicKey")=>yf(32,r),Tu=(r="string")=>{const t=je([Ke("length"),Ke("lengthPadding"),yf(Va(Ke(),-8),"chars")],r),e=t.decode.bind(t),n=t.encode.bind(t),s=t;return s.decode=(i,c)=>e(i,c).chars.toString(),s.encode=(i,c,l)=>{const p={chars:Vr.Buffer.from(i,"utf8")};return n(p,c,l)},s.alloc=i=>Ke().span+Ke().span+Vr.Buffer.from(i,"utf8").length,s};Vr.Buffer.alloc(64).fill(0);new lr("SysvarC1ock11111111111111111111111111111111"),new lr("SysvarEpochSchedu1e111111111111111111111111"),new lr("Sysvar1nstructions1111111111111111111111111");new lr("SysvarRecentB1ockHashes11111111111111111111");new lr("SysvarRent111111111111111111111111111111111");new lr("SysvarRewards111111111111111111111111111111"),new lr("SysvarS1otHashes111111111111111111111111111"),new lr("SysvarS1otHistory11111111111111111111111111"),new lr("SysvarStakeHistory1111111111111111111111111");const OV=Bn("lamportsPerSignature");je([Ke("version"),Ke("state"),kr("authorizedPubkey"),kr("nonce"),je([OV],"feeCalculator")]).span;const Qu=r=>{const t=yf(8,r),{encode:e,decode:n}=(i=>({decode:i.decode.bind(i),encode:i.encode.bind(i)}))(t),s=t;return s.decode=(i,c)=>{const l=n(i,c);return mV(Vr.Buffer.from(l))},s.encode=(i,c,l)=>{const p=vV(i,8);return e(p,c,l)},s};Object.freeze({Create:{index:0,layout:je([Ke("instruction"),Ei("lamports"),Ei("space"),kr("programId")])},Assign:{index:1,layout:je([Ke("instruction"),kr("programId")])},Transfer:{index:2,layout:je([Ke("instruction"),Qu("lamports")])},CreateWithSeed:{index:3,layout:je([Ke("instruction"),kr("base"),Tu("seed"),Ei("lamports"),Ei("space"),kr("programId")])},AdvanceNonceAccount:{index:4,layout:je([Ke("instruction")])},WithdrawNonceAccount:{index:5,layout:je([Ke("instruction"),Ei("lamports")])},InitializeNonceAccount:{index:6,layout:je([Ke("instruction"),kr("authorized")])},AuthorizeNonceAccount:{index:7,layout:je([Ke("instruction"),kr("authorized")])},Allocate:{index:8,layout:je([Ke("instruction"),Ei("space")])},AllocateWithSeed:{index:9,layout:je([Ke("instruction"),kr("base"),Tu("seed"),Ei("space"),kr("programId")])},AssignWithSeed:{index:10,layout:je([Ke("instruction"),kr("base"),Tu("seed"),kr("programId")])},TransferWithSeed:{index:11,layout:je([Ke("instruction"),Qu("lamports"),Tu("seed"),kr("programId")])},UpgradeNonceAccount:{index:12,layout:je([Ke("instruction")])}});new lr("11111111111111111111111111111111"),new lr("BPFLoader2111111111111111111111111111111111"),je([Ke("typeIndex"),Qu("deactivationSlot"),Bn("lastExtendedSlot"),cn("lastExtendedStartIndex"),cn(),qa(kr(),Va(cn(),-1),"authority")]);const gn=Vh(ab(lr),Me(),r=>new lr(r)),vk=ub([Me(),Gr("base64")]),fb=Vh(ab(Vr.Buffer),vk,r=>Vr.Buffer.from(r[0],"base64"));function gk(r){return di([be({jsonrpc:Gr("2.0"),id:Me(),result:r}),be({jsonrpc:Gr("2.0"),id:Me(),error:be({code:Hh(),message:Me(),data:He(lu("any",()=>!0))})})])}const UV=gk(Hh());function Nr(r){return Vh(gk(r),UV,t=>"error"in t?t:{...t,result:Nd(t.result,r)})}function Fi(r){return Nr(be({context:be({slot:$t()}),value:r}))}function zd(r){return be({context:be({slot:$t()}),value:r})}const NV=be({foundation:$t(),foundationTerm:$t(),initial:$t(),taper:$t(),terminal:$t()});Nr(Oe(Le(be({epoch:$t(),effectiveSlot:$t(),amount:$t(),postBalance:$t(),commission:He(Le($t()))}))));const DV=Oe(be({slot:$t(),prioritizationFee:$t()})),zV=be({total:$t(),validator:$t(),foundation:$t(),epoch:$t()}),qV=be({epoch:$t(),slotIndex:$t(),slotsInEpoch:$t(),absoluteSlot:$t(),blockHeight:He($t()),transactionCount:He($t())}),FV=be({slotsPerEpoch:$t(),leaderScheduleSlotOffset:$t(),warmup:Yo(),firstNormalEpoch:$t(),firstNormalSlot:$t()}),jV=fk(Me(),Oe($t())),iu=Le(di([be({}),Me()])),KV=be({err:iu}),$V=Gr("receivedSignature");be({"solana-core":Me(),"feature-set":He($t())}),Fi(be({err:Le(di([be({}),Me()])),logs:Le(Oe(Me())),accounts:He(Le(Oe(Le(be({executable:Yo(),owner:Me(),lamports:$t(),data:Oe(Me()),rentEpoch:He($t())}))))),unitsConsumed:He($t()),returnData:He(Le(be({programId:Me(),data:ub([Me(),Gr("base64")])})))})),Fi(be({byIdentity:fk(Me(),Oe($t())),range:be({firstSlot:$t(),lastSlot:$t()})})),Nr(NV),Nr(zV),Nr(DV),Nr(qV),Nr(FV),Nr(jV),Nr($t()),Fi(be({total:$t(),circulating:$t(),nonCirculating:$t(),nonCirculatingAccounts:Oe(gn)}));const HV=be({amount:Me(),uiAmount:Le($t()),decimals:$t(),uiAmountString:He(Me())});Fi(Oe(be({address:gn,amount:Me(),uiAmount:Le($t()),decimals:$t(),uiAmountString:He(Me())}))),Fi(Oe(be({pubkey:gn,account:be({executable:Yo(),owner:gn,lamports:$t(),data:fb,rentEpoch:$t()})})));const qv=be({program:Me(),parsed:Hh(),space:$t()});Fi(Oe(be({pubkey:gn,account:be({executable:Yo(),owner:gn,lamports:$t(),data:qv,rentEpoch:$t()})}))),Fi(Oe(be({lamports:$t(),address:gn})));const cb=be({executable:Yo(),owner:gn,lamports:$t(),data:fb,rentEpoch:$t()});be({pubkey:gn,account:cb});const VV=Vh(di([ab(Vr.Buffer),qv]),di([vk,qv]),r=>Array.isArray(r)?Nd(r,fb):r),ZV=be({executable:Yo(),owner:gn,lamports:$t(),data:VV,rentEpoch:$t()});be({pubkey:gn,account:ZV}),be({state:di([Gr("active"),Gr("inactive"),Gr("activating"),Gr("deactivating")]),active:$t(),inactive:$t()}),Nr(Oe(be({signature:Me(),slot:$t(),err:iu,memo:Le(Me()),blockTime:He(Le($t()))}))),Nr(Oe(be({signature:Me(),slot:$t(),err:iu,memo:Le(Me()),blockTime:He(Le($t()))}))),be({subscription:$t(),result:zd(cb)});const WV=be({pubkey:gn,account:cb});be({subscription:$t(),result:zd(WV)});const GV=be({parent:$t(),slot:$t(),root:$t()});be({subscription:$t(),result:GV});const YV=di([be({type:di([Gr("firstShredReceived"),Gr("completed"),Gr("optimisticConfirmation"),Gr("root")]),slot:$t(),timestamp:$t()}),be({type:Gr("createdBank"),parent:$t(),slot:$t(),timestamp:$t()}),be({type:Gr("frozen"),slot:$t(),timestamp:$t(),stats:be({numTransactionEntries:$t(),numSuccessfulTransactions:$t(),numFailedTransactions:$t(),maxTransactionsPerEntry:$t()})}),be({type:Gr("dead"),slot:$t(),timestamp:$t(),err:Me()})]);be({subscription:$t(),result:YV}),be({subscription:$t(),result:zd(di([KV,$V]))}),be({subscription:$t(),result:$t()}),be({pubkey:Me(),gossip:Le(Me()),tpu:Le(Me()),rpc:Le(Me()),version:Le(Me())});const jx=be({votePubkey:Me(),nodePubkey:Me(),activatedStake:$t(),epochVoteAccount:Yo(),epochCredits:Oe(ub([$t(),$t(),$t()])),commission:$t(),lastVote:$t(),rootSlot:Le($t())});Nr(be({current:Oe(jx),delinquent:Oe(jx)}));const XV=di([Gr("processed"),Gr("confirmed"),Gr("finalized")]),JV=be({slot:$t(),confirmations:Le($t()),err:iu,confirmationStatus:He(XV)});Fi(Oe(Le(JV))),Nr($t());const yk=be({accountKey:gn,writableIndexes:Oe($t()),readonlyIndexes:Oe($t())}),Cm=be({signatures:Oe(Me()),message:be({accountKeys:Oe(Me()),header:be({numRequiredSignatures:$t(),numReadonlySignedAccounts:$t(),numReadonlyUnsignedAccounts:$t()}),instructions:Oe(be({accounts:Oe($t()),data:Me(),programIdIndex:$t()})),recentBlockhash:Me(),addressTableLookups:He(Oe(yk))})}),bk=be({pubkey:gn,signer:Yo(),writable:Yo(),source:He(di([Gr("transaction"),Gr("lookupTable")]))}),Kx=be({accountKeys:Oe(bk),signatures:Oe(Me())}),$x=be({parsed:Hh(),program:Me(),programId:gn}),Hx=be({accounts:Oe(gn),data:Me(),programId:gn}),wk=Vh(di([Hx,$x]),di([be({parsed:Hh(),program:Me(),programId:Me()}),be({accounts:Oe(Me()),data:Me(),programId:Me()})]),r=>Nd(r,"accounts"in r?Hx:$x)),Vx=be({signatures:Oe(Me()),message:be({accountKeys:Oe(bk),instructions:Oe(wk),recentBlockhash:Me(),addressTableLookups:He(Le(Oe(yk)))})}),Fl=be({accountIndex:$t(),mint:Me(),owner:He(Me()),uiTokenAmount:HV}),xk=be({writable:Oe(gn),readonly:Oe(gn)}),R0=be({err:iu,fee:$t(),innerInstructions:He(Le(Oe(be({index:$t(),instructions:Oe(be({accounts:Oe($t()),data:Me(),programIdIndex:$t()}))})))),preBalances:Oe($t()),postBalances:Oe($t()),logMessages:He(Le(Oe(Me()))),preTokenBalances:He(Le(Oe(Fl))),postTokenBalances:He(Le(Oe(Fl))),loadedAddresses:He(xk),computeUnitsConsumed:He($t())}),Tm=be({err:iu,fee:$t(),innerInstructions:He(Le(Oe(be({index:$t(),instructions:Oe(wk)})))),preBalances:Oe($t()),postBalances:Oe($t()),logMessages:He(Le(Oe(Me()))),preTokenBalances:He(Le(Oe(Fl))),postTokenBalances:He(Le(Oe(Fl))),loadedAddresses:He(xk),computeUnitsConsumed:He($t())}),wu=di([Gr(0),Gr("legacy")]),ya=be({pubkey:Me(),lamports:$t(),postBalance:Le($t()),rewardType:Le(Me()),commission:He(Le($t()))});Nr(Le(be({blockhash:Me(),previousBlockhash:Me(),parentSlot:$t(),transactions:Oe(be({transaction:Cm,meta:Le(R0),version:He(wu)})),rewards:He(Oe(ya)),blockTime:Le($t()),blockHeight:Le($t())}))),Nr(Le(be({blockhash:Me(),previousBlockhash:Me(),parentSlot:$t(),rewards:He(Oe(ya)),blockTime:Le($t()),blockHeight:Le($t())}))),Nr(Le(be({blockhash:Me(),previousBlockhash:Me(),parentSlot:$t(),transactions:Oe(be({transaction:Kx,meta:Le(R0),version:He(wu)})),rewards:He(Oe(ya)),blockTime:Le($t()),blockHeight:Le($t())}))),Nr(Le(be({blockhash:Me(),previousBlockhash:Me(),parentSlot:$t(),transactions:Oe(be({transaction:Vx,meta:Le(Tm),version:He(wu)})),rewards:He(Oe(ya)),blockTime:Le($t()),blockHeight:Le($t())}))),Nr(Le(be({blockhash:Me(),previousBlockhash:Me(),parentSlot:$t(),transactions:Oe(be({transaction:Kx,meta:Le(Tm),version:He(wu)})),rewards:He(Oe(ya)),blockTime:Le($t()),blockHeight:Le($t())}))),Nr(Le(be({blockhash:Me(),previousBlockhash:Me(),parentSlot:$t(),rewards:He(Oe(ya)),blockTime:Le($t()),blockHeight:Le($t())}))),Nr(Le(be({blockhash:Me(),previousBlockhash:Me(),parentSlot:$t(),transactions:Oe(be({transaction:Cm,meta:Le(R0)})),rewards:He(Oe(ya)),blockTime:Le($t())}))),Nr(Le(be({blockhash:Me(),previousBlockhash:Me(),parentSlot:$t(),signatures:Oe(Me()),blockTime:Le($t())}))),Nr(Le(be({slot:$t(),meta:R0,blockTime:He(Le($t())),transaction:Cm,version:He(wu)}))),Nr(Le(be({slot:$t(),transaction:Vx,meta:Le(Tm),blockTime:He(Le($t())),version:He(wu)}))),Fi(be({blockhash:Me(),feeCalculator:be({lamportsPerSignature:$t()})})),Fi(be({blockhash:Me(),lastValidBlockHeight:$t()})),Fi(Yo()),Nr(Oe(be({slot:$t(),numTransactions:$t(),numSlots:$t(),samplePeriodSecs:$t()}))),Fi(Le(be({feeCalculator:be({lamportsPerSignature:$t()})}))),Nr(Me()),Nr(Me());const QV=be({err:iu,logs:Oe(Me()),signature:Me()});var Zx;be({result:zd(QV),subscription:$t()}),Object.freeze({CreateLookupTable:{index:0,layout:je([Ke("instruction"),Qu("recentSlot"),cn("bumpSeed")])},FreezeLookupTable:{index:1,layout:je([Ke("instruction")])},ExtendLookupTable:{index:2,layout:je([Ke("instruction"),Qu(),qa(kr(),Va(Ke(),-8),"addresses")])},DeactivateLookupTable:{index:3,layout:je([Ke("instruction")])},CloseLookupTable:{index:4,layout:je([Ke("instruction")])}}),new lr("AddressLookupTab1e1111111111111111111111111"),Object.freeze({RequestUnits:{index:0,layout:je([cn("instruction"),Ke("units"),Ke("additionalFee")])},RequestHeapFrame:{index:1,layout:je([cn("instruction"),Ke("bytes")])},SetComputeUnitLimit:{index:2,layout:je([cn("instruction"),Ke("units")])},SetComputeUnitPrice:{index:3,layout:je([cn("instruction"),Qu("microLamports")])}}),new lr("ComputeBudget111111111111111111111111111111"),je([cn("numSignatures"),cn("padding"),Ti("signatureOffset"),Ti("signatureInstructionIndex"),Ti("publicKeyOffset"),Ti("publicKeyInstructionIndex"),Ti("messageDataOffset"),Ti("messageDataSize"),Ti("messageInstructionIndex")]),new lr("Ed25519SigVerify111111111111111111111111111"),zv.utils.isValidPrivateKey,zv.getPublicKey,je([cn("numSignatures"),Ti("signatureOffset"),cn("signatureInstructionIndex"),Ti("ethAddressOffset"),cn("ethAddressInstructionIndex"),Ti("messageDataOffset"),Ti("messageDataSize"),cn("messageInstructionIndex"),yf(20,"ethAddress"),yf(64,"signature"),cn("recoveryId")]),new lr("KeccakSecp256k11111111111111111111111111111"),new lr("StakeConfig11111111111111111111111111111111");class Wx{constructor(t,e,n){this.unixTimestamp=void 0,this.epoch=void 0,this.custodian=void 0,this.unixTimestamp=t,this.epoch=e,this.custodian=n}}Zx=Wx,Wx.default=new Zx(0,0,lr.default),Object.freeze({Initialize:{index:0,layout:je([Ke("instruction"),((r="authorized")=>je([kr("staker"),kr("withdrawer")],r))(),((r="lockup")=>je([Ei("unixTimestamp"),Ei("epoch"),kr("custodian")],r))()])},Authorize:{index:1,layout:je([Ke("instruction"),kr("newAuthorized"),Ke("stakeAuthorizationType")])},Delegate:{index:2,layout:je([Ke("instruction")])},Split:{index:3,layout:je([Ke("instruction"),Ei("lamports")])},Withdraw:{index:4,layout:je([Ke("instruction"),Ei("lamports")])},Deactivate:{index:5,layout:je([Ke("instruction")])},Merge:{index:7,layout:je([Ke("instruction")])},AuthorizeWithSeed:{index:8,layout:je([Ke("instruction"),kr("newAuthorized"),Ke("stakeAuthorizationType"),Tu("authoritySeed"),kr("authorityOwner")])}}),new lr("Stake11111111111111111111111111111111111111"),Object.freeze({InitializeAccount:{index:0,layout:je([Ke("instruction"),((r="voteInit")=>je([kr("nodePubkey"),kr("authorizedVoter"),kr("authorizedWithdrawer"),cn("commission")],r))()])},Authorize:{index:1,layout:je([Ke("instruction"),kr("newAuthorized"),Ke("voteAuthorizationType")])},Withdraw:{index:3,layout:je([Ke("instruction"),Ei("lamports")])},AuthorizeWithSeed:{index:10,layout:je([Ke("instruction"),((r="voteAuthorizeWithSeedArgs")=>je([Ke("voteAuthorizationType"),kr("currentAuthorityDerivedKeyOwnerPubkey"),Tu("currentAuthorityDerivedKeySeed"),kr("newAuthorized")],r))()])}}),new lr("Vote111111111111111111111111111111111111111"),new lr("Va1idator1nfo111111111111111111111111111111"),be({name:Me(),website:He(Me()),details:He(Me()),keybaseUsername:He(Me())}),new lr("Vote111111111111111111111111111111111111111"),je([kr("nodePubkey"),kr("authorizedWithdrawer"),cn("commission"),Bn(),qa(je([Bn("slot"),Ke("confirmationCount")]),Va(Ke(),-8),"votes"),cn("rootSlotValid"),Bn("rootSlot"),Bn(),qa(je([Bn("epoch"),kr("authorizedVoter")]),Va(Ke(),-8),"authorizedVoters"),je([qa(je([kr("authorizedPubkey"),Bn("epochOfLastAuthorizedSwitch"),Bn("targetEpoch")]),32,"buf"),Bn("idx"),cn("isEmpty")],"priorVoters"),Bn(),qa(je([Bn("epoch"),Bn("credits"),Bn("prevCredits")]),Va(Ke(),-8),"epochCredits"),je([Bn("slot"),Bn("timestamp")],"lastTimestamp")]);var C0,tZ=(C0=function(r,t){return C0=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])},C0(r,t)},function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function e(){this.constructor=r}C0(r,t),r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)});(function(r){function t(e,n){var s="Invalid schema: ".concat(JSON.stringify(e)," expected ").concat(n);return r.call(this,s)||this}return tZ(t,r),t})(Error);const Gx=new lr("HP3D4D1ZCmohQGFVms2SS4LCANgJyksBf5s1F77FuFjZ");lr.findProgramAddressSync([Gx.toBuffer()],Gx);var Yx;(function(r){r[r.None=0]="None",r[r.Solana=1]="Solana",r[r.Ethereum=2]="Ethereum",r[r.UnverifiedSolana=3]="UnverifiedSolana"})(Yx||(Yx={}));var cr;(function(r){r.IPFS="IPFS",r.ARWV="ARWV",r.SOL="SOL",r.ETH="ETH",r.BTC="BTC",r.LTC="LTC",r.DOGE="DOGE",r.Email="email",r.Url="url",r.Discord="discord",r.Github="github",r.Reddit="reddit",r.Twitter="twitter",r.Telegram="telegram",r.Pic="pic",r.SHDW="SHDW",r.POINT="POINT",r.BSC="BSC",r.Injective="INJ",r.Backpack="backpack",r.A="A",r.AAAA="AAAA",r.CNAME="CNAME",r.TXT="TXT",r.Background="background"})(cr||(cr={}));cr.SOL,cr.ETH,cr.BSC,cr.Injective,cr.A,cr.AAAA,cr.Background;var Xx;(function(r){r[r.V1=1]="V1",r[r.V2=2]="V2"})(Xx||(Xx={}));var eZ="ABAOAAAAAACwiAAAAYkHdvjtnH+IFkUYxx/v3vPe7uw8UkjsD43ChKICDQsT3iIJy4gSiZAjkn5JUFlaiFmjccT9ESkpGBGVIlQgWSkY/QDBoMgrQv0jRJDAfkCXhUmgRX23d4ebnndmd3Z3ZnfVeeDDzM7MPs8zv57Zd2+5hd1Ed4ClYAisBuuUsqLpMHgJjIBNFu1fBW8l1O8AO8Ee8Cn4HIyCg+CI0u4Y+AmMgVPgDOhuEHWBPjAZXAy2gjfA9kb73hlx+i7SK8AHYDf4BOwHB8AoOAyOguPgB/ArOKlcnwHdPe32/Uin9LTvvwTph0gv62nbubKnXT+nZ1z/DcjfFF8vQno7uEaxH923BGVXN9v5Zcgvj/VFPIT8Y/H1k0jXxPn1SEfARjBdab8V+TfB22CXUh5xd3OcZTH3g6di1LZJbLNs55q96M9n4J9Gm6hsfzQvcT8fbfy//TyUf8vG4Lses/5jcd2PSE/IcQan4/o/UXYadE0kaoJBMG1ivNbidNbETr1XoWyuplwyHFN0fFai/8/EY7BIKY/68EpCvwP+mc/m/2vNGnBhp1eZ51bCmgsEAoFAIBAIBAKBQKAO3Irfrg3lfc4qi/cXd+Kee5TfvAd6ieY0ie5D2cNx+eNInwZLmu33gWuRn4/8C3H9CNJNYEt8/TrS35HuSPktvRP1z0LPOvAceB4IsB5saIa6UBfqQl2oc123AjwBVjWrP7MCgcC5y/ue/56yqXv87+qcIU2Z+ny8tuHHpyxsvrDNITDXgqkDRJcPdJY/wMo24/oQmDqZaPHkdplAuhv8ApqDRDeCVj/OAvD9BUSX9qF8Qpt7lTxnZ7+5TmVtrGMM7XchP3sS0SNgGzg4yU5HIBAIBM5NfsO5QDgfjuM54STOw7/Az/F3QtfhfF4Qn9F/gxMouxm/WU7F9afBQuUM7+rtPF+jb0b6ese/I7sI+emadhEzUT5bqbsW+esNbSMWoG6hWo/8gOLPUqUu+v5rKEHX8oS6iEXQexd7XlmBe1aCNWAp6kSsYyjHc82Liv2Xkd/C/HkN1w/Geren+KryToa2PtlQg2c9zijGZnGJ9kaibzZh84jmmfx4TeYpK9H3usMKqxnDCWxsdLY/3ygy9h+l/LYbYHtuXw2/rfsSPo0a/Jrn6PvPrzL2+7CmfV88lkc9j+F7cRzYU4N48DF8uA3n/T7Fly9q4Jdvoth0uLf9LORC11hvO/0D6RnQfRa99+2Hr1NS/M26VvfEe2jaWTAOvG8zzgKf8zCrYL++qUEfbumeQAjTVnQp+QmW99gQpDoJ4+9uHZe5/l3OW/M8x6WUZaduUvUc5p13NTXlz3VpGbCVrGNe5zOnjvGlrDWY1IdWShuuQ9fWh6h+VSV1Wit1lvNhHFz1zeUYtCg5ntvOSStDW5cITRnF5RJ+rcasJHExztwu910tl6LzLYsvuvvzilB0mvSaxt/V+SY0EMurfkjbrTjfInf+FJGkNdzSlOukZaDo3snqs7RZpqj2Gx7sS52D5O79k+93W2W/T3NhQxe3VeF16pwn4eI8qev7Sl1s0PnPy5PalSV57Pp6XuDxrypR9wBR8nOCzm/eXuYp5d4s/lV1XvL+lG2b+2AaQ1nPr23Hrc7z0WT5qvZL0v7QtdX5zdu6HMei+gV1ri8et4XSVpCfdeB7fRWNRy79UP0RCT4Jyre/88bbKsQUawUrV69dxjd+nlXxbCKos79pz1BpOqucz0gEdZ5hMk+aa7Wdy/7xZ5Yqhc+nyHivrkyQ/reM7tziuFojfM7zxtq0505XYutvHrtVnzNl2ONrTGdPkLv9ZjNHOoShnCh5nLLYKOKfK4qK7bjx/gqyj9lFJc2Wz/HIqyMSYaGnqM8+xp6vB1/6feg22UmLFUno1rurvelz7yT1UVfORW3L7+d6fMcAXdzxIVK3TNNioZpSyj2242izpky6y5S0fpr6q5ZXJT7O1qrmQRVB+rkQ1Dk3vvYttyGoc+51/mUVkYLtXvTx7MCvbUnzW2czyR8pql4XUlbcN9l1pSfPfOl0JV2bylyKoM4959sHQfr9Vpbk2V8u4ry0ndcvH5I1xggP9qVem/PHZL+qeGLrc945tLnHtG/LEtdjr4urxMpM92X1RZDd+pLtsorUydeCaiuvbtdSpQ9l2M4SU01nvI1e35L3uS5Jlw8pe1ykCKo2JtrGK9O9ujOlimcD6Y9LEWQ+7019d2VDLVPrTCLrsvjsQ1TfJVJM12pZmm5b4Xptx6HM9SpFkP2c6drJa5/iSr+pD7r+CNLvATVfpST1RYog/fwKTdsyxLVNQfnWrkyziGltJK2hLLptzjHXIsh+/HytmyQfpPA5VNtzXWWLzbiVsc9sbWSJ7UWE69KNh6v9kya2c6TzMa0fwpD37TtvQ6wuiw9CA9cny33Mj2pLte9Kp6996HO/83HPQ5r+ov5mvU9Qte/fIrGJP7axPO/9eXX6kjLPKZNd17iyZdOHLP31JSbfXY6hC59c+ZZ136TZ9SFlj6cvmVkSrkSQn3NG5KBqEVSeH6Ji/vvnhFWjSlfFNDwzyMgqLvvKxXffbeASBWo+Zj4p2x6TfwE=",rZ="AAACAAAAAACAOAAAAbYBSf7t2S1IBEEYBuDVDZ7FYrQMNsFiu3hgEYOI0SCXRIUrB8JhEZtgs5gEg1GMFk02m82oGI02m+9xezCOczv/uwv3fvAwc/PzfXOzcdqzWdaBDdiGPdiHdjE+DS3RNDuCfsn8idQ/g3OH3BdwKf0e96/gumTfYcncLdzBPTzAo+RZ+f0Cr/AG7/AJX4738x1wtz9FO5PX/50n6UXMNdfg/0lERERERERERERERETpdedHBvDRql4nq0cXtW9af98qdRby0Vvp8K4W0V+C5Xw0t4J2bfjeBp3cnEu1brnnCTYNa7eKdz91XP7WO9Lb4GqRb7cY6xbtAdqeVOsY/QGcevw/tb6OT85YhvfKYEx9CMuxKsKnrs+eJtVInVvHJ0eVYVvTZk2siFVLOCjb61PTZX3MdVWEyP7fjzpmMxdzTyq2Ebue6x61nXRGnzndWpf1an7dXmGYE4Y1ptqqKsK1nu26Ju0ty+maV2Rpvk+qnDZjKUIobUiesdAQE/jmCTmHmsskpFZsVYbtmXRcaoSGUPomunW2derQhDPFjtT1Q/eb8vnm990fq35oHVt11bU9m89c7DNI8Qs=",hb=0,_k=-3;function dh(){this.table=new Uint16Array(16),this.trans=new Uint16Array(288)}function nZ(r,t){this.source=r,this.sourceIndex=0,this.tag=0,this.bitcount=0,this.dest=t,this.destLen=0,this.ltree=new dh,this.dtree=new dh}var Mk=new dh,Ek=new dh,Fv=new Uint8Array(30),jv=new Uint16Array(30),Ak=new Uint8Array(30),Sk=new Uint16Array(30),iZ=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),Jx=new dh,Ao=new Uint8Array(320);function Qx(r,t,e,n){var s,i;for(s=0;s<e;++s)r[s]=0;for(s=0;s<30-e;++s)r[s+e]=s/e|0;for(i=n,s=0;s<30;++s)t[s]=i,i+=1<<r[s]}var t7=new Uint16Array(16);function Lm(r,t,e,n){var s,i;for(s=0;s<16;++s)r.table[s]=0;for(s=0;s<n;++s)r.table[t[e+s]]++;for(r.table[0]=0,i=0,s=0;s<16;++s)t7[s]=i,i+=r.table[s];for(s=0;s<n;++s)t[e+s]&&(r.trans[t7[t[e+s]]++]=s)}function oZ(r){r.bitcount--||(r.tag=r.source[r.sourceIndex++],r.bitcount=7);var t=1&r.tag;return r.tag>>>=1,t}function Ro(r,t,e){if(!t)return e;for(;r.bitcount<24;)r.tag|=r.source[r.sourceIndex++]<<r.bitcount,r.bitcount+=8;var n=r.tag&65535>>>16-t;return r.tag>>>=t,r.bitcount-=t,n+e}function Kv(r,t){for(;r.bitcount<24;)r.tag|=r.source[r.sourceIndex++]<<r.bitcount,r.bitcount+=8;var e=0,n=0,s=0,i=r.tag;do n=2*n+(1&i),i>>>=1,++s,e+=t.table[s],n-=t.table[s];while(n>=0);return r.tag=i,r.bitcount-=s,t.trans[e+n]}function sZ(r,t,e){var n,s,i,c,l,p;for(n=Ro(r,5,257),s=Ro(r,5,1),i=Ro(r,4,4),c=0;c<19;++c)Ao[c]=0;for(c=0;c<i;++c){var m=Ro(r,3,0);Ao[iZ[c]]=m}for(Lm(Jx,Ao,0,19),l=0;l<n+s;){var v=Kv(r,Jx);switch(v){case 16:var _=Ao[l-1];for(p=Ro(r,2,3);p;--p)Ao[l++]=_;break;case 17:for(p=Ro(r,3,3);p;--p)Ao[l++]=0;break;case 18:for(p=Ro(r,7,11);p;--p)Ao[l++]=0;break;default:Ao[l++]=v}}Lm(t,Ao,0,n),Lm(e,Ao,n,s)}function e7(r,t,e){for(;;){var n,s,i,c,l=Kv(r,t);if(l===256)return hb;if(l<256)r.dest[r.destLen++]=l;else for(n=Ro(r,Fv[l-=257],jv[l]),s=Kv(r,e),c=i=r.destLen-Ro(r,Ak[s],Sk[s]);c<i+n;++c)r.dest[r.destLen++]=r.dest[c]}}function aZ(r){for(var t,e;r.bitcount>8;)r.sourceIndex--,r.bitcount-=8;if((t=256*(t=r.source[r.sourceIndex+1])+r.source[r.sourceIndex])!==(65535&~(256*r.source[r.sourceIndex+3]+r.source[r.sourceIndex+2])))return _k;for(r.sourceIndex+=4,e=t;e;--e)r.dest[r.destLen++]=r.source[r.sourceIndex++];return r.bitcount=0,hb}(function(r,t){var e;for(e=0;e<7;++e)r.table[e]=0;for(r.table[7]=24,r.table[8]=152,r.table[9]=112,e=0;e<24;++e)r.trans[e]=256+e;for(e=0;e<144;++e)r.trans[24+e]=e;for(e=0;e<8;++e)r.trans[168+e]=280+e;for(e=0;e<112;++e)r.trans[176+e]=144+e;for(e=0;e<5;++e)t.table[e]=0;for(t.table[5]=32,e=0;e<32;++e)t.trans[e]=e})(Mk,Ek),Qx(Fv,jv,4,3),Qx(Ak,Sk,2,1),Fv[28]=0,jv[28]=258;var uZ=function(r,t){var e,n,s=new nZ(r,t);do{switch(e=oZ(s),Ro(s,2,0)){case 0:n=aZ(s);break;case 1:n=e7(s,Mk,Ek);break;case 2:sZ(s,s.ltree,s.dtree),n=e7(s,s.ltree,s.dtree);break;default:n=_k}if(n!==hb)throw new Error("Data error")}while(!e);return s.destLen<s.dest.length?typeof s.dest.slice=="function"?s.dest.slice(0,s.destLen):s.dest.subarray(0,s.destLen):s.dest};const fZ=new Uint8Array(new Uint32Array([305419896]).buffer)[0]===18,r7=(r,t,e)=>{let n=r[t];r[t]=r[e],r[e]=n};var cZ={swap32LE:r=>{fZ&&(t=>{const e=t.length;for(let n=0;n<e;n+=4)r7(t,n,n+3),r7(t,n+1,n+2)})(r)}};const n7=uZ,{swap32LE:hZ}=cZ;var lZ=class{constructor(r){const t=typeof r.readUInt32BE=="function"&&typeof r.slice=="function";if(t||r instanceof Uint8Array){let e;if(t)this.highStart=r.readUInt32LE(0),this.errorValue=r.readUInt32LE(4),e=r.readUInt32LE(8),r=r.slice(12);else{const n=new DataView(r.buffer);this.highStart=n.getUint32(0,!0),this.errorValue=n.getUint32(4,!0),e=n.getUint32(8,!0),r=r.subarray(12)}r=n7(r,new Uint8Array(e)),r=n7(r,new Uint8Array(e)),hZ(r),this.data=new Uint32Array(r.buffer)}else({data:this.data,highStart:this.highStart,errorValue:this.errorValue}=r)}get(r){let t;return r<0||r>1114111?this.errorValue:r<55296||r>56319&&r<=65535?(t=(this.data[r>>5]<<2)+(31&r),this.data[t]):r<=65535?(t=(this.data[2048+(r-55296>>5)]<<2)+(31&r),this.data[t]):r<this.highStart?(t=this.data[2080+(r>>11)],t=this.data[t+(r>>5&63)],t=(t<<2)+(31&r),this.data[t]):this.data[this.data.length-4]}},kk={exports:{}};kk.exports=function(){var r="3.7.5",t=r,e=typeof atob=="function",n=typeof btoa=="function",s=typeof Zt.Buffer=="function",i=typeof TextDecoder=="function"?new TextDecoder:void 0,c=typeof TextEncoder=="function"?new TextEncoder:void 0,l="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",p=Array.prototype.slice.call(l),m=function(q){var it={};return q.forEach(function(at,Bt){return it[at]=Bt}),it}(p),v=/^(?:[A-Za-z\d+\/]{4})*?(?:[A-Za-z\d+\/]{2}(?:==)?|[A-Za-z\d+\/]{3}=?)?$/,_=String.fromCharCode.bind(String),E=typeof Uint8Array.from=="function"?Uint8Array.from.bind(Uint8Array):function(q){return new Uint8Array(Array.prototype.slice.call(q,0))},w=function(q){return q.replace(/=/g,"").replace(/[+\/]/g,function(it){return it=="+"?"-":"_"})},x=function(q){return q.replace(/[^A-Za-z0-9\+\/]/g,"")},A=function(q){for(var it,at,Bt,yt,pt="",Ft=q.length%3,lt=0;lt<q.length;){if((at=q.charCodeAt(lt++))>255||(Bt=q.charCodeAt(lt++))>255||(yt=q.charCodeAt(lt++))>255)throw new TypeError("invalid character found");pt+=p[(it=at<<16|Bt<<8|yt)>>18&63]+p[it>>12&63]+p[it>>6&63]+p[63&it]}return Ft?pt.slice(0,Ft-3)+"===".substring(Ft):pt},B=n?function(q){return btoa(q)}:s?function(q){return Zt.Buffer.from(q,"binary").toString("base64")}:A,P=s?function(q){return Zt.Buffer.from(q).toString("base64")}:function(q){for(var it=4096,at=[],Bt=0,yt=q.length;Bt<yt;Bt+=it)at.push(_.apply(null,q.subarray(Bt,Bt+it)));return B(at.join(""))},R=function(q,it){return it===void 0&&(it=!1),it?w(P(q)):P(q)},C=function(q){if(q.length<2)return(it=q.charCodeAt(0))<128?q:it<2048?_(192|it>>>6)+_(128|63&it):_(224|it>>>12&15)+_(128|it>>>6&63)+_(128|63&it);var it=65536+1024*(q.charCodeAt(0)-55296)+(q.charCodeAt(1)-56320);return _(240|it>>>18&7)+_(128|it>>>12&63)+_(128|it>>>6&63)+_(128|63&it)},O=/[\uD800-\uDBFF][\uDC00-\uDFFFF]|[^\x00-\x7F]/g,z=function(q){return q.replace(O,C)},H=s?function(q){return Zt.Buffer.from(q,"utf8").toString("base64")}:c?function(q){return P(c.encode(q))}:function(q){return B(z(q))},tt=function(q,it){return it===void 0&&(it=!1),it?w(H(q)):H(q)},nt=function(q){return tt(q,!0)},G=/[\xC0-\xDF][\x80-\xBF]|[\xE0-\xEF][\x80-\xBF]{2}|[\xF0-\xF7][\x80-\xBF]{3}/g,M=function(q){switch(q.length){case 4:var it=((7&q.charCodeAt(0))<<18|(63&q.charCodeAt(1))<<12|(63&q.charCodeAt(2))<<6|63&q.charCodeAt(3))-65536;return _(55296+(it>>>10))+_(56320+(1023&it));case 3:return _((15&q.charCodeAt(0))<<12|(63&q.charCodeAt(1))<<6|63&q.charCodeAt(2));default:return _((31&q.charCodeAt(0))<<6|63&q.charCodeAt(1))}},d=function(q){return q.replace(G,M)},o=function(q){if(q=q.replace(/\s+/g,""),!v.test(q))throw new TypeError("malformed base64.");q+="==".slice(2-(3&q.length));for(var it,at,Bt,yt="",pt=0;pt<q.length;)it=m[q.charAt(pt++)]<<18|m[q.charAt(pt++)]<<12|(at=m[q.charAt(pt++)])<<6|(Bt=m[q.charAt(pt++)]),yt+=at===64?_(it>>16&255):Bt===64?_(it>>16&255,it>>8&255):_(it>>16&255,it>>8&255,255&it);return yt},a=e?function(q){return atob(x(q))}:s?function(q){return Zt.Buffer.from(q,"base64").toString("binary")}:o,f=s?function(q){return E(Zt.Buffer.from(q,"base64"))}:function(q){return E(a(q).split("").map(function(it){return it.charCodeAt(0)}))},h=function(q){return f(S(q))},g=s?function(q){return Zt.Buffer.from(q,"base64").toString("utf8")}:i?function(q){return i.decode(f(q))}:function(q){return d(a(q))},S=function(q){return x(q.replace(/[-_]/g,function(it){return it=="-"?"+":"/"}))},I=function(q){return g(S(q))},y=function(q){if(typeof q!="string")return!1;var it=q.replace(/\s+/g,"").replace(/={0,2}$/,"");return!/[^\s0-9a-zA-Z\+/]/.test(it)||!/[^\s0-9a-zA-Z\-_]/.test(it)},u=function(q){return{value:q,enumerable:!1,writable:!0,configurable:!0}},b=function(){var q=function(it,at){return Object.defineProperty(String.prototype,it,u(at))};q("fromBase64",function(){return I(this)}),q("toBase64",function(it){return tt(this,it)}),q("toBase64URI",function(){return tt(this,!0)}),q("toBase64URL",function(){return tt(this,!0)}),q("toUint8Array",function(){return h(this)})},D=function(){var q=function(it,at){return Object.defineProperty(Uint8Array.prototype,it,u(at))};q("toBase64",function(it){return R(this,it)}),q("toBase64URI",function(){return R(this,!0)}),q("toBase64URL",function(){return R(this,!0)})},Z=function(){b(),D()},F={version:r,VERSION:t,atob:a,atobPolyfill:o,btoa:B,btoaPolyfill:A,fromBase64:I,toBase64:tt,encode:tt,encodeURI:nt,encodeURL:nt,utob:z,btou:d,decode:I,isValid:y,fromUint8Array:R,toUint8Array:h,extendString:b,extendUint8Array:D,extendBuiltins:Z,Base64:{}};return Object.keys(F).forEach(function(q){return F.Base64[q]=F[q]}),F}();const Ar={Other:0,CR:1,LF:2,Control:4,Extend:8,ZWJ:16,Regional_Indicator:32,Prepend:64,SpacingMark:128,L:256,V:512,T:1024,LV:2048,LVT:4096,Extended_Pictographic:8192},dZ=eZ,pZ=rZ,Ik=lZ,Bk=kk.exports.Base64,mZ=new Ik(Bk.toUint8Array(dZ)),vZ=new Ik(Bk.toUint8Array(pZ));function un(r,t){return(r&t)!=0}const T0=0,Om=1,Um=2;function gZ(r,t){const e=r.length;let n=0,s=T0;for(let i=t;i+1<e;i++){const c=r[i+0],l=r[i+1];switch(un(c,Ar.Regional_Indicator)||(n=0),s){case Um:case T0:s=un(c,Ar.Extended_Pictographic)?Om:T0;break;case Om:s=un(c,Ar.Extend)?Om:un(c,Ar.ZWJ)&&un(l,Ar.Extended_Pictographic)?Um:T0}if(!un(c,Ar.CR)||!un(l,Ar.LF)){if(un(c,Ar.Control|Ar.CR|Ar.LF)||un(l,Ar.Control|Ar.CR|Ar.LF))return i+1-t;if(!(un(c,Ar.L)&&un(l,Ar.L|Ar.V|Ar.LV|Ar.LVT)||un(c,Ar.LV|Ar.V)&&un(l,Ar.V|Ar.T)||un(c,Ar.LVT|Ar.T)&&un(l,Ar.T)||un(l,Ar.Extend|Ar.ZWJ)||un(l,Ar.SpacingMark)||un(c,Ar.Prepend)||s===Um)){if(!un(c,Ar.Regional_Indicator)||!un(l,Ar.Regional_Indicator)||n%2!=0)return i+1-t;n++}}}return e-t}var yZ=function(r){const t=[],e=[0],n=[];for(let s=0;s<r.length;){const i=r.codePointAt(s);n.push(mZ.get(i)|vZ.get(i)),s+=i>65535?2:1,e.push(s)}for(let s=0;s<n.length;){const i=gZ(n,s),c=e[s],l=e[s+i];t.push(r.slice(c,l)),s+=i}return t},bZ=Yi(yZ);const i7=r=>{const t=PK+r,e=BK(Ae.Buffer.from(t,"utf8")).slice(2);return Ae.Buffer.from(e,"hex")},o7=(r,t,e)=>{const n=[r];t?n.push(t.toBuffer()):n.push(Ae.Buffer.alloc(32)),e?n.push(e.toBuffer()):n.push(Ae.Buffer.alloc(32));const[s]=Xt.findProgramAddressSync(n,TA);return s},Pk=r=>{switch(bZ(r).length){case 1:return 750;case 2:return 700;case 3:return 640;case 4:return 160;default:return 20}};var Es={},Lu={};function s7(r,t,e,n,s){var i=(1<<n)-1,c=0,l=0,p=0;if(r.forEach(function(m){for(c=(c<<t)+m,l+=t;l>=n;)l-=n,e[p]=c>>l&i,p+=1}),s)l>0&&(e[p]=c<<n-l&i);else{if(l>=t)throw new Error("Excessive padding: ".concat(l," (max ").concat(t-1," allowed)"));if(c%(1<<l)!=0)throw new Error("Non-zero padding")}}Object.defineProperty(Lu,"__esModule",{value:!0}),Lu.createBitArray=function(r){return new Uint8Array(r)},Lu.fromBits=function(r,t,e){if(t>8||t<1)throw new RangeError("Invalid bits per element; 1 to 8 expected");return s7(r,t,e,8,!1),e},Lu.toBits=function(r,t,e){if(t>8||t<1)throw new RangeError("Invalid bits per element; 1 to 8 expected");return s7(r,8,e,t,!0),e};var eo={};Object.defineProperty(eo,"__esModule",{value:!0}),eo.CHECKSUM_LENGTH=void 0,eo.createChecksum=function(r,t){var e;switch(t){case"bech32":e=1;break;case"bech32m":e=a7;break;default:throw Error("Invalid encoding value: ".concat(t,"; expected bech32 or bech32m"))}for(var n=c7(r)^e,s=0;s<Hv;s+=1){var i=5*(5-s);r[r.length-Hv+s]=n>>i&31}},eo.decode=l7,eo.decodeWithPrefix=function(r,t){var e=t.length+2*r.length+1,n=(0,Rk.createBitArray)(e);return h7(r,n.subarray(0,2*r.length+1)),l7(t,n.subarray(2*r.length+1)),n},eo.detectCase=function(r){for(var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"message",e=!1,n=!1,s=0;s<r.length;s+=1){var i=r.charCodeAt(s);if(i<u7||i>f7)throw new TypeError("Invalid char in ".concat(t,": ").concat(i,"; ")+"should be in ASCII range ".concat(u7,"-").concat(f7));n=n||i>=65&&i<=90,e=e||i>=97&&i<=122}if(e&&n)throw new TypeError("Mixed-case ".concat(t));return n?"upper":e?"lower":null},eo.encode=function(r){return r.reduce(function(t,e){return t+$v[e]},"")},eo.expandPrefix=h7,eo.verifyChecksum=function(r){switch(c7(r)){case 1:return"bech32";case a7:return"bech32m";default:return}};var Rk=Lu,$v="qpzry9x8gf2tvdw0s3jn54khce6mua7l",a7=734539939,u7=33,f7=126,Hv=6;eo.CHECKSUM_LENGTH=Hv;var wZ=function(){for(var r=new Map,t=0;t<$v.length;t+=1)r.set($v[t],t);return r}(),xZ=[996825010,642813549,513874426,1027748829,705979059];function c7(r){return r.reduce(function(t,e){var n=t>>25,s=(33554431&t)<<5^e;return xZ.reduce(function(i,c,l){return n>>l&1?i^c:i},s)},1)}function h7(r,t){for(var e=0;e<r.length;e+=1){var n=r.charCodeAt(e);t[e]=n>>5,t[e+r.length+1]=31&n}t[r.length]=0}function l7(r,t){for(var e=t||(0,Rk.createBitArray)(r.length),n=0;n<r.length;n+=1){var s=wZ.get(r[n]);if(s===void 0)throw new Error("Invalid char in message: ".concat(r[n]));e[n]=s}return e}Object.defineProperty(Es,"__esModule",{value:!0}),Es.BitcoinAddress=void 0;Es.decode=function(r){var t=mb(r),e=t.prefix,n=t.encoding,s=t.data;return{prefix:e,encoding:n,data:db(s)}};Es.decodeTo5BitArray=mb;Es.encode=function(r,t){var e=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"bech32";return pb(r,lb(t),e)};Es.encode5BitArray=pb,Es.from5BitArray=db,Es.to5BitArray=lb;var ph=Lu,zi=eo;function d7(r,t){for(var e=0;e<t.length;e++){var n=t[e];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(r,n.key,n)}}var jl=90;function lb(r,t){var e=Math.ceil(8*r.length/5),n=t||(0,ph.createBitArray)(e);return(0,ph.toBits)(r,5,n)}function db(r,t){var e=Math.floor(5*r.length/8),n=t||new Uint8Array(e);return(0,ph.fromBits)(r,5,n)}function pb(r,t){var e,n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"bech32",s=2*r.length+1+t.length+zi.CHECKSUM_LENGTH;if(s-r.length>jl)throw new Error("Message to be produced is too long (max ".concat(jl," supported)"));var i=(e=(0,zi.detectCase)(r,"prefix"))!==null&&e!==void 0?e:"lower",c=(0,ph.createBitArray)(s);(0,zi.expandPrefix)(r.toLowerCase(),c.subarray(0,2*r.length+1)),c.subarray(2*r.length+1,c.length-zi.CHECKSUM_LENGTH).set(t),(0,zi.createChecksum)(c,n);var l=(0,zi.encode)(c.subarray(2*r.length+1));return i==="upper"&&(l=l.toUpperCase()),"".concat(r,"1").concat(l)}function mb(r){if(r.length>jl)throw new TypeError("Message too long; max ".concat(jl," expected"));(0,zi.detectCase)(r);var t=r.toLowerCase(),e=t.lastIndexOf("1");if(e<0)throw new Error('No separator char ("1") found');if(e>r.length-zi.CHECKSUM_LENGTH-1)throw new Error("Data part of the message too short (at least ".concat(zi.CHECKSUM_LENGTH," chars expected)"));var n=t.substring(0,e),s=(0,zi.decodeWithPrefix)(n,t.substring(e+1)),i=(0,zi.verifyChecksum)(s);if(i===void 0)throw new Error("Invalid checksum");return{prefix:n,encoding:i,data:s.subarray(2*n.length+1,s.length-zi.CHECKSUM_LENGTH)}}var _Z=function(){function r(s,i,c){if(function(l,p){if(!(l instanceof p))throw new TypeError("Cannot call a class as a function")}(this,r),s!=="bc"&&s!=="tb")throw new Error('Invalid human-readable prefix, "bc" or "tb" expected');if(i<0||i>16)throw new RangeError("Invalid scriptVersion, value in range [0, 16] expected");if(c.length<2||c.length>40)throw new RangeError("Invalid script length: expected 2 to 40 bytes");if(i===0&&c.length!==20&&c.length!==32)throw new Error("Invalid v0 script length: expected 20 or 32 bytes");this.prefix=s,this.scriptVersion=i,this.data=c}var t,e,n;return t=r,e=[{key:"type",value:function(){if(this.scriptVersion===0)switch(this.data.length){case 20:return"p2wpkh";case 32:return"p2wsh";default:return}}},{key:"encode",value:function(){var s=Math.ceil(8*this.data.length/5),i=(0,ph.createBitArray)(s+1);i[0]=this.scriptVersion,lb(this.data,i.subarray(1));var c=this.scriptVersion===0?"bech32":"bech32m";return pb(this.prefix,i,c)}}],n=[{key:"decode",value:function(s){var i=mb(s),c=i.prefix,l=i.data,p=i.encoding;if(c!=="bc"&&c!=="tb")throw new Error('Invalid human-readable prefix, "bc" or "tb" expected');var m=l[0];if(m===0&&p!=="bech32")throw Error("Unexpected encoding ".concat(p," used for version 0 script"));if(m>0&&p!=="bech32m")throw Error("Unexpected encoding ".concat(p," used for version ").concat(m," script"));return new this(c,m,db(l.subarray(1)))}}],e&&d7(t.prototype,e),n&&d7(t,n),Object.defineProperty(t,"prototype",{writable:!1}),r}();Es.BitcoinAddress=_Z;var Ck={exports:{}};(function(r){(function(t){const e="(0?\\d+|0x[a-f0-9]+)",n={fourOctet:new RegExp(`^${e}\\.${e}\\.${e}\\.${e}$`,"i"),threeOctet:new RegExp(`^${e}\\.${e}\\.${e}$`,"i"),twoOctet:new RegExp(`^${e}\\.${e}$`,"i"),longValue:new RegExp(`^${e}$`,"i")},s=new RegExp("^0[0-7]+$","i"),i=new RegExp("^0x[a-f0-9]+$","i"),c="%[0-9a-z]{1,}",l="(?:[0-9a-f]+::?)+",p={zoneIndex:new RegExp(c,"i"),native:new RegExp(`^(::)?(${l})?([0-9a-f]+)?(::)?(${c})?$`,"i"),deprecatedTransitional:new RegExp(`^(?:::)(${e}\\.${e}\\.${e}\\.${e}(${c})?)$`,"i"),transitional:new RegExp(`^((?:${l})|(?:::)(?:${l})?)${e}\\.${e}\\.${e}\\.${e}(${c})?$`,"i")};function m(x,A){if(x.indexOf("::")!==x.lastIndexOf("::"))return null;let B,P,R=0,C=-1,O=(x.match(p.zoneIndex)||[])[0];for(O&&(O=O.substring(1),x=x.replace(/%.+$/,""));(C=x.indexOf(":",C+1))>=0;)R++;if(x.substr(0,2)==="::"&&R--,x.substr(-2,2)==="::"&&R--,R>A)return null;for(P=A-R,B=":";P--;)B+="0:";return(x=x.replace("::",B))[0]===":"&&(x=x.slice(1)),x[x.length-1]===":"&&(x=x.slice(0,-1)),A=function(){const z=x.split(":"),H=[];for(let tt=0;tt<z.length;tt++)H.push(parseInt(z[tt],16));return H}(),{parts:A,zoneId:O}}function v(x,A,B,P){if(x.length!==A.length)throw new Error("ipaddr: cannot match CIDR for objects with different lengths");let R,C=0;for(;P>0;){if(R=B-P,R<0&&(R=0),x[C]>>R!=A[C]>>R)return!1;P-=B,C+=1}return!0}function _(x){if(i.test(x))return parseInt(x,16);if(x[0]==="0"&&!isNaN(parseInt(x[1],10))){if(s.test(x))return parseInt(x,8);throw new Error(`ipaddr: cannot parse ${x} as octal`)}return parseInt(x,10)}function E(x,A){for(;x.length<A;)x=`0${x}`;return x}const w={};w.IPv4=function(){function x(A){if(A.length!==4)throw new Error("ipaddr: ipv4 octet count should be 4");let B,P;for(B=0;B<A.length;B++)if(P=A[B],!(0<=P&&P<=255))throw new Error("ipaddr: ipv4 octet should fit in 8 bits");this.octets=A}return x.prototype.SpecialRanges={unspecified:[[new x([0,0,0,0]),8]],broadcast:[[new x([255,255,255,255]),32]],multicast:[[new x([224,0,0,0]),4]],linkLocal:[[new x([169,254,0,0]),16]],loopback:[[new x([127,0,0,0]),8]],carrierGradeNat:[[new x([100,64,0,0]),10]],private:[[new x([10,0,0,0]),8],[new x([172,16,0,0]),12],[new x([192,168,0,0]),16]],reserved:[[new x([192,0,0,0]),24],[new x([192,0,2,0]),24],[new x([192,88,99,0]),24],[new x([198,18,0,0]),15],[new x([198,51,100,0]),24],[new x([203,0,113,0]),24],[new x([240,0,0,0]),4]]},x.prototype.kind=function(){return"ipv4"},x.prototype.match=function(A,B){let P;if(B===void 0&&(P=A,A=P[0],B=P[1]),A.kind()!=="ipv4")throw new Error("ipaddr: cannot match ipv4 address with non-ipv4 one");return v(this.octets,A.octets,8,B)},x.prototype.prefixLengthFromSubnetMask=function(){let A=0,B=!1;const P={0:8,128:7,192:6,224:5,240:4,248:3,252:2,254:1,255:0};let R,C,O;for(R=3;R>=0;R-=1){if(C=this.octets[R],!(C in P)||(O=P[C],B&&O!==0))return null;O!==8&&(B=!0),A+=O}return 32-A},x.prototype.range=function(){return w.subnetMatch(this,this.SpecialRanges)},x.prototype.toByteArray=function(){return this.octets.slice(0)},x.prototype.toIPv4MappedAddress=function(){return w.IPv6.parse(`::ffff:${this.toString()}`)},x.prototype.toNormalizedString=function(){return this.toString()},x.prototype.toString=function(){return this.octets.join(".")},x}(),w.IPv4.broadcastAddressFromCIDR=function(x){try{const A=this.parseCIDR(x),B=A[0].toByteArray(),P=this.subnetMaskFromPrefixLength(A[1]).toByteArray(),R=[];let C=0;for(;C<4;)R.push(parseInt(B[C],10)|255^parseInt(P[C],10)),C++;return new this(R)}catch{throw new Error("ipaddr: the address does not have IPv4 CIDR format")}},w.IPv4.isIPv4=function(x){return this.parser(x)!==null},w.IPv4.isValid=function(x){try{return new this(this.parser(x)),!0}catch{return!1}},w.IPv4.isValidFourPartDecimal=function(x){return!(!w.IPv4.isValid(x)||!x.match(/^(0|[1-9]\d*)(\.(0|[1-9]\d*)){3}$/))},w.IPv4.networkAddressFromCIDR=function(x){let A,B,P,R,C;try{for(A=this.parseCIDR(x),P=A[0].toByteArray(),C=this.subnetMaskFromPrefixLength(A[1]).toByteArray(),R=[],B=0;B<4;)R.push(parseInt(P[B],10)&parseInt(C[B],10)),B++;return new this(R)}catch{throw new Error("ipaddr: the address does not have IPv4 CIDR format")}},w.IPv4.parse=function(x){const A=this.parser(x);if(A===null)throw new Error("ipaddr: string is not formatted like an IPv4 Address");return new this(A)},w.IPv4.parseCIDR=function(x){let A;if(A=x.match(/^(.+)\/(\d+)$/)){const B=parseInt(A[2]);if(B>=0&&B<=32){const P=[this.parse(A[1]),B];return Object.defineProperty(P,"toString",{value:function(){return this.join("/")}}),P}}throw new Error("ipaddr: string is not formatted like an IPv4 CIDR range")},w.IPv4.parser=function(x){let A,B,P;if(A=x.match(n.fourOctet))return function(){const R=A.slice(1,6),C=[];for(let O=0;O<R.length;O++)B=R[O],C.push(_(B));return C}();if(A=x.match(n.longValue)){if(P=_(A[1]),P>4294967295||P<0)throw new Error("ipaddr: address outside defined range");return function(){const R=[];let C;for(C=0;C<=24;C+=8)R.push(P>>C&255);return R}().reverse()}return(A=x.match(n.twoOctet))?function(){const R=A.slice(1,4),C=[];if(P=_(R[1]),P>16777215||P<0)throw new Error("ipaddr: address outside defined range");return C.push(_(R[0])),C.push(P>>16&255),C.push(P>>8&255),C.push(255&P),C}():(A=x.match(n.threeOctet))?function(){const R=A.slice(1,5),C=[];if(P=_(R[2]),P>65535||P<0)throw new Error("ipaddr: address outside defined range");return C.push(_(R[0])),C.push(_(R[1])),C.push(P>>8&255),C.push(255&P),C}():null},w.IPv4.subnetMaskFromPrefixLength=function(x){if((x=parseInt(x))<0||x>32)throw new Error("ipaddr: invalid IPv4 prefix length");const A=[0,0,0,0];let B=0;const P=Math.floor(x/8);for(;B<P;)A[B]=255,B++;return P<4&&(A[P]=Math.pow(2,x%8)-1<<8-x%8),new this(A)},w.IPv6=function(){function x(A,B){let P,R;if(A.length===16)for(this.parts=[],P=0;P<=14;P+=2)this.parts.push(A[P]<<8|A[P+1]);else{if(A.length!==8)throw new Error("ipaddr: ipv6 part count should be 8 or 16");this.parts=A}for(P=0;P<this.parts.length;P++)if(R=this.parts[P],!(0<=R&&R<=65535))throw new Error("ipaddr: ipv6 part should fit in 16 bits");B&&(this.zoneId=B)}return x.prototype.SpecialRanges={unspecified:[new x([0,0,0,0,0,0,0,0]),128],linkLocal:[new x([65152,0,0,0,0,0,0,0]),10],multicast:[new x([65280,0,0,0,0,0,0,0]),8],loopback:[new x([0,0,0,0,0,0,0,1]),128],uniqueLocal:[new x([64512,0,0,0,0,0,0,0]),7],ipv4Mapped:[new x([0,0,0,0,0,65535,0,0]),96],rfc6145:[new x([0,0,0,0,65535,0,0,0]),96],rfc6052:[new x([100,65435,0,0,0,0,0,0]),96],"6to4":[new x([8194,0,0,0,0,0,0,0]),16],teredo:[new x([8193,0,0,0,0,0,0,0]),32],reserved:[[new x([8193,3512,0,0,0,0,0,0]),32]],benchmarking:[new x([8193,2,0,0,0,0,0,0]),48],amt:[new x([8193,3,0,0,0,0,0,0]),32],as112v6:[new x([8193,4,274,0,0,0,0,0]),48],deprecated:[new x([8193,16,0,0,0,0,0,0]),28],orchid2:[new x([8193,32,0,0,0,0,0,0]),28]},x.prototype.isIPv4MappedAddress=function(){return this.range()==="ipv4Mapped"},x.prototype.kind=function(){return"ipv6"},x.prototype.match=function(A,B){let P;if(B===void 0&&(P=A,A=P[0],B=P[1]),A.kind()!=="ipv6")throw new Error("ipaddr: cannot match ipv6 address with non-ipv6 one");return v(this.parts,A.parts,16,B)},x.prototype.prefixLengthFromSubnetMask=function(){let A=0,B=!1;const P={0:16,32768:15,49152:14,57344:13,61440:12,63488:11,64512:10,65024:9,65280:8,65408:7,65472:6,65504:5,65520:4,65528:3,65532:2,65534:1,65535:0};let R,C;for(let O=7;O>=0;O-=1){if(R=this.parts[O],!(R in P)||(C=P[R],B&&C!==0))return null;C!==16&&(B=!0),A+=C}return 128-A},x.prototype.range=function(){return w.subnetMatch(this,this.SpecialRanges)},x.prototype.toByteArray=function(){let A;const B=[],P=this.parts;for(let R=0;R<P.length;R++)A=P[R],B.push(A>>8),B.push(255&A);return B},x.prototype.toFixedLengthString=function(){const A=(function(){const P=[];for(let R=0;R<this.parts.length;R++)P.push(E(this.parts[R].toString(16),4));return P}).call(this).join(":");let B="";return this.zoneId&&(B=`%${this.zoneId}`),A+B},x.prototype.toIPv4Address=function(){if(!this.isIPv4MappedAddress())throw new Error("ipaddr: trying to convert a generic ipv6 address to ipv4");const A=this.parts.slice(-2),B=A[0],P=A[1];return new w.IPv4([B>>8,255&B,P>>8,255&P])},x.prototype.toNormalizedString=function(){const A=(function(){const P=[];for(let R=0;R<this.parts.length;R++)P.push(this.parts[R].toString(16));return P}).call(this).join(":");let B="";return this.zoneId&&(B=`%${this.zoneId}`),A+B},x.prototype.toRFC5952String=function(){const A=/((^|:)(0(:|$)){2,})/g,B=this.toNormalizedString();let P,R=0,C=-1;for(;P=A.exec(B);)P[0].length>C&&(R=P.index,C=P[0].length);return C<0?B:`${B.substring(0,R)}::${B.substring(R+C)}`},x.prototype.toString=function(){return this.toRFC5952String()},x}(),w.IPv6.broadcastAddressFromCIDR=function(x){try{const A=this.parseCIDR(x),B=A[0].toByteArray(),P=this.subnetMaskFromPrefixLength(A[1]).toByteArray(),R=[];let C=0;for(;C<16;)R.push(parseInt(B[C],10)|255^parseInt(P[C],10)),C++;return new this(R)}catch(A){throw new Error(`ipaddr: the address does not have IPv6 CIDR format (${A})`)}},w.IPv6.isIPv6=function(x){return this.parser(x)!==null},w.IPv6.isValid=function(x){if(typeof x=="string"&&x.indexOf(":")===-1)return!1;try{const A=this.parser(x);return new this(A.parts,A.zoneId),!0}catch{return!1}},w.IPv6.networkAddressFromCIDR=function(x){let A,B,P,R,C;try{for(A=this.parseCIDR(x),P=A[0].toByteArray(),C=this.subnetMaskFromPrefixLength(A[1]).toByteArray(),R=[],B=0;B<16;)R.push(parseInt(P[B],10)&parseInt(C[B],10)),B++;return new this(R)}catch(O){throw new Error(`ipaddr: the address does not have IPv6 CIDR format (${O})`)}},w.IPv6.parse=function(x){const A=this.parser(x);if(A.parts===null)throw new Error("ipaddr: string is not formatted like an IPv6 Address");return new this(A.parts,A.zoneId)},w.IPv6.parseCIDR=function(x){let A,B,P;if((B=x.match(/^(.+)\/(\d+)$/))&&(A=parseInt(B[2]),A>=0&&A<=128))return P=[this.parse(B[1]),A],Object.defineProperty(P,"toString",{value:function(){return this.join("/")}}),P;throw new Error("ipaddr: string is not formatted like an IPv6 CIDR range")},w.IPv6.parser=function(x){let A,B,P,R,C,O;if(P=x.match(p.deprecatedTransitional))return this.parser(`::ffff:${P[1]}`);if(p.native.test(x))return m(x,8);if((P=x.match(p.transitional))&&(O=P[6]||"",A=m(P[1].slice(0,-1)+O,6),A.parts)){for(C=[parseInt(P[2]),parseInt(P[3]),parseInt(P[4]),parseInt(P[5])],B=0;B<C.length;B++)if(R=C[B],!(0<=R&&R<=255))return null;return A.parts.push(C[0]<<8|C[1]),A.parts.push(C[2]<<8|C[3]),{parts:A.parts,zoneId:A.zoneId}}return null},w.IPv6.subnetMaskFromPrefixLength=function(x){if((x=parseInt(x))<0||x>128)throw new Error("ipaddr: invalid IPv6 prefix length");const A=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];let B=0;const P=Math.floor(x/8);for(;B<P;)A[B]=255,B++;return P<16&&(A[P]=Math.pow(2,x%8)-1<<8-x%8),new this(A)},w.fromByteArray=function(x){const A=x.length;if(A===4)return new w.IPv4(x);if(A===16)return new w.IPv6(x);throw new Error("ipaddr: the binary input is neither an IPv6 nor IPv4 address")},w.isValid=function(x){return w.IPv6.isValid(x)||w.IPv4.isValid(x)},w.parse=function(x){if(w.IPv6.isValid(x))return w.IPv6.parse(x);if(w.IPv4.isValid(x))return w.IPv4.parse(x);throw new Error("ipaddr: the address has neither IPv6 nor IPv4 format")},w.parseCIDR=function(x){try{return w.IPv6.parseCIDR(x)}catch{try{return w.IPv4.parseCIDR(x)}catch{throw new Error("ipaddr: the address has neither IPv6 nor IPv4 CIDR format")}}},w.process=function(x){const A=this.parse(x);return A.kind()==="ipv6"&&A.isIPv4MappedAddress()?A.toIPv4Address():A},w.subnetMatch=function(x,A,B){let P,R,C,O;for(R in B==null&&(B="unicast"),A)if(Object.prototype.hasOwnProperty.call(A,R)){for(C=A[R],!C[0]||C[0]instanceof Array||(C=[C]),P=0;P<C.length;P++)if(O=C[P],x.kind()===O[0].kind()&&x.match.apply(x,O))return R}return B},r.exports?r.exports=w:t.ipaddr=w})($e)})(Ck);Yi(Ck.exports);function MZ(r){throw new Error('Could not dynamically require "'+r+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var p7={exports:{}};(function(r){var t=function(J){var X,st=new Float64Array(16);if(J)for(X=0;X<J.length;X++)st[X]=J[X];return st},e=function(){throw new Error("no PRNG")},n=new Uint8Array(16),s=new Uint8Array(32);s[0]=9;var i=t(),c=t([1]),l=t([56129,1]),p=t([30883,4953,19914,30187,55467,16705,2637,112,59544,30585,16505,36039,65139,11119,27886,20995]),m=t([61785,9906,39828,60374,45398,33411,5274,224,53552,61171,33010,6542,64743,22239,55772,9222]),v=t([54554,36645,11616,51542,42930,38181,51040,26924,56412,64982,57905,49316,21502,52590,14035,8553]),_=t([26200,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214]),E=t([41136,18958,6951,50414,58488,44335,6150,12099,55207,15867,153,11085,57099,20417,9344,11139]);function w(J,X,st,N){J[X]=st>>24&255,J[X+1]=st>>16&255,J[X+2]=st>>8&255,J[X+3]=255&st,J[X+4]=N>>24&255,J[X+5]=N>>16&255,J[X+6]=N>>8&255,J[X+7]=255&N}function x(J,X,st,N,$){var gt,ft=0;for(gt=0;gt<$;gt++)ft|=J[X+gt]^st[N+gt];return(1&ft-1>>>8)-1}function A(J,X,st,N){return x(J,X,st,N,16)}function B(J,X,st,N){return x(J,X,st,N,32)}function P(J,X,st,N){(function($,gt,ft,mt){for(var vt,At=255&mt[0]|(255&mt[1])<<8|(255&mt[2])<<16|(255&mt[3])<<24,_t=255&ft[0]|(255&ft[1])<<8|(255&ft[2])<<16|(255&ft[3])<<24,Gt=255&ft[4]|(255&ft[5])<<8|(255&ft[6])<<16|(255&ft[7])<<24,Rt=255&ft[8]|(255&ft[9])<<8|(255&ft[10])<<16|(255&ft[11])<<24,wt=255&ft[12]|(255&ft[13])<<8|(255&ft[14])<<16|(255&ft[15])<<24,se=255&mt[4]|(255&mt[5])<<8|(255&mt[6])<<16|(255&mt[7])<<24,Lt=255&gt[0]|(255&gt[1])<<8|(255&gt[2])<<16|(255&gt[3])<<24,Et=255&gt[4]|(255&gt[5])<<8|(255&gt[6])<<16|(255&gt[7])<<24,de=255&gt[8]|(255&gt[9])<<8|(255&gt[10])<<16|(255&gt[11])<<24,Pt=255&gt[12]|(255&gt[13])<<8|(255&gt[14])<<16|(255&gt[15])<<24,Mt=255&mt[8]|(255&mt[9])<<8|(255&mt[10])<<16|(255&mt[11])<<24,K=255&ft[16]|(255&ft[17])<<8|(255&ft[18])<<16|(255&ft[19])<<24,Y=255&ft[20]|(255&ft[21])<<8|(255&ft[22])<<16|(255&ft[23])<<24,V=255&ft[24]|(255&ft[25])<<8|(255&ft[26])<<16|(255&ft[27])<<24,U=255&ft[28]|(255&ft[29])<<8|(255&ft[30])<<16|(255&ft[31])<<24,W=255&mt[12]|(255&mt[13])<<8|(255&mt[14])<<16|(255&mt[15])<<24,et=At,dt=_t,ut=Gt,ht=Rt,zt=wt,Wt=se,ye=Lt,Yt=Et,pe=de,ve=Pt,ge=Mt,ie=K,ue=Y,fe=V,ce=U,Kt=W,oe=0;oe<20;oe+=2)et^=(vt=(ue^=(vt=(pe^=(vt=(zt^=(vt=et+ue|0)<<7|vt>>>25)+et|0)<<9|vt>>>23)+zt|0)<<13|vt>>>19)+pe|0)<<18|vt>>>14,Wt^=(vt=(dt^=(vt=(fe^=(vt=(ve^=(vt=Wt+dt|0)<<7|vt>>>25)+Wt|0)<<9|vt>>>23)+ve|0)<<13|vt>>>19)+fe|0)<<18|vt>>>14,ge^=(vt=(ye^=(vt=(ut^=(vt=(ce^=(vt=ge+ye|0)<<7|vt>>>25)+ge|0)<<9|vt>>>23)+ce|0)<<13|vt>>>19)+ut|0)<<18|vt>>>14,Kt^=(vt=(ie^=(vt=(Yt^=(vt=(ht^=(vt=Kt+ie|0)<<7|vt>>>25)+Kt|0)<<9|vt>>>23)+ht|0)<<13|vt>>>19)+Yt|0)<<18|vt>>>14,et^=(vt=(ht^=(vt=(ut^=(vt=(dt^=(vt=et+ht|0)<<7|vt>>>25)+et|0)<<9|vt>>>23)+dt|0)<<13|vt>>>19)+ut|0)<<18|vt>>>14,Wt^=(vt=(zt^=(vt=(Yt^=(vt=(ye^=(vt=Wt+zt|0)<<7|vt>>>25)+Wt|0)<<9|vt>>>23)+ye|0)<<13|vt>>>19)+Yt|0)<<18|vt>>>14,ge^=(vt=(ve^=(vt=(pe^=(vt=(ie^=(vt=ge+ve|0)<<7|vt>>>25)+ge|0)<<9|vt>>>23)+ie|0)<<13|vt>>>19)+pe|0)<<18|vt>>>14,Kt^=(vt=(ce^=(vt=(fe^=(vt=(ue^=(vt=Kt+ce|0)<<7|vt>>>25)+Kt|0)<<9|vt>>>23)+ue|0)<<13|vt>>>19)+fe|0)<<18|vt>>>14;et=et+At|0,dt=dt+_t|0,ut=ut+Gt|0,ht=ht+Rt|0,zt=zt+wt|0,Wt=Wt+se|0,ye=ye+Lt|0,Yt=Yt+Et|0,pe=pe+de|0,ve=ve+Pt|0,ge=ge+Mt|0,ie=ie+K|0,ue=ue+Y|0,fe=fe+V|0,ce=ce+U|0,Kt=Kt+W|0,$[0]=et>>>0&255,$[1]=et>>>8&255,$[2]=et>>>16&255,$[3]=et>>>24&255,$[4]=dt>>>0&255,$[5]=dt>>>8&255,$[6]=dt>>>16&255,$[7]=dt>>>24&255,$[8]=ut>>>0&255,$[9]=ut>>>8&255,$[10]=ut>>>16&255,$[11]=ut>>>24&255,$[12]=ht>>>0&255,$[13]=ht>>>8&255,$[14]=ht>>>16&255,$[15]=ht>>>24&255,$[16]=zt>>>0&255,$[17]=zt>>>8&255,$[18]=zt>>>16&255,$[19]=zt>>>24&255,$[20]=Wt>>>0&255,$[21]=Wt>>>8&255,$[22]=Wt>>>16&255,$[23]=Wt>>>24&255,$[24]=ye>>>0&255,$[25]=ye>>>8&255,$[26]=ye>>>16&255,$[27]=ye>>>24&255,$[28]=Yt>>>0&255,$[29]=Yt>>>8&255,$[30]=Yt>>>16&255,$[31]=Yt>>>24&255,$[32]=pe>>>0&255,$[33]=pe>>>8&255,$[34]=pe>>>16&255,$[35]=pe>>>24&255,$[36]=ve>>>0&255,$[37]=ve>>>8&255,$[38]=ve>>>16&255,$[39]=ve>>>24&255,$[40]=ge>>>0&255,$[41]=ge>>>8&255,$[42]=ge>>>16&255,$[43]=ge>>>24&255,$[44]=ie>>>0&255,$[45]=ie>>>8&255,$[46]=ie>>>16&255,$[47]=ie>>>24&255,$[48]=ue>>>0&255,$[49]=ue>>>8&255,$[50]=ue>>>16&255,$[51]=ue>>>24&255,$[52]=fe>>>0&255,$[53]=fe>>>8&255,$[54]=fe>>>16&255,$[55]=fe>>>24&255,$[56]=ce>>>0&255,$[57]=ce>>>8&255,$[58]=ce>>>16&255,$[59]=ce>>>24&255,$[60]=Kt>>>0&255,$[61]=Kt>>>8&255,$[62]=Kt>>>16&255,$[63]=Kt>>>24&255})(J,X,st,N)}function R(J,X,st,N){(function($,gt,ft,mt){for(var vt,At=255&mt[0]|(255&mt[1])<<8|(255&mt[2])<<16|(255&mt[3])<<24,_t=255&ft[0]|(255&ft[1])<<8|(255&ft[2])<<16|(255&ft[3])<<24,Gt=255&ft[4]|(255&ft[5])<<8|(255&ft[6])<<16|(255&ft[7])<<24,Rt=255&ft[8]|(255&ft[9])<<8|(255&ft[10])<<16|(255&ft[11])<<24,wt=255&ft[12]|(255&ft[13])<<8|(255&ft[14])<<16|(255&ft[15])<<24,se=255&mt[4]|(255&mt[5])<<8|(255&mt[6])<<16|(255&mt[7])<<24,Lt=255&gt[0]|(255&gt[1])<<8|(255&gt[2])<<16|(255&gt[3])<<24,Et=255&gt[4]|(255&gt[5])<<8|(255&gt[6])<<16|(255&gt[7])<<24,de=255&gt[8]|(255&gt[9])<<8|(255&gt[10])<<16|(255&gt[11])<<24,Pt=255&gt[12]|(255&gt[13])<<8|(255&gt[14])<<16|(255&gt[15])<<24,Mt=255&mt[8]|(255&mt[9])<<8|(255&mt[10])<<16|(255&mt[11])<<24,K=255&ft[16]|(255&ft[17])<<8|(255&ft[18])<<16|(255&ft[19])<<24,Y=255&ft[20]|(255&ft[21])<<8|(255&ft[22])<<16|(255&ft[23])<<24,V=255&ft[24]|(255&ft[25])<<8|(255&ft[26])<<16|(255&ft[27])<<24,U=255&ft[28]|(255&ft[29])<<8|(255&ft[30])<<16|(255&ft[31])<<24,W=255&mt[12]|(255&mt[13])<<8|(255&mt[14])<<16|(255&mt[15])<<24,et=0;et<20;et+=2)At^=(vt=(Y^=(vt=(de^=(vt=(wt^=(vt=At+Y|0)<<7|vt>>>25)+At|0)<<9|vt>>>23)+wt|0)<<13|vt>>>19)+de|0)<<18|vt>>>14,se^=(vt=(_t^=(vt=(V^=(vt=(Pt^=(vt=se+_t|0)<<7|vt>>>25)+se|0)<<9|vt>>>23)+Pt|0)<<13|vt>>>19)+V|0)<<18|vt>>>14,Mt^=(vt=(Lt^=(vt=(Gt^=(vt=(U^=(vt=Mt+Lt|0)<<7|vt>>>25)+Mt|0)<<9|vt>>>23)+U|0)<<13|vt>>>19)+Gt|0)<<18|vt>>>14,W^=(vt=(K^=(vt=(Et^=(vt=(Rt^=(vt=W+K|0)<<7|vt>>>25)+W|0)<<9|vt>>>23)+Rt|0)<<13|vt>>>19)+Et|0)<<18|vt>>>14,At^=(vt=(Rt^=(vt=(Gt^=(vt=(_t^=(vt=At+Rt|0)<<7|vt>>>25)+At|0)<<9|vt>>>23)+_t|0)<<13|vt>>>19)+Gt|0)<<18|vt>>>14,se^=(vt=(wt^=(vt=(Et^=(vt=(Lt^=(vt=se+wt|0)<<7|vt>>>25)+se|0)<<9|vt>>>23)+Lt|0)<<13|vt>>>19)+Et|0)<<18|vt>>>14,Mt^=(vt=(Pt^=(vt=(de^=(vt=(K^=(vt=Mt+Pt|0)<<7|vt>>>25)+Mt|0)<<9|vt>>>23)+K|0)<<13|vt>>>19)+de|0)<<18|vt>>>14,W^=(vt=(U^=(vt=(V^=(vt=(Y^=(vt=W+U|0)<<7|vt>>>25)+W|0)<<9|vt>>>23)+Y|0)<<13|vt>>>19)+V|0)<<18|vt>>>14;$[0]=At>>>0&255,$[1]=At>>>8&255,$[2]=At>>>16&255,$[3]=At>>>24&255,$[4]=se>>>0&255,$[5]=se>>>8&255,$[6]=se>>>16&255,$[7]=se>>>24&255,$[8]=Mt>>>0&255,$[9]=Mt>>>8&255,$[10]=Mt>>>16&255,$[11]=Mt>>>24&255,$[12]=W>>>0&255,$[13]=W>>>8&255,$[14]=W>>>16&255,$[15]=W>>>24&255,$[16]=Lt>>>0&255,$[17]=Lt>>>8&255,$[18]=Lt>>>16&255,$[19]=Lt>>>24&255,$[20]=Et>>>0&255,$[21]=Et>>>8&255,$[22]=Et>>>16&255,$[23]=Et>>>24&255,$[24]=de>>>0&255,$[25]=de>>>8&255,$[26]=de>>>16&255,$[27]=de>>>24&255,$[28]=Pt>>>0&255,$[29]=Pt>>>8&255,$[30]=Pt>>>16&255,$[31]=Pt>>>24&255})(J,X,st,N)}var C=new Uint8Array([101,120,112,97,110,100,32,51,50,45,98,121,116,101,32,107]);function O(J,X,st,N,$,gt,ft){var mt,vt,At=new Uint8Array(16),_t=new Uint8Array(64);for(vt=0;vt<16;vt++)At[vt]=0;for(vt=0;vt<8;vt++)At[vt]=gt[vt];for(;$>=64;){for(P(_t,At,ft,C),vt=0;vt<64;vt++)J[X+vt]=st[N+vt]^_t[vt];for(mt=1,vt=8;vt<16;vt++)mt=mt+(255&At[vt])|0,At[vt]=255&mt,mt>>>=8;$-=64,X+=64,N+=64}if($>0)for(P(_t,At,ft,C),vt=0;vt<$;vt++)J[X+vt]=st[N+vt]^_t[vt];return 0}function z(J,X,st,N,$){var gt,ft,mt=new Uint8Array(16),vt=new Uint8Array(64);for(ft=0;ft<16;ft++)mt[ft]=0;for(ft=0;ft<8;ft++)mt[ft]=N[ft];for(;st>=64;){for(P(vt,mt,$,C),ft=0;ft<64;ft++)J[X+ft]=vt[ft];for(gt=1,ft=8;ft<16;ft++)gt=gt+(255&mt[ft])|0,mt[ft]=255&gt,gt>>>=8;st-=64,X+=64}if(st>0)for(P(vt,mt,$,C),ft=0;ft<st;ft++)J[X+ft]=vt[ft];return 0}function H(J,X,st,N,$){var gt=new Uint8Array(32);R(gt,N,$,C);for(var ft=new Uint8Array(8),mt=0;mt<8;mt++)ft[mt]=N[mt+16];return z(J,X,st,ft,gt)}function tt(J,X,st,N,$,gt,ft){var mt=new Uint8Array(32);R(mt,gt,ft,C);for(var vt=new Uint8Array(8),At=0;At<8;At++)vt[At]=gt[At+16];return O(J,X,st,N,$,vt,mt)}var nt=function(J){var X,st,N,$,gt,ft,mt,vt;this.buffer=new Uint8Array(16),this.r=new Uint16Array(10),this.h=new Uint16Array(10),this.pad=new Uint16Array(8),this.leftover=0,this.fin=0,X=255&J[0]|(255&J[1])<<8,this.r[0]=8191&X,st=255&J[2]|(255&J[3])<<8,this.r[1]=8191&(X>>>13|st<<3),N=255&J[4]|(255&J[5])<<8,this.r[2]=7939&(st>>>10|N<<6),$=255&J[6]|(255&J[7])<<8,this.r[3]=8191&(N>>>7|$<<9),gt=255&J[8]|(255&J[9])<<8,this.r[4]=255&($>>>4|gt<<12),this.r[5]=gt>>>1&8190,ft=255&J[10]|(255&J[11])<<8,this.r[6]=8191&(gt>>>14|ft<<2),mt=255&J[12]|(255&J[13])<<8,this.r[7]=8065&(ft>>>11|mt<<5),vt=255&J[14]|(255&J[15])<<8,this.r[8]=8191&(mt>>>8|vt<<8),this.r[9]=vt>>>5&127,this.pad[0]=255&J[16]|(255&J[17])<<8,this.pad[1]=255&J[18]|(255&J[19])<<8,this.pad[2]=255&J[20]|(255&J[21])<<8,this.pad[3]=255&J[22]|(255&J[23])<<8,this.pad[4]=255&J[24]|(255&J[25])<<8,this.pad[5]=255&J[26]|(255&J[27])<<8,this.pad[6]=255&J[28]|(255&J[29])<<8,this.pad[7]=255&J[30]|(255&J[31])<<8};function G(J,X,st,N,$,gt){var ft=new nt(gt);return ft.update(st,N,$),ft.finish(J,X),0}function M(J,X,st,N,$,gt){var ft=new Uint8Array(16);return G(ft,0,st,N,$,gt),A(J,X,ft,0)}function d(J,X,st,N,$){var gt;if(st<32)return-1;for(tt(J,0,X,0,st,N,$),G(J,16,J,32,st-32,J),gt=0;gt<16;gt++)J[gt]=0;return 0}function o(J,X,st,N,$){var gt,ft=new Uint8Array(32);if(st<32||(H(ft,0,32,N,$),M(X,16,X,32,st-32,ft)!==0))return-1;for(tt(J,0,X,0,st,N,$),gt=0;gt<32;gt++)J[gt]=0;return 0}function a(J,X){var st;for(st=0;st<16;st++)J[st]=0|X[st]}function f(J){var X,st,N=1;for(X=0;X<16;X++)st=J[X]+N+65535,N=Math.floor(st/65536),J[X]=st-65536*N;J[0]+=N-1+37*(N-1)}function h(J,X,st){for(var N,$=~(st-1),gt=0;gt<16;gt++)N=$&(J[gt]^X[gt]),J[gt]^=N,X[gt]^=N}function g(J,X){var st,N,$,gt=t(),ft=t();for(st=0;st<16;st++)ft[st]=X[st];for(f(ft),f(ft),f(ft),N=0;N<2;N++){for(gt[0]=ft[0]-65517,st=1;st<15;st++)gt[st]=ft[st]-65535-(gt[st-1]>>16&1),gt[st-1]&=65535;gt[15]=ft[15]-32767-(gt[14]>>16&1),$=gt[15]>>16&1,gt[14]&=65535,h(ft,gt,1-$)}for(st=0;st<16;st++)J[2*st]=255&ft[st],J[2*st+1]=ft[st]>>8}function S(J,X){var st=new Uint8Array(32),N=new Uint8Array(32);return g(st,J),g(N,X),B(st,0,N,0)}function I(J){var X=new Uint8Array(32);return g(X,J),1&X[0]}function y(J,X){var st;for(st=0;st<16;st++)J[st]=X[2*st]+(X[2*st+1]<<8);J[15]&=32767}function u(J,X,st){for(var N=0;N<16;N++)J[N]=X[N]+st[N]}function b(J,X,st){for(var N=0;N<16;N++)J[N]=X[N]-st[N]}function D(J,X,st){var N,$,gt=0,ft=0,mt=0,vt=0,At=0,_t=0,Gt=0,Rt=0,wt=0,se=0,Lt=0,Et=0,de=0,Pt=0,Mt=0,K=0,Y=0,V=0,U=0,W=0,et=0,dt=0,ut=0,ht=0,zt=0,Wt=0,ye=0,Yt=0,pe=0,ve=0,ge=0,ie=st[0],ue=st[1],fe=st[2],ce=st[3],Kt=st[4],oe=st[5],Jt=st[6],le=st[7],ae=st[8],ne=st[9],Ot=st[10],Nt=st[11],he=st[12],ee=st[13],re=st[14],me=st[15];gt+=(N=X[0])*ie,ft+=N*ue,mt+=N*fe,vt+=N*ce,At+=N*Kt,_t+=N*oe,Gt+=N*Jt,Rt+=N*le,wt+=N*ae,se+=N*ne,Lt+=N*Ot,Et+=N*Nt,de+=N*he,Pt+=N*ee,Mt+=N*re,K+=N*me,ft+=(N=X[1])*ie,mt+=N*ue,vt+=N*fe,At+=N*ce,_t+=N*Kt,Gt+=N*oe,Rt+=N*Jt,wt+=N*le,se+=N*ae,Lt+=N*ne,Et+=N*Ot,de+=N*Nt,Pt+=N*he,Mt+=N*ee,K+=N*re,Y+=N*me,mt+=(N=X[2])*ie,vt+=N*ue,At+=N*fe,_t+=N*ce,Gt+=N*Kt,Rt+=N*oe,wt+=N*Jt,se+=N*le,Lt+=N*ae,Et+=N*ne,de+=N*Ot,Pt+=N*Nt,Mt+=N*he,K+=N*ee,Y+=N*re,V+=N*me,vt+=(N=X[3])*ie,At+=N*ue,_t+=N*fe,Gt+=N*ce,Rt+=N*Kt,wt+=N*oe,se+=N*Jt,Lt+=N*le,Et+=N*ae,de+=N*ne,Pt+=N*Ot,Mt+=N*Nt,K+=N*he,Y+=N*ee,V+=N*re,U+=N*me,At+=(N=X[4])*ie,_t+=N*ue,Gt+=N*fe,Rt+=N*ce,wt+=N*Kt,se+=N*oe,Lt+=N*Jt,Et+=N*le,de+=N*ae,Pt+=N*ne,Mt+=N*Ot,K+=N*Nt,Y+=N*he,V+=N*ee,U+=N*re,W+=N*me,_t+=(N=X[5])*ie,Gt+=N*ue,Rt+=N*fe,wt+=N*ce,se+=N*Kt,Lt+=N*oe,Et+=N*Jt,de+=N*le,Pt+=N*ae,Mt+=N*ne,K+=N*Ot,Y+=N*Nt,V+=N*he,U+=N*ee,W+=N*re,et+=N*me,Gt+=(N=X[6])*ie,Rt+=N*ue,wt+=N*fe,se+=N*ce,Lt+=N*Kt,Et+=N*oe,de+=N*Jt,Pt+=N*le,Mt+=N*ae,K+=N*ne,Y+=N*Ot,V+=N*Nt,U+=N*he,W+=N*ee,et+=N*re,dt+=N*me,Rt+=(N=X[7])*ie,wt+=N*ue,se+=N*fe,Lt+=N*ce,Et+=N*Kt,de+=N*oe,Pt+=N*Jt,Mt+=N*le,K+=N*ae,Y+=N*ne,V+=N*Ot,U+=N*Nt,W+=N*he,et+=N*ee,dt+=N*re,ut+=N*me,wt+=(N=X[8])*ie,se+=N*ue,Lt+=N*fe,Et+=N*ce,de+=N*Kt,Pt+=N*oe,Mt+=N*Jt,K+=N*le,Y+=N*ae,V+=N*ne,U+=N*Ot,W+=N*Nt,et+=N*he,dt+=N*ee,ut+=N*re,ht+=N*me,se+=(N=X[9])*ie,Lt+=N*ue,Et+=N*fe,de+=N*ce,Pt+=N*Kt,Mt+=N*oe,K+=N*Jt,Y+=N*le,V+=N*ae,U+=N*ne,W+=N*Ot,et+=N*Nt,dt+=N*he,ut+=N*ee,ht+=N*re,zt+=N*me,Lt+=(N=X[10])*ie,Et+=N*ue,de+=N*fe,Pt+=N*ce,Mt+=N*Kt,K+=N*oe,Y+=N*Jt,V+=N*le,U+=N*ae,W+=N*ne,et+=N*Ot,dt+=N*Nt,ut+=N*he,ht+=N*ee,zt+=N*re,Wt+=N*me,Et+=(N=X[11])*ie,de+=N*ue,Pt+=N*fe,Mt+=N*ce,K+=N*Kt,Y+=N*oe,V+=N*Jt,U+=N*le,W+=N*ae,et+=N*ne,dt+=N*Ot,ut+=N*Nt,ht+=N*he,zt+=N*ee,Wt+=N*re,ye+=N*me,de+=(N=X[12])*ie,Pt+=N*ue,Mt+=N*fe,K+=N*ce,Y+=N*Kt,V+=N*oe,U+=N*Jt,W+=N*le,et+=N*ae,dt+=N*ne,ut+=N*Ot,ht+=N*Nt,zt+=N*he,Wt+=N*ee,ye+=N*re,Yt+=N*me,Pt+=(N=X[13])*ie,Mt+=N*ue,K+=N*fe,Y+=N*ce,V+=N*Kt,U+=N*oe,W+=N*Jt,et+=N*le,dt+=N*ae,ut+=N*ne,ht+=N*Ot,zt+=N*Nt,Wt+=N*he,ye+=N*ee,Yt+=N*re,pe+=N*me,Mt+=(N=X[14])*ie,K+=N*ue,Y+=N*fe,V+=N*ce,U+=N*Kt,W+=N*oe,et+=N*Jt,dt+=N*le,ut+=N*ae,ht+=N*ne,zt+=N*Ot,Wt+=N*Nt,ye+=N*he,Yt+=N*ee,pe+=N*re,ve+=N*me,K+=(N=X[15])*ie,ft+=38*(V+=N*fe),mt+=38*(U+=N*ce),vt+=38*(W+=N*Kt),At+=38*(et+=N*oe),_t+=38*(dt+=N*Jt),Gt+=38*(ut+=N*le),Rt+=38*(ht+=N*ae),wt+=38*(zt+=N*ne),se+=38*(Wt+=N*Ot),Lt+=38*(ye+=N*Nt),Et+=38*(Yt+=N*he),de+=38*(pe+=N*ee),Pt+=38*(ve+=N*re),Mt+=38*(ge+=N*me),gt=(N=(gt+=38*(Y+=N*ue))+($=1)+65535)-65536*($=Math.floor(N/65536)),ft=(N=ft+$+65535)-65536*($=Math.floor(N/65536)),mt=(N=mt+$+65535)-65536*($=Math.floor(N/65536)),vt=(N=vt+$+65535)-65536*($=Math.floor(N/65536)),At=(N=At+$+65535)-65536*($=Math.floor(N/65536)),_t=(N=_t+$+65535)-65536*($=Math.floor(N/65536)),Gt=(N=Gt+$+65535)-65536*($=Math.floor(N/65536)),Rt=(N=Rt+$+65535)-65536*($=Math.floor(N/65536)),wt=(N=wt+$+65535)-65536*($=Math.floor(N/65536)),se=(N=se+$+65535)-65536*($=Math.floor(N/65536)),Lt=(N=Lt+$+65535)-65536*($=Math.floor(N/65536)),Et=(N=Et+$+65535)-65536*($=Math.floor(N/65536)),de=(N=de+$+65535)-65536*($=Math.floor(N/65536)),Pt=(N=Pt+$+65535)-65536*($=Math.floor(N/65536)),Mt=(N=Mt+$+65535)-65536*($=Math.floor(N/65536)),K=(N=K+$+65535)-65536*($=Math.floor(N/65536)),gt=(N=(gt+=$-1+37*($-1))+($=1)+65535)-65536*($=Math.floor(N/65536)),ft=(N=ft+$+65535)-65536*($=Math.floor(N/65536)),mt=(N=mt+$+65535)-65536*($=Math.floor(N/65536)),vt=(N=vt+$+65535)-65536*($=Math.floor(N/65536)),At=(N=At+$+65535)-65536*($=Math.floor(N/65536)),_t=(N=_t+$+65535)-65536*($=Math.floor(N/65536)),Gt=(N=Gt+$+65535)-65536*($=Math.floor(N/65536)),Rt=(N=Rt+$+65535)-65536*($=Math.floor(N/65536)),wt=(N=wt+$+65535)-65536*($=Math.floor(N/65536)),se=(N=se+$+65535)-65536*($=Math.floor(N/65536)),Lt=(N=Lt+$+65535)-65536*($=Math.floor(N/65536)),Et=(N=Et+$+65535)-65536*($=Math.floor(N/65536)),de=(N=de+$+65535)-65536*($=Math.floor(N/65536)),Pt=(N=Pt+$+65535)-65536*($=Math.floor(N/65536)),Mt=(N=Mt+$+65535)-65536*($=Math.floor(N/65536)),K=(N=K+$+65535)-65536*($=Math.floor(N/65536)),gt+=$-1+37*($-1),J[0]=gt,J[1]=ft,J[2]=mt,J[3]=vt,J[4]=At,J[5]=_t,J[6]=Gt,J[7]=Rt,J[8]=wt,J[9]=se,J[10]=Lt,J[11]=Et,J[12]=de,J[13]=Pt,J[14]=Mt,J[15]=K}function Z(J,X){D(J,X,X)}function F(J,X){var st,N=t();for(st=0;st<16;st++)N[st]=X[st];for(st=253;st>=0;st--)Z(N,N),st!==2&&st!==4&&D(N,N,X);for(st=0;st<16;st++)J[st]=N[st]}function q(J,X){var st,N=t();for(st=0;st<16;st++)N[st]=X[st];for(st=250;st>=0;st--)Z(N,N),st!==1&&D(N,N,X);for(st=0;st<16;st++)J[st]=N[st]}function it(J,X,st){var N,$,gt=new Uint8Array(32),ft=new Float64Array(80),mt=t(),vt=t(),At=t(),_t=t(),Gt=t(),Rt=t();for($=0;$<31;$++)gt[$]=X[$];for(gt[31]=127&X[31]|64,gt[0]&=248,y(ft,st),$=0;$<16;$++)vt[$]=ft[$],_t[$]=mt[$]=At[$]=0;for(mt[0]=_t[0]=1,$=254;$>=0;--$)h(mt,vt,N=gt[$>>>3]>>>(7&$)&1),h(At,_t,N),u(Gt,mt,At),b(mt,mt,At),u(At,vt,_t),b(vt,vt,_t),Z(_t,Gt),Z(Rt,mt),D(mt,At,mt),D(At,vt,Gt),u(Gt,mt,At),b(mt,mt,At),Z(vt,mt),b(At,_t,Rt),D(mt,At,l),u(mt,mt,_t),D(At,At,mt),D(mt,_t,Rt),D(_t,vt,ft),Z(vt,Gt),h(mt,vt,N),h(At,_t,N);for($=0;$<16;$++)ft[$+16]=mt[$],ft[$+32]=At[$],ft[$+48]=vt[$],ft[$+64]=_t[$];var wt=ft.subarray(32),se=ft.subarray(16);return F(wt,wt),D(se,se,wt),g(J,se),0}function at(J,X){return it(J,X,s)}function Bt(J,X){return e(X,32),at(J,X)}function yt(J,X,st){var N=new Uint8Array(32);return it(N,st,X),R(J,n,N,C)}nt.prototype.blocks=function(J,X,st){for(var N,$,gt,ft,mt,vt,At,_t,Gt,Rt,wt,se,Lt,Et,de,Pt,Mt,K,Y,V=this.fin?0:2048,U=this.h[0],W=this.h[1],et=this.h[2],dt=this.h[3],ut=this.h[4],ht=this.h[5],zt=this.h[6],Wt=this.h[7],ye=this.h[8],Yt=this.h[9],pe=this.r[0],ve=this.r[1],ge=this.r[2],ie=this.r[3],ue=this.r[4],fe=this.r[5],ce=this.r[6],Kt=this.r[7],oe=this.r[8],Jt=this.r[9];st>=16;)Rt=Gt=0,Rt+=(U+=8191&(N=255&J[X+0]|(255&J[X+1])<<8))*pe,Rt+=(W+=8191&(N>>>13|($=255&J[X+2]|(255&J[X+3])<<8)<<3))*(5*Jt),Rt+=(et+=8191&($>>>10|(gt=255&J[X+4]|(255&J[X+5])<<8)<<6))*(5*oe),Rt+=(dt+=8191&(gt>>>7|(ft=255&J[X+6]|(255&J[X+7])<<8)<<9))*(5*Kt),Gt=(Rt+=(ut+=8191&(ft>>>4|(mt=255&J[X+8]|(255&J[X+9])<<8)<<12))*(5*ce))>>>13,Rt&=8191,Rt+=(ht+=mt>>>1&8191)*(5*fe),Rt+=(zt+=8191&(mt>>>14|(vt=255&J[X+10]|(255&J[X+11])<<8)<<2))*(5*ue),Rt+=(Wt+=8191&(vt>>>11|(At=255&J[X+12]|(255&J[X+13])<<8)<<5))*(5*ie),Rt+=(ye+=8191&(At>>>8|(_t=255&J[X+14]|(255&J[X+15])<<8)<<8))*(5*ge),wt=Gt+=(Rt+=(Yt+=_t>>>5|V)*(5*ve))>>>13,wt+=U*ve,wt+=W*pe,wt+=et*(5*Jt),wt+=dt*(5*oe),Gt=(wt+=ut*(5*Kt))>>>13,wt&=8191,wt+=ht*(5*ce),wt+=zt*(5*fe),wt+=Wt*(5*ue),wt+=ye*(5*ie),Gt+=(wt+=Yt*(5*ge))>>>13,wt&=8191,se=Gt,se+=U*ge,se+=W*ve,se+=et*pe,se+=dt*(5*Jt),Gt=(se+=ut*(5*oe))>>>13,se&=8191,se+=ht*(5*Kt),se+=zt*(5*ce),se+=Wt*(5*fe),se+=ye*(5*ue),Lt=Gt+=(se+=Yt*(5*ie))>>>13,Lt+=U*ie,Lt+=W*ge,Lt+=et*ve,Lt+=dt*pe,Gt=(Lt+=ut*(5*Jt))>>>13,Lt&=8191,Lt+=ht*(5*oe),Lt+=zt*(5*Kt),Lt+=Wt*(5*ce),Lt+=ye*(5*fe),Et=Gt+=(Lt+=Yt*(5*ue))>>>13,Et+=U*ue,Et+=W*ie,Et+=et*ge,Et+=dt*ve,Gt=(Et+=ut*pe)>>>13,Et&=8191,Et+=ht*(5*Jt),Et+=zt*(5*oe),Et+=Wt*(5*Kt),Et+=ye*(5*ce),de=Gt+=(Et+=Yt*(5*fe))>>>13,de+=U*fe,de+=W*ue,de+=et*ie,de+=dt*ge,Gt=(de+=ut*ve)>>>13,de&=8191,de+=ht*pe,de+=zt*(5*Jt),de+=Wt*(5*oe),de+=ye*(5*Kt),Pt=Gt+=(de+=Yt*(5*ce))>>>13,Pt+=U*ce,Pt+=W*fe,Pt+=et*ue,Pt+=dt*ie,Gt=(Pt+=ut*ge)>>>13,Pt&=8191,Pt+=ht*ve,Pt+=zt*pe,Pt+=Wt*(5*Jt),Pt+=ye*(5*oe),Mt=Gt+=(Pt+=Yt*(5*Kt))>>>13,Mt+=U*Kt,Mt+=W*ce,Mt+=et*fe,Mt+=dt*ue,Gt=(Mt+=ut*ie)>>>13,Mt&=8191,Mt+=ht*ge,Mt+=zt*ve,Mt+=Wt*pe,Mt+=ye*(5*Jt),K=Gt+=(Mt+=Yt*(5*oe))>>>13,K+=U*oe,K+=W*Kt,K+=et*ce,K+=dt*fe,Gt=(K+=ut*ue)>>>13,K&=8191,K+=ht*ie,K+=zt*ge,K+=Wt*ve,K+=ye*pe,Y=Gt+=(K+=Yt*(5*Jt))>>>13,Y+=U*Jt,Y+=W*oe,Y+=et*Kt,Y+=dt*ce,Gt=(Y+=ut*fe)>>>13,Y&=8191,Y+=ht*ue,Y+=zt*ie,Y+=Wt*ge,Y+=ye*ve,U=Rt=8191&(Gt=(Gt=((Gt+=(Y+=Yt*pe)>>>13)<<2)+Gt|0)+(Rt&=8191)|0),W=wt+=Gt>>>=13,et=se&=8191,dt=Lt&=8191,ut=Et&=8191,ht=de&=8191,zt=Pt&=8191,Wt=Mt&=8191,ye=K&=8191,Yt=Y&=8191,X+=16,st-=16;this.h[0]=U,this.h[1]=W,this.h[2]=et,this.h[3]=dt,this.h[4]=ut,this.h[5]=ht,this.h[6]=zt,this.h[7]=Wt,this.h[8]=ye,this.h[9]=Yt},nt.prototype.finish=function(J,X){var st,N,$,gt,ft=new Uint16Array(10);if(this.leftover){for(gt=this.leftover,this.buffer[gt++]=1;gt<16;gt++)this.buffer[gt]=0;this.fin=1,this.blocks(this.buffer,0,16)}for(st=this.h[1]>>>13,this.h[1]&=8191,gt=2;gt<10;gt++)this.h[gt]+=st,st=this.h[gt]>>>13,this.h[gt]&=8191;for(this.h[0]+=5*st,st=this.h[0]>>>13,this.h[0]&=8191,this.h[1]+=st,st=this.h[1]>>>13,this.h[1]&=8191,this.h[2]+=st,ft[0]=this.h[0]+5,st=ft[0]>>>13,ft[0]&=8191,gt=1;gt<10;gt++)ft[gt]=this.h[gt]+st,st=ft[gt]>>>13,ft[gt]&=8191;for(ft[9]-=8192,N=(1^st)-1,gt=0;gt<10;gt++)ft[gt]&=N;for(N=~N,gt=0;gt<10;gt++)this.h[gt]=this.h[gt]&N|ft[gt];for(this.h[0]=65535&(this.h[0]|this.h[1]<<13),this.h[1]=65535&(this.h[1]>>>3|this.h[2]<<10),this.h[2]=65535&(this.h[2]>>>6|this.h[3]<<7),this.h[3]=65535&(this.h[3]>>>9|this.h[4]<<4),this.h[4]=65535&(this.h[4]>>>12|this.h[5]<<1|this.h[6]<<14),this.h[5]=65535&(this.h[6]>>>2|this.h[7]<<11),this.h[6]=65535&(this.h[7]>>>5|this.h[8]<<8),this.h[7]=65535&(this.h[8]>>>8|this.h[9]<<5),$=this.h[0]+this.pad[0],this.h[0]=65535&$,gt=1;gt<8;gt++)$=(this.h[gt]+this.pad[gt]|0)+($>>>16)|0,this.h[gt]=65535&$;J[X+0]=this.h[0]>>>0&255,J[X+1]=this.h[0]>>>8&255,J[X+2]=this.h[1]>>>0&255,J[X+3]=this.h[1]>>>8&255,J[X+4]=this.h[2]>>>0&255,J[X+5]=this.h[2]>>>8&255,J[X+6]=this.h[3]>>>0&255,J[X+7]=this.h[3]>>>8&255,J[X+8]=this.h[4]>>>0&255,J[X+9]=this.h[4]>>>8&255,J[X+10]=this.h[5]>>>0&255,J[X+11]=this.h[5]>>>8&255,J[X+12]=this.h[6]>>>0&255,J[X+13]=this.h[6]>>>8&255,J[X+14]=this.h[7]>>>0&255,J[X+15]=this.h[7]>>>8&255},nt.prototype.update=function(J,X,st){var N,$;if(this.leftover){for(($=16-this.leftover)>st&&($=st),N=0;N<$;N++)this.buffer[this.leftover+N]=J[X+N];if(st-=$,X+=$,this.leftover+=$,this.leftover<16)return;this.blocks(this.buffer,0,16),this.leftover=0}if(st>=16&&($=st-st%16,this.blocks(J,X,$),X+=$,st-=$),st){for(N=0;N<st;N++)this.buffer[this.leftover+N]=J[X+N];this.leftover+=st}};var pt=d,Ft=o,lt=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591];function ct(J,X,st,N){for(var $,gt,ft,mt,vt,At,_t,Gt,Rt,wt,se,Lt,Et,de,Pt,Mt,K,Y,V,U,W,et,dt,ut,ht,zt,Wt=new Int32Array(16),ye=new Int32Array(16),Yt=J[0],pe=J[1],ve=J[2],ge=J[3],ie=J[4],ue=J[5],fe=J[6],ce=J[7],Kt=X[0],oe=X[1],Jt=X[2],le=X[3],ae=X[4],ne=X[5],Ot=X[6],Nt=X[7],he=0;N>=128;){for(V=0;V<16;V++)U=8*V+he,Wt[V]=st[U+0]<<24|st[U+1]<<16|st[U+2]<<8|st[U+3],ye[V]=st[U+4]<<24|st[U+5]<<16|st[U+6]<<8|st[U+7];for(V=0;V<80;V++)if($=Yt,gt=pe,ft=ve,mt=ge,vt=ie,At=ue,_t=fe,Rt=Kt,wt=oe,se=Jt,Lt=le,Et=ae,de=ne,Pt=Ot,dt=65535&(et=Nt),ut=et>>>16,ht=65535&(W=ce),zt=W>>>16,dt+=65535&(et=(ae>>>14|ie<<18)^(ae>>>18|ie<<14)^(ie>>>9|ae<<23)),ut+=et>>>16,ht+=65535&(W=(ie>>>14|ae<<18)^(ie>>>18|ae<<14)^(ae>>>9|ie<<23)),zt+=W>>>16,dt+=65535&(et=ae&ne^~ae&Ot),ut+=et>>>16,ht+=65535&(W=ie&ue^~ie&fe),zt+=W>>>16,W=lt[2*V],dt+=65535&(et=lt[2*V+1]),ut+=et>>>16,ht+=65535&W,zt+=W>>>16,W=Wt[V%16],ut+=(et=ye[V%16])>>>16,ht+=65535&W,zt+=W>>>16,ht+=(ut+=(dt+=65535&et)>>>16)>>>16,dt=65535&(et=Y=65535&dt|ut<<16),ut=et>>>16,ht=65535&(W=K=65535&ht|(zt+=ht>>>16)<<16),zt=W>>>16,dt+=65535&(et=(Kt>>>28|Yt<<4)^(Yt>>>2|Kt<<30)^(Yt>>>7|Kt<<25)),ut+=et>>>16,ht+=65535&(W=(Yt>>>28|Kt<<4)^(Kt>>>2|Yt<<30)^(Kt>>>7|Yt<<25)),zt+=W>>>16,ut+=(et=Kt&oe^Kt&Jt^oe&Jt)>>>16,ht+=65535&(W=Yt&pe^Yt&ve^pe&ve),zt+=W>>>16,Gt=65535&(ht+=(ut+=(dt+=65535&et)>>>16)>>>16)|(zt+=ht>>>16)<<16,Mt=65535&dt|ut<<16,dt=65535&(et=Lt),ut=et>>>16,ht=65535&(W=mt),zt=W>>>16,ut+=(et=Y)>>>16,ht+=65535&(W=K),zt+=W>>>16,pe=$,ve=gt,ge=ft,ie=mt=65535&(ht+=(ut+=(dt+=65535&et)>>>16)>>>16)|(zt+=ht>>>16)<<16,ue=vt,fe=At,ce=_t,Yt=Gt,oe=Rt,Jt=wt,le=se,ae=Lt=65535&dt|ut<<16,ne=Et,Ot=de,Nt=Pt,Kt=Mt,V%16==15)for(U=0;U<16;U++)W=Wt[U],dt=65535&(et=ye[U]),ut=et>>>16,ht=65535&W,zt=W>>>16,W=Wt[(U+9)%16],dt+=65535&(et=ye[(U+9)%16]),ut+=et>>>16,ht+=65535&W,zt+=W>>>16,K=Wt[(U+1)%16],dt+=65535&(et=((Y=ye[(U+1)%16])>>>1|K<<31)^(Y>>>8|K<<24)^(Y>>>7|K<<25)),ut+=et>>>16,ht+=65535&(W=(K>>>1|Y<<31)^(K>>>8|Y<<24)^K>>>7),zt+=W>>>16,K=Wt[(U+14)%16],ut+=(et=((Y=ye[(U+14)%16])>>>19|K<<13)^(K>>>29|Y<<3)^(Y>>>6|K<<26))>>>16,ht+=65535&(W=(K>>>19|Y<<13)^(Y>>>29|K<<3)^K>>>6),zt+=W>>>16,zt+=(ht+=(ut+=(dt+=65535&et)>>>16)>>>16)>>>16,Wt[U]=65535&ht|zt<<16,ye[U]=65535&dt|ut<<16;dt=65535&(et=Kt),ut=et>>>16,ht=65535&(W=Yt),zt=W>>>16,W=J[0],ut+=(et=X[0])>>>16,ht+=65535&W,zt+=W>>>16,zt+=(ht+=(ut+=(dt+=65535&et)>>>16)>>>16)>>>16,J[0]=Yt=65535&ht|zt<<16,X[0]=Kt=65535&dt|ut<<16,dt=65535&(et=oe),ut=et>>>16,ht=65535&(W=pe),zt=W>>>16,W=J[1],ut+=(et=X[1])>>>16,ht+=65535&W,zt+=W>>>16,zt+=(ht+=(ut+=(dt+=65535&et)>>>16)>>>16)>>>16,J[1]=pe=65535&ht|zt<<16,X[1]=oe=65535&dt|ut<<16,dt=65535&(et=Jt),ut=et>>>16,ht=65535&(W=ve),zt=W>>>16,W=J[2],ut+=(et=X[2])>>>16,ht+=65535&W,zt+=W>>>16,zt+=(ht+=(ut+=(dt+=65535&et)>>>16)>>>16)>>>16,J[2]=ve=65535&ht|zt<<16,X[2]=Jt=65535&dt|ut<<16,dt=65535&(et=le),ut=et>>>16,ht=65535&(W=ge),zt=W>>>16,W=J[3],ut+=(et=X[3])>>>16,ht+=65535&W,zt+=W>>>16,zt+=(ht+=(ut+=(dt+=65535&et)>>>16)>>>16)>>>16,J[3]=ge=65535&ht|zt<<16,X[3]=le=65535&dt|ut<<16,dt=65535&(et=ae),ut=et>>>16,ht=65535&(W=ie),zt=W>>>16,W=J[4],ut+=(et=X[4])>>>16,ht+=65535&W,zt+=W>>>16,zt+=(ht+=(ut+=(dt+=65535&et)>>>16)>>>16)>>>16,J[4]=ie=65535&ht|zt<<16,X[4]=ae=65535&dt|ut<<16,dt=65535&(et=ne),ut=et>>>16,ht=65535&(W=ue),zt=W>>>16,W=J[5],ut+=(et=X[5])>>>16,ht+=65535&W,zt+=W>>>16,zt+=(ht+=(ut+=(dt+=65535&et)>>>16)>>>16)>>>16,J[5]=ue=65535&ht|zt<<16,X[5]=ne=65535&dt|ut<<16,dt=65535&(et=Ot),ut=et>>>16,ht=65535&(W=fe),zt=W>>>16,W=J[6],ut+=(et=X[6])>>>16,ht+=65535&W,zt+=W>>>16,zt+=(ht+=(ut+=(dt+=65535&et)>>>16)>>>16)>>>16,J[6]=fe=65535&ht|zt<<16,X[6]=Ot=65535&dt|ut<<16,dt=65535&(et=Nt),ut=et>>>16,ht=65535&(W=ce),zt=W>>>16,W=J[7],ut+=(et=X[7])>>>16,ht+=65535&W,zt+=W>>>16,zt+=(ht+=(ut+=(dt+=65535&et)>>>16)>>>16)>>>16,J[7]=ce=65535&ht|zt<<16,X[7]=Nt=65535&dt|ut<<16,he+=128,N-=128}return N}function Tt(J,X,st){var N,$=new Int32Array(8),gt=new Int32Array(8),ft=new Uint8Array(256),mt=st;for($[0]=1779033703,$[1]=3144134277,$[2]=1013904242,$[3]=2773480762,$[4]=1359893119,$[5]=2600822924,$[6]=528734635,$[7]=1541459225,gt[0]=4089235720,gt[1]=2227873595,gt[2]=4271175723,gt[3]=1595750129,gt[4]=2917565137,gt[5]=725511199,gt[6]=4215389547,gt[7]=327033209,ct($,gt,X,st),st%=128,N=0;N<st;N++)ft[N]=X[mt-st+N];for(ft[st]=128,ft[(st=256-128*(st<112?1:0))-9]=0,w(ft,st-8,mt/536870912|0,mt<<3),ct($,gt,ft,st),N=0;N<8;N++)w(J,8*N,$[N],gt[N]);return 0}function kt(J,X){var st=t(),N=t(),$=t(),gt=t(),ft=t(),mt=t(),vt=t(),At=t(),_t=t();b(st,J[1],J[0]),b(_t,X[1],X[0]),D(st,st,_t),u(N,J[0],J[1]),u(_t,X[0],X[1]),D(N,N,_t),D($,J[3],X[3]),D($,$,m),D(gt,J[2],X[2]),u(gt,gt,gt),b(ft,N,st),b(mt,gt,$),u(vt,gt,$),u(At,N,st),D(J[0],ft,mt),D(J[1],At,vt),D(J[2],vt,mt),D(J[3],ft,At)}function k(J,X,st){var N;for(N=0;N<4;N++)h(J[N],X[N],st)}function T(J,X){var st=t(),N=t(),$=t();F($,X[2]),D(st,X[0],$),D(N,X[1],$),g(J,N),J[31]^=I(st)<<7}function L(J,X,st){var N,$;for(a(J[0],i),a(J[1],c),a(J[2],c),a(J[3],i),$=255;$>=0;--$)k(J,X,N=st[$/8|0]>>(7&$)&1),kt(X,J),kt(J,J),k(J,X,N)}function j(J,X){var st=[t(),t(),t(),t()];a(st[0],v),a(st[1],_),a(st[2],c),D(st[3],v,_),L(J,st,X)}function rt(J,X,st){var N,$=new Uint8Array(64),gt=[t(),t(),t(),t()];for(st||e(X,32),Tt($,X,32),$[0]&=248,$[31]&=127,$[31]|=64,j(gt,$),T(J,gt),N=0;N<32;N++)X[N+32]=J[N];return 0}var Q=new Float64Array([237,211,245,92,26,99,18,88,214,156,247,162,222,249,222,20,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,16]);function ot(J,X){var st,N,$,gt;for(N=63;N>=32;--N){for(st=0,$=N-32,gt=N-12;$<gt;++$)X[$]+=st-16*X[N]*Q[$-(N-32)],st=Math.floor((X[$]+128)/256),X[$]-=256*st;X[$]+=st,X[N]=0}for(st=0,$=0;$<32;$++)X[$]+=st-(X[31]>>4)*Q[$],st=X[$]>>8,X[$]&=255;for($=0;$<32;$++)X[$]-=st*Q[$];for(N=0;N<32;N++)X[N+1]+=X[N]>>8,J[N]=255&X[N]}function qt(J){var X,st=new Float64Array(64);for(X=0;X<64;X++)st[X]=J[X];for(X=0;X<64;X++)J[X]=0;ot(J,st)}function It(J,X,st,N){var $,gt,ft=new Uint8Array(64),mt=new Uint8Array(64),vt=new Uint8Array(64),At=new Float64Array(64),_t=[t(),t(),t(),t()];Tt(ft,N,32),ft[0]&=248,ft[31]&=127,ft[31]|=64;var Gt=st+64;for($=0;$<st;$++)J[64+$]=X[$];for($=0;$<32;$++)J[32+$]=ft[32+$];for(Tt(vt,J.subarray(32),st+32),qt(vt),j(_t,vt),T(J,_t),$=32;$<64;$++)J[$]=N[$];for(Tt(mt,J,st+64),qt(mt),$=0;$<64;$++)At[$]=0;for($=0;$<32;$++)At[$]=vt[$];for($=0;$<32;$++)for(gt=0;gt<32;gt++)At[$+gt]+=mt[$]*ft[gt];return ot(J.subarray(32),At),Gt}function xt(J,X,st,N){var $,gt=new Uint8Array(32),ft=new Uint8Array(64),mt=[t(),t(),t(),t()],vt=[t(),t(),t(),t()];if(st<64||function(At,_t){var Gt=t(),Rt=t(),wt=t(),se=t(),Lt=t(),Et=t(),de=t();return a(At[2],c),y(At[1],_t),Z(wt,At[1]),D(se,wt,p),b(wt,wt,At[2]),u(se,At[2],se),Z(Lt,se),Z(Et,Lt),D(de,Et,Lt),D(Gt,de,wt),D(Gt,Gt,se),q(Gt,Gt),D(Gt,Gt,wt),D(Gt,Gt,se),D(Gt,Gt,se),D(At[0],Gt,se),Z(Rt,At[0]),D(Rt,Rt,se),S(Rt,wt)&&D(At[0],At[0],E),Z(Rt,At[0]),D(Rt,Rt,se),S(Rt,wt)?-1:(I(At[0])===_t[31]>>7&&b(At[0],i,At[0]),D(At[3],At[0],At[1]),0)}(vt,N))return-1;for($=0;$<st;$++)J[$]=X[$];for($=0;$<32;$++)J[$+32]=N[$];if(Tt(ft,J,st),qt(ft),L(mt,vt,ft),j(vt,X.subarray(32)),kt(mt,vt),T(gt,mt),st-=64,B(X,0,gt,0)){for($=0;$<st;$++)J[$]=0;return-1}for($=0;$<st;$++)J[$]=X[$+64];return st}var Qt=16,Ct=64,Dt=32,Se=64;function te(J,X){if(J.length!==32)throw new Error("bad key size");if(X.length!==24)throw new Error("bad nonce size")}function Ut(){for(var J=0;J<arguments.length;J++)if(!(arguments[J]instanceof Uint8Array))throw new TypeError("unexpected type, use Uint8Array")}function Te(J){for(var X=0;X<J.length;X++)J[X]=0}r.lowlevel={crypto_core_hsalsa20:R,crypto_stream_xor:tt,crypto_stream:H,crypto_stream_salsa20_xor:O,crypto_stream_salsa20:z,crypto_onetimeauth:G,crypto_onetimeauth_verify:M,crypto_verify_16:A,crypto_verify_32:B,crypto_secretbox:d,crypto_secretbox_open:o,crypto_scalarmult:it,crypto_scalarmult_base:at,crypto_box_beforenm:yt,crypto_box_afternm:pt,crypto_box:function(J,X,st,N,$,gt){var ft=new Uint8Array(32);return yt(ft,$,gt),pt(J,X,st,N,ft)},crypto_box_open:function(J,X,st,N,$,gt){var ft=new Uint8Array(32);return yt(ft,$,gt),Ft(J,X,st,N,ft)},crypto_box_keypair:Bt,crypto_hash:Tt,crypto_sign:It,crypto_sign_keypair:rt,crypto_sign_open:xt,crypto_secretbox_KEYBYTES:32,crypto_secretbox_NONCEBYTES:24,crypto_secretbox_ZEROBYTES:32,crypto_secretbox_BOXZEROBYTES:Qt,crypto_scalarmult_BYTES:32,crypto_scalarmult_SCALARBYTES:32,crypto_box_PUBLICKEYBYTES:32,crypto_box_SECRETKEYBYTES:32,crypto_box_BEFORENMBYTES:32,crypto_box_NONCEBYTES:24,crypto_box_ZEROBYTES:32,crypto_box_BOXZEROBYTES:16,crypto_sign_BYTES:Ct,crypto_sign_PUBLICKEYBYTES:Dt,crypto_sign_SECRETKEYBYTES:Se,crypto_sign_SEEDBYTES:32,crypto_hash_BYTES:64,gf:t,D:p,L:Q,pack25519:g,unpack25519:y,M:D,A:u,S:Z,Z:b,pow2523:q,add:kt,set25519:a,modL:ot,scalarmult:L,scalarbase:j},r.randomBytes=function(J){var X=new Uint8Array(J);return e(X,J),X},r.secretbox=function(J,X,st){Ut(J,X,st),te(st,X);for(var N=new Uint8Array(32+J.length),$=new Uint8Array(N.length),gt=0;gt<J.length;gt++)N[gt+32]=J[gt];return d($,N,N.length,X,st),$.subarray(Qt)},r.secretbox.open=function(J,X,st){Ut(J,X,st),te(st,X);for(var N=new Uint8Array(Qt+J.length),$=new Uint8Array(N.length),gt=0;gt<J.length;gt++)N[gt+Qt]=J[gt];return N.length<32||o($,N,N.length,X,st)!==0?null:$.subarray(32)},r.secretbox.keyLength=32,r.secretbox.nonceLength=24,r.secretbox.overheadLength=Qt,r.scalarMult=function(J,X){if(Ut(J,X),J.length!==32)throw new Error("bad n size");if(X.length!==32)throw new Error("bad p size");var st=new Uint8Array(32);return it(st,J,X),st},r.scalarMult.base=function(J){if(Ut(J),J.length!==32)throw new Error("bad n size");var X=new Uint8Array(32);return at(X,J),X},r.scalarMult.scalarLength=32,r.scalarMult.groupElementLength=32,r.box=function(J,X,st,N){var $=r.box.before(st,N);return r.secretbox(J,X,$)},r.box.before=function(J,X){Ut(J,X),function(N,$){if(N.length!==32)throw new Error("bad public key size");if($.length!==32)throw new Error("bad secret key size")}(J,X);var st=new Uint8Array(32);return yt(st,J,X),st},r.box.after=r.secretbox,r.box.open=function(J,X,st,N){var $=r.box.before(st,N);return r.secretbox.open(J,X,$)},r.box.open.after=r.secretbox.open,r.box.keyPair=function(){var J=new Uint8Array(32),X=new Uint8Array(32);return Bt(J,X),{publicKey:J,secretKey:X}},r.box.keyPair.fromSecretKey=function(J){if(Ut(J),J.length!==32)throw new Error("bad secret key size");var X=new Uint8Array(32);return at(X,J),{publicKey:X,secretKey:new Uint8Array(J)}},r.box.publicKeyLength=32,r.box.secretKeyLength=32,r.box.sharedKeyLength=32,r.box.nonceLength=24,r.box.overheadLength=r.secretbox.overheadLength,r.sign=function(J,X){if(Ut(J,X),X.length!==Se)throw new Error("bad secret key size");var st=new Uint8Array(Ct+J.length);return It(st,J,J.length,X),st},r.sign.open=function(J,X){if(Ut(J,X),X.length!==Dt)throw new Error("bad public key size");var st=new Uint8Array(J.length),N=xt(st,J,J.length,X);if(N<0)return null;for(var $=new Uint8Array(N),gt=0;gt<$.length;gt++)$[gt]=st[gt];return $},r.sign.detached=function(J,X){for(var st=r.sign(J,X),N=new Uint8Array(Ct),$=0;$<N.length;$++)N[$]=st[$];return N},r.sign.detached.verify=function(J,X,st){if(Ut(J,X,st),X.length!==Ct)throw new Error("bad signature size");if(st.length!==Dt)throw new Error("bad public key size");var N,$=new Uint8Array(Ct+J.length),gt=new Uint8Array(Ct+J.length);for(N=0;N<Ct;N++)$[N]=X[N];for(N=0;N<J.length;N++)$[N+Ct]=J[N];return xt(gt,$,$.length,st)>=0},r.sign.keyPair=function(){var J=new Uint8Array(Dt),X=new Uint8Array(Se);return rt(J,X),{publicKey:J,secretKey:X}},r.sign.keyPair.fromSecretKey=function(J){if(Ut(J),J.length!==Se)throw new Error("bad secret key size");for(var X=new Uint8Array(Dt),st=0;st<X.length;st++)X[st]=J[32+st];return{publicKey:X,secretKey:new Uint8Array(J)}},r.sign.keyPair.fromSeed=function(J){if(Ut(J),J.length!==32)throw new Error("bad seed size");for(var X=new Uint8Array(Dt),st=new Uint8Array(Se),N=0;N<32;N++)st[N]=J[N];return rt(X,st,!0),{publicKey:X,secretKey:st}},r.sign.publicKeyLength=Dt,r.sign.secretKeyLength=Se,r.sign.seedLength=32,r.sign.signatureLength=Ct,r.hash=function(J){Ut(J);var X=new Uint8Array(64);return Tt(X,J,J.length),X},r.hash.hashLength=64,r.verify=function(J,X){return Ut(J,X),J.length!==0&&X.length!==0&&J.length===X.length&&x(J,0,X,0,J.length)===0},r.setPRNG=function(J){e=J},function(){var J=typeof self<"u"?self.crypto||self.msCrypto:null;J&&J.getRandomValues?r.setPRNG(function(X,st){var N,$=new Uint8Array(st);for(N=0;N<st;N+=65536)J.getRandomValues($.subarray(N,N+Math.min(st-N,65536)));for(N=0;N<st;N++)X[N]=$[N];Te($)}):MZ!==void 0&&(J=dE)&&J.randomBytes&&r.setPRNG(function(X,st){var N,$=J.randomBytes(st);for(N=0;N<st;N++)X[N]=$[N];Te($)})}()})(p7.exports?p7.exports:self.nacl=self.nacl||{});cr.Backpack,new Xt("ExXjtfdQe8JacoqP9Z535WzQKjF4CzW1TTRKRgpxvya3"),cr.Url,new Xt("ExXjtfdQe8JacoqP9Z535WzQKjF4CzW1TTRKRgpxvya3");cr.ETH,cr.Injective,cr.BSC;cr.IPFS,cr.ARWV,cr.LTC,cr.DOGE,cr.Email,cr.Url,cr.Discord,cr.Github,cr.Reddit,cr.Twitter,cr.Telegram,cr.Pic,cr.SHDW,cr.POINT,cr.Backpack,cr.TXT,cr.CNAME,cr.BTC;cr.ETH,cr.Injective,cr.SOL;const EZ=async(r,t,e,n,s,i=RK,c)=>{if(t.includes(".")||t.trim().toLowerCase()!==t)throw new Bl(Il.InvalidDomain);const[l]=Xt.findProgramAddressSync([v0.toBuffer()],v0),p=i7(t),m=o7(p,void 0,T4),v=i7(m.toBase58()),_=o7(v,l),[E]=Xt.findProgramAddressSync([m.toBuffer()],v0),w=LA.findIndex(tt=>c==null?void 0:c.equals(tt));let x;const A=[];if(w!==-1&&c){x=m4(i,c,!0);const tt=await r.getAccountInfo(x);if(!(tt!=null&&tt.data)){const nt=kj(n,x,c,i);A.push(nt)}}const B=new T8.PythHttpClient(r,T8.getPythProgramKeyForCluster("mainnet-beta")),P=await B.getData(),R=CK.get(i.toBase58());if(!R)throw new Bl(Il.SymbolNotFound,`No symbol found for mint ${i.toBase58()}`);const C=P.productPrice.get("Crypto."+R+"/USD"),O=P.productFromSymbol.get("Crypto."+R+"/USD"),z=m4(i,LK),H=new oh({name:t,space:e,referrerIdxOpt:w!=-1?w:null}).getInstruction(v0,TA,T4,m,_,an.programId,l,n,s,TK,C.productAccountKey,new Xt(O.price_account),z,kl,na,E,x);return A.push(H),[[],A]};new Xt("85iDfUvr3HJyLM2zcq5BXSiDvUWfw6cSE1FfNBo8Ap29");var m7;(function(r){r.DegenPoet1="DegenPoet#1",r.Rgb0x001="rgb0x00#1"})(m7||(m7={}));new Xt("ART5dr4bDic2sQVZoFheEmUxwQq5VGSx9he7JxHcXNQD");new Xt("CSWvuDHXExVGEMR9kP8xYAHuNjXogeRck9Cnr312CC9g");const AZ=new Intl.NumberFormat("en-US",{style:"currency",currency:"USD",minimumFractionDigits:2}),L0=(r,t)=>{const e=AZ.format(r);return t?e.replace("$",""):e},mh=[{decimals:6,tokenSymbol:"USDC",mintAddress:"EPjFWdd5AufqSSqeM2qN1xzybapC8G4wEGGkZwyTDt1v",tokenName:"USD Coin",pythFeed:"Gnt27xtC473ZT2Mw5u8wZ68Z3gULkSTb5DuxJy7eJotD",icon:"https://raw.githubusercontent.com/trustwallet/assets/f3ffd0b9ae2165336279ce2f8db1981a55ce30f8/blockchains/ethereum/assets/0xA0b86991c6218b36c1d19D4a2e9Eb0cE3606eB48/logo.png"},{decimals:9,tokenSymbol:"SOL",mintAddress:"So11111111111111111111111111111111111111112",pythFeed:"H6ARHf6YXhGYeQfUzQNGk6rDNnLBQKrenN712K4AQJEG",tokenName:"Wrapped SOL",icon:"https://raw.githubusercontent.com/solana-labs/token-list/main/assets/mainnet/So11111111111111111111111111111111111111112/logo.png"},{decimals:6,tokenSymbol:"FIDA",mintAddress:"EchesyfXePKdLtoiZSL8pBe8Myagyy8ZRqsACNCFGnvp",tokenName:"Bonfida Token",pythFeed:"ETp9eKXVv1dWwHSpsXRUuXHmw24PwRkttCGVgpZEY9zF",icon:"https://raw.githubusercontent.com/solana-labs/token-list/main/assets/mainnet/EchesyfXePKdLtoiZSL8pBe8Myagyy8ZRqsACNCFGnvp/logo.svg"},{decimals:6,tokenSymbol:"USDT",mintAddress:"Es9vMFrzaCERmJfrF4H2FYD4KCoNkY11McCe8BenwNYB",tokenName:"USDT",pythFeed:"3vxLXJqLqF3JG5TCbYycbKWRBbCJQLxQmBGCkyqEEefL",icon:"https://raw.githubusercontent.com/solana-labs/token-list/main/assets/mainnet/D3KdBta3p53RV5FoahnJM5tP45h6Fd3AyFYgXTJvGCaK/logo.svg"},{decimals:9,tokenSymbol:"mSOL",mintAddress:"mSoLzYCxHdYgdzU16g5QSh3i5K3z3KZK7ytfqcJm7So",tokenName:"mSOL",pythFeed:"E4v1BBgoso9s64TQvmyownAVJbhbEPGyzA3qn4n46qj9",icon:"https://raw.githubusercontent.com/solana-labs/token-list/main/assets/mainnet/mSoLzYCxHdYgdzU16g5QSh3i5K3z3KZK7ytfqcJm7So/logo.png"},{decimals:5,tokenSymbol:"BONK",mintAddress:"DezXAZ8z7PnrnRJjz3wXBoRgixCa6xjnB7YaB1pPB263",tokenName:"BONK",pythFeed:"8ihFLu5FimgTQ1Unh4dVyEHUGodJ5gJQCrQf4KUVB9bN",icon:"https://solana.fm/api/image-proxy?imageUrl=https://arweave.net/hQiPZOsRZXGXBJd_82PhVdlM_hACsT_q6wqwf5cSY7I"},{decimals:8,tokenSymbol:"BAT",mintAddress:"EPeUFDgHRxs9xxEPVaL6kfGQvCon7jmAWKVUHuux1Tpz",tokenName:"BAT",pythFeed:"AbMTYZ82Xfv9PtTQ5e1fJXemXjzqEEFHP3oDLRTae6yz",icon:"https://raw.githubusercontent.com/solana-labs/token-list/main/assets/mainnet/EPeUFDgHRxs9xxEPVaL6kfGQvCon7jmAWKVUHuux1Tpz/logo.png"}],SZ=r=>{var t;return(t=mh.find(e=>e.tokenSymbol===r))==null?void 0:t.icon},O0="EchesyfXePKdLtoiZSL8pBe8Myagyy8ZRqsACNCFGnvp",Tk=1232,kZ=(r,t,e="48tzUutUCPDohF4YqFpX9dHHS43V1bn9R45LHEFVhbtq")=>{const n=[];let s=[];for(const i of r)IZ([...s,i],t,e)>Tk?(n.push(s),s=[i]):s.push(i);return s.length>0&&n.push(s),n},IZ=(r,t,e="48tzUutUCPDohF4YqFpX9dHHS43V1bn9R45LHEFVhbtq")=>{try{const n=new Zl().add(...r);return n.recentBlockhash=e,n.feePayer=t,n.serialize({requireAllSignatures:!1,verifySignatures:!1}).length}catch{return Tk+1}},BZ=async(r,t,e,n)=>{let s=n;const i=[],c=await r.getBalance(e),l=await r.getAccountInfo(t);if(!l||!l.data){const m=gT(e,t,e,wg);i.push(m)}else{const m=await r.getTokenAccountBalance(t,"processed");if(c+parseInt(m.value.amount)<n)throw new Error("Not enough SOL balances");if(s-=parseInt(m.value.amount),s<=0)return console.log("Enough wrapped SOL"),[]}let p=Hl.transfer({fromPubkey:e,toPubkey:t,lamports:s});return i.push(p),p=bT(t),i.push(p),i},PZ=(r,t)=>[mT(r,t,t)];function RZ(r){return r&&r.__esModule&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r}var CZ="ABAOAAAAAACwiAAAAYkHdvjtnH+IFkUYxx/v3vPe7uw8UkjsD43ChKICDQsT3iIJy4gSiZAjkn5JUFlaiFmjccT9ESkpGBGVIlQgWSkY/QDBoMgrQv0jRJDAfkCXhUmgRX23d4ebnndmd3Z3ZnfVeeDDzM7MPs8zv57Zd2+5hd1Ed4ClYAisBuuUsqLpMHgJjIBNFu1fBW8l1O8AO8Ee8Cn4HIyCg+CI0u4Y+AmMgVPgDOhuEHWBPjAZXAy2gjfA9kb73hlx+i7SK8AHYDf4BOwHB8AoOAyOguPgB/ArOKlcnwHdPe32/Uin9LTvvwTph0gv62nbubKnXT+nZ1z/DcjfFF8vQno7uEaxH923BGVXN9v5Zcgvj/VFPIT8Y/H1k0jXxPn1SEfARjBdab8V+TfB22CXUh5xd3OcZTH3g6di1LZJbLNs55q96M9n4J9Gm6hsfzQvcT8fbfy//TyUf8vG4Lses/5jcd2PSE/IcQan4/o/UXYadE0kaoJBMG1ivNbidNbETr1XoWyuplwyHFN0fFai/8/EY7BIKY/68EpCvwP+mc/m/2vNGnBhp1eZ51bCmgsEAoFAIBAIBAKBQKAO3Irfrg3lfc4qi/cXd+Kee5TfvAd6ieY0ie5D2cNx+eNInwZLmu33gWuRn4/8C3H9CNJNYEt8/TrS35HuSPktvRP1z0LPOvAceB4IsB5saIa6UBfqQl2oc123AjwBVjWrP7MCgcC5y/ue/56yqXv87+qcIU2Z+ny8tuHHpyxsvrDNITDXgqkDRJcPdJY/wMo24/oQmDqZaPHkdplAuhv8ApqDRDeCVj/OAvD9BUSX9qF8Qpt7lTxnZ7+5TmVtrGMM7XchP3sS0SNgGzg4yU5HIBAIBM5NfsO5QDgfjuM54STOw7/Az/F3QtfhfF4Qn9F/gxMouxm/WU7F9afBQuUM7+rtPF+jb0b6ese/I7sI+emadhEzUT5bqbsW+esNbSMWoG6hWo/8gOLPUqUu+v5rKEHX8oS6iEXQexd7XlmBe1aCNWAp6kSsYyjHc82Liv2Xkd/C/HkN1w/Geren+KryToa2PtlQg2c9zijGZnGJ9kaibzZh84jmmfx4TeYpK9H3usMKqxnDCWxsdLY/3ygy9h+l/LYbYHtuXw2/rfsSPo0a/Jrn6PvPrzL2+7CmfV88lkc9j+F7cRzYU4N48DF8uA3n/T7Fly9q4Jdvoth0uLf9LORC11hvO/0D6RnQfRa99+2Hr1NS/M26VvfEe2jaWTAOvG8zzgKf8zCrYL++qUEfbumeQAjTVnQp+QmW99gQpDoJ4+9uHZe5/l3OW/M8x6WUZaduUvUc5p13NTXlz3VpGbCVrGNe5zOnjvGlrDWY1IdWShuuQ9fWh6h+VSV1Wit1lvNhHFz1zeUYtCg5ntvOSStDW5cITRnF5RJ+rcasJHExztwu910tl6LzLYsvuvvzilB0mvSaxt/V+SY0EMurfkjbrTjfInf+FJGkNdzSlOukZaDo3snqs7RZpqj2Gx7sS52D5O79k+93W2W/T3NhQxe3VeF16pwn4eI8qev7Sl1s0PnPy5PalSV57Pp6XuDxrypR9wBR8nOCzm/eXuYp5d4s/lV1XvL+lG2b+2AaQ1nPr23Hrc7z0WT5qvZL0v7QtdX5zdu6HMei+gV1ri8et4XSVpCfdeB7fRWNRy79UP0RCT4Jyre/88bbKsQUawUrV69dxjd+nlXxbCKos79pz1BpOqucz0gEdZ5hMk+aa7Wdy/7xZ5Yqhc+nyHivrkyQ/reM7tziuFojfM7zxtq0505XYutvHrtVnzNl2ONrTGdPkLv9ZjNHOoShnCh5nLLYKOKfK4qK7bjx/gqyj9lFJc2Wz/HIqyMSYaGnqM8+xp6vB1/6feg22UmLFUno1rurvelz7yT1UVfORW3L7+d6fMcAXdzxIVK3TNNioZpSyj2242izpky6y5S0fpr6q5ZXJT7O1qrmQRVB+rkQ1Dk3vvYttyGoc+51/mUVkYLtXvTx7MCvbUnzW2czyR8pql4XUlbcN9l1pSfPfOl0JV2bylyKoM4959sHQfr9Vpbk2V8u4ry0ndcvH5I1xggP9qVem/PHZL+qeGLrc945tLnHtG/LEtdjr4urxMpM92X1RZDd+pLtsorUydeCaiuvbtdSpQ9l2M4SU01nvI1e35L3uS5Jlw8pe1ykCKo2JtrGK9O9ujOlimcD6Y9LEWQ+7019d2VDLVPrTCLrsvjsQ1TfJVJM12pZmm5b4Xptx6HM9SpFkP2c6drJa5/iSr+pD7r+CNLvATVfpST1RYog/fwKTdsyxLVNQfnWrkyziGltJK2hLLptzjHXIsh+/HytmyQfpPA5VNtzXWWLzbiVsc9sbWSJ7UWE69KNh6v9kya2c6TzMa0fwpD37TtvQ6wuiw9CA9cny33Mj2pLte9Kp6996HO/83HPQ5r+ov5mvU9Qte/fIrGJP7axPO/9eXX6kjLPKZNd17iyZdOHLP31JSbfXY6hC59c+ZZ136TZ9SFlj6cvmVkSrkSQn3NG5KBqEVSeH6Ji/vvnhFWjSlfFNDwzyMgqLvvKxXffbeASBWo+Zj4p2x6TfwE=",TZ="AAACAAAAAACAOAAAAbYBSf7t2S1IBEEYBuDVDZ7FYrQMNsFiu3hgEYOI0SCXRIUrB8JhEZtgs5gEg1GMFk02m82oGI02m+9xezCOczv/uwv3fvAwc/PzfXOzcdqzWdaBDdiGPdiHdjE+DS3RNDuCfsn8idQ/g3OH3BdwKf0e96/gumTfYcncLdzBPTzAo+RZ+f0Cr/AG7/AJX4738x1wtz9FO5PX/50n6UXMNdfg/0lERERERERERERERETpdedHBvDRql4nq0cXtW9af98qdRby0Vvp8K4W0V+C5Xw0t4J2bfjeBp3cnEu1brnnCTYNa7eKdz91XP7WO9Lb4GqRb7cY6xbtAdqeVOsY/QGcevw/tb6OT85YhvfKYEx9CMuxKsKnrs+eJtVInVvHJ0eVYVvTZk2siFVLOCjb61PTZX3MdVWEyP7fjzpmMxdzTyq2Ebue6x61nXRGnzndWpf1an7dXmGYE4Y1ptqqKsK1nu26Ju0ty+maV2Rpvk+qnDZjKUIobUiesdAQE/jmCTmHmsskpFZsVYbtmXRcaoSGUPomunW2derQhDPFjtT1Q/eb8vnm990fq35oHVt11bU9m89c7DNI8Qs=",vb=0,Lk=-3;function vh(){this.table=new Uint16Array(16),this.trans=new Uint16Array(288)}function LZ(r,t){this.source=r,this.sourceIndex=0,this.tag=0,this.bitcount=0,this.dest=t,this.destLen=0,this.ltree=new vh,this.dtree=new vh}var Ok=new vh,Uk=new vh,Vv=new Uint8Array(30),Zv=new Uint16Array(30),Nk=new Uint8Array(30),Dk=new Uint16Array(30),OZ=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),v7=new vh,So=new Uint8Array(320);function g7(r,t,e,n){var s,i;for(s=0;s<e;++s)r[s]=0;for(s=0;s<30-e;++s)r[s+e]=s/e|0;for(i=n,s=0;s<30;++s)t[s]=i,i+=1<<r[s]}var y7=new Uint16Array(16);function Nm(r,t,e,n){var s,i;for(s=0;s<16;++s)r.table[s]=0;for(s=0;s<n;++s)r.table[t[e+s]]++;for(r.table[0]=0,i=0,s=0;s<16;++s)y7[s]=i,i+=r.table[s];for(s=0;s<n;++s)t[e+s]&&(r.trans[y7[t[e+s]]++]=s)}function UZ(r){r.bitcount--||(r.tag=r.source[r.sourceIndex++],r.bitcount=7);var t=1&r.tag;return r.tag>>>=1,t}function Co(r,t,e){if(!t)return e;for(;r.bitcount<24;)r.tag|=r.source[r.sourceIndex++]<<r.bitcount,r.bitcount+=8;var n=r.tag&65535>>>16-t;return r.tag>>>=t,r.bitcount-=t,n+e}function Wv(r,t){for(;r.bitcount<24;)r.tag|=r.source[r.sourceIndex++]<<r.bitcount,r.bitcount+=8;var e=0,n=0,s=0,i=r.tag;do n=2*n+(1&i),i>>>=1,++s,e+=t.table[s],n-=t.table[s];while(n>=0);return r.tag=i,r.bitcount-=s,t.trans[e+n]}function NZ(r,t,e){var n,s,i,c,l,p;for(n=Co(r,5,257),s=Co(r,5,1),i=Co(r,4,4),c=0;c<19;++c)So[c]=0;for(c=0;c<i;++c){var m=Co(r,3,0);So[OZ[c]]=m}for(Nm(v7,So,0,19),l=0;l<n+s;){var v=Wv(r,v7);switch(v){case 16:var _=So[l-1];for(p=Co(r,2,3);p;--p)So[l++]=_;break;case 17:for(p=Co(r,3,3);p;--p)So[l++]=0;break;case 18:for(p=Co(r,7,11);p;--p)So[l++]=0;break;default:So[l++]=v}}Nm(t,So,0,n),Nm(e,So,n,s)}function b7(r,t,e){for(;;){var n,s,i,c,l=Wv(r,t);if(l===256)return vb;if(l<256)r.dest[r.destLen++]=l;else for(n=Co(r,Vv[l-=257],Zv[l]),s=Wv(r,e),c=i=r.destLen-Co(r,Nk[s],Dk[s]);c<i+n;++c)r.dest[r.destLen++]=r.dest[c]}}function DZ(r){for(var t,e;r.bitcount>8;)r.sourceIndex--,r.bitcount-=8;if((t=256*(t=r.source[r.sourceIndex+1])+r.source[r.sourceIndex])!==(65535&~(256*r.source[r.sourceIndex+3]+r.source[r.sourceIndex+2])))return Lk;for(r.sourceIndex+=4,e=t;e;--e)r.dest[r.destLen++]=r.source[r.sourceIndex++];return r.bitcount=0,vb}(function(r,t){var e;for(e=0;e<7;++e)r.table[e]=0;for(r.table[7]=24,r.table[8]=152,r.table[9]=112,e=0;e<24;++e)r.trans[e]=256+e;for(e=0;e<144;++e)r.trans[24+e]=e;for(e=0;e<8;++e)r.trans[168+e]=280+e;for(e=0;e<112;++e)r.trans[176+e]=144+e;for(e=0;e<5;++e)t.table[e]=0;for(t.table[5]=32,e=0;e<32;++e)t.trans[e]=e})(Ok,Uk),g7(Vv,Zv,4,3),g7(Nk,Dk,2,1),Vv[28]=0,Zv[28]=258;var zZ=function(r,t){var e,n,s=new LZ(r,t);do{switch(e=UZ(s),Co(s,2,0)){case 0:n=DZ(s);break;case 1:n=b7(s,Ok,Uk);break;case 2:NZ(s,s.ltree,s.dtree),n=b7(s,s.ltree,s.dtree);break;default:n=Lk}if(n!==vb)throw new Error("Data error")}while(!e);return s.destLen<s.dest.length?typeof s.dest.slice=="function"?s.dest.slice(0,s.destLen):s.dest.subarray(0,s.destLen):s.dest};const qZ=new Uint8Array(new Uint32Array([305419896]).buffer)[0]===18,w7=(r,t,e)=>{let n=r[t];r[t]=r[e],r[e]=n};var FZ={swap32LE:r=>{qZ&&(t=>{const e=t.length;for(let n=0;n<e;n+=4)w7(t,n,n+3),w7(t,n+1,n+2)})(r)}};const x7=zZ,{swap32LE:jZ}=FZ;var _7,M7,E7,A7,ba,Dm,zm,S7,xu,bc,k7,bn,qm,Fm,jm,Km,$m,U0,N0,I7,B7,P7,Hm,_u,Vm,R7,C7,T7,Zm,Wm,Gm,Ym,L7,Xm,Jm,Qm,t2,e2,O7,wc,r2,KZ=class{constructor(r){const t=typeof r.readUInt32BE=="function"&&typeof r.slice=="function";if(t||r instanceof Uint8Array){let e;if(t)this.highStart=r.readUInt32LE(0),this.errorValue=r.readUInt32LE(4),e=r.readUInt32LE(8),r=r.slice(12);else{const n=new DataView(r.buffer);this.highStart=n.getUint32(0,!0),this.errorValue=n.getUint32(4,!0),e=n.getUint32(8,!0),r=r.subarray(12)}r=x7(r,new Uint8Array(e)),r=x7(r,new Uint8Array(e)),jZ(r),this.data=new Uint32Array(r.buffer)}else({data:this.data,highStart:this.highStart,errorValue:this.errorValue}=r)}get(r){let t;return r<0||r>1114111?this.errorValue:r<55296||r>56319&&r<=65535?(t=(this.data[r>>5]<<2)+(31&r),this.data[t]):r<=65535?(t=(this.data[2048+(r-55296>>5)]<<2)+(31&r),this.data[t]):r<this.highStart?(t=this.data[2080+(r>>11)],t=this.data[t+(r>>5&63)],t=(t<<2)+(31&r),this.data[t]):this.data[this.data.length-4]}},zk={exports:{}};zk.exports=(M7=_7="3.7.5",E7=typeof atob=="function",A7=typeof btoa=="function",ba=typeof Zt.Buffer=="function",Dm=typeof TextDecoder=="function"?new TextDecoder:void 0,zm=typeof TextEncoder=="function"?new TextEncoder:void 0,S7="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",xu=Array.prototype.slice.call(S7),r2={},xu.forEach(function(r,t){return r2[r]=t}),bc=r2,k7=/^(?:[A-Za-z\d+\/]{4})*?(?:[A-Za-z\d+\/]{2}(?:==)?|[A-Za-z\d+\/]{3}=?)?$/,bn=String.fromCharCode.bind(String),qm=typeof Uint8Array.from=="function"?Uint8Array.from.bind(Uint8Array):function(r){return new Uint8Array(Array.prototype.slice.call(r,0))},Fm=function(r){return r.replace(/=/g,"").replace(/[+\/]/g,function(t){return t=="+"?"-":"_"})},jm=function(r){return r.replace(/[^A-Za-z0-9\+\/]/g,"")},Km=function(r){for(var t,e,n,s,i="",c=r.length%3,l=0;l<r.length;){if((e=r.charCodeAt(l++))>255||(n=r.charCodeAt(l++))>255||(s=r.charCodeAt(l++))>255)throw new TypeError("invalid character found");i+=xu[(t=e<<16|n<<8|s)>>18&63]+xu[t>>12&63]+xu[t>>6&63]+xu[63&t]}return c?i.slice(0,c-3)+"===".substring(c):i},U0=ba?function(r){return Zt.Buffer.from(r).toString("base64")}:function(r){for(var t=4096,e=[],n=0,s=r.length;n<s;n+=t)e.push(bn.apply(null,r.subarray(n,n+t)));return $m(e.join(""))},I7=function(r){if(r.length<2)return(t=r.charCodeAt(0))<128?r:t<2048?bn(192|t>>>6)+bn(128|63&t):bn(224|t>>>12&15)+bn(128|t>>>6&63)+bn(128|63&t);var t=65536+1024*(r.charCodeAt(0)-55296)+(r.charCodeAt(1)-56320);return bn(240|t>>>18&7)+bn(128|t>>>12&63)+bn(128|t>>>6&63)+bn(128|63&t)},B7=/[\uD800-\uDBFF][\uDC00-\uDFFFF]|[^\x00-\x7F]/g,Hm=ba?function(r){return Zt.Buffer.from(r,"utf8").toString("base64")}:zm?function(r){return U0(zm.encode(r))}:function(r){return $m(P7(r))},Vm=function(r){return _u(r,!0)},R7=/[\xC0-\xDF][\x80-\xBF]|[\xE0-\xEF][\x80-\xBF]{2}|[\xF0-\xF7][\x80-\xBF]{3}/g,C7=function(r){switch(r.length){case 4:var t=((7&r.charCodeAt(0))<<18|(63&r.charCodeAt(1))<<12|(63&r.charCodeAt(2))<<6|63&r.charCodeAt(3))-65536;return bn(55296+(t>>>10))+bn(56320+(1023&t));case 3:return bn((15&r.charCodeAt(0))<<12|(63&r.charCodeAt(1))<<6|63&r.charCodeAt(2));default:return bn((31&r.charCodeAt(0))<<6|63&r.charCodeAt(1))}},Zm=function(r){if(r=r.replace(/\s+/g,""),!k7.test(r))throw new TypeError("malformed base64.");r+="==".slice(2-(3&r.length));for(var t,e,n,s="",i=0;i<r.length;)t=bc[r.charAt(i++)]<<18|bc[r.charAt(i++)]<<12|(e=bc[r.charAt(i++)])<<6|(n=bc[r.charAt(i++)]),s+=e===64?bn(t>>16&255):n===64?bn(t>>16&255,t>>8&255):bn(t>>16&255,t>>8&255,255&t);return s},Gm=ba?function(r){return qm(Zt.Buffer.from(r,"base64"))}:function(r){return qm(Wm(r).split("").map(function(t){return t.charCodeAt(0)}))},Ym=function(r){return Gm(Xm(r))},L7=ba?function(r){return Zt.Buffer.from(r,"base64").toString("utf8")}:Dm?function(r){return Dm.decode(Gm(r))}:function(r){return T7(Wm(r))},Xm=function(r){return jm(r.replace(/[-_]/g,function(t){return t=="-"?"+":"/"}))},Qm=function(r){return{value:r,enumerable:!1,writable:!0,configurable:!0}},t2=function(){var r=function(t,e){return Object.defineProperty(String.prototype,t,Qm(e))};r("fromBase64",function(){return Jm(this)}),r("toBase64",function(t){return _u(this,t)}),r("toBase64URI",function(){return _u(this,!0)}),r("toBase64URL",function(){return _u(this,!0)}),r("toUint8Array",function(){return Ym(this)})},e2=function(){var r=function(t,e){return Object.defineProperty(Uint8Array.prototype,t,Qm(e))};r("toBase64",function(t){return N0(this,t)}),r("toBase64URI",function(){return N0(this,!0)}),r("toBase64URL",function(){return N0(this,!0)})},O7=function(){t2(),e2()},wc={version:_7,VERSION:M7,atob:Wm=E7?function(r){return atob(jm(r))}:ba?function(r){return Zt.Buffer.from(r,"base64").toString("binary")}:Zm,atobPolyfill:Zm,btoa:$m=A7?function(r){return btoa(r)}:ba?function(r){return Zt.Buffer.from(r,"binary").toString("base64")}:Km,btoaPolyfill:Km,fromBase64:Jm=function(r){return L7(Xm(r))},toBase64:_u=function(r,t){return t===void 0&&(t=!1),t?Fm(Hm(r)):Hm(r)},encode:_u,encodeURI:Vm,encodeURL:Vm,utob:P7=function(r){return r.replace(B7,I7)},btou:T7=function(r){return r.replace(R7,C7)},decode:Jm,isValid:function(r){if(typeof r!="string")return!1;var t=r.replace(/\s+/g,"").replace(/={0,2}$/,"");return!/[^\s0-9a-zA-Z\+/]/.test(t)||!/[^\s0-9a-zA-Z\-_]/.test(t)},fromUint8Array:N0=function(r,t){return t===void 0&&(t=!1),t?Fm(U0(r)):U0(r)},toUint8Array:Ym,extendString:t2,extendUint8Array:e2,extendBuiltins:O7,Base64:{}},Object.keys(wc).forEach(function(r){return wc.Base64[r]=wc[r]}),wc);const Sr={Other:0,CR:1,LF:2,Control:4,Extend:8,ZWJ:16,Regional_Indicator:32,Prepend:64,SpacingMark:128,L:256,V:512,T:1024,LV:2048,LVT:4096,Extended_Pictographic:8192},$Z=CZ,HZ=TZ,qk=KZ,Fk=zk.exports.Base64,VZ=new qk(Fk.toUint8Array($Z)),ZZ=new qk(Fk.toUint8Array(HZ));function fn(r,t){return(r&t)!=0}const D0=0,n2=1,i2=2;function WZ(r,t){const e=r.length;let n=0,s=D0;for(let i=t;i+1<e;i++){const c=r[i+0],l=r[i+1];switch(fn(c,Sr.Regional_Indicator)||(n=0),s){case i2:case D0:s=fn(c,Sr.Extended_Pictographic)?n2:D0;break;case n2:s=fn(c,Sr.Extend)?n2:fn(c,Sr.ZWJ)&&fn(l,Sr.Extended_Pictographic)?i2:D0}if(!fn(c,Sr.CR)||!fn(l,Sr.LF)){if(fn(c,Sr.Control|Sr.CR|Sr.LF)||fn(l,Sr.Control|Sr.CR|Sr.LF))return i+1-t;if(!(fn(c,Sr.L)&&fn(l,Sr.L|Sr.V|Sr.LV|Sr.LVT)||fn(c,Sr.LV|Sr.V)&&fn(l,Sr.V|Sr.T)||fn(c,Sr.LVT|Sr.T)&&fn(l,Sr.T)||fn(l,Sr.Extend|Sr.ZWJ)||fn(l,Sr.SpacingMark)||fn(c,Sr.Prepend)||s===i2)){if(!fn(c,Sr.Regional_Indicator)||!fn(l,Sr.Regional_Indicator)||n%2!=0)return i+1-t;n++}}}return e-t}var gb=RZ(function(r){const t=[],e=[0],n=[];for(let s=0;s<r.length;){const i=r.codePointAt(s);n.push(VZ.get(i)|ZZ.get(i)),s+=i>65535?2:1,e.push(s)}for(let s=0;s<n.length;){const i=WZ(n,s),c=e[s],l=e[s+i];t.push(r.slice(c,l)),s+=i}return t});const GZ=new Set(["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","#","*","0","1","2","3","4","5","6","7","8","9","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""]),YZ=new Set(["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""]),XZ=new Set(["	"," ","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","\uFEFF","","","","","","","","","",""]),JZ=r=>XZ.has(r),jk=/a-z/,Kk=//,$k=/\u4e00-\u9fa5/,Hk=/--/,fa=/0-9/,ca=/\_\-/,Vk=/\u1100-\u115E\u1161-\u11FF\u302E\u302F\u3131-\u3163\u3165-\u318E\u3200-\u321E\u3260-\u327E\uA960-\uA97C\uAC00-\uD158\uD160-\uD172\uD17B-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uFFA1-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC/,Zk=/\u0600-\u0604\u0606-\u060B\u060D-\u061A\u061D-\u061E\u0620-\u063F\u0641-\u064A\u0656-\u066F/,QZ=new RegExp("^["+(jk.source+Kk.source+$k.source+Hk.source+Vk.source+Zk.source+fa.source+ca.source)+"]+$"),Rs=(r,t)=>r?!!t.test(r):!0,yb=r=>Rs(r,QZ),tW=r=>{const t=new RegExp("^["+jk.source+fa.source+ca.source+"]+$");return Rs(r,t)},eW=r=>{const t=new RegExp("^["+$k.source+fa.source+ca.source+"]+$");return Rs(r,t)},rW=r=>{const t=new RegExp("^["+Hk.source+fa.source+ca.source+"]+$");return Rs(r,t)},nW=r=>{const t=new RegExp("^["+Kk.source+fa.source+ca.source+"]+$");return Rs(r,t)},iW=r=>{const t=new RegExp("^["+fa.source+"]+$");return Rs(r,t)},oW=r=>{const t=new RegExp("^["+ca.source+"]+$");return Rs(r,t)},sW=r=>{const t=new RegExp("^["+Vk.source+fa.source+ca.source+"]+$");return Rs(r,t)},aW=r=>{const t=new RegExp("^["+Zk.source+fa.source+ca.source+"]+$");return Rs(r,t)},uW=["","",""],U7=r=>GZ.has(r),Wk=r=>{if(!r)return!1;if(U7(r))return!0;const t=gb(r);for(let e of t){if(uW.includes(e)||e.length===0||JZ(e)||YZ.has(e))return!1;if(!yb(e)&&!U7(e))return!1}return!0};var Bo;(function(r){r[r.English=0]="English",r[r.Cyrillic=1]="Cyrillic",r[r.Chinese=2]="Chinese",r[r.Japanese=3]="Japanese",r[r.Emoji=4]="Emoji",r[r.Unauthorized=5]="Unauthorized",r[r.Korean=6]="Korean",r[r.Arabic=7]="Arabic"})(Bo||(Bo={}));const Gk=r=>gb(r).length>1?Bo.Unauthorized:tW(r)?Bo.English:eW(r)?Bo.Chinese:nW(r)?Bo.Cyrillic:rW(r)?Bo.Japanese:sW(r)?Bo.Korean:aW(r)?Bo.Arabic:Bo.Unauthorized,fW=(r,t)=>{const e=gb(r);for(let n of e){const s=yb(n),i=Wk(n);if((s||!i)&&!oW(n)&&!iW(n)&&t!==Gk(n))return!1}return!0},cW=["","."],hW=({value:r,prev:t,onError:e})=>{if(cW.includes(r))return"";r.endsWith(".sol")&&(r=r.split(".sol")[0]);const n=r.toLowerCase().trim(),s=n.split(".");if(s.length>2)return e==null||e(),t;for(const c of s){const l=yb(c),p=Wk(c);if(!l&&!p||!fW(c,Gk(r[0]||"")))return e==null||e(),t}return n},Yk=(r,t,e=5)=>r?r.length<=t?r:r.slice(0,t-e)+"..."+r.slice(-e):"",Xk=({domain:r,available:t=!1,price:e,children:n})=>St.jsxs("div",{className:"flex flex-row items-center gap-4 px-4 py-3 shadow-domain dark:shadow-none rounded-xl bg-background-secondary min-h-[72px]",children:[St.jsxs("div",{className:"flex flex-col mr-auto",children:[St.jsx("span",{className:"text-base text-content-secondary font-primary",children:Yk(`${r}.sol`,25,3)}),t&&St.jsxs("span",{className:"flex items-center gap-1 text-sm font-medium",children:[St.jsx("img",{className:"w-4 h-4",src:SZ("USDC"),alt:"$"}),e]})]}),n]}),N7=({domain:r,available:t=!1,price:e})=>{const{cart:n,addToCart:s,removeFromCart:i}=xe.useContext(Ah);e=e??Pk(r);const c=!!n[r],[l,p]=xe.useState(c),m=v=>{p(!1),i(v)};return xe.useEffect(()=>{let v;return c&&!l&&(v=setTimeout(()=>{p(!0)},1500)),()=>clearTimeout(v)},[c,l]),St.jsxs(Xk,{domain:r,available:t,price:e,children:[!t&&St.jsx("div",{className:"px-3 rounded-lg bg-accent bg-opacity-10",children:St.jsx("span",{className:"text-xs font-semibold leading-6 tracking-widest text-accent",children:"Registered"})}),t&&St.jsx("div",{className:sn("flex items-center flex-row justify-between min-w-[93px]",t?"gap-2":"gap-1"),children:St.jsx("button",{type:"button",className:sn("flex items-center gap-2 px-3 py-1 text-sm text-base-button-content rounded-lg font-primary bg-theme-primary",c&&l&&"bg-transparent text-theme-primary dark:text-theme-secondary"),tabIndex:0,onClick:()=>c?m(r):s({domain:r,storage:1e3,price:Number(e)}),children:c?St.jsx(St.Fragment,{children:l?St.jsxs(St.Fragment,{children:["Remove",St.jsx(VM,{width:24,height:24})]}):St.jsxs(St.Fragment,{children:["Added",St.jsx(lz,{width:24,height:24})]})}):St.jsxs(St.Fragment,{children:["Add to cart",St.jsx(hz,{width:20,height:20})]})})})]})},D7=()=>St.jsxs("div",{className:"flex flex-row items-center justify-between gap-4 px-4 py-3 shadow-domain dark:shadow-none rounded-xl bg-background-secondary h-[72px] animate-pulse",children:[St.jsx("div",{className:"w-[80px] h-4 rounded-full bg-background-skeleton"}),St.jsx("div",{className:"h-4 rounded-full w-[120px] bg-background-skeleton"})]}),Gv=({className:r,children:t,size:e="full",disabled:n,...s})=>St.jsx("button",{type:"button",disabled:n,...s,tabIndex:0,className:sn("flex items-center gap-2 px-3 justify-center text-white font-primary bg-theme-primary",e==="full"&&"py-2.5 rounded-xl tracking-wide",e==="small"&&"text-sm py-1 rounded-lg",n&&"bg-theme-secondary",r),children:t}),z7=()=>St.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"currentColor",viewBox:"0 0 69 20",className:"h-full",children:[St.jsx("path",{d:"m8.843.27-.124.001.005 4.563h.124L8.843.27ZM16.8 14.917l-3.71-2.271.062-.125 3.71 2.27-.063.126ZM.788 14.917l-.061-.125 3.709-2.271.062.125-3.71 2.27Z"}),St.jsx("path",{d:"M8.784 10.104c-.021 0-.042 0-.042-.02L4.415 7.478a.159.159 0 0 1-.041-.083c0-.042.02-.063.041-.084l4.327-2.604c.021-.02.062-.02.103 0l4.328 2.625c.02.021.04.063.04.084 0 .041-.02.062-.04.083l-4.328 2.604h-.061Zm-4.142-2.73 4.121 2.5 4.121-2.478-4.121-2.5-4.121 2.479Z"}),St.jsx("path",{d:"M8.784 15.292c-.021 0-.042 0-.042-.021l-4.327-2.584a.159.159 0 0 1-.041-.083V7.396c0-.042.02-.063.041-.083.02-.021.062-.021.103 0l4.327 2.604c.021.02.042.062.042.083v5.188c0 .041-.021.062-.042.083-.04.02-.061.02-.061.02Zm-4.225-2.75 4.122 2.479v-4.959l-4.122-2.5v4.98Z"}),St.jsx("path",{d:"M8.784 15.292c-.021 0-.042 0-.042-.021a.159.159 0 0 1-.04-.084V10c0-.042.02-.063.04-.083l4.328-2.604c.02-.021.062-.021.103 0 .02.02.04.062.04.083v5.229c0 .042-.02.063-.04.083l-4.328 2.584h-.061Zm.082-5.23v4.959l4.121-2.459v-5l-4.12 2.5Z"}),St.jsx("path",{d:"M8.784 20 .5 15V5l8.284-5 8.283 5v10l-8.283 5Zm-7.83-5.27 7.809 4.728 7.81-4.729V5.271L8.783.563.954 5.27v9.458Z"}),St.jsx("path",{d:"M8.763 10.292.623 5.354C.522 5.292.48 5.146.542 5.021c.062-.125.206-.146.31-.084L8.762 9.73l7.954-4.792c.103-.062.247-.02.31.084.06.125.02.27-.083.333l-8.181 4.938Z"}),St.jsx("path",{d:"M8.784 19.958c-.124 0-.227-.104-.227-.25V10c0-.125.103-.25.227-.25.123 0 .226.104.226.25v9.708c0 .146-.103.25-.226.25ZM30.4 12.125c0 1.5-1.154 2.438-3.01 2.438h-3.585V5.979h3.38c1.834 0 2.988.854 2.988 2.25a1.97 1.97 0 0 1-1.32 1.875c.949.271 1.546 1.063 1.546 2.021Zm-3.215-2.562c.886 0 1.422-.438 1.422-1.167 0-.688-.536-1.125-1.422-1.125H25.35v2.292h1.834Zm.165 3.708c.886 0 1.442-.458 1.442-1.208 0-.73-.577-1.209-1.525-1.209h-1.916v2.417h1.999ZM31.327 11.167c0-2.209 1.277-3.542 3.38-3.542 2.1 0 3.378 1.333 3.378 3.542 0 2.208-1.277 3.541-3.379 3.541-2.102 0-3.38-1.333-3.38-3.541Zm3.38 2.333c1.194 0 1.915-.896 1.915-2.333 0-1.459-.72-2.334-1.916-2.334-1.195 0-1.937.896-1.937 2.334 0 1.458.742 2.333 1.937 2.333ZM42.825 8.875c-.804 0-1.463.5-1.937 1.604v4.084h-1.463V7.77h1.401l.041 1c.557-.77 1.36-1.167 2.205-1.167 1.525 0 2.473 1.042 2.473 2.625v4.313h-1.443v-4.209c.021-.895-.494-1.458-1.277-1.458ZM49.09 14.563h-1.443V8.957H46.43V7.771h1.216v-.73c0-1.374.783-2.229 2.06-2.229h1.628V6h-1.133c-.804 0-1.113.25-1.113 1v.75h4.08v6.792h-1.442V8.958h-2.638v5.604ZM59.763 8.604V5.5h1.443v9.063h-1.381l-.041-.855c-.454.625-1.237 1-2.123 1-1.772 0-3.008-1.5-3.008-3.541 0-2.042 1.236-3.542 3.008-3.542.886 0 1.628.375 2.102.98ZM57.991 13.5c.824 0 1.463-.52 1.772-1.333v-2c-.288-.813-.948-1.334-1.772-1.334-1.133 0-1.916.98-1.916 2.334.02 1.354.783 2.333 1.916 2.333ZM67.078 13.646c-.453.708-1.236 1.062-2.184 1.062-1.298 0-2.164-.791-2.164-2 0-1.395 1.092-2.208 2.926-2.208h1.402v-.417c0-.854-.577-1.395-1.525-1.395-.907 0-1.505.479-1.566 1.25h-1.422c.103-1.438 1.277-2.334 3.05-2.334 1.792 0 2.905.938 2.905 2.542v4.396h-1.38l-.042-.896Zm-1.854-.104c.803 0 1.421-.438 1.834-1.188v-.791l-1.443.02c-.906 0-1.442.355-1.442 1.063 0 .52.35.896 1.05.896Z"})]}),lW=({domain:r,onEdit:t})=>{const{cart:e,removeFromCart:n}=xe.useContext(Ah),s=e[r];return St.jsx(Xk,{domain:s.domain,available:!0,price:s.price,children:St.jsxs("div",{className:"flex flex-col items-end gap-2 text-sm",children:[St.jsxs("div",{className:"flex flex-row gap-2",children:[St.jsxs("span",{children:["Storage: ",s.storage/1e3,"kB"]}),St.jsxs("button",{type:"button",className:"flex items-center text-theme-primary dark:text-theme-secondary gap-0.5",tabIndex:0,onClick:t,children:["Edit",St.jsx(cz,{width:16,height:16})]})]}),St.jsxs("button",{type:"button",className:"flex items-center gap-2 text-theme-primary dark:text-theme-secondary",tabIndex:0,onClick:()=>n(r),children:["Remove",St.jsx(VM,{width:20,height:20})]})]})})},q7=({children:r,isVisible:t,toggleVisibility:e})=>{const n=xe.useRef(null),s=c=>{c.preventDefault(),c.target===n.current&&e(!t)},i=xe.useCallback(c=>{c.code==="Escape"&&e(!1)},[e]);return xe.useEffect(()=>{t&&document.addEventListener("keydown",i),t||document.removeEventListener("keydown",i)},[t,i]),t?St.jsx("div",{className:sn("animate-modal-fade-in absolute top-0 bottom-0 left-0 right-0","bg-modal-overlay-bg bg-opacity-60 z-[1]","flex items-center justify-center"),ref:n,onClick:s,children:r}):null},dW=new Ne("ETp9eKXVv1dWwHSpsXRUuXHmw24PwRkttCGVgpZEY9zF"),pW=new Ne("H6ARHf6YXhGYeQfUzQNGk6rDNnLBQKrenN712K4AQJEG"),mW=new Ne("Gnt27xtC473ZT2Mw5u8wZ68Z3gULkSTb5DuxJy7eJotD"),vW=new Ne("3vxLXJqLqF3JG5TCbYycbKWRBbCJQLxQmBGCkyqEEefL"),gW=new Ne("E4v1BBgoso9s64TQvmyownAVJbhbEPGyzA3qn4n46qj9"),yW=new Ne("8ihFLu5FimgTQ1Unh4dVyEHUGodJ5gJQCrQf4KUVB9bN"),bW=new Ne("AbMTYZ82Xfv9PtTQ5e1fJXemXjzqEEFHP3oDLRTae6yz"),F7=new Map([["EchesyfXePKdLtoiZSL8pBe8Myagyy8ZRqsACNCFGnvp",dW],["So11111111111111111111111111111111111111112",pW],["EPjFWdd5AufqSSqeM2qN1xzybapC8G4wEGGkZwyTDt1v",mW],["Es9vMFrzaCERmJfrF4H2FYD4KCoNkY11McCe8BenwNYB",vW],["mSoLzYCxHdYgdzU16g5QSh3i5K3z3KZK7ytfqcJm7So",gW],["DezXAZ8z7PnrnRJjz3wXBoRgixCa6xjnB7YaB1pPB263",yW],["EPeUFDgHRxs9xxEPVaL6kfGQvCon7jmAWKVUHuux1Tpz",bW]]),wW=async(r,t)=>{var s;const e=(s=await r.getAccountInfo(t))==null?void 0:s.data;if(!e)throw new Error("Unable to retrieve oracle data");const n=ND.parsePriceData(e);return n.price||n.previousPrice},xW=()=>{const{connection:r}=vg();return yg(async()=>{var n;if(!r)return;const e=new Map;for(const s of F7.keys())e.set(s,{price:await wW(r,F7.get(s)),decimals:((n=mh.find(i=>i.mintAddress===s))==null?void 0:n.decimals)||4});return e},[!!r])},_W=async(r,t)=>{var e;try{const n=await r.getTokenAccountBalance(t);return((e=n==null?void 0:n.value)==null?void 0:e.uiAmount)||0}catch{return 0}},MW=()=>{const{publicKey:r,connection:t}=ad(),[e,n]=xe.useState({}),s=xe.useCallback(async()=>{if(r){const i={};for(const c of mh){const l=new Ne(c.mintAddress),p=n9(l,r),m=await _W(t,p);if(l.equals(wg)){const v=await t.getBalance(r)/dI;i[c.tokenSymbol]=v+m}else i[c.tokenSymbol]=m}n(i)}},[r,t]);return xe.useEffect(()=>{s()},[r,t,s]),{balances:e}},EW=()=>St.jsxs("div",{className:"flex flex-col items-center justify-center gap-10 grow",children:[St.jsx("div",{className:"w-[76px] h-[76px] rounded-full border-4 border-theme-secondary border-t-theme-primary animate-spin"}),St.jsx("span",{className:"max-w-[225px] font-primary text-center font-medium tracking-wider",children:"Your transaction is being processed..."})]}),AW=()=>St.jsxs("div",{className:"flex flex-col items-center justify-center gap-6 px-3 grow-[0.5] text-center",children:[St.jsx(pz,{width:90,height:90,className:"text-theme-primary text-opacity-60"}),St.jsx("p",{className:"text-lg font-bold font-primary",children:"Congrats on registering your domains!"}),St.jsxs("p",{className:"text-sm font-primary",children:["Head over to",St.jsx("a",{href:"https://www.sns.id/",rel:"noopener",target:"_blank",className:"mx-1 text-theme-primary",children:"sns.id"}),"to learn how to take full advantage of your domains"]})]}),SW=()=>St.jsxs("div",{className:"flex flex-col items-center justify-center gap-6 px-3 grow-[0.5] text-center",children:[St.jsx(WM,{width:90,height:90,className:"rotate-180 text-theme-primary text-opacity-60"}),St.jsx("p",{className:"text-lg font-bold font-primary",children:"Something went wrong"}),St.jsx("p",{className:"text-sm font-primary",children:"Please retry the process"})]}),kW=[{label:"1kb",value:1e3},{label:"2kb",value:2e3},{label:"3kb",value:3e3},{label:"4kb",value:4e3},{label:"5kb",value:5e3},{label:"6kb",value:6e3},{label:"7kb",value:7e3},{label:"8kb",value:8e3},{label:"9kb",value:9e3},{label:"10kb",value:1e4}],IW=({backHandler:r})=>{const t=xW(),{publicKey:e,connection:n,signAllTransactions:s}=ad(),{balances:i}=MW(),[c,l]=xe.useState(1),{cart:p,emptyCart:m,addToCart:v,referrerKey:_}=xe.useContext(Ah),{setError:E}=xe.useContext(sd),[w,x]=xe.useState(mh[0]),[A,B]=xe.useState(!1),[P,R]=xe.useState(""),[C,O]=xe.useState("registering"),z=w.mintAddress===O0,H=z?.95:1,tt=Object.values(p).reduce((h,g)=>h+Pk(g.domain)*H,0);xe.useEffect(()=>{},[e,n]);const nt=h=>{var S,I;const g=(I=(S=t.result)==null?void 0:S.get(h))==null?void 0:I.price;return tt/(g||1)},G=h=>{const g=nt(h);return h===O0?g*.95:g};xe.useEffect(()=>{Object.keys(p).length||r()},[p,r]);const M={1:"w-[33%]",2:"w-[66%]",3:"w-full"},d=()=>{c===2?l(1):r()},o=async()=>{switch(c){case 2:await f();break;case 3:C==="error"&&await f(),C==="success"&&(m(),r(!0));break;default:l(c+1);break}},a=G(w.mintAddress),f=async()=>{if(!(!n||!e||!s)){if(i[w.tokenSymbol]<a){E("You dont have enough funds");return}try{O("processing");let h=[];const g=new Ne(e),S=new Ne(w.mintAddress),I=n9(S,g);for(const D of Object.values(p)){const[,Z]=await EZ(n,D.domain,D.storage,g,I,S,_?LA.find(F=>_.equals(F)):void 0);h.push(...Z)}if(wg.equals(S)){const D=await BZ(n,I,g,Math.ceil(a*1.01*Math.pow(10,9))),Z=PZ(I,g);h=[...D,...h,...Z]}const y=kZ(h,g),{blockhash:u}=await n.getLatestBlockhash();let b=y.map(D=>new Zl().add(...D));b.forEach(D=>{D.feePayer=g,D.recentBlockhash=u}),b=await s(b);for(const D of b){const Z=await n.sendRawTransaction(D.serialize());await n.confirmTransaction(Z),console.log(Z)}O("success"),l(3)}catch(h){if(console.error(h),h instanceof pI){E(h.message),O("registering");return}l(3),O("error")}}};return St.jsxs("div",{className:"flex flex-col flex-grow pb-14",children:[St.jsxs("div",{className:"sticky -top-1 bg-background-primary h-[48px] flex justify-center items-center px-3",children:[St.jsx("button",{type:"button",tabIndex:0,onClick:d,disabled:C==="processing",className:"absolute top-0 p-3 border-0 left-3 text-theme-primary dark:text-theme-secondary",children:St.jsx(mz,{width:24,height:24})}),St.jsx("div",{className:"w-[175px] h-[5px] rounded-md bg-background-interactive dark:bg-background-secondary bg-gradient-to-r",children:St.jsx("div",{className:sn("bg-theme-primary dark:bg-theme-secondary h-full rounded-md transition-[width] duration-500",M[c])})})]}),St.jsxs("div",{className:"flex flex-col flex-grow pt-6 body",children:[C==="success"&&St.jsx(AW,{}),C==="error"&&St.jsx(SW,{}),C==="processing"&&St.jsx(EW,{}),C==="registering"&&St.jsxs(St.Fragment,{children:[c===1&&St.jsxs(St.Fragment,{children:[St.jsx("p",{className:"px-3 mb-2 ml-4 text-sm text-text-secondary font-primary",children:"You are registering"}),St.jsx("div",{className:"flex flex-col gap-2 px-3 pb-4",children:Object.values(p).map(h=>St.jsx(lW,{domain:h.domain,onEdit:()=>R(h.domain)},h.domain))}),St.jsx(q7,{isVisible:!!P,toggleVisibility:()=>R(""),children:!!P&&St.jsxs("div",{className:"w-[320px] p bg-background-primary flex flex-col gap-3 p-4 rounded-xl",children:[St.jsxs("p",{className:"flex items-start justify-between text-lg font-medium font-primary",children:["Storage size",St.jsx("button",{type:"button",tabIndex:0,className:"p-1 -mt-3 -mr-3",onClick:()=>R(""),children:St.jsx(GM,{width:24,height:24})})]}),St.jsxs("div",{className:"text-xs",children:[St.jsx("p",{className:"mb-2",children:"The storage size will determine the maximum amount of data you can store on your domain."}),St.jsxs("p",{className:"",children:[St.jsx(vz,{width:16,height:16,className:"inline mr-1 mb-[2px] text-accent"}),"Each additional kb of memory costs around 0.007 SOL (0.001 USDC)"]})]}),St.jsx("div",{className:"grid grid-cols-5 gap-2",children:kW.map(h=>{const g=p[P],S=h.value===(g==null?void 0:g.storage);return St.jsx("button",{type:"button",tabIndex:0,className:sn("border-2 border-solid rounded-lg px-2 py-2 border-theme-primary border-opacity-10 text-sm",S&&"border-opacity-100"),onClick:()=>{v({...g,storage:h.value}),R("")},children:h.label},h.value)})})]})})]}),c===2&&St.jsxs("div",{className:"flex flex-col flex-grow px-3 pb-5",children:[St.jsxs("div",{className:"mb-auto",children:[St.jsx("p",{className:"mb-3 ml-4 font-medium font-primary",children:"Pay with"}),St.jsx("div",{children:St.jsxs("button",{type:"button",tabIndex:0,className:"flex items-center w-full gap-4 p-4 border cursor-pointer rounded-xl border-interactive-border bg-background-interactive",onClick:()=>B(!A),children:[St.jsx("img",{className:"w-4 h-4 rounded-[50%]",src:w.icon,alt:w.tokenSymbol}),St.jsx("span",{className:"tracking-wide text-text-primary",children:w.tokenSymbol}),St.jsxs("div",{className:"relative w-[25px] h-[25px] flex justify-center items-center ml-auto",children:[St.jsx("div",{className:sn("transition-transform duration-200 absolute w-[8px] h-[2px] bg-theme-primary dark:bg-theme-secondary rounded-sm -rotate-[45deg] ml-[5px]",A&&"rotate-[45deg]")}),St.jsx("div",{className:sn("transition-transform duration-200 absolute w-[8px] h-[2px] bg-theme-primary dark:bg-theme-secondary rounded-sm rotate-[45deg] -ml-[4px]",A&&"-rotate-[45deg]")})]})]})})]}),St.jsxs("div",{children:[St.jsx("p",{className:"mb-3 font-medium font-primary",children:"Order summary"}),St.jsxs("div",{className:"flex items-start justify-between mb-2 text-sm font-medium leading-6 border-b border-interactive-border",children:[St.jsx("div",{children:"Total"}),St.jsxs("div",{className:"flex flex-col items-end",children:[St.jsxs("span",{children:[L0(a,!0)," ",w.tokenSymbol]}),St.jsx("span",{className:"text-xs leading-6 text-text-primary text-opacity-60 dark:text-text-secondary",children:L0(tt)})]})]}),St.jsxs("div",{className:"flex items-start justify-between text-sm font-medium leading-6 border-b border-interactive-border",children:[St.jsx("div",{children:"Discount"}),St.jsx("div",{children:z?"5%":"0%"})]})]}),St.jsx(q7,{isVisible:A,toggleVisibility:B,children:St.jsx("div",{className:"w-[320px] bg-background-primary flex flex-col gap-3 py-3 rounded-xl",children:mh.map(h=>{const g=G(h.mintAddress),S=i[h.tokenSymbol]<g;return St.jsxs("button",{type:"button",tabIndex:0,disabled:S,className:sn("flex items-center gap-3 px-3 py-1 max-w duration-200","font-primary transition-[background-color]",w.mintAddress===h.mintAddress&&"bg-background-tertiary",S&&"opacity-40",!S&&"hover:bg-background-tertiary focus:bg-background-tertiary cursor-pointer"),onClick:()=>{x(h),B(!1)},children:[St.jsx("img",{src:h.icon,alt:h.tokenSymbol,className:"w-6 h-6 rounded-[50%]"}),St.jsxs("div",{className:"flex flex-col items-start",children:[St.jsx("span",{children:h.tokenSymbol}),St.jsxs("span",{className:"flex text-xs text-text-secondary gap-0.5 items-center",children:[St.jsx(ZM,{width:14,height:14}),i[h.tokenSymbol]]})]}),St.jsxs("div",{className:"flex flex-col ml-auto text-sm",children:[St.jsxs("span",{className:sn("tabular-nums",h.mintAddress===O0&&"line-through"),children:[L0(nt(h.mintAddress),!0)," ",h.tokenSymbol]}),St.jsx("span",{className:"tabular-nums text-success",children:h.mintAddress===O0&&St.jsxs(St.Fragment,{children:[L0(G(h.mintAddress),!0)," ","FIDA"]})})]})]},h.tokenSymbol)})})})]})]})]}),C==="processing"?null:St.jsxs("div",{className:"absolute flex flex-col gap-2 left-3 right-3 bottom-4",children:[St.jsxs(Gv,{className:sn("text-base-button-content",C==="error"&&"bottom-[70px]"),onClick:o,children:[c===1&&"Continue to payment",c===2&&C==="registering"&&"Confirm and register",C==="success"&&"Done",C==="error"&&"Retry"]}),C==="error"&&St.jsx(Gv,{className:sn("bg-transparent text-theme-primary"),onClick:()=>r(),children:"Close"})]})]})},BW=()=>{const{visible:r,setVisible:t,connected:e,publicKey:n,disconnect:s}=ad(),[i,c]=xe.useState(!1),l=()=>{e?c(!i):t(!r)},p=()=>{s(),c(!1)};return St.jsxs("div",{className:"relative flex ml-auto",children:[St.jsxs("button",{type:"button",className:"relative flex items-center gap-2 px-3 h-[32px] py-1 text-xs tracking-wide rounded-lg bg-theme-secondary font-primary text-theme-primary",tabIndex:0,"aria-label":"Connect wallet","aria-haspopup":"true",onClick:l,children:[St.jsx(ZM,{width:16,height:16}),e?Yk(n==null?void 0:n.toString(),8,4):"Connect wallet",e&&St.jsx(gz,{className:sn("transition-transform",i&&"rotate-180")})]}),St.jsx("button",{type:"button",tabIndex:0,"aria-label":"Disconnect wallet",className:sn(!i&&"invisible opacity-0 -translate-y-1","absolute h-[48px] top-[100%] left-0 right-0 w-full z-10","duration-300 transition-[transform,opacity]","bg-background-secondary rounded-xl text-base flex items-center justify-center text-text-primary","shadow-domain dark:shadow-none dark:border dark:border-interactive-border","active:opacity-70 active:transition-none"),onClick:p,children:"Disconnect"})]})},PW=({status:r})=>{const{setStatus:t}=xe.useContext(sd);return xe.useMemo(()=>{setTimeout(()=>{t(null)},4e3)},[t]),St.jsxs("div",{className:sn("bg-background-primary dark:border dark:border-interactive-border","shadow-xl dark:shadow-none","absolute top-2.5 left-3 right-3 rounded-lg py-3 px-4 flex gap-2 z-10 overflow-hidden"),children:[St.jsx("div",{className:sn("absolute top-0 left-0 right-0 h-0.5 animate-width-to-zero",r.status==="error"&&"bg-error",r.status==="success"&&"bg-success")}),St.jsxs("button",{className:"absolute flex items-center justify-center w-5 h-5 top-1 right-1",type:"button",tabIndex:0,onClick:()=>t(null),children:[St.jsx("div",{className:"absolute w-4 h-[1px] bg-text-primary rotate-45"}),St.jsx("div",{className:"absolute w-4 h-[1px] bg-text-primary -rotate-45"})]}),r.status==="error"&&St.jsx(WM,{width:20,height:20,className:"rotate-180 text-error mt-0.5 shrink-0"}),St.jsx("span",{className:"font-medium font-primary",children:r.message})]})},RW=({className:r,style:t,partnerLogo:e}={})=>{var a,f;const{connected:n,setVisible:s,visible:i,connection:c}=ad(),[l,p]=xe.useState("home"),[m,v]=xe.useState(!1),[_,E]=xe.useState(!1),[w,x]=xe.useState(""),[A,B]=xe.useState(""),{isCartEmpty:P}=xe.useContext(Ah),{status:R}=xe.useContext(sd),C=uz({connection:c,domain:A}),O=fz({connection:c,domain:A}),[z,H]=xe.useState(null),tt=h=>{E(!1),z&&clearTimeout(z),x(hW({value:h,prev:w,onError:()=>{E(!0);const g=setTimeout(()=>{E(!1)},3e3);H(g)}}))},nt=h=>{h.preventDefault(),p("search"),B(w)},G=(h=!1)=>{h?(B(""),x(""),v(!1),p("home")):p("search")},M=l==="home",d=l==="search",o=l==="cart";return St.jsxs("div",{className:sn("flex flex-col w-[93svw] h-[560px] max-h-[75svh] max-w-[400px] bg-background-primary rounded-lg absolute bottom-16 right-0 text-text-primary overflow-auto","shadow-xl dark:border dark:border-interactive-border",r),style:t,"aria-label":"SNS widget allows you to quickly search and buy .sol domains",children:[R&&St.jsx(PW,{status:R}),St.jsxs("div",{className:"flex items-center px-3 pt-3",children:[!M&&St.jsx("div",{className:"flex items-center justify-center gap-2 text-sm font-medium text-center text-text-primary",children:St.jsx("span",{className:"h-[26px]",children:St.jsx(z7,{})})}),St.jsx(BW,{})]}),St.jsxs("div",{className:"flex flex-col flex-grow overflow-auto",children:[(M||d)&&St.jsxs(St.Fragment,{children:[St.jsxs("div",{className:sn("translate-y-[80px] transition-all duration-700 px-3",d&&"-translate-y-[22px]"),children:[St.jsx("h1",{className:sn("block max-h-[32px] text-2xl font-medium text-center font-primary transition-[opacity] ease-out duration-200",d&&"opacity-0 invisible",m&&"max-h-0"),onTransitionEnd:()=>{d&&v(!0)},children:"Secure a custom domain"}),St.jsxs("form",{className:"flex gap-2 mt-10",onSubmit:nt,children:[St.jsx(wz,{value:w,placeholder:"Search your domain",autoCapitalize:"off",spellCheck:"false",enterKeyHint:"search",className:"shadow-input-field dark:shadow-none",type:"search",required:!0,errorMessage:_?"Character not allowed":void 0,onChange:h=>tt(h.target.value)}),St.jsx("button",{className:`
                    rounded-[10px] bg-theme-primary h-[56px] w-[56px] p-2
                    flex items-center justify-center text-base-button-content
                  `,tabIndex:0,children:St.jsx(dz,{width:24,height:24})})]})]}),d&&St.jsxs(St.Fragment,{children:[St.jsxs("div",{className:"px-3 mb-3 overflow-auto animate-fade-in",children:[C.loading?St.jsx(D7,{}):St.jsx(St.Fragment,{children:(a=C.result)==null?void 0:a.map(h=>St.jsx(N7,{domain:h.domain,available:h.available},h.domain))}),St.jsxs("div",{className:"mt-4",children:[O.status!=="error"&&St.jsx("p",{className:"mb-2 ml-4 text-sm text-text-secondary font-primary",children:"You might also like"}),St.jsxs("div",{className:"flex flex-col gap-2 pb-14",children:[O.status==="error"&&St.jsxs("div",{children:[St.jsx("p",{className:"mb-6 text-sm tracking-widest text-center",children:"Looks like we have an issue helping you with domain suggestions."}),St.jsxs("button",{type:"button",className:"m-auto flex items-center gap-2 px-3 h-[32px] w-max py-1 text-xs tracking-wide rounded-lg bg-theme-secondary font-primary text-theme-primary",tabIndex:0,"aria-label":`Try load suggestions for ${A} again`,onClick:()=>O.execute(),children:["Try again '",A,"'"]}),St.jsx("p",{className:"my-6 text-sm tracking-widest text-center",children:"...and if the problem persists"}),St.jsx("div",{className:"flex justify-center",children:St.jsxs("a",{className:"flex items-center gap-2 justify-center text-theme-primary text-[11px] tracking-wider dark:text-theme-secondary",href:"https://discord.bonfida.org",target:"_blank",rel:"noopener",children:[St.jsx(bz,{width:24}),"Tell us on discord",St.jsx(yz,{width:18})]})})]}),O.loading?St.jsx(St.Fragment,{children:new Array(5).fill(0).map((h,g)=>St.jsx(D7,{},g))}):St.jsx(St.Fragment,{children:(f=O.result)==null?void 0:f.map(h=>St.jsx(N7,{domain:h.domain,available:h.available},h.domain))})]})]})]}),!P&&St.jsx(Gv,{className:"absolute left-3 right-3 bottom-3 text-base-button-content",onClick:()=>{n?p("cart"):s(!i)},children:n?"Go to cart":"Connect your wallet"})]})]}),o&&St.jsx(IW,{backHandler:G})]}),M&&St.jsx("div",{className:"p-3",children:St.jsxs("div",{className:"flex items-center justify-center gap-2 text-sm font-medium text-center text-text-primary",children:["Powered by",St.jsx("span",{className:"h-[20px] flex",children:St.jsx(z7,{})}),e&&St.jsxs(St.Fragment,{children:[St.jsx("span",{children:"x"}),St.jsx("span",{className:"flex",children:e})]})]})})]})},mG=({endpoint:r,connection:t,passthroughWallet:e,containerClassNames:n,containerStyles:s,referrerKey:i,partnerLogo:c})=>St.jsx(YC,{endpoint:r,connection:t,passthroughWallet:e,children:St.jsx(KC,{referrerKey:i,children:St.jsx($C,{children:St.jsx(RW,{className:n,style:s,partnerLogo:c})})})});export{mG as default};
